"use strict";(self.webpackChunkecommerce=self.webpackChunkecommerce||[]).push([[179],{2011:(mt,Te,k)=>{k.d(Te,{Dh:()=>ve,GT:()=>re,cc:()=>Ie,hO:()=>je,on:()=>$,pX:()=>ie,xv:()=>le});var c=k(4650),Q=k(9260),N=k(4976);mt=k.hmd(mt);const se=["ngOnDestroy"],ie=(Me,xe,Ue,Pe={})=>new Proxy(Me,{get:(we,Ce)=>Ue.runOutsideAngular(()=>{var $e;if(Me[Ce])return!(null===($e=Pe?.spy)||void 0===$e)&&$e.get&&Pe.spy.get(Ce,Me[Ce]),Me[Ce];if(se.indexOf(Ce)>-1)return()=>{};const Re=xe.toPromise().then(it=>{const te=it&&it[Ce];return"function"==typeof te?te.bind(it):te&&te.then?te.then(It=>Ue.run(()=>It)):Ue.run(()=>te)});return new Proxy(()=>{},{get:(it,te)=>Re[te],apply:(it,te,It)=>Re.then(tt=>{var Ht;const at=tt&&tt(...It);return!(null===(Ht=Pe?.spy)||void 0===Ht)&&Ht.apply&&Pe.spy.apply(Ce,It,at),at})})})}),re=(Me,xe)=>{xe.forEach(Ue=>{Object.getOwnPropertyNames(Ue.prototype||Ue).forEach(Pe=>{Object.defineProperty(Me.prototype,Pe,Object.getOwnPropertyDescriptor(Ue.prototype||Ue,Pe))})})};class ge{constructor(xe){return xe}}const ve=new c.OlP("angularfire2.app.options"),le=new c.OlP("angularfire2.app.name");function $(Me,xe,Ue){const we="object"==typeof Ue&&Ue||{};we.name=we.name||"string"==typeof Ue&&Ue||"[DEFAULT]";const $e=Q.Z.apps.filter(Re=>Re&&Re.name===we.name)[0]||xe.runOutsideAngular(()=>Q.Z.initializeApp(Me,we));try{JSON.stringify(Me)!==JSON.stringify($e.options)&&j("error",`${$e.name} Firebase App already initialized with different options${mt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new ge($e)}const j=(Me,...xe)=>{(0,c.X6Q)()&&typeof console<"u"&&console[Me](...xe)},q={provide:ge,useFactory:$,deps:[ve,c.R0b,[new c.FiY,le]]};let je=(()=>{class Me{constructor(Ue){Q.Z.registerVersion("angularfire",N.q4.full,"core"),Q.Z.registerVersion("angularfire",N.q4.full,"app-compat"),Q.Z.registerVersion("angular",c.q4F.full,Ue.toString())}static initializeApp(Ue,Pe){return{ngModule:Me,providers:[{provide:ve,useValue:Ue},{provide:le,useValue:Pe}]}}}return Me.\u0275fac=function(Ue){return new(Ue||Me)(c.LFG(c.Lbi))},Me.\u0275mod=c.oAB({type:Me}),Me.\u0275inj=c.cJS({providers:[q]}),Me})();function Ie(Me,xe,Ue,Pe,we){const[,Ce,$e]=globalThis.\u0275AngularfireInstanceCache.find(Re=>Re[0]===Me)||[];if(Ce)return function Ze(Me,xe){try{return Me.toString()===xe.toString()}catch{return Me===xe}}(we,$e)||(he("error",`${xe} was already initialized on the ${Ue} Firebase App with different settings.${lt?" You may need to reload as Firebase is not HMR aware.":""}`),he("warn",{is:we,was:$e})),Ce;{const Re=Pe();return globalThis.\u0275AngularfireInstanceCache.push([Me,Re,we]),Re}}const lt=!!mt.hot,he=(Me,...xe)=>{(0,c.X6Q)()&&typeof console<"u"&&console[Me](...xe)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},4976:(mt,Te,k)=>{k.d(Te,{q4:()=>Zo,iC:()=>pf,HU:()=>vi,vb:()=>Wu,JM:()=>ul});var c=k(4650),Q=k(259),N=k(5861),se=k(6881),ie=k(2090),re=k(4859),ge=k(1877);const ve=(C,I)=>I.some(M=>C instanceof M);let le,$;const je=new WeakMap,Ie=new WeakMap,Ze=new WeakMap,lt=new WeakMap,he=new WeakMap;let Ue={get(C,I,M){if(C instanceof IDBTransaction){if("done"===I)return Ie.get(C);if("objectStoreNames"===I)return C.objectStoreNames||Ze.get(C);if("store"===I)return M.objectStoreNames[1]?void 0:M.objectStore(M.objectStoreNames[0])}return $e(C[I])},set:(C,I,M)=>(C[I]=M,!0),has:(C,I)=>C instanceof IDBTransaction&&("done"===I||"store"===I)||I in C};function Ce(C){return"function"==typeof C?function we(C){return C!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function q(){return $||($=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(C)?function(...I){return C.apply(Re(this),I),$e(je.get(this))}:function(...I){return $e(C.apply(Re(this),I))}:function(I,...M){const R=C.call(Re(this),I,...M);return Ze.set(R,I.sort?I.sort():[I]),$e(R)}}(C):(C instanceof IDBTransaction&&function xe(C){if(Ie.has(C))return;const I=new Promise((M,R)=>{const H=()=>{C.removeEventListener("complete",W),C.removeEventListener("error",ne),C.removeEventListener("abort",ne)},W=()=>{M(),H()},ne=()=>{R(C.error||new DOMException("AbortError","AbortError")),H()};C.addEventListener("complete",W),C.addEventListener("error",ne),C.addEventListener("abort",ne)});Ie.set(C,I)}(C),ve(C,function j(){return le||(le=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(C,Ue):C)}function $e(C){if(C instanceof IDBRequest)return function Me(C){const I=new Promise((M,R)=>{const H=()=>{C.removeEventListener("success",W),C.removeEventListener("error",ne)},W=()=>{M($e(C.result)),H()},ne=()=>{R(C.error),H()};C.addEventListener("success",W),C.addEventListener("error",ne)});return I.then(M=>{M instanceof IDBCursor&&je.set(M,C)}).catch(()=>{}),he.set(I,C),I}(C);if(lt.has(C))return lt.get(C);const I=Ce(C);return I!==C&&(lt.set(C,I),he.set(I,C)),I}const Re=C=>he.get(C),It=["get","getKey","getAll","getAllKeys","count"],tt=["put","add","delete","clear"],Ht=new Map;function at(C,I){if(!(C instanceof IDBDatabase)||I in C||"string"!=typeof I)return;if(Ht.get(I))return Ht.get(I);const M=I.replace(/FromIndex$/,""),R=I!==M,H=tt.includes(M);if(!(M in(R?IDBIndex:IDBObjectStore).prototype)||!H&&!It.includes(M))return;const W=function(){var ne=(0,N.Z)(function*(ze,...Ge){const ct=this.transaction(ze,H?"readwrite":"readonly");let Pt=ct.store;return R&&(Pt=Pt.index(Ge.shift())),(yield Promise.all([Pt[M](...Ge),H&&ct.done]))[0]});return function(Ge){return ne.apply(this,arguments)}}();return Ht.set(I,W),W}!function Pe(C){Ue=C(Ue)}(C=>({...C,get:(I,M,R)=>at(I,M)||C.get(I,M,R),has:(I,M)=>!!at(I,M)||C.has(I,M)}));const de="@firebase/installations",pe="0.6.4",Ee=1e4,Se=`w:${pe}`,He="FIS_v2",Be="https://firebaseinstallations.googleapis.com/v1",dt=36e5,$t=new ie.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Et(C){return C instanceof ie.ZR&&C.code.includes("request-failed")}function tn({projectId:C}){return`${Be}/projects/${C}/installations`}function yn(C){return{token:C.token,requestStatus:2,expiresIn:Ao(C.expiresIn),creationTime:Date.now()}}function bn(C,I){return Er.apply(this,arguments)}function Er(){return(Er=(0,N.Z)(function*(C,I){const R=(yield I.json()).error;return $t.create("request-failed",{requestName:C,serverCode:R.code,serverMessage:R.message,serverStatus:R.status})})).apply(this,arguments)}function kr({apiKey:C}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C})}function vs(C){return ci.apply(this,arguments)}function ci(){return(ci=(0,N.Z)(function*(C){const I=yield C();return I.status>=500&&I.status<600?C():I})).apply(this,arguments)}function Ao(C){return Number(C.replace("s","000"))}function ft(){return(ft=(0,N.Z)(function*({appConfig:C,heartbeatServiceProvider:I},{fid:M}){const R=tn(C),H=kr(C),W=I.getImmediate({optional:!0});if(W){const ct=yield W.getHeartbeatsHeader();ct&&H.append("x-firebase-client",ct)}const ze={method:"POST",headers:H,body:JSON.stringify({fid:M,authVersion:He,appId:C.appId,sdkVersion:Se})},Ge=yield vs(()=>fetch(R,ze));if(Ge.ok){const ct=yield Ge.json();return{fid:ct.fid||M,registrationStatus:2,refreshToken:ct.refreshToken,authToken:yn(ct.authToken)}}throw yield bn("Create Installation",Ge)})).apply(this,arguments)}function Zr(C){return new Promise(I=>{setTimeout(I,C)})}const hr=/^[cdef][\w-]{21}$/,Fr="";function $i(){try{const C=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(C),C[0]=112+C[0]%16;const M=function Xt(C){return function Oc(C){return btoa(String.fromCharCode(...C)).replace(/\+/g,"-").replace(/\//g,"_")}(C).substr(0,22)}(C);return hr.test(M)?M:Fr}catch{return Fr}}function nn(C){return`${C.appName}!${C.appId}`}const st=new Map;function At(C,I){const M=nn(C);sr(M,I),function Lr(C,I){const M=function Kr(){return!An&&"BroadcastChannel"in self&&(An=new BroadcastChannel("[Firebase] FID Change"),An.onmessage=C=>{sr(C.data.key,C.data.fid)}),An}();M&&M.postMessage({key:C,fid:I}),function fn(){0===st.size&&An&&(An.close(),An=null)}()}(M,I)}function sr(C,I){const M=st.get(C);if(M)for(const R of M)R(I)}let An=null;const ws="firebase-installations-database",Wt=1,Hi="firebase-installations-store";let rn=null;function di(){return rn||(rn=function it(C,I,{blocked:M,upgrade:R,blocking:H,terminated:W}={}){const ne=indexedDB.open(C,I),ze=$e(ne);return R&&ne.addEventListener("upgradeneeded",Ge=>{R($e(ne.result),Ge.oldVersion,Ge.newVersion,$e(ne.transaction))}),M&&ne.addEventListener("blocked",()=>M()),ze.then(Ge=>{W&&Ge.addEventListener("close",()=>W()),H&&Ge.addEventListener("versionchange",()=>H())}).catch(()=>{}),ze}(ws,Wt,{upgrade:(C,I)=>{0===I&&C.createObjectStore(Hi)}})),rn}function xn(C,I){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,N.Z)(function*(C,I){const M=nn(C),H=(yield di()).transaction(Hi,"readwrite"),W=H.objectStore(Hi),ne=yield W.get(M);return yield W.put(I,M),yield H.done,(!ne||ne.fid!==I.fid)&&At(C,I.fid),I})).apply(this,arguments)}function Ai(C){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,N.Z)(function*(C){const I=nn(C),R=(yield di()).transaction(Hi,"readwrite");yield R.objectStore(Hi).delete(I),yield R.done})).apply(this,arguments)}function Mi(C,I){return Vr.apply(this,arguments)}function Vr(){return(Vr=(0,N.Z)(function*(C,I){const M=nn(C),H=(yield di()).transaction(Hi,"readwrite"),W=H.objectStore(Hi),ne=yield W.get(M),ze=I(ne);return void 0===ze?yield W.delete(M):yield W.put(ze,M),yield H.done,ze&&(!ne||ne.fid!==ze.fid)&&At(C,ze.fid),ze})).apply(this,arguments)}function V(C){return L.apply(this,arguments)}function L(){return L=(0,N.Z)(function*(C){let I;const M=yield Mi(C.appConfig,R=>{const H=function z(C){return Dn(C||{fid:$i(),registrationStatus:0})}(R),W=function me(C,I){if(0===I.registrationStatus){if(!navigator.onLine)return{installationEntry:I,registrationPromise:Promise.reject($t.create("app-offline"))};const M={fid:I.fid,registrationStatus:1,registrationTime:Date.now()},R=function J(C,I){return Ne.apply(this,arguments)}(C,M);return{installationEntry:M,registrationPromise:R}}return 1===I.registrationStatus?{installationEntry:I,registrationPromise:bt(C)}:{installationEntry:I}}(C,H);return I=W.registrationPromise,W.installationEntry});return M.fid===Fr?{installationEntry:yield I}:{installationEntry:M,registrationPromise:I}}),L.apply(this,arguments)}function Ne(){return Ne=(0,N.Z)(function*(C,I){try{const M=yield function br(C,I){return ft.apply(this,arguments)}(C,I);return xn(C.appConfig,M)}catch(M){throw Et(M)&&409===M.customData.serverCode?yield Ai(C.appConfig):yield xn(C.appConfig,{fid:I.fid,registrationStatus:0}),M}}),Ne.apply(this,arguments)}function bt(C){return Yt.apply(this,arguments)}function Yt(){return(Yt=(0,N.Z)(function*(C){let I=yield Nn(C.appConfig);for(;1===I.registrationStatus;)yield Zr(100),I=yield Nn(C.appConfig);if(0===I.registrationStatus){const{installationEntry:M,registrationPromise:R}=yield V(C);return R||M}return I})).apply(this,arguments)}function Nn(C){return Mi(C,I=>{if(!I)throw $t.create("installation-not-found");return Dn(I)})}function Dn(C){return function an(C){return 1===C.registrationStatus&&C.registrationTime+Ee<Date.now()}(C)?{fid:C.fid,registrationStatus:0}:C}function Dr(){return(Dr=(0,N.Z)(function*({appConfig:C,heartbeatServiceProvider:I},M){const R=function xi(C,{fid:I}){return`${tn(C)}/${I}/authTokens:generate`}(C,M),H=function Ir(C,{refreshToken:I}){const M=kr(C);return M.append("Authorization",function Zs(C){return`${He} ${C}`}(I)),M}(C,M),W=I.getImmediate({optional:!0});if(W){const ct=yield W.getHeartbeatsHeader();ct&&H.append("x-firebase-client",ct)}const ze={method:"POST",headers:H,body:JSON.stringify({installation:{sdkVersion:Se,appId:C.appId}})},Ge=yield vs(()=>fetch(R,ze));if(Ge.ok)return yn(yield Ge.json());throw yield bn("Generate Auth Token",Ge)})).apply(this,arguments)}function Gi(C){return fa.apply(this,arguments)}function fa(){return fa=(0,N.Z)(function*(C,I=!1){let M;const R=yield Mi(C.appConfig,W=>{if(!Vt(W))throw $t.create("not-registered");const ne=W.authToken;if(!I&&function pt(C){return 2===C.requestStatus&&!function en(C){const I=Date.now();return I<C.creationTime||C.creationTime+C.expiresIn<I+dt}(C)}(ne))return W;if(1===ne.requestStatus)return M=function ue(C,I){return X.apply(this,arguments)}(C,I),W;{if(!navigator.onLine)throw $t.create("app-offline");const ze=function Qt(C){const I={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},C),{authToken:I})}(W);return M=function ht(C,I){return Ct.apply(this,arguments)}(C,ze),ze}});return M?yield M:R.authToken}),fa.apply(this,arguments)}function X(){return(X=(0,N.Z)(function*(C,I){let M=yield Oe(C.appConfig);for(;1===M.authToken.requestStatus;)yield Zr(100),M=yield Oe(C.appConfig);const R=M.authToken;return 0===R.requestStatus?Gi(C,I):R})).apply(this,arguments)}function Oe(C){return Mi(C,I=>{if(!Vt(I))throw $t.create("not-registered");return function or(C){return 1===C.requestStatus&&C.requestTime+Ee<Date.now()}(I.authToken)?Object.assign(Object.assign({},I),{authToken:{requestStatus:0}}):I})}function Ct(){return Ct=(0,N.Z)(function*(C,I){try{const M=yield function Gt(C,I){return Dr.apply(this,arguments)}(C,I),R=Object.assign(Object.assign({},I),{authToken:M});return yield xn(C.appConfig,R),M}catch(M){if(!Et(M)||401!==M.customData.serverCode&&404!==M.customData.serverCode){const R=Object.assign(Object.assign({},I),{authToken:{requestStatus:0}});yield xn(C.appConfig,R)}else yield Ai(C.appConfig);throw M}}),Ct.apply(this,arguments)}function Vt(C){return void 0!==C&&2===C.registrationStatus}function du(){return(du=(0,N.Z)(function*(C){const I=C,{installationEntry:M,registrationPromise:R}=yield V(I);return R?R.catch(console.error):Gi(I).catch(console.error),M.fid})).apply(this,arguments)}function Ws(){return Ws=(0,N.Z)(function*(C,I=!1){const M=C;return yield function hi(C){return qe.apply(this,arguments)}(M),(yield Gi(M,I)).token}),Ws.apply(this,arguments)}function qe(){return(qe=(0,N.Z)(function*(C){const{registrationPromise:I}=yield V(C);I&&(yield I)})).apply(this,arguments)}function Yr(C){return $t.create("missing-app-config-values",{valueName:C})}const kt="installations",Ks=C=>{const I=C.getProvider("app").getImmediate(),M=function pa(C){if(!C||!C.options)throw Yr("App Configuration");if(!C.name)throw Yr("App Name");const I=["projectId","apiKey","appId"];for(const M of I)if(!C.options[M])throw Yr(M);return{appName:C.name,projectId:C.options.projectId,apiKey:C.options.apiKey,appId:C.options.appId}}(I);return{app:I,appConfig:M,heartbeatServiceProvider:(0,se._getProvider)(I,"heartbeat"),_delete:()=>Promise.resolve()}},ns=C=>{const I=C.getProvider("app").getImmediate(),M=(0,se._getProvider)(I,kt).getImmediate();return{getId:()=>function jn(C){return du.apply(this,arguments)}(M),getToken:H=>function Zh(C){return Ws.apply(this,arguments)}(M,H)}};(function Ys(){(0,se._registerComponent)(new re.wA(kt,Ks,"PUBLIC")),(0,se._registerComponent)(new re.wA("installations-internal",ns,"PRIVATE"))})(),(0,se.registerVersion)(de,pe),(0,se.registerVersion)(de,pe,"esm2017");const kn="@firebase/remote-config",fr=new ie.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class is{constructor(I,M,R,H){this.client=I,this.storage=M,this.storageCache=R,this.logger=H}isCachedDataFresh(I,M){if(!M)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const R=Date.now()-M,H=R<=I;return this.logger.debug(`Config fetch cache check. Cache age millis: ${R}. Cache max age millis (minimumFetchIntervalMillis setting): ${I}. Is cache hit: ${H}.`),H}fetch(I){var M=this;return(0,N.Z)(function*(){const[R,H]=yield Promise.all([M.storage.getLastSuccessfulFetchTimestampMillis(),M.storage.getLastSuccessfulFetchResponse()]);if(H&&M.isCachedDataFresh(I.cacheMaxAgeMillis,R))return H;I.eTag=H&&H.eTag;const W=yield M.client.fetch(I),ne=[M.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===W.status&&ne.push(M.storage.setLastSuccessfulFetchResponse(W)),yield Promise.all(ne),W})()}}function fg(C=navigator){return C.languages&&C.languages[0]||C.language}class kc{constructor(I,M,R,H,W,ne){this.firebaseInstallations=I,this.sdkVersion=M,this.namespace=R,this.projectId=H,this.apiKey=W,this.appId=ne}fetch(I){var M=this;return(0,N.Z)(function*(){const[R,H]=yield Promise.all([M.firebaseInstallations.getId(),M.firebaseInstallations.getToken()]),ne=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${M.projectId}/namespaces/${M.namespace}:fetch?key=${M.apiKey}`,ze={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":I.eTag||"*"},Ge={sdk_version:M.sdkVersion,app_instance_id:R,app_instance_id_token:H,app_id:M.appId,language_code:fg()},ct={method:"POST",headers:ze,body:JSON.stringify(Ge)},Pt=fetch(ne,ct),Ot=new Promise((ti,Ar)=>{I.signal.addEventListener(()=>{const wo=new Error("The operation was aborted.");wo.name="AbortError",Ar(wo)})});let wi;try{yield Promise.race([Pt,Ot]),wi=yield Pt}catch(ti){let Ar="fetch-client-network";throw"AbortError"===ti?.name&&(Ar="fetch-timeout"),fr.create(Ar,{originalErrorMessage:ti?.message})}let Rn=wi.status;const Wo=wi.headers.get("ETag")||void 0;let Yu,vo;if(200===wi.status){let ti;try{ti=yield wi.json()}catch(Ar){throw fr.create("fetch-client-parse",{originalErrorMessage:Ar?.message})}Yu=ti.entries,vo=ti.state}if("INSTANCE_STATE_UNSPECIFIED"===vo?Rn=500:"NO_CHANGE"===vo?Rn=304:("NO_TEMPLATE"===vo||"EMPTY_CONFIG"===vo)&&(Yu={}),304!==Rn&&200!==Rn)throw fr.create("fetch-status",{httpStatus:Rn});return{status:Rn,eTag:Wo,config:Yu}})()}}class Kh{constructor(I,M){this.client=I,this.storage=M}fetch(I){var M=this;return(0,N.Z)(function*(){const R=(yield M.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return M.attemptFetch(I,R)})()}attemptFetch(I,{throttleEndTimeMillis:M,backoffCount:R}){var H=this;return(0,N.Z)(function*(){yield function pg(C,I){return new Promise((M,R)=>{const H=Math.max(I-Date.now(),0),W=setTimeout(M,H);C.addEventListener(()=>{clearTimeout(W),R(fr.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}(I.signal,M);try{const W=yield H.client.fetch(I);return yield H.storage.deleteThrottleMetadata(),W}catch(W){if(!function Xl(C){if(!(C instanceof ie.ZR&&C.customData))return!1;const I=Number(C.customData.httpStatus);return 429===I||500===I||503===I||504===I}(W))throw W;const ne={throttleEndTimeMillis:Date.now()+(0,ie.$s)(R),backoffCount:R+1};return yield H.storage.setThrottleMetadata(ne),H.attemptFetch(I,ne)}})()}}class Xy{constructor(I,M,R,H,W){this.app=I,this._client=M,this._storageCache=R,this._storage=H,this._logger=W,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function gu(C,I){const M=C.target.error||void 0;return fr.create(I,{originalErrorMessage:M&&M?.message})}const gi="app_namespace_store";class e_{constructor(I,M,R,H=function Ro(){return new Promise((C,I)=>{try{const M=indexedDB.open("firebase_remote_config",1);M.onerror=R=>{I(gu(R,"storage-open"))},M.onsuccess=R=>{C(R.target.result)},M.onupgradeneeded=R=>{0===R.oldVersion&&R.target.result.createObjectStore(gi,{keyPath:"compositeKey"})}}catch(M){I(fr.create("storage-open",{originalErrorMessage:M?.message}))}})}()){this.appId=I,this.appName=M,this.namespace=R,this.openDbPromise=H}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(I){return this.set("last_fetch_status",I)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(I){return this.set("last_successful_fetch_timestamp_millis",I)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(I){return this.set("last_successful_fetch_response",I)}getActiveConfig(){return this.get("active_config")}setActiveConfig(I){return this.set("active_config",I)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(I){return this.set("active_config_etag",I)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(I){return this.set("throttle_metadata",I)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(I){var M=this;return(0,N.Z)(function*(){const R=yield M.openDbPromise;return new Promise((H,W)=>{const ze=R.transaction([gi],"readonly").objectStore(gi),Ge=M.createCompositeKey(I);try{const ct=ze.get(Ge);ct.onerror=Pt=>{W(gu(Pt,"storage-get"))},ct.onsuccess=Pt=>{const Ot=Pt.target.result;H(Ot?Ot.value:void 0)}}catch(ct){W(fr.create("storage-get",{originalErrorMessage:ct?.message}))}})})()}set(I,M){var R=this;return(0,N.Z)(function*(){const H=yield R.openDbPromise;return new Promise((W,ne)=>{const Ge=H.transaction([gi],"readwrite").objectStore(gi),ct=R.createCompositeKey(I);try{const Pt=Ge.put({compositeKey:ct,value:M});Pt.onerror=Ot=>{ne(gu(Ot,"storage-set"))},Pt.onsuccess=()=>{W()}}catch(Pt){ne(fr.create("storage-set",{originalErrorMessage:Pt?.message}))}})})()}delete(I){var M=this;return(0,N.Z)(function*(){const R=yield M.openDbPromise;return new Promise((H,W)=>{const ze=R.transaction([gi],"readwrite").objectStore(gi),Ge=M.createCompositeKey(I);try{const ct=ze.delete(Ge);ct.onerror=Pt=>{W(gu(Pt,"storage-delete"))},ct.onsuccess=()=>{H()}}catch(ct){W(fr.create("storage-delete",{originalErrorMessage:ct?.message}))}})})()}createCompositeKey(I){return[this.appId,this.appName,this.namespace,I].join()}}class Qh{constructor(I){this.storage=I}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var I=this;return(0,N.Z)(function*(){const M=I.storage.getLastFetchStatus(),R=I.storage.getLastSuccessfulFetchTimestampMillis(),H=I.storage.getActiveConfig(),W=yield M;W&&(I.lastFetchStatus=W);const ne=yield R;ne&&(I.lastSuccessfulFetchTimestampMillis=ne);const ze=yield H;ze&&(I.activeConfig=ze)})()}setLastFetchStatus(I){return this.lastFetchStatus=I,this.storage.setLastFetchStatus(I)}setLastSuccessfulFetchTimestampMillis(I){return this.lastSuccessfulFetchTimestampMillis=I,this.storage.setLastSuccessfulFetchTimestampMillis(I)}setActiveConfig(I){return this.activeConfig=I,this.storage.setActiveConfig(I)}}function Fc(){return _a.apply(this,arguments)}function _a(){return(_a=(0,N.Z)(function*(){if(!(0,ie.hl)())return!1;try{return yield(0,ie.eu)()}catch{return!1}})).apply(this,arguments)}!function ss(){(0,se._registerComponent)(new re.wA("remote-config",function C(I,{instanceIdentifier:M}){const R=I.getProvider("app").getImmediate(),H=I.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw fr.create("registration-window");if(!(0,ie.hl)())throw fr.create("indexed-db-unavailable");const{projectId:W,apiKey:ne,appId:ze}=R.options;if(!W)throw fr.create("registration-project-id");if(!ne)throw fr.create("registration-api-key");if(!ze)throw fr.create("registration-app-id");const Ge=new e_(ze,R.name,M=M||"firebase"),ct=new Qh(Ge),Pt=new ge.Yd(kn);Pt.logLevel=ge.in.ERROR;const Ot=new kc(H,se.SDK_VERSION,M,W,ne,ze),wi=new Kh(Ot,Ge),Rn=new is(wi,Ge,ct,Pt),Wo=new Xy(R,Rn,ct,Ge,Pt);return function Jr(C){const I=(0,ie.m9)(C);I._initializePromise||(I._initializePromise=I._storageCache.loadFromStorage().then(()=>{I._isInitializationComplete=!0}))}(Wo),Wo},"PUBLIC").setMultipleInstances(!0)),(0,se.registerVersion)(kn,"0.4.4"),(0,se.registerVersion)(kn,"0.4.4","esm2017")}();const nd=(C,I)=>I.some(M=>C instanceof M);let Lc,bs;const mu=new WeakMap,Ds=new WeakMap,Ur=new WeakMap,Tr=new WeakMap,wa=new WeakMap;let os={get(C,I,M){if(C instanceof IDBTransaction){if("done"===I)return Ds.get(C);if("objectStoreNames"===I)return C.objectStoreNames||Ur.get(C);if("store"===I)return M.objectStoreNames[1]?void 0:M.objectStore(M.objectStoreNames[0])}return Sr(C[I])},set:(C,I,M)=>(C[I]=M,!0),has:(C,I)=>C instanceof IDBTransaction&&("done"===I||"store"===I)||I in C};function id(C){return"function"==typeof C?function rd(C){return C!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function va(){return bs||(bs=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(C)?function(...I){return C.apply(Yn(this),I),Sr(mu.get(this))}:function(...I){return Sr(C.apply(Yn(this),I))}:function(I,...M){const R=C.call(Yn(this),I,...M);return Ur.set(R,I.sort?I.sort():[I]),Sr(R)}}(C):(C instanceof IDBTransaction&&function No(C){if(Ds.has(C))return;const I=new Promise((M,R)=>{const H=()=>{C.removeEventListener("complete",W),C.removeEventListener("error",ne),C.removeEventListener("abort",ne)},W=()=>{M(),H()},ne=()=>{R(C.error||new DOMException("AbortError","AbortError")),H()};C.addEventListener("complete",W),C.addEventListener("error",ne),C.addEventListener("abort",ne)});Ds.set(C,I)}(C),nd(C,function Jh(){return Lc||(Lc=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(C,os):C)}function Sr(C){if(C instanceof IDBRequest)return function ur(C){const I=new Promise((M,R)=>{const H=()=>{C.removeEventListener("success",W),C.removeEventListener("error",ne)},W=()=>{M(Sr(C.result)),H()},ne=()=>{R(C.error),H()};C.addEventListener("success",W),C.addEventListener("error",ne)});return I.then(M=>{M instanceof IDBCursor&&mu.set(M,C)}).catch(()=>{}),wa.set(I,C),I}(C);if(Tr.has(C))return Tr.get(C);const I=id(C);return I!==C&&(Tr.set(C,I),wa.set(I,C)),I}const Yn=C=>wa.get(C);function yu(C,I,{blocked:M,upgrade:R,blocking:H,terminated:W}={}){const ne=indexedDB.open(C,I),ze=Sr(ne);return R&&ne.addEventListener("upgradeneeded",Ge=>{R(Sr(ne.result),Ge.oldVersion,Ge.newVersion,Sr(ne.transaction))}),M&&ne.addEventListener("blocked",()=>M()),ze.then(Ge=>{W&&Ge.addEventListener("close",()=>W()),H&&Ge.addEventListener("versionchange",()=>H())}).catch(()=>{}),ze}function as(C,{blocked:I}={}){const M=indexedDB.deleteDatabase(C);return I&&M.addEventListener("blocked",()=>I()),Sr(M).then(()=>{})}const Vc=["get","getKey","getAll","getAllKeys","count"],Ts=["put","add","delete","clear"],ko=new Map;function Ca(C,I){if(!(C instanceof IDBDatabase)||I in C||"string"!=typeof I)return;if(ko.get(I))return ko.get(I);const M=I.replace(/FromIndex$/,""),R=I!==M,H=Ts.includes(M);if(!(M in(R?IDBIndex:IDBObjectStore).prototype)||!H&&!Vc.includes(M))return;const W=function(){var ne=(0,N.Z)(function*(ze,...Ge){const ct=this.transaction(ze,H?"readwrite":"readonly");let Pt=ct.store;return R&&(Pt=Pt.index(Ge.shift())),(yield Promise.all([Pt[M](...Ge),H&&ct.done]))[0]});return function(Ge){return ne.apply(this,arguments)}}();return ko.set(I,W),W}!function cr(C){os=C(os)}(C=>({...C,get:(I,M,R)=>Ca(I,M)||C.get(I,M,R),has:(I,M)=>!!Ca(I,M)||C.has(I,M)}));const Mt="/firebase-messaging-sw.js",Ea="/firebase-cloud-messaging-push-scope",sd="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",od="https://fcmregistrations.googleapis.com/v1",_u="google.c.a.c_id",ad="google.c.a.c_l",vu="google.c.a.ts",gg="google.c.a.e";var ce=(()=>{return(C=ce||(ce={})).PUSH_RECEIVED="push-received",C.NOTIFICATION_CLICKED="notification-clicked",ce;var C})();function Nt(C){const I=new Uint8Array(C);return btoa(String.fromCharCode(...I)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Ia(C){const M=(C+"=".repeat((4-C.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),R=atob(M),H=new Uint8Array(R.length);for(let W=0;W<R.length;++W)H[W]=R.charCodeAt(W);return H}const ba="fcm_token_details_db",Qn=5,Js="fcm_token_object_Store";function Br(){return Br=(0,N.Z)(function*(C){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(W=>W.name).includes(ba))return null;let I=null;return(yield yu(ba,Qn,{upgrade:(R=(0,N.Z)(function*(H,W,ne,ze){var Ge;if(W<2||!H.objectStoreNames.contains(Js))return;const ct=ze.objectStore(Js),Pt=yield ct.index("fcmSenderId").get(C);if(yield ct.clear(),Pt)if(2===W){const Ot=Pt;if(!Ot.auth||!Ot.p256dh||!Ot.endpoint)return;I={token:Ot.fcmToken,createTime:null!==(Ge=Ot.createTime)&&void 0!==Ge?Ge:Date.now(),subscriptionOptions:{auth:Ot.auth,p256dh:Ot.p256dh,endpoint:Ot.endpoint,swScope:Ot.swScope,vapidKey:"string"==typeof Ot.vapidKey?Ot.vapidKey:Nt(Ot.vapidKey)}}}else if(3===W){const Ot=Pt;I={token:Ot.fcmToken,createTime:Ot.createTime,subscriptionOptions:{auth:Nt(Ot.auth),p256dh:Nt(Ot.p256dh),endpoint:Ot.endpoint,swScope:Ot.swScope,vapidKey:Nt(Ot.vapidKey)}}}else if(4===W){const Ot=Pt;I={token:Ot.fcmToken,createTime:Ot.createTime,subscriptionOptions:{auth:Nt(Ot.auth),p256dh:Nt(Ot.p256dh),endpoint:Ot.endpoint,swScope:Ot.swScope,vapidKey:Nt(Ot.vapidKey)}}}}),function(W,ne,ze,Ge){return R.apply(this,arguments)})})).close(),yield as(ba),yield as("fcm_vapid_details_db"),yield as("undefined"),function cd(C){if(!C||!C.subscriptionOptions)return!1;const{subscriptionOptions:I}=C;return"number"==typeof C.createTime&&C.createTime>0&&"string"==typeof C.token&&C.token.length>0&&"string"==typeof I.auth&&I.auth.length>0&&"string"==typeof I.p256dh&&I.p256dh.length>0&&"string"==typeof I.endpoint&&I.endpoint.length>0&&"string"==typeof I.swScope&&I.swScope.length>0&&"string"==typeof I.vapidKey&&I.vapidKey.length>0}(I)?I:null;var R}),Br.apply(this,arguments)}const Cu="firebase-messaging-database",mg=1,us="firebase-messaging-store";let Da=null;function Hn(){return Da||(Da=yu(Cu,mg,{upgrade:(C,I)=>{0===I&&C.createObjectStore(us)}})),Da}function mi(C){return Zi.apply(this,arguments)}function Zi(){return Zi=(0,N.Z)(function*(C){const I=Eu(C),R=yield(yield Hn()).transaction(us).objectStore(us).get(I);if(R)return R;{const H=yield function wu(C){return Br.apply(this,arguments)}(C.appConfig.senderId);if(H)return yield Xs(C,H),H}}),Zi.apply(this,arguments)}function Xs(C,I){return yi.apply(this,arguments)}function yi(){return(yi=(0,N.Z)(function*(C,I){const M=Eu(C),H=(yield Hn()).transaction(us,"readwrite");return yield H.objectStore(us).put(I,M),yield H.done,I})).apply(this,arguments)}function Ta(){return(Ta=(0,N.Z)(function*(C){const I=Eu(C),R=(yield Hn()).transaction(us,"readwrite");yield R.objectStore(us).delete(I),yield R.done})).apply(this,arguments)}function Eu({appConfig:C}){return C.appId}const Gn=new ie.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Fo(C,I){return Uc.apply(this,arguments)}function Uc(){return(Uc=(0,N.Z)(function*(C,I){const M=yield Bc(C),R=hd(I),H={method:"POST",headers:M,body:JSON.stringify(R)};let W;try{W=yield(yield fetch(Sa(C.appConfig),H)).json()}catch(ne){throw Gn.create("token-subscribe-failed",{errorInfo:ne?.toString()})}if(W.error)throw Gn.create("token-subscribe-failed",{errorInfo:W.error.message});if(!W.token)throw Gn.create("token-subscribe-no-token");return W.token})).apply(this,arguments)}function dd(){return(dd=(0,N.Z)(function*(C,I){const M=yield Bc(C),R=hd(I.subscriptionOptions),H={method:"PATCH",headers:M,body:JSON.stringify(R)};let W;try{W=yield(yield fetch(`${Sa(C.appConfig)}/${I.token}`,H)).json()}catch(ne){throw Gn.create("token-update-failed",{errorInfo:ne?.toString()})}if(W.error)throw Gn.create("token-update-failed",{errorInfo:W.error.message});if(!W.token)throw Gn.create("token-update-no-token");return W.token})).apply(this,arguments)}function bu(C,I){return Du.apply(this,arguments)}function Du(){return(Du=(0,N.Z)(function*(C,I){const R={method:"DELETE",headers:yield Bc(C)};try{const W=yield(yield fetch(`${Sa(C.appConfig)}/${I}`,R)).json();if(W.error)throw Gn.create("token-unsubscribe-failed",{errorInfo:W.error.message})}catch(H){throw Gn.create("token-unsubscribe-failed",{errorInfo:H?.toString()})}})).apply(this,arguments)}function Sa({projectId:C}){return`${od}/projects/${C}/registrations`}function Bc(C){return Aa.apply(this,arguments)}function Aa(){return(Aa=(0,N.Z)(function*({appConfig:C,installations:I}){const M=yield I.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C.apiKey,"x-goog-firebase-installations-auth":`FIS ${M}`})})).apply(this,arguments)}function hd({p256dh:C,auth:I,endpoint:M,vapidKey:R}){const H={web:{endpoint:M,auth:I,p256dh:C}};return R!==sd&&(H.web.applicationPubKey=R),H}const Tu=6048e5;function Su(){return Su=(0,N.Z)(function*(C){const I=yield function tf(C,I){return fd.apply(this,arguments)}(C.swRegistration,C.vapidKey),M={vapidKey:C.vapidKey,swScope:C.swRegistration.scope,endpoint:I.endpoint,auth:Nt(I.getKey("auth")),p256dh:Nt(I.getKey("p256dh"))},R=yield mi(C.firebaseDependencies);if(R){if(function _g(C,I){return I.vapidKey===C.vapidKey&&I.endpoint===C.endpoint&&I.auth===C.auth&&I.p256dh===C.p256dh}(R.subscriptionOptions,M))return Date.now()>=R.createTime+Tu?function Tn(C,I){return Au.apply(this,arguments)}(C,{token:R.token,createTime:Date.now(),subscriptionOptions:M}):R.token;try{yield bu(C.firebaseDependencies,R.token)}catch(H){console.warn(H)}return ef(C.firebaseDependencies,M)}return ef(C.firebaseDependencies,M)}),Su.apply(this,arguments)}function cs(){return cs=(0,N.Z)(function*(C){const I=yield mi(C.firebaseDependencies);I&&(yield bu(C.firebaseDependencies,I.token),yield function ld(C){return Ta.apply(this,arguments)}(C.firebaseDependencies));const M=yield C.swRegistration.pushManager.getSubscription();return!M||M.unsubscribe()}),cs.apply(this,arguments)}function Au(){return Au=(0,N.Z)(function*(C,I){try{const M=yield function Iu(C,I){return dd.apply(this,arguments)}(C.firebaseDependencies,I),R=Object.assign(Object.assign({},I),{token:M,createTime:Date.now()});return yield Xs(C.firebaseDependencies,R),M}catch(M){throw yield function pr(C){return cs.apply(this,arguments)}(C),M}}),Au.apply(this,arguments)}function ef(C,I){return eo.apply(this,arguments)}function eo(){return(eo=(0,N.Z)(function*(C,I){const R={token:yield Fo(C,I),createTime:Date.now(),subscriptionOptions:I};return yield Xs(C,R),R.token})).apply(this,arguments)}function fd(){return(fd=(0,N.Z)(function*(C,I){return(yield C.pushManager.getSubscription())||C.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Ia(I)})})).apply(this,arguments)}function Mu(C){const I={from:C.from,collapseKey:C.collapse_key,messageId:C.fcmMessageId};return function jc(C,I){if(!I.notification)return;C.notification={};const M=I.notification.title;M&&(C.notification.title=M);const R=I.notification.body;R&&(C.notification.body=R);const H=I.notification.image;H&&(C.notification.image=H);const W=I.notification.icon;W&&(C.notification.icon=W)}(I,C),function $c(C,I){I.data&&(C.data=I.data)}(I,C),function pd(C,I){var M,R,H,W,ne;if(!(I.fcmOptions||null!==(M=I.notification)&&void 0!==M&&M.click_action))return;C.fcmOptions={};const ze=null!==(H=null===(R=I.fcmOptions)||void 0===R?void 0:R.link)&&void 0!==H?H:null===(W=I.notification)||void 0===W?void 0:W.click_action;ze&&(C.fcmOptions.link=ze);const Ge=null===(ne=I.fcmOptions)||void 0===ne?void 0:ne.analytics_label;Ge&&(C.fcmOptions.analyticsLabel=Ge)}(I,C),I}function Lo(C,I){const M=[];for(let R=0;R<C.length;R++)M.push(C.charAt(R)),R<I.length&&M.push(I.charAt(R));return M.join("")}function ls(C){return Gn.create("missing-app-config-values",{valueName:C})}Lo("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Lo("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class vg{constructor(I,M,R){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const H=function Vo(C){if(!C||!C.options)throw ls("App Configuration Object");if(!C.name)throw ls("App Name");const I=["projectId","apiKey","appId","messagingSenderId"],{options:M}=C;for(const R of I)if(!M[R])throw ls(R);return{appName:C.name,projectId:M.projectId,apiKey:M.apiKey,appId:M.appId,senderId:M.messagingSenderId}}(I);this.firebaseDependencies={app:I,appConfig:H,installations:M,analyticsProvider:R}}_delete(){return Promise.resolve()}}function nf(C){return xu.apply(this,arguments)}function xu(){return(xu=(0,N.Z)(function*(C){try{C.swRegistration=yield navigator.serviceWorker.register(Mt,{scope:Ea}),C.swRegistration.update().catch(()=>{})}catch(I){throw Gn.create("failed-service-worker-registration",{browserErrorMessage:I?.message})}})).apply(this,arguments)}function Ma(){return(Ma=(0,N.Z)(function*(C,I){if(!I&&!C.swRegistration&&(yield nf(C)),I||!C.swRegistration){if(!(I instanceof ServiceWorkerRegistration))throw Gn.create("invalid-sw-registration");C.swRegistration=I}})).apply(this,arguments)}function no(){return(no=(0,N.Z)(function*(C,I){I?C.vapidKey=I:C.vapidKey||(C.vapidKey=sd)})).apply(this,arguments)}function Uo(){return Uo=(0,N.Z)(function*(C,I){if(!navigator)throw Gn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Gn.create("permission-blocked");return yield function to(C,I){return no.apply(this,arguments)}(C,I?.vapidKey),yield function t_(C,I){return Ma.apply(this,arguments)}(C,I?.serviceWorkerRegistration),function Xh(C){return Su.apply(this,arguments)}(C)}),Uo.apply(this,arguments)}function ro(){return(ro=(0,N.Z)(function*(C,I,M){const R=function io(C){switch(C){case ce.NOTIFICATION_CLICKED:return"notification_open";case ce.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(I);(yield C.firebaseDependencies.analyticsProvider.get()).logEvent(R,{message_id:M[_u],message_name:M[ad],message_time:M[vu],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function so(){return so=(0,N.Z)(function*(C,I){const M=I.data;if(!M.isFirebaseMessaging)return;C.onMessageHandler&&M.messageType===ce.PUSH_RECEIVED&&("function"==typeof C.onMessageHandler?C.onMessageHandler(Mu(M)):C.onMessageHandler.next(Mu(M)));const R=M.data;(function Hc(C){return"object"==typeof C&&!!C&&_u in C})(R)&&"1"===R[gg]&&(yield function Gc(C,I,M){return ro.apply(this,arguments)}(C,M.messageType,R))}),so.apply(this,arguments)}const Ss="@firebase/messaging",oo=C=>{const I=new vg(C.getProvider("app").getImmediate(),C.getProvider("installations-internal").getImmediate(),C.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",M=>function Ou(C,I){return so.apply(this,arguments)}(I,M)),I},Ru=C=>{const I=C.getProvider("messaging").getImmediate();return{getToken:R=>function Pu(C,I){return Uo.apply(this,arguments)}(I,R)}};function rf(){return Nu.apply(this,arguments)}function Nu(){return(Nu=(0,N.Z)(function*(){try{yield(0,ie.eu)()}catch{return!1}return typeof window<"u"&&(0,ie.hl)()&&(0,ie.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function xa(){(0,se._registerComponent)(new re.wA("messaging",oo,"PUBLIC")),(0,se._registerComponent)(new re.wA("messaging-internal",Ru,"PRIVATE")),(0,se.registerVersion)(Ss,"0.12.4"),(0,se.registerVersion)(Ss,"0.12.4","esm2017")}();const pn="analytics",_d="firebase_id",ku="origin",qc=6e4,Fu="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Lu="https://www.googletagmanager.com/gtag/js",Jn=new ge.Yd("@firebase/analytics"),Fn=new ie.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Zc(C){if(!C.startsWith(Lu)){const I=Fn.create("invalid-gtag-resource",{gtagURL:C});return Jn.warn(I.message),""}return C}function Pa(C){return Promise.all(C.map(I=>I.catch(M=>M)))}function co(){return(co=(0,N.Z)(function*(C,I,M,R,H,W){const ne=R[H];try{if(ne)yield I[ne];else{const Ge=(yield Pa(M)).find(ct=>ct.measurementId===H);Ge&&(yield I[Ge.appId])}}catch(ze){Jn.error(ze)}C("config",H,W)})).apply(this,arguments)}function Ra(){return(Ra=(0,N.Z)(function*(C,I,M,R,H){try{let W=[];if(H&&H.send_to){let ne=H.send_to;Array.isArray(ne)||(ne=[ne]);const ze=yield Pa(M);for(const Ge of ne){const ct=ze.find(Ot=>Ot.measurementId===Ge),Pt=ct&&I[ct.appId];if(!Pt){W=[];break}W.push(Pt)}}0===W.length&&(W=Object.values(I)),yield Promise.all(W),C("event",R,H||{})}catch(W){Jn.error(W)}})).apply(this,arguments)}const Na=30,ho=new class lo{constructor(I={},M=1e3){this.throttleMetadata=I,this.intervalMillis=M}getThrottleMetadata(I){return this.throttleMetadata[I]}setThrottleMetadata(I,M){this.throttleMetadata[I]=M}deleteThrottleMetadata(I){delete this.throttleMetadata[I]}};function uf(C){return new Headers({Accept:"application/json","x-goog-api-key":C})}function Kt(){return(Kt=(0,N.Z)(function*(C){var I;const{appId:M,apiKey:R}=C,H={method:"GET",headers:uf(R)},W=Fu.replace("{app-id}",M),ne=yield fetch(W,H);if(200!==ne.status&&304!==ne.status){let ze="";try{const Ge=yield ne.json();null!==(I=Ge.error)&&void 0!==I&&I.message&&(ze=Ge.error.message)}catch{}throw Fn.create("config-fetch-failed",{httpStatus:ne.status,responseMessage:ze})}return ne.json()})).apply(this,arguments)}function ka(){return(ka=(0,N.Z)(function*(C,I=ho,M){const{appId:R,apiKey:H,measurementId:W}=C.options;if(!R)throw Fn.create("no-app-id");if(!H){if(W)return{measurementId:W,appId:R};throw Fn.create("no-api-key")}const ne=I.getThrottleMetadata(R)||{backoffCount:0,throttleEndTimeMillis:Date.now()},ze=new r_;return setTimeout((0,N.Z)(function*(){ze.abort()}),void 0!==M?M:qc),Kc({appId:R,apiKey:H,measurementId:W},ne,ze,I)})).apply(this,arguments)}function Kc(C,I,M){return Yc.apply(this,arguments)}function Yc(){return Yc=(0,N.Z)(function*(C,{throttleEndTimeMillis:I,backoffCount:M},R,H=ho){var W;const{appId:ne,measurementId:ze}=C;try{yield function n_(C,I){return new Promise((M,R)=>{const H=Math.max(I-Date.now(),0),W=setTimeout(M,H);C.addEventListener(()=>{clearTimeout(W),R(Fn.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}(R,I)}catch(Ge){if(ze)return Jn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ze} provided in the "measurementId" field in the local Firebase config. [${Ge?.message}]`),{appId:ne,measurementId:ze};throw Ge}try{const Ge=yield function vd(C){return Kt.apply(this,arguments)}(C);return H.deleteThrottleMetadata(ne),Ge}catch(Ge){const ct=Ge;if(!function cf(C){if(!(C instanceof ie.ZR&&C.customData))return!1;const I=Number(C.customData.httpStatus);return 429===I||500===I||503===I||504===I}(ct)){if(H.deleteThrottleMetadata(ne),ze)return Jn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ze} provided in the "measurementId" field in the local Firebase config. [${ct?.message}]`),{appId:ne,measurementId:ze};throw Ge}const Pt=503===Number(null===(W=ct?.customData)||void 0===W?void 0:W.httpStatus)?(0,ie.$s)(M,H.intervalMillis,Na):(0,ie.$s)(M,H.intervalMillis),Ot={throttleEndTimeMillis:Date.now()+Pt,backoffCount:M+1};return H.setThrottleMetadata(ne,Ot),Jn.debug(`Calling attemptFetch again in ${Pt} millis`),Kc(C,Ot,R,H)}}),Yc.apply(this,arguments)}class r_{constructor(){this.listeners=[]}addEventListener(I){this.listeners.push(I)}abort(){this.listeners.forEach(I=>I())}}let fo,hf;function lf(){return(lf=(0,N.Z)(function*(C,I,M,R,H){if(H&&H.global)C("event",M,R);else{const W=yield I;C("event",M,Object.assign(Object.assign({},R),{send_to:W}))}})).apply(this,arguments)}function un(){return(un=(0,N.Z)(function*(){if(!(0,ie.hl)())return Jn.warn(Fn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ie.eu)()}catch(C){return Jn.warn(Fn.create("indexeddb-unavailable",{errorInfo:C?.toString()}).message),!1}return!0})).apply(this,arguments)}function Go(){return Go=(0,N.Z)(function*(C,I,M,R,H,W,ne){var ze;const Ge=function wg(C){return ka.apply(this,arguments)}(C);Ge.then(Rn=>{M[Rn.measurementId]=Rn.appId,C.options.measurementId&&Rn.measurementId!==C.options.measurementId&&Jn.warn(`The measurement ID in the local Firebase config (${C.options.measurementId}) does not match the measurement ID fetched from the server (${Rn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Rn=>Jn.error(Rn)),I.push(Ge);const ct=function jr(){return un.apply(this,arguments)}().then(Rn=>{if(Rn)return R.getId()}),[Pt,Ot]=yield Promise.all([Ge,ct]);(function Ho(C){const I=window.document.getElementsByTagName("script");for(const M of Object.values(I))if(M.src&&M.src.includes(Lu)&&M.src.includes(C))return M;return null})(W)||function hs(C,I){const M=function Oa(C,I){let M;return window.trustedTypes&&(M=window.trustedTypes.createPolicy(C,I)),M}("firebase-js-sdk-policy",{createScriptURL:Zc}),R=document.createElement("script"),H=`${Lu}?l=${C}&id=${I}`;R.src=M?M?.createScriptURL(H):H,R.async=!0,document.head.appendChild(R)}(W,Pt.measurementId),hf&&(H("consent","default",hf),function Jc(C){hf=C}(void 0)),H("js",new Date);const wi=null!==(ze=ne?.config)&&void 0!==ze?ze:{};return wi[ku]="firebase",wi.update=!0,null!=Ot&&(wi[_d]=Ot),H("config",Pt.measurementId,wi),fo&&(H("set",fo),function $u(C){fo=C}(void 0)),Pt.measurementId}),Go.apply(this,arguments)}class Ms{constructor(I){this.app=I}_delete(){return delete _i[this.app.options.appId],Promise.resolve()}}let _i={},wd=[];const Xc={};let xs,gn,Hu="dataLayer",go="gtag",gt=!1;function Va(C,I,M){!function La(){const C=[];if((0,ie.ru)()&&C.push("This is a browser extension environment."),(0,ie.zI)()||C.push("Cookies are not available."),C.length>0){const I=C.map((R,H)=>`(${H+1}) ${R}`).join(" "),M=Fn.create("invalid-analytics-context",{errorInfo:I});Jn.warn(M.message)}}();const R=C.options.appId;if(!R)throw Fn.create("no-app-id");if(!C.options.apiKey){if(!C.options.measurementId)throw Fn.create("no-api-key");Jn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${C.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=_i[R])throw Fn.create("already-exists",{id:R});if(!gt){!function sf(C){let I=[];Array.isArray(window[C])?I=window[C]:window[C]=I}(Hu);const{wrappedGtag:W,gtagCore:ne}=function As(C,I,M,R,H){let W=function(...ne){window[R].push(arguments)};return window[H]&&"function"==typeof window[H]&&(W=window[H]),window[H]=function $o(C,I,M,R){function W(){return W=(0,N.Z)(function*(ne,...ze){try{if("event"===ne){const[Ge,ct]=ze;yield function Wc(C,I,M,R,H){return Ra.apply(this,arguments)}(C,I,M,Ge,ct)}else if("config"===ne){const[Ge,ct]=ze;yield function Vu(C,I,M,R,H,W){return co.apply(this,arguments)}(C,I,M,R,Ge,ct)}else if("consent"===ne){const[Ge]=ze;C("consent","update",Ge)}else if("get"===ne){const[Ge,ct,Pt]=ze;C("get",Ge,ct,Pt)}else if("set"===ne){const[Ge]=ze;C("set",Ge)}else C(ne,...ze)}catch(Ge){Jn.error(Ge)}}),W.apply(this,arguments)}return function H(ne){return W.apply(this,arguments)}}(W,C,I,M),{gtagCore:W,wrappedGtag:window[H]}}(_i,wd,Xc,Hu,go);gn=W,xs=ne,gt=!0}return _i[R]=function lr(C,I,M,R,H,W,ne){return Go.apply(this,arguments)}(C,wd,Xc,I,xs,Hu,M),new Ms(C)}function Ba(){return ei.apply(this,arguments)}function ei(){return(ei=(0,N.Z)(function*(){if((0,ie.ru)()||!(0,ie.zI)()||!(0,ie.hl)())return!1;try{return yield(0,ie.eu)()}catch{return!1}})).apply(this,arguments)}const qu="@firebase/analytics";!function Ps(){(0,se._registerComponent)(new re.wA(pn,(I,{options:M})=>Va(I.getProvider("app").getImmediate(),I.getProvider("installations-internal").getImmediate(),M),"PUBLIC")),(0,se._registerComponent)(new re.wA("analytics-internal",function C(I){try{const M=I.getProvider(pn).getImmediate();return{logEvent:(R,H,W)=>function Ed(C,I,M,R){C=(0,ie.m9)(C),function i_(C,I,M,R,H){return lf.apply(this,arguments)}(gn,_i[C.app.options.appId],I,M,R).catch(H=>Jn.error(H))}(M,R,H,W)}}catch(M){throw Fn.create("interop-component-reg-failed",{reason:M})}},"PRIVATE")),(0,se.registerVersion)(qu,"0.10.0"),(0,se.registerVersion)(qu,"0.10.0","esm2017")}();var tl=k(4408),ja=k(7565);const Id=new class $a extends ja.v{}(class Cg extends tl.o{constructor(I,M){super(I,M),this.scheduler=I,this.work=M}schedule(I,M=0){return M>0?super.schedule(I,M):(this.delay=M,this.state=I,this.scheduler.flush(this),this)}execute(I,M){return M>0||this.closed?super.execute(I,M):this._execute(I,M)}requestAsyncId(I,M,R=0){return null!=R&&R>0||null==R&&this.delay>0?super.requestAsyncId(I,M,R):(I.flush(this),0)}});var nl=k(4986),rl=k(8505),il=k(9468),Ha=k(5363);const Zo=new c.GfV("7.5.0"),yo="__angularfire_symbol__analyticsIsSupportedValue",Ga="__angularfire_symbol__analyticsIsSupported",sl="__angularfire_symbol__remoteConfigIsSupportedValue",_o="__angularfire_symbol__remoteConfigIsSupported",ol="__angularfire_symbol__messagingIsSupportedValue",Zu="__angularfire_symbol__messagingIsSupported";function ul(C,I,M){if(I){if(1===I.length)return I[0];const W=I.filter(ne=>ne.app===M);if(1===W.length)return W[0]}return M.container.getProvider(C).getImmediate({optional:!0})}globalThis[Ga]||(globalThis[Ga]=Ba().then(C=>globalThis[yo]=C).catch(()=>globalThis[yo]=!1)),globalThis[Zu]||(globalThis[Zu]=rf().then(C=>globalThis[ol]=C).catch(()=>globalThis[ol]=!1)),globalThis[_o]||(globalThis[_o]=Fc().then(C=>globalThis[sl]=C).catch(()=>globalThis[sl]=!1));const Wu=(C,I)=>{const M=I?[I]:(0,Q.C6)(),R=[];return M.forEach(H=>{H.container.getProvider(C).instances.forEach(ne=>{R.includes(ne)||R.push(ne)})}),R};function Ki(){}class za{constructor(I,M=Id){this.zone=I,this.delegate=M}now(){return this.delegate.now()}schedule(I,M,R){const H=this.zone;return this.delegate.schedule(function(ne){H.runGuarded(()=>{I.apply(this,[ne])})},M,R)}}class qa{constructor(I){this.zone=I,this.task=null}call(I,M){const R=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ki,{},Ki,Ki)),M.pipe((0,rl.b)({next:R,complete:R,error:R})).subscribe(I).add(R)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let vi=(()=>{class C{constructor(M){this.ngZone=M,this.outsideAngular=M.runOutsideAngular(()=>new za(Zone.current)),this.insideAngular=M.run(()=>new za(Zone.current,nl.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return C.\u0275fac=function(M){return new(M||C)(c.LFG(c.R0b))},C.\u0275prov=c.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})();function Os(){const C=globalThis.\u0275AngularFireScheduler;if(!C)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return C}function pf(C){return Os(),function Eg(C){return function(M){return(M=M.lift(new qa(C.ngZone))).pipe((0,il.R)(C.outsideAngular),(0,Ha.Q)(C.insideAngular))}}(Os())(C)}},2090:(mt,Te,k)=>{k.d(Te,{$s:()=>Ai,BH:()=>Ce,G6:()=>Se,L:()=>le,LL:()=>Ye,Pz:()=>we,Sg:()=>$e,UG:()=>te,US:()=>re,ZB:()=>q,ZR:()=>xt,aH:()=>Pe,b$:()=>Ht,eu:()=>Be,hl:()=>He,jU:()=>It,m9:()=>Vr,ne:()=>nn,pd:()=>$i,r3:()=>ci,ru:()=>tt,tV:()=>$,uI:()=>it,vZ:()=>ft,w1:()=>de,xO:()=>hr,xb:()=>Zs,z$:()=>Re,zI:()=>dt,zd:()=>Fr});const se=function(V){const L=[];let z=0;for(let me=0;me<V.length;me++){let J=V.charCodeAt(me);J<128?L[z++]=J:J<2048?(L[z++]=J>>6|192,L[z++]=63&J|128):55296==(64512&J)&&me+1<V.length&&56320==(64512&V.charCodeAt(me+1))?(J=65536+((1023&J)<<10)+(1023&V.charCodeAt(++me)),L[z++]=J>>18|240,L[z++]=J>>12&63|128,L[z++]=J>>6&63|128,L[z++]=63&J|128):(L[z++]=J>>12|224,L[z++]=J>>6&63|128,L[z++]=63&J|128)}return L},re={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(V,L){if(!Array.isArray(V))throw Error("encodeByteArray takes an array as a parameter");this.init_();const z=L?this.byteToCharMapWebSafe_:this.byteToCharMap_,me=[];for(let J=0;J<V.length;J+=3){const Ne=V[J],bt=J+1<V.length,Yt=bt?V[J+1]:0,Nn=J+2<V.length,Dn=Nn?V[J+2]:0;let Dr=(15&Yt)<<2|Dn>>6,xi=63&Dn;Nn||(xi=64,bt||(Dr=64)),me.push(z[Ne>>2],z[(3&Ne)<<4|Yt>>4],z[Dr],z[xi])}return me.join("")},encodeString(V,L){return this.HAS_NATIVE_SUPPORT&&!L?btoa(V):this.encodeByteArray(se(V),L)},decodeString(V,L){return this.HAS_NATIVE_SUPPORT&&!L?atob(V):function(V){const L=[];let z=0,me=0;for(;z<V.length;){const J=V[z++];if(J<128)L[me++]=String.fromCharCode(J);else if(J>191&&J<224){const Ne=V[z++];L[me++]=String.fromCharCode((31&J)<<6|63&Ne)}else if(J>239&&J<365){const Nn=((7&J)<<18|(63&V[z++])<<12|(63&V[z++])<<6|63&V[z++])-65536;L[me++]=String.fromCharCode(55296+(Nn>>10)),L[me++]=String.fromCharCode(56320+(1023&Nn))}else{const Ne=V[z++],bt=V[z++];L[me++]=String.fromCharCode((15&J)<<12|(63&Ne)<<6|63&bt)}}return L.join("")}(this.decodeStringToByteArray(V,L))},decodeStringToByteArray(V,L){this.init_();const z=L?this.charToByteMapWebSafe_:this.charToByteMap_,me=[];for(let J=0;J<V.length;){const Ne=z[V.charAt(J++)],Yt=J<V.length?z[V.charAt(J)]:0;++J;const Dn=J<V.length?z[V.charAt(J)]:64;++J;const Gt=J<V.length?z[V.charAt(J)]:64;if(++J,null==Ne||null==Yt||null==Dn||null==Gt)throw new ge;me.push(Ne<<2|Yt>>4),64!==Dn&&(me.push(Yt<<4&240|Dn>>2),64!==Gt&&me.push(Dn<<6&192|Gt))}return me},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let V=0;V<this.ENCODED_VALS.length;V++)this.byteToCharMap_[V]=this.ENCODED_VALS.charAt(V),this.charToByteMap_[this.byteToCharMap_[V]]=V,this.byteToCharMapWebSafe_[V]=this.ENCODED_VALS_WEBSAFE.charAt(V),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[V]]=V,V>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(V)]=V,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(V)]=V)}}};class ge extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const le=function(V){return function(V){const L=se(V);return re.encodeByteArray(L,!0)}(V).replace(/\./g,"")},$=function(V){try{return re.decodeString(V,!0)}catch(L){console.error("base64Decode failed: ",L)}return null};function q(V,L){if(!(L instanceof Object))return L;switch(L.constructor){case Date:return new Date(L.getTime());case Object:void 0===V&&(V={});break;case Array:V=[];break;default:return L}for(const z in L)!L.hasOwnProperty(z)||!je(z)||(V[z]=q(V[z],L[z]));return V}function je(V){return"__proto__"!==V}const Me=()=>{try{return function Ie(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const V=process.env.__FIREBASE_DEFAULTS__;return V?JSON.parse(V):void 0})()||(()=>{if(typeof document>"u")return;let V;try{V=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const L=V&&$(V[1]);return L&&JSON.parse(L)})()}catch(V){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${V}`)}},Pe=()=>{var V;return null===(V=Me())||void 0===V?void 0:V.config},we=V=>{var L;return null===(L=Me())||void 0===L?void 0:L[`_${V}`]};class Ce{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((L,z)=>{this.resolve=L,this.reject=z})}wrapCallback(L){return(z,me)=>{z?this.reject(z):this.resolve(me),"function"==typeof L&&(this.promise.catch(()=>{}),1===L.length?L(z):L(z,me))}}}function $e(V,L){if(V.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const me=L||"demo-project",J=V.iat||0,Ne=V.sub||V.user_id;if(!Ne)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const bt=Object.assign({iss:`https://securetoken.google.com/${me}`,aud:me,iat:J,exp:J+3600,auth_time:J,sub:Ne,user_id:Ne,firebase:{sign_in_provider:"custom",identities:{}}},V);return[le(JSON.stringify({alg:"none",type:"JWT"})),le(JSON.stringify(bt)),""].join(".")}function Re(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function it(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Re())}function te(){var V;const L=null===(V=Me())||void 0===V?void 0:V.forceEnvironment;if("node"===L)return!0;if("browser"===L)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function It(){return"object"==typeof self&&self.self===self}function tt(){const V="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof V&&void 0!==V.id}function Ht(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function de(){const V=Re();return V.indexOf("MSIE ")>=0||V.indexOf("Trident/")>=0}function Se(){return!te()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function He(){try{return"object"==typeof indexedDB}catch{return!1}}function Be(){return new Promise((V,L)=>{try{let z=!0;const me="validate-browser-context-for-indexeddb-analytics-module",J=self.indexedDB.open(me);J.onsuccess=()=>{J.result.close(),z||self.indexedDB.deleteDatabase(me),V(!0)},J.onupgradeneeded=()=>{z=!1},J.onerror=()=>{var Ne;L((null===(Ne=J.error)||void 0===Ne?void 0:Ne.message)||"")}}catch(z){L(z)}})}function dt(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class xt extends Error{constructor(L,z,me){super(z),this.code=L,this.customData=me,this.name="FirebaseError",Object.setPrototypeOf(this,xt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ye.prototype.create)}}class Ye{constructor(L,z,me){this.service=L,this.serviceName=z,this.errors=me}create(L,...z){const me=z[0]||{},J=`${this.service}/${L}`,Ne=this.errors[L],bt=Ne?function $t(V,L){return V.replace(Et,(z,me)=>{const J=L[me];return null!=J?String(J):`<${me}?>`})}(Ne,me):"Error";return new xt(J,`${this.serviceName}: ${bt} (${J}).`,me)}}const Et=/\{\$([^}]+)}/g;function ci(V,L){return Object.prototype.hasOwnProperty.call(V,L)}function Zs(V){for(const L in V)if(Object.prototype.hasOwnProperty.call(V,L))return!1;return!0}function ft(V,L){if(V===L)return!0;const z=Object.keys(V),me=Object.keys(L);for(const J of z){if(!me.includes(J))return!1;const Ne=V[J],bt=L[J];if(Zr(Ne)&&Zr(bt)){if(!ft(Ne,bt))return!1}else if(Ne!==bt)return!1}for(const J of me)if(!z.includes(J))return!1;return!0}function Zr(V){return null!==V&&"object"==typeof V}function hr(V){const L=[];for(const[z,me]of Object.entries(V))Array.isArray(me)?me.forEach(J=>{L.push(encodeURIComponent(z)+"="+encodeURIComponent(J))}):L.push(encodeURIComponent(z)+"="+encodeURIComponent(me));return L.length?"&"+L.join("&"):""}function Fr(V){const L={};return V.replace(/^\?/,"").split("&").forEach(me=>{if(me){const[J,Ne]=me.split("=");L[decodeURIComponent(J)]=decodeURIComponent(Ne)}}),L}function $i(V){const L=V.indexOf("?");if(!L)return"";const z=V.indexOf("#",L);return V.substring(L,z>0?z:void 0)}function nn(V,L){const z=new st(V,L);return z.subscribe.bind(z)}class st{constructor(L,z){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=z,this.task.then(()=>{L(this)}).catch(me=>{this.error(me)})}next(L){this.forEachObserver(z=>{z.next(L)})}error(L){this.forEachObserver(z=>{z.error(L)}),this.close(L)}complete(){this.forEachObserver(L=>{L.complete()}),this.close()}subscribe(L,z,me){let J;if(void 0===L&&void 0===z&&void 0===me)throw new Error("Missing Observer.");J=function li(V,L){if("object"!=typeof V||null===V)return!1;for(const z of L)if(z in V&&"function"==typeof V[z])return!0;return!1}(L,["next","error","complete"])?L:{next:L,error:z,complete:me},void 0===J.next&&(J.next=Wr),void 0===J.error&&(J.error=Wr),void 0===J.complete&&(J.complete=Wr);const Ne=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?J.error(this.finalError):J.complete()}catch{}}),this.observers.push(J),Ne}unsubscribeOne(L){void 0===this.observers||void 0===this.observers[L]||(delete this.observers[L],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(L){if(!this.finalized)for(let z=0;z<this.observers.length;z++)this.sendOne(z,L)}sendOne(L,z){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[L])try{z(this.observers[L])}catch(me){typeof console<"u"&&console.error&&console.error(me)}})}close(L){this.finalized||(this.finalized=!0,void 0!==L&&(this.finalError=L),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Wr(){}const rn=1e3,di=2,xn=144e5,Bn=.5;function Ai(V,L=rn,z=di){const me=L*Math.pow(z,V),J=Math.round(Bn*me*(Math.random()-.5)*2);return Math.min(xn,me+J)}function Vr(V){return V&&V._delegate?V._delegate:V}},6716:(mt,Te,k)=>{var c=k(4650);let Q=null;function N(){return Q}class ie{}const re=new c.OlP("DocumentToken");let ge=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return function ve(){return(0,c.LFG)($)}()},providedIn:"platform"}),n})();const le=new c.OlP("Location Initialized");let $=(()=>{class n extends ge{constructor(t){super(),this._doc=t,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return N().getBaseHref(this._doc)}onPopState(t){const r=N().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=N().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){j()?this._history.pushState(t,r,i):this._location.hash=i}replaceState(t,r,i){j()?this._history.replaceState(t,r,i):this._location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(re))},n.\u0275prov=c.Yz7({token:n,factory:function(){return function q(){return new $((0,c.LFG)(re))}()},providedIn:"platform"}),n})();function j(){return!!window.history.pushState}function je(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Ie(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Ze(n){return n&&"?"!==n[0]?"?"+n:n}let lt=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return(0,c.f3M)(Me)},providedIn:"root"}),n})();const he=new c.OlP("appBaseHref");let Me=(()=>{class n extends lt{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,c.f3M)(re).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return je(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Ze(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,u){const d=this.prepareExternalUrl(i+Ze(u));this._platformLocation.pushState(t,r,d)}replaceState(t,r,i,u){const d=this.prepareExternalUrl(i+Ze(u));this._platformLocation.replaceState(t,r,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ge),c.LFG(he,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),xe=(()=>{class n extends lt{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=je(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,u){let d=this.prepareExternalUrl(i+Ze(u));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.pushState(t,r,d)}replaceState(t,r,i,u){let d=this.prepareExternalUrl(i+Ze(u));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ge),c.LFG(he,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),Ue=(()=>{class n{constructor(t){this._subject=new c.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function $e(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(Ie(Ce(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Ze(r))}normalize(t){return n.stripTrailingSlash(function we(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,Ce(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ze(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ze(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=Ze,n.joinWithSlash=je,n.stripTrailingSlash=Ie,n.\u0275fac=function(t){return new(t||n)(c.LFG(lt))},n.\u0275prov=c.Yz7({token:n,factory:function(){return function Pe(){return new Ue((0,c.LFG)(lt))}()},providedIn:"root"}),n})();function Ce(n){return n.replace(/\/index.html$/,"")}const Re={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var it=(()=>((it=it||{})[it.Decimal=0]="Decimal",it[it.Percent=1]="Percent",it[it.Currency=2]="Currency",it[it.Scientific=3]="Scientific",it))(),at=(()=>((at=at||{})[at.Decimal=0]="Decimal",at[at.Group=1]="Group",at[at.List=2]="List",at[at.PercentSign=3]="PercentSign",at[at.PlusSign=4]="PlusSign",at[at.MinusSign=5]="MinusSign",at[at.Exponential=6]="Exponential",at[at.SuperscriptingExponent=7]="SuperscriptingExponent",at[at.PerMille=8]="PerMille",at[at.Infinity=9]="Infinity",at[at.NaN=10]="NaN",at[at.TimeSeparator=11]="TimeSeparator",at[at.CurrencyDecimal=12]="CurrencyDecimal",at[at.CurrencyGroup=13]="CurrencyGroup",at))();function Et(n,e){const t=(0,c.cg1)(n),r=t[c.wAp.NumberSymbols][e];if(typeof r>"u"){if(e===at.CurrencyDecimal)return t[c.wAp.NumberSymbols][at.Decimal];if(e===at.CurrencyGroup)return t[c.wAp.NumberSymbols][at.Group]}return r}const Oc=2,Yt=/^(\d+)?\.((\d+)(-(\d+))?)?$/,Nn=22,Dn=".",an="0",Gt=";",Dr=",",xi="#",Gi="\xa4";function X(n,e,t,r,i){const d=function Ct(n,e="-"){const t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=n.split(Gt),i=r[0],u=r[1],d=-1!==i.indexOf(Dn)?i.split(Dn):[i.substring(0,i.lastIndexOf(an)+1),i.substring(i.lastIndexOf(an)+1)],m=d[0],w=d[1]||"";t.posPre=m.substring(0,m.indexOf(xi));for(let S=0;S<w.length;S++){const O=w.charAt(S);O===an?t.minFrac=t.maxFrac=S+1:O===xi?t.maxFrac=S+1:t.posSuf+=O}const D=m.split(Dr);if(t.gSize=D[1]?D[1].length:0,t.lgSize=D[2]||D[1]?(D[2]||D[1]).length:0,u){const S=i.length-t.posPre.length-t.posSuf.length,O=u.indexOf(xi);t.negPre=u.substring(0,O).replace(/'/g,""),t.negSuf=u.slice(O+S).replace(/'/g,"")}else t.negPre=e+t.posPre,t.negSuf=t.posSuf;return t}(function tn(n,e){return(0,c.cg1)(n)[c.wAp.NumberFormats][e]}(e,it.Currency),Et(e,at.MinusSign));return d.minFrac=function hr(n){let e;const t=Re[n];return t&&(e=t[2]),"number"==typeof e?e:Oc}(r),d.maxFrac=d.minFrac,function ue(n,e,t,r,i,u,d=!1){let m="",w=!1;if(isFinite(n)){let D=function pt(n){let r,i,u,d,m,e=Math.abs(n)+"",t=0;for((i=e.indexOf(Dn))>-1&&(e=e.replace(Dn,"")),(u=e.search(/e/i))>0?(i<0&&(i=u),i+=+e.slice(u+1),e=e.substring(0,u)):i<0&&(i=e.length),u=0;e.charAt(u)===an;u++);if(u===(m=e.length))r=[0],i=1;else{for(m--;e.charAt(m)===an;)m--;for(i-=u,r=[],d=0;u<=m;u++,d++)r[d]=Number(e.charAt(u))}return i>Nn&&(r=r.splice(0,Nn-1),t=i-1,i=1),{digits:r,exponent:t,integerLen:i}}(n);d&&(D=function Vt(n){if(0===n.digits[0])return n;const e=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(0===e?n.digits.push(0,0):1===e&&n.digits.push(0),n.integerLen+=2),n}(D));let S=e.minInt,O=e.minFrac,U=e.maxFrac;if(u){const St=u.match(Yt);if(null===St)throw new Error(`${u} is not a valid digit info`);const vt=St[1],zt=St[3],Jt=St[5];null!=vt&&(S=Qt(vt)),null!=zt&&(O=Qt(zt)),null!=Jt?U=Qt(Jt):null!=zt&&O>U&&(U=O)}!function en(n,e,t){if(e>t)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${t}).`);let r=n.digits,i=r.length-n.integerLen;const u=Math.min(Math.max(e,i),t);let d=u+n.integerLen,m=r[d];if(d>0){r.splice(Math.max(n.integerLen,d));for(let O=d;O<r.length;O++)r[O]=0}else{i=Math.max(0,i),n.integerLen=1,r.length=Math.max(1,d=u+1),r[0]=0;for(let O=1;O<d;O++)r[O]=0}if(m>=5)if(d-1<0){for(let O=0;O>d;O--)r.unshift(0),n.integerLen++;r.unshift(1),n.integerLen++}else r[d-1]++;for(;i<Math.max(0,u);i++)r.push(0);let w=0!==u;const D=e+n.integerLen,S=r.reduceRight(function(O,U,Z,oe){return oe[Z]=(U+=O)<10?U:U-10,w&&(0===oe[Z]&&Z>=D?oe.pop():w=!1),U>=10?1:0},0);S&&(r.unshift(S),n.integerLen++)}(D,O,U);let Z=D.digits,oe=D.integerLen;const De=D.exponent;let Le=[];for(w=Z.every(St=>!St);oe<S;oe++)Z.unshift(0);for(;oe<0;oe++)Z.unshift(0);oe>0?Le=Z.splice(oe,Z.length):(Le=Z,Z=[0]);const rt=[];for(Z.length>=e.lgSize&&rt.unshift(Z.splice(-e.lgSize,Z.length).join(""));Z.length>e.gSize;)rt.unshift(Z.splice(-e.gSize,Z.length).join(""));Z.length&&rt.unshift(Z.join("")),m=rt.join(Et(t,r)),Le.length&&(m+=Et(t,i)+Le.join("")),De&&(m+=Et(t,at.Exponential)+"+"+De)}else m=Et(t,at.Infinity);return m=n<0&&!w?e.negPre+m+e.negSuf:e.posPre+m+e.posSuf,m}(n,d,e,at.CurrencyGroup,at.CurrencyDecimal,i).replace(Gi,t).replace(Gi,"").trim()}function Qt(n){const e=parseInt(n);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+n);return e}function Ws(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,u]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(u)}return null}class $n{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Cs=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,u,d)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new $n(i.item,this._ngForOf,-1,-1),null===d?void 0:d);else if(null==d)r.remove(null===u?void 0:u);else if(null!==u){const m=r.get(u);r.move(m,d),Pn(m,i)}});for(let i=0,u=r.length;i<u;i++){const m=r.get(i).context;m.index=i,m.count=u,m.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{Pn(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(c.ZZ4))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function Pn(n,e){n.context.$implicit=e.item}let Yr=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new kt,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){ga("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){ga("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b),c.Y36(c.Rgc))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class kt{constructor(){this.$implicit=null,this.ngIf=null}}function ga(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,c.AaK)(e)}'.`)}function Qr(n,e){return new c.vHH(2100,!1)}class ma{createSubscription(e,t){return e.subscribe({next:t,error:r=>{throw r}})}dispose(e){e.unsubscribe()}}class Rc{createSubscription(e,t){return e.then(t,r=>{throw r})}dispose(e){}}const Po=new Rc,Es=new ma;let Is=(()=>{class n{constructor(t){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if((0,c.QGY)(t))return Po;if((0,c.F4k)(t))return Es;throw Qr()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.sBO,16))},n.\u0275pipe=c.Yjl({name:"async",type:n,pure:!1,standalone:!0}),n})(),Kh=(()=>{class n{constructor(t,r="USD"){this._locale=t,this._defaultCurrencyCode=r}transform(t,r=this._defaultCurrencyCode,i="symbol",u,d){if(!function pu(n){return!(null==n||""===n||n!=n)}(t))return null;d=d||this._locale,"boolean"==typeof i&&(i=i?"symbol":"code");let m=r||this._defaultCurrencyCode;"code"!==i&&(m="symbol"===i||"symbol-narrow"===i?function Zr(n,e,t="en"){const r=function kr(n){return(0,c.cg1)(n)[c.wAp.Currencies]}(t)[n]||Re[n]||[],i=r[1];return"narrow"===e&&"string"==typeof i?i:r[0]||n}(m,"symbol"===i?"wide":"narrow",d):i);try{return X(function ed(n){if("string"==typeof n&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if("number"!=typeof n)throw new Error(`${n} is not a number`);return n}(t),d,m,r,u)}catch(w){throw Qr()}}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.soG,16),c.Y36(c.EJc,16))},n.\u0275pipe=c.Yjl({name:"currency",type:n,pure:!0,standalone:!0}),n})();let gi=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const td="server";function ss(n){return n===td}let _a=(()=>{class n{}return n.\u0275prov=(0,c.Yz7)({token:n,providedIn:"root",factory:()=>new nd((0,c.LFG)(re),window)}),n})();class nd{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function bs(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const u=i.shadowRoot;if(u){const d=u.getElementById(e)||u.querySelector(`[name="${e}"]`);if(d)return d}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,u=this.offset();this.window.scrollTo(r-u[0],i-u[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Lc(this.window.history)||Lc(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Lc(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class va{}class pd extends ie{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Hc extends pd{static makeCurrent(){!function se(n){Q||(Q=n)}(new Hc)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Vo(){return Lo=Lo||document.querySelector("base"),Lo?Lo.getAttribute("href"):null}();return null==t?null:function vg(n){ls=ls||document.createElement("a"),ls.setAttribute("href",n);const e=ls.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Lo=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Ws(document.cookie,e)}}let ls,Lo=null;const nf=new c.OlP("TRANSITION_ID"),t_=[{provide:c.ip1,useFactory:function xu(n,e,t){return()=>{t.get(c.CZH).donePromise.then(()=>{const r=N(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let u=0;u<i.length;u++)r.remove(i[u])})}},deps:[nf,re,c.zs3],multi:!0}];let to=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const no=new c.OlP("EventManagerPlugins");let Pu=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let u=0;u<i.length;u++){const d=i[u];if(d.supports(t))return this._eventNameToPlugin.set(t,d),d}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(no),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class Uo{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=N().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let Gc=(()=>{class n{constructor(){this.usageCount=new Map}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)0===this.changeUsageCount(r,-1)&&this.onStyleRemoved(r)}onStyleRemoved(t){}onStyleAdded(t){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(t,r){const i=this.usageCount;let u=i.get(t)??0;return u+=r,u>0?i.set(t,u):i.delete(t),u}ngOnDestroy(){for(const t of this.getAllStyles())this.onStyleRemoved(t);this.usageCount.clear()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),ro=(()=>{class n extends Gc{constructor(t){super(),this.doc=t,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef;r.get(t)?.forEach(u=>u.remove()),r.delete(t)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}addStyleToHost(t,r){const i=this.doc.createElement("style");i.textContent=r,t.appendChild(i);const u=this.styleRef.get(r);u?u.push(i):this.styleRef.set(r,[i])}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(re))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const io={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Ou=/%COMP%/g,xa=new c.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function md(n,e){return e.flat(100).map(t=>t.replace(Ou,n))}function ao(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Oi=(()=>{class n{constructor(t,r,i,u){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestory=u,this.rendererByCompId=new Map,this.defaultRenderer=new ds(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;const i=this.getOrCreateRenderer(t,r);return i instanceof _d?i.applyToHost(t):i instanceof pn&&i.applyStyles(),i}getOrCreateRenderer(t,r){const i=this.rendererByCompId;let u=i.get(r.id);if(!u){const d=this.eventManager,m=this.sharedStylesHost,w=this.removeStylesOnCompDestory;switch(r.encapsulation){case c.ifc.Emulated:u=new _d(d,m,r,this.appId,w);break;case c.ifc.ShadowDom:return new yd(d,m,t,r);default:u=new pn(d,m,r,w)}u.onDestroy=()=>i.delete(r.id),i.set(r.id,u)}return u}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Pu),c.LFG(ro),c.LFG(c.AFp),c.LFG(xa))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class ds{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(io[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(jo(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(jo(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const u=io[i];u?e.setAttributeNS(u,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=io[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(c.JOm.DashCase|c.JOm.Important)?e.style.setProperty(t,r,i&c.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&c.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,ao(r)):this.eventManager.addEventListener(e,t,ao(r))}}function jo(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class yd extends ds{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const u=md(i.id,i.styles);for(const d of u){const m=document.createElement("style");m.textContent=d,this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class pn extends ds{constructor(e,t,r,i,u=r.id){super(e),this.sharedStylesHost=t,this.removeStylesOnCompDestory=i,this.rendererUsageCount=0,this.styles=md(u,r.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class _d extends pn{constructor(e,t,r,i,u){const d=i+"-"+r.id;super(e,t,r,u,d),this.contentAttr=function rf(n){return"_ngcontent-%COMP%".replace(Ou,n)}(d),this.hostAttr=function Nu(n){return"_nghost-%COMP%".replace(Ou,n)}(d)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}let ku=(()=>{class n extends Uo{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(re))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const qc=["alt","control","meta","shift"],Fu={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Lu={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Jn=(()=>{class n extends Uo{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const u=n.parseEventName(r),d=n.eventCallback(u.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>N().onAndCancel(t,u.domEventName,d))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const u=n._normalizeKey(r.pop());let d="",m=r.indexOf("code");if(m>-1&&(r.splice(m,1),d="code."),qc.forEach(D=>{const S=r.indexOf(D);S>-1&&(r.splice(S,1),d+=D+".")}),d+=u,0!=r.length||0===u.length)return null;const w={};return w.domEventName=i,w.fullKey=d,w}static matchEventFullKeyCode(t,r){let i=Fu[t.key]||t.key,u="";return r.indexOf("code.")>-1&&(i=t.code,u="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),qc.forEach(d=>{d!==i&&(0,Lu[d])(t)&&(u+=d+".")}),u+=i,u===r)}static eventCallback(t,r,i){return u=>{n.matchEventFullKeyCode(u,t)&&i.runGuarded(()=>r(u))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(re))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const Wc=(0,c.eFA)(c._c5,"browser",[{provide:c.Lbi,useValue:"browser"},{provide:c.g9A,useValue:function hs(){Hc.makeCurrent()},multi:!0},{provide:re,useFactory:function Vu(){return(0,c.RDi)(document),document},deps:[]}]),Ra=new c.OlP(""),$o=[{provide:c.rWj,useClass:class Ma{addToWindow(e){c.dqk.getAngularTestability=(r,i=!0)=>{const u=e.findTestabilityInTree(r,i);if(null==u)throw new Error("Could not find testability for element.");return u},c.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),c.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),c.dqk.frameworkStabilizers||(c.dqk.frameworkStabilizers=[]),c.dqk.frameworkStabilizers.push(r=>{const i=c.dqk.getAllAngularTestabilities();let u=i.length,d=!1;const m=function(w){d=d||w,u--,0==u&&r(d)};i.forEach(function(w){w.whenStable(m)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?N().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:c.lri,useClass:c.dDg,deps:[c.R0b,c.eoX,c.rWj]},{provide:c.dDg,useClass:c.dDg,deps:[c.R0b,c.eoX,c.rWj]}],As=[{provide:c.zSh,useValue:"root"},{provide:c.qLn,useFactory:function sf(){return new c.qLn},deps:[]},{provide:no,useClass:ku,multi:!0,deps:[re,c.R0b,c.Lbi]},{provide:no,useClass:Jn,multi:!0,deps:[re]},{provide:Oi,useClass:Oi,deps:[Pu,ro,c.AFp,xa]},{provide:c.FYo,useExisting:Oi},{provide:Gc,useExisting:ro},{provide:ro,useClass:ro,deps:[re]},{provide:Pu,useClass:Pu,deps:[no,c.R0b]},{provide:va,useClass:to,deps:[]},[]];let Ho=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:c.AFp,useValue:t.appId},{provide:nf,useExisting:c.AFp},t_]}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Ra,12))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[...As,...$o],imports:[gi,c.hGG]}),n})(),uf=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(re))},n.\u0275prov=c.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function ho(){return new uf((0,c.LFG)(re))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;var un=k(8996),lr=k(9751);const{isArray:Go}=Array,{getPrototypeOf:Ms,prototype:_i,keys:wd}=Object;function Xc(n){if(1===n.length){const e=n[0];if(Go(e))return{args:e,keys:null};if(function Hu(n){return n&&"object"==typeof n&&Ms(n)===_i}(e)){const t=wd(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var go=k(8421),xs=k(7669),gn=k(5403),gt=k(4004);const{isArray:Gu}=Array;function Va(n){return(0,gt.U)(e=>function La(n,e){return Gu(e)?n(...e):n(e)}(n,e))}function Ua(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}let Ba=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Qsj),c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n}),n})(),ei=(()=>{class n extends Ba{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(n)))(r||n)}}(),n.\u0275dir=c.lG2({type:n,features:[c.qOj]}),n})();const gr=new c.OlP("NgValueAccessor"),Cd={provide:gr,useExisting:(0,c.Gpc)(()=>qo),multi:!0},zo=new c.OlP("CompositionEventMode");let qo=(()=>{class n extends Ba{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function mo(){const n=N()?N().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Qsj),c.Y36(c.SBq),c.Y36(zo,8))},n.\u0275dir=c.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&c.NdJ("input",function(u){return r._handleInput(u.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(u){return r._compositionEnd(u.target.value)})},features:[c._Bn([Cd]),c.qOj]}),n})();const Ed=!1;function fs(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}const mr=new c.OlP("NgValidators"),Ps=new c.OlP("NgAsyncValidators"),tl=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;function Id(n){return fs(n.value)?{required:!0}:null}function nl(n){return fs(n.value)||tl.test(n.value)?null:{email:!0}}function Zo(n){return null}function yo(n){return null!=n}function Ga(n){const e=(0,c.QGY)(n)?(0,un.D)(n):n;if(Ed&&!(0,c.CqO)(e)){let t="Expected async validator to return Promise or Observable.";throw"object"==typeof n&&(t+=" Are you using a synchronous validator where an async validator is expected?"),new c.vHH(-1101,t)}return e}function sl(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function _o(n,e){return e.map(t=>t(n))}function Zu(n){return n.map(e=>function ol(n){return!n.validate}(e)?e:t=>e.validate(t))}function Dd(n){return null!=n?function al(n){if(!n)return null;const e=n.filter(yo);return 0==e.length?null:function(t){return sl(_o(t,e))}}(Zu(n)):null}function Sd(n){return null!=n?function Td(n){if(!n)return null;const e=n.filter(yo);return 0==e.length?null:function(t){return function el(...n){const e=(0,xs.jO)(n),{args:t,keys:r}=Xc(n),i=new lr.y(u=>{const{length:d}=t;if(!d)return void u.complete();const m=new Array(d);let w=d,D=d;for(let S=0;S<d;S++){let O=!1;(0,go.Xf)(t[S]).subscribe((0,gn.x)(u,U=>{O||(O=!0,D--),m[S]=U},()=>w--,void 0,()=>{(!w||!O)&&(D||u.next(r?Ua(r,m):m),u.complete())}))}});return e?i.pipe(Va(e)):i}(_o(t,e).map(Ga)).pipe((0,gt.U)(sl))}}(Zu(n)):null}function ul(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function za(n){return n?Array.isArray(n)?n:[n]:[]}function qa(n,e){return Array.isArray(n)?n.includes(e):n===e}function vi(n,e){const t=za(e);return za(n).forEach(i=>{qa(t,i)||t.push(i)}),t}function Os(n,e){return za(e).filter(t=>!qa(n,t))}class Za{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Dd(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Sd(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class On extends Za{get formDirective(){return null}get path(){return null}}class Rs extends Za{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class cl{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Wa=(()=>{class n extends cl{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Rs,2))},n.\u0275dir=c.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&c.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[c.qOj]}),n})(),Ku=(()=>{class n extends cl{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(On,10))},n.\u0275dir=c.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&c.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[c.qOj]}),n})();function Rn(n,e){return n?`with name: '${e}'`:`at index: ${e}`}const ti=!1,Ar="VALID",wo="INVALID",Ko="PENDING",Co="DISABLED";function Ig(n){return(Xu(n)?n.validators:n)||null}function Qu(n,e){return(Xu(e)?e.asyncValidators:n)||null}function Xu(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class mf{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Ar}get invalid(){return this.status===wo}get pending(){return this.status==Ko}get disabled(){return this.status===Co}get enabled(){return this.status!==Co}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(vi(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(vi(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Os(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Os(e,this._rawAsyncValidators))}hasValidator(e){return qa(this._rawValidators,e)}hasAsyncValidator(e){return qa(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Ko,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Co,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Ar,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ar||this.status===Ko)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Co:Ar}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Ko,this._hasOwnPendingAsyncValidator=!0;const t=Ga(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new c.vpe,this.statusChanges=new c.vpe}_calculateStatus(){return this._allControlsDisabled()?Co:this.errors?wo:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ko)?Ko:this._anyControlsHaveStatus(wo)?wo:Ar}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Xu(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function gf(n){return Array.isArray(n)?Dd(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function Ju(n){return Array.isArray(n)?Sd(n):n||null}(this._rawAsyncValidators)}}class yf extends mf{constructor(e,t,r){super(Ig(t),Qu(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function Ad(n,e,t){n._forEachChild((r,i)=>{if(void 0===t[i])throw new c.vHH(1002,ti?function vo(n,e){return`Must supply a value for form control ${Rn(n,e)}`}(e,i):"")})})(this,!0,e),Object.keys(e).forEach(r=>{(function Yo(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new c.vHH(1e3,ti?function Wo(n){return`\n    There are no form controls registered with this ${n?"group":"array"} yet. If you're using ngModel,\n    you may want to check next tick (e.g. use setTimeout).\n  `}(e):"");if(!r[t])throw new c.vHH(1001,ti?function Yu(n,e){return`Cannot find form control ${Rn(n,e)}`}(e,t):"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,u)=>{r=t(r,i,u)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const ll=new c.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>Ns}),Ns="always";function ec(n,e,t=Ns){_f(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function Pd(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&Jo(n,e)})}(n,e),function Od(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function Tg(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&Jo(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function hl(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function dl(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function _f(n,e){const t=function Wu(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(ul(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=function Ki(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(ul(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();dl(e._rawValidators,i),dl(e._rawAsyncValidators,i)}function Jo(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}const tc={provide:On,useExisting:(0,c.Gpc)(()=>ea)},Ka=(()=>Promise.resolve())();let ea=(()=>{class n extends On{constructor(t,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._directives=new Set,this.ngSubmit=new c.vpe,this.form=new yf({},Dd(t),Sd(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Ka.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),ec(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Ka.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Ka.then(()=>{const r=this._findContainer(t.path),i=new yf({});(function vf(n,e){_f(n,e)})(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Ka.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){Ka.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,function fl(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(mr,10),c.Y36(Ps,10),c.Y36(ll,8))},n.\u0275dir=c.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,r){1&t&&c.NdJ("submit",function(u){return r.onSubmit(u)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c._Bn([tc]),c.qOj]}),n})();function nc(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function If(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const bf=class extends mf{constructor(e=null,t,r){super(Ig(t),Qu(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Xu(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=If(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){nc(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){nc(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){If(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},c_={provide:Rs,useExisting:(0,c.Gpc)(()=>ta)},Pg=(()=>Promise.resolve())();let ta=(()=>{class n extends Rs{constructor(t,r,i,u,d,m){super(),this._changeDetectorRef=d,this.callSetDisabledState=m,this.control=new bf,this._registered=!1,this.update=new c.vpe,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function Xo(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(u=>{u.constructor===qo?t=u:function Ef(n){return Object.getPrototypeOf(n.constructor)===ei}(u)?r=u:i=u}),i||r||t||null}(0,u)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function Nd(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){ec(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){Pg.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=0!==r&&(0,c.D6c)(r);Pg.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function Md(n,e){return[...e.path,n]}(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(On,9),c.Y36(mr,10),c.Y36(Ps,10),c.Y36(gr,10),c.Y36(c.sBO,8),c.Y36(ll,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[c._Bn([c_]),c.qOj,c.TTD]}),n})(),na=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),ni=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const Bd={provide:gr,useExisting:(0,c.Gpc)(()=>Ya),multi:!0};function Lg(n,e){return null==n?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let Ya=(()=>{class n extends ei{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const i=Lg(this._getOptionId(t),t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){const r=function Eo(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r):t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(n)))(r||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,r){1&t&&c.NdJ("change",function(u){return r.onChange(u.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[c._Bn([Bd]),c.qOj]}),n})(),Mf=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(Lg(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.Qsj),c.Y36(Ya,9))},n.\u0275dir=c.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const jd={provide:gr,useExisting:(0,c.Gpc)(()=>$d),multi:!0};function ks(n,e){return null==n?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let $d=(()=>{class n extends ei{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let r;if(this.value=t,Array.isArray(t)){const i=t.map(u=>this._getOptionId(u));r=(u,d)=>{u._setSelected(i.indexOf(d.toString())>-1)}}else r=(i,u)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{const i=[],u=r.selectedOptions;if(void 0!==u){const d=u;for(let m=0;m<d.length;m++){const D=this._getOptionValue(d[m].value);i.push(D)}}else{const d=r.options;for(let m=0;m<d.length;m++){const w=d[m];if(w.selected){const D=this._getOptionValue(w.value);i.push(D)}}}this.value=i,t(i)}}_registerOption(t){const r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){const r=function Qa(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(n)))(r||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,r){1&t&&c.NdJ("change",function(u){return r.onChange(u.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[c._Bn([jd]),c.qOj]}),n})(),xf=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(ks(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(ks(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.Qsj),c.Y36($d,9))},n.\u0275dir=c.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();let f=(()=>{class n{constructor(){this._validator=Zo}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Zo,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,features:[c.TTD]}),n})();const B={provide:mr,useExisting:(0,c.Gpc)(()=>be),multi:!0};let be=(()=>{class n extends f{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=c.D6c,this.createValidator=t=>Id}enabled(t){return t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(n)))(r||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,r){2&t&&c.uIk("required",r._enabled?"":null)},inputs:{required:"required"},features:[c._Bn([B]),c.qOj]}),n})();const nt={provide:mr,useExisting:(0,c.Gpc)(()=>Xe),multi:!0};let Xe=(()=>{class n extends f{constructor(){super(...arguments),this.inputName="email",this.normalizeInput=c.D6c,this.createValidator=t=>nl}enabled(t){return t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(n)))(r||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["","email","","formControlName",""],["","email","","formControl",""],["","email","","ngModel",""]],inputs:{email:"email"},features:[c._Bn([nt]),c.qOj]}),n})();const In={provide:mr,useExisting:(0,c.Gpc)(()=>Ci),multi:!0};let Ci=(()=>{class n extends f{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=t=>function f_(n){return"number"==typeof n?n:parseInt(n,10)}(t),this.createValidator=t=>function rl(n){return e=>fs(e.value)||!function qu(n){return null!=n&&"number"==typeof n.length}(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(t)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(n)))(r||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(t,r){2&t&&c.uIk("minlength",r._enabled?r.minlength:null)},inputs:{minlength:"minlength"},features:[c._Bn([In]),c.qOj]}),n})(),Ug=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[ni]}),n})(),Aw=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:ll,useValue:t.callSetDisabledState??Ns}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Ug]}),n})();function yt(...n){const e=(0,xs.yG)(n);return(0,un.D)(n,e)}var uc=k(7579);class Fs extends uc.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const kf=(0,k(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var gl=k(4671),qM=k(9672);function jg(...n){const e=(0,xs.yG)(n),t=(0,xs.jO)(n),{args:r,keys:i}=Xc(n);if(0===r.length)return(0,un.D)([],e);const u=new lr.y(function Zb(n,e,t=gl.y){return r=>{$g(e,()=>{const{length:i}=n,u=new Array(i);let d=i,m=i;for(let w=0;w<i;w++)$g(e,()=>{const D=(0,un.D)(n[w],e);let S=!1;D.subscribe((0,gn.x)(r,O=>{u[w]=O,S||(S=!0,m--),m||r.next(t(u.slice()))},()=>{--d||r.complete()}))},r)},r)}}(r,e,i?d=>Ua(i,d):gl.y));return t?u.pipe(Va(t)):u}function $g(n,e,t){n?(0,qM.f)(t,n,e):e()}var Gd=k(8189);function Ja(...n){return function xw(){return(0,Gd.J)(1)}()((0,un.D)(n,(0,xs.yG)(n)))}function Pw(n){return new lr.y(e=>{(0,go.Xf)(n()).subscribe(e)})}var m_=k(9635),zd=k(576);function Ff(n,e){const t=(0,zd.m)(n)?n:()=>n,r=i=>i.error(t());return new lr.y(e?i=>e.schedule(r,0,i):r)}var ra=k(515),Lf=k(727),dr=k(4482);function Hg(){return(0,dr.e)((n,e)=>{let t=null;n._refCount++;const r=(0,gn.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,u=t;t=null,i&&(!u||i===u)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class Gg extends lr.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,dr.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Lf.w0;const t=this.getSubject();e.add(this.source.subscribe((0,gn.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Lf.w0.EMPTY)}return e}refCount(){return Hg()(this)}}function $r(n,e){return(0,dr.e)((t,r)=>{let i=null,u=0,d=!1;const m=()=>d&&!i&&r.complete();t.subscribe((0,gn.x)(r,w=>{i?.unsubscribe();let D=0;const S=u++;(0,go.Xf)(n(w,S)).subscribe(i=(0,gn.x)(r,O=>r.next(e?e(w,O,S,D++):O),()=>{i=null,m()}))},()=>{d=!0,m()}))})}function qd(n){return n<=0?()=>ra.E:(0,dr.e)((e,t)=>{let r=0;e.subscribe((0,gn.x)(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Vf(...n){const e=(0,xs.yG)(n);return(0,dr.e)((t,r)=>{(e?Ja(n,t,e):Ja(n,t)).subscribe(r)})}function ri(n,e){return(0,dr.e)((t,r)=>{let i=0;t.subscribe((0,gn.x)(r,u=>n.call(e,u,i++)&&r.next(u)))})}var ki=k(5577);function zg(n){return(0,dr.e)((e,t)=>{let r=!1;e.subscribe((0,gn.x)(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function Ow(n=y_){return(0,dr.e)((e,t)=>{let r=!1;e.subscribe((0,gn.x)(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function y_(){return new kf}function Xa(n,e){const t=arguments.length>=2;return r=>r.pipe(n?ri((i,u)=>n(i,u,r)):gl.y,qd(1),t?zg(e):Ow(()=>new kf))}function eu(n,e){return(0,zd.m)(e)?(0,ki.z)(n,e,1):(0,ki.z)(n,1)}var Ei=k(8505);function tu(n){return(0,dr.e)((e,t)=>{let u,r=null,i=!1;r=e.subscribe((0,gn.x)(t,void 0,void 0,d=>{u=(0,go.Xf)(n(d,tu(n)(e))),r?(r.unsubscribe(),r=null,u.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,u.subscribe(t))})}function Uf(n,e){return(0,dr.e)(function ZM(n,e,t,r,i){return(u,d)=>{let m=t,w=e,D=0;u.subscribe((0,gn.x)(d,S=>{const O=D++;w=m?n(w,S,O):(m=!0,S),r&&d.next(w)},i&&(()=>{m&&d.next(w),d.complete()})))}}(n,e,arguments.length>=2,!0))}function ml(n){return n<=0?()=>ra.E:(0,dr.e)((e,t)=>{let r=[];e.subscribe((0,gn.x)(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Rw(n,e){const t=arguments.length>=2;return r=>r.pipe(n?ri((i,u)=>n(i,u,r)):gl.y,ml(1),t?zg(e):Ow(()=>new kf))}function __(n){return(0,dr.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const Ut="primary",jf=Symbol("RouteTitle");class Wb{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Wd(n){return new Wb(n)}function Nw(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let u=0;u<r.length;u++){const d=r[u],m=n[u];if(d.startsWith(":"))i[d.substring(1)]=m;else if(d!==m.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Ls(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let u=0;u<t.length;u++)if(i=t[u],!qg(n[i],e[i]))return!1;return!0}function qg(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,u)=>r[u]===i)}return n===e}function Fw(n){return Array.prototype.concat.apply([],n)}function Zg(n){return n.length>0?n[n.length-1]:null}function ii(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function cc(n){return(0,c.CqO)(n)?n:(0,c.QGY)(n)?(0,un.D)(Promise.resolve(n)):yt(n)}const Kg=!1,Kb={exact:function yl(n,e,t){if(!lc(n.segments,e.segments)||!v_(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!yl(n.children[r],e.children[r],t))return!1;return!0},subset:Uw},Lw={exact:function Yb(n,e){return Ls(n,e)},subset:function nu(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>qg(n[t],e[t]))},ignored:()=>!0};function Vw(n,e,t){return Kb[t.paths](n.root,e.root,t.matrixParams)&&Lw[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function Uw(n,e,t){return Bw(n,e,e.segments,t)}function Bw(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!lc(i,t)||e.hasChildren()||!v_(i,t,r))}if(n.segments.length===t.length){if(!lc(n.segments,t)||!v_(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!Uw(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),u=t.slice(n.segments.length);return!!(lc(n.segments,i)&&v_(n.segments,i,r)&&n.children[Ut])&&Bw(n.children[Ut],e,u,r)}}function v_(n,e,t){return e.every((r,i)=>Lw[t](n[i].parameters,r.parameters))}class _l{constructor(e=new qt([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Wd(this.queryParams)),this._queryParamMap}toString(){return Jb.serialize(this)}}class qt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,ii(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Yi(this)}}class Yg{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Wd(this.parameters)),this._parameterMap}toString(){return $w(this)}}function lc(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let Kd=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return new w_},providedIn:"root"}),n})();class w_{parse(e){const t=new zw(e);return new _l(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${$f(e.root,!0)}`,r=function tD(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${Qg(t)}=${Qg(i)}`).join("&"):`${Qg(t)}=${Qg(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function Xb(n){return encodeURI(n)}(e.fragment)}`:""}`}}const Jb=new w_;function Yi(n){return n.segments.map(e=>$w(e)).join("/")}function $f(n,e){if(!n.hasChildren())return Yi(n);if(e){const t=n.children[Ut]?$f(n.children[Ut],!1):"",r=[];return ii(n.children,(i,u)=>{u!==Ut&&r.push(`${u}:${$f(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function Qb(n,e){let t=[];return ii(n.children,(r,i)=>{i===Ut&&(t=t.concat(e(r,i)))}),ii(n.children,(r,i)=>{i!==Ut&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===Ut?[$f(n.children[Ut],!1)]:[`${i}:${$f(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Ut]?`${Yi(n)}/${t[0]}`:`${Yi(n)}/(${t.join("//")})`}}function C_(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Qg(n){return C_(n).replace(/%3B/gi,";")}function E_(n){return C_(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Jg(n){return decodeURIComponent(n)}function I_(n){return Jg(n.replace(/\+/g,"%20"))}function $w(n){return`${E_(n.path)}${function eD(n){return Object.keys(n).map(e=>`;${E_(e)}=${E_(n[e])}`).join("")}(n.parameters)}`}const Bt=/^[^\/()?;=#]+/;function Hf(n){const e=n.match(Bt);return e?e[0]:""}const Hw=/^[^=?&#]+/,nD=/^[^&#]+/;class zw{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new qt([],{}):new qt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Ut]=new qt(e,t)),r}parseSegment(){const e=Hf(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new c.vHH(4009,Kg);return this.capture(e),new Yg(Jg(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Hf(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=Hf(this.remaining);i&&(r=i,this.capture(r))}e[Jg(t)]=Jg(r)}parseQueryParam(e){const t=function Gw(n){const e=n.match(Hw);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const d=function rD(n){const e=n.match(nD);return e?e[0]:""}(this.remaining);d&&(r=d,this.capture(r))}const i=I_(t),u=I_(r);if(e.hasOwnProperty(i)){let d=e[i];Array.isArray(d)||(d=[d],e[i]=d),d.push(u)}else e[i]=u}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Hf(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new c.vHH(4010,Kg);let u;r.indexOf(":")>-1?(u=r.slice(0,r.indexOf(":")),this.capture(u),this.capture(":")):e&&(u=Ut);const d=this.parseChildren();t[u]=1===Object.keys(d).length?d[Ut]:new qt([],d),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new c.vHH(4011,Kg)}}function b_(n){return n.segments.length>0?new qt([],{[Ut]:n}):n}function Gf(n){const e={};for(const r of Object.keys(n.children)){const u=Gf(n.children[r]);(u.segments.length>0||u.hasChildren())&&(e[r]=u)}return function iD(n){if(1===n.numberOfChildren&&n.children[Ut]){const e=n.children[Ut];return new qt(n.segments.concat(e.segments),e.children)}return n}(new qt(n.segments,e))}function vl(n){return n instanceof _l}const qw=!1;function oD(n,e,t,r,i){if(0===t.length)return Yd(e.root,e.root,e.root,r,i);const u=function cD(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new uD(!0,0,n);let e=0,t=!1;const r=n.reduce((i,u,d)=>{if("object"==typeof u&&null!=u){if(u.outlets){const m={};return ii(u.outlets,(w,D)=>{m[D]="string"==typeof w?w.split("/"):w}),[...i,{outlets:m}]}if(u.segmentPath)return[...i,u.segmentPath]}return"string"!=typeof u?[...i,u]:0===d?(u.split("/").forEach((m,w)=>{0==w&&"."===m||(0==w&&""===m?t=!0:".."===m?e++:""!=m&&i.push(m))}),i):[...i,u]},[]);return new uD(t,e,r)}(t);return u.toRoot()?Yd(e.root,e.root,new qt([],{}),r,i):function d(w){const D=function WM(n,e,t,r){if(n.isAbsolute)return new Qd(e.root,!0,0);if(-1===r)return new Qd(t,t===e.root,0);return function Ww(n,e,t){let r=n,i=e,u=t;for(;u>i;){if(u-=i,r=r.parent,!r)throw new c.vHH(4005,qw&&"Invalid number of '../'");i=r.segments.length}return new Qd(r,!1,i-u)}(t,r+(wl(n.commands[0])?0:1),n.numberOfDoubleDots)}(u,e,n.snapshot?._urlSegment,w),S=D.processChildren?El(D.segmentGroup,D.index,u.commands):T_(D.segmentGroup,D.index,u.commands);return Yd(e.root,D.segmentGroup,S,r,i)}(n.snapshot?._lastPathIndex)}function wl(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Cl(n){return"object"==typeof n&&null!=n&&n.outlets}function Yd(n,e,t,r,i){let d,u={};r&&ii(r,(w,D)=>{u[D]=Array.isArray(w)?w.map(S=>`${S}`):`${w}`}),d=n===e?t:aD(n,e,t);const m=b_(Gf(d));return new _l(m,u,i)}function aD(n,e,t){const r={};return ii(n.children,(i,u)=>{r[u]=i===e?t:aD(i,e,t)}),new qt(n.segments,r)}class uD{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&wl(r[0]))throw new c.vHH(4003,qw&&"Root segment cannot have matrix parameters");const i=r.find(Cl);if(i&&i!==Zg(r))throw new c.vHH(4004,qw&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Qd{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function T_(n,e,t){if(n||(n=new qt([],{})),0===n.segments.length&&n.hasChildren())return El(n,e,t);const r=function Xg(n,e,t){let r=0,i=e;const u={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return u;const d=n.segments[i],m=t[r];if(Cl(m))break;const w=`${m}`,D=r<t.length-1?t[r+1]:null;if(i>0&&void 0===w)break;if(w&&D&&"object"==typeof D&&void 0===D.outlets){if(!Qw(w,D,d))return u;r+=2}else{if(!Qw(w,{},d))return u;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const u=new qt(n.segments.slice(0,r.pathIndex),{});return u.children[Ut]=new qt(n.segments.slice(r.pathIndex),n.children),El(u,0,i)}return r.match&&0===i.length?new qt(n.segments,{}):r.match&&!n.hasChildren()?S_(n,e,t):r.match?El(n,0,i):S_(n,e,t)}function El(n,e,t){if(0===t.length)return new qt(n.segments,{});{const r=function Jd(n){return Cl(n[0])?n[0].outlets:{[Ut]:n}}(t),i={};if(!r[Ut]&&n.children[Ut]&&1===n.numberOfChildren&&0===n.children[Ut].segments.length){const u=El(n.children[Ut],e,t);return new qt(n.segments,u.children)}return ii(r,(u,d)=>{"string"==typeof u&&(u=[u]),null!==u&&(i[d]=T_(n.children[d],e,u))}),ii(n.children,(u,d)=>{void 0===r[d]&&(i[d]=u)}),new qt(n.segments,i)}}function S_(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const u=t[i];if(Cl(u)){const w=Kw(u.outlets);return new qt(r,w)}if(0===i&&wl(t[0])){r.push(new Yg(n.segments[e].path,Yw(t[0]))),i++;continue}const d=Cl(u)?u.outlets[Ut]:`${u}`,m=i<t.length-1?t[i+1]:null;d&&m&&wl(m)?(r.push(new Yg(d,Yw(m))),i+=2):(r.push(new Yg(d,{})),i++)}return new qt(r,{})}function Kw(n){const e={};return ii(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=S_(new qt([],{}),0,t))}),e}function Yw(n){const e={};return ii(n,(t,r)=>e[r]=`${t}`),e}function Qw(n,e,t){return n==t.path&&Ls(e,t.parameters)}const zf="imperative";class ia{constructor(e,t){this.id=e,this.url=t}}class A_ extends ia{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ru extends ia{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class em extends ia{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class qf extends ia{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=16}}class tm extends ia{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class M_ extends ia{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class KM extends ia{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class x_ extends ia{constructor(e,t,r,i,u){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=u,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class lD extends ia{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class YM extends ia{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Xd{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Jw{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class dD{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Xw{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class hD{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class fD{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Zf{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let Wf=(()=>{class n{createUrlTree(t,r,i,u,d,m){return oD(t||r.root,i,u,d,m)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),nm=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(e){return Wf.\u0275fac(e)},providedIn:"root"}),n})();class R_{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Kf(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=Kf(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Yf(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Yf(e,this._root).map(t=>t.value)}}function Kf(n,e){if(n===e.value)return e;for(const t of e.children){const r=Kf(n,t);if(r)return r}return null}function Yf(n,e){if(n===e.value)return[e];for(const t of e.children){const r=Yf(n,t);if(r.length)return r.unshift(e),r}return[]}class Io{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Il(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class rm extends R_{constructor(e,t){super(e),this.snapshot=t,N_(this,e)}toString(){return this.snapshot.toString()}}function eC(n,e){const t=function pD(n,e){const d=new Qf([],{},{},"",{},Ut,e,null,n.root,-1,{});return new rC("",new Io(d,[]))}(n,e),r=new Fs([new Yg("",{})]),i=new Fs({}),u=new Fs({}),d=new Fs({}),m=new Fs(""),w=new hc(r,i,d,m,u,Ut,e,t.root);return w.snapshot=t.root,new rm(new Io(w,[]),t)}class hc{constructor(e,t,r,i,u,d,m,w){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=u,this.outlet=d,this.component=m,this.title=this.data?.pipe((0,gt.U)(D=>D[jf]))??yt(void 0),this._futureSnapshot=w}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,gt.U)(e=>Wd(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,gt.U)(e=>Wd(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function tC(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],u=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(u.component)break;r--}}return function nC(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Qf{get title(){return this.data?.[jf]}constructor(e,t,r,i,u,d,m,w,D,S,O){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=u,this.outlet=d,this.component=m,this.routeConfig=w,this._urlSegment=D,this._lastPathIndex=S,this._resolve=O}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Wd(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Wd(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class rC extends R_{constructor(e,t){super(t),this.url=e,N_(this,t)}toString(){return Qi(this._root)}}function N_(n,e){e.value._routerState=n,e.children.forEach(t=>N_(n,t))}function Qi(n){const e=n.children.length>0?` { ${n.children.map(Qi).join(", ")} } `:"";return`${n.value}${e}`}function k_(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Ls(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Ls(e.params,t.params)||n.params.next(t.params),function kw(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Ls(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Ls(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function F_(n,e){const t=Ls(n.params,e.params)&&function jw(n,e){return lc(n,e)&&n.every((t,r)=>Ls(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||F_(n.parent,e.parent))}function bl(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function iC(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return bl(n,r,i);return bl(n,r)})}(n,e,t);return new Io(r,i)}{if(n.shouldAttach(e.value)){const u=n.retrieve(e.value);if(null!==u){const d=u.route;return d.value._futureSnapshot=e.value,d.children=e.children.map(m=>bl(n,m)),d}}const r=function gD(n){return new hc(new Fs(n.url),new Fs(n.params),new Fs(n.queryParams),new Fs(n.fragment),new Fs(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(u=>bl(n,u));return new Io(r,i)}}const L_="ngNavigationCancelingError";function sC(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=vl(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=V_(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function V_(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[L_]=!0,r.cancellationCode=e,t&&(r.url=t),r}function oC(n){return aC(n)&&vl(n.url)}function aC(n){return n&&n[L_]}class U_{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Jf,this.attachRef=null}}let Jf=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new U_,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const im=!1;let B_=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=Ut,this.activateEvents=new c.vpe,this.deactivateEvents=new c.vpe,this.attachEvents=new c.vpe,this.detachEvents=new c.vpe,this.parentContexts=(0,c.f3M)(Jf),this.location=(0,c.f3M)(c.s_b),this.changeDetector=(0,c.f3M)(c.sBO),this.environmentInjector=(0,c.f3M)(c.lqb)}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new c.vHH(4012,im);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new c.vHH(4012,im);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new c.vHH(4012,im);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new c.vHH(4013,im);this._activatedRoute=t;const i=this.location,d=t.snapshot.component,m=this.parentContexts.getOrCreateContext(this.name).children,w=new mD(t,m,i.injector);if(r&&function yD(n){return!!n.resolveComponentFactory}(r)){const D=r.resolveComponentFactory(d);this.activated=i.createComponent(D,i.length,w)}else this.activated=i.createComponent(d,{index:i.length,injector:w,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[c.TTD]}),n})();class mD{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===hc?this.route:e===Jf?this.childContexts:this.parent.get(e,t)}}let Vs=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[c.jDz],decls:1,vars:0,template:function(t,r){1&t&&c._UZ(0,"router-outlet")},dependencies:[B_],encapsulation:2}),n})();function sm(n,e){return n.providers&&!n._injector&&(n._injector=(0,c.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function H_(n){const e=n.children&&n.children.map(H_),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Ut&&(t.component=Vs),t}function Fi(n){return n.outlet||Ut}function Xf(n,e){const t=n.filter(r=>Fi(r)===e);return t.push(...n.filter(r=>Fi(r)!==e)),t}function fc(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class G_{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),k_(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=Il(t);e.children.forEach(u=>{const d=u.value.outlet;this.deactivateRoutes(u,i[d],r),delete i[d]}),ii(i,(u,d)=>{this.deactivateRouteAndItsChildren(u,r)})}deactivateRoutes(e,t,r){const i=e.value,u=t?t.value:null;if(i===u)if(i.component){const d=r.getContext(i.outlet);d&&this.deactivateChildRoutes(e,t,d.children)}else this.deactivateChildRoutes(e,t,r);else u&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,u=Il(e);for(const d of Object.keys(u))this.deactivateRouteAndItsChildren(u[d],i);if(r&&r.outlet){const d=r.outlet.detach(),m=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:d,route:e,contexts:m})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,u=Il(e);for(const d of Object.keys(u))this.deactivateRouteAndItsChildren(u[d],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=Il(t);e.children.forEach(u=>{this.activateRoutes(u,i[u.value.outlet],r),this.forwardEvent(new fD(u.value.snapshot))}),e.children.length&&this.forwardEvent(new Xw(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,u=t?t.value:null;if(k_(i),i===u)if(i.component){const d=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,d.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const d=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const m=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),d.children.onOutletReAttached(m.contexts),d.attachRef=m.componentRef,d.route=m.route.value,d.outlet&&d.outlet.attach(m.componentRef,m.route.value),k_(m.route.value),this.activateChildRoutes(e,null,d.children)}else{const m=fc(i.snapshot),w=m?.get(c._Vd)??null;d.attachRef=null,d.route=i,d.resolver=w,d.injector=m,d.outlet&&d.outlet.activateWith(i,d.injector),this.activateChildRoutes(e,null,d.children)}}else this.activateChildRoutes(e,null,r)}}class CD{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class ep{constructor(e,t){this.component=e,this.route=t}}function uC(n,e,t){const r=n._root;return Tl(r,e?e._root:null,t,[r.value])}function Dl(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||(0,c.Z0I)(n)?e.get(n):n:r}function Tl(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const u=Il(e);return n.children.forEach(d=>{(function iu(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const u=n.value,d=e?e.value:null,m=t?t.getContext(n.value.outlet):null;if(d&&u.routeConfig===d.routeConfig){const w=function om(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!lc(n.url,e.url);case"pathParamsOrQueryParamsChange":return!lc(n.url,e.url)||!Ls(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!F_(n,e)||!Ls(n.queryParams,e.queryParams);default:return!F_(n,e)}}(d,u,u.routeConfig.runGuardsAndResolvers);w?i.canActivateChecks.push(new CD(r)):(u.data=d.data,u._resolvedData=d._resolvedData),Tl(n,e,u.component?m?m.children:null:t,r,i),w&&m&&m.outlet&&m.outlet.isActivated&&i.canDeactivateChecks.push(new ep(m.outlet.component,d))}else d&&pc(e,m,i),i.canActivateChecks.push(new CD(r)),Tl(n,null,u.component?m?m.children:null:t,r,i)})(d,u[d.value.outlet],t,r.concat([d.value]),i),delete u[d.value.outlet]}),ii(u,(d,m)=>pc(d,t.getContext(m),i)),i}function pc(n,e,t){const r=Il(n),i=n.value;ii(r,(u,d)=>{pc(u,i.component?e?e.children.getContext(d):null:e,t)}),t.canDeactivateChecks.push(new ep(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function su(n){return"function"==typeof n}function z_(n){return n instanceof kf||"EmptyError"===n?.name}const am=Symbol("INITIAL_VALUE");function th(){return $r(n=>jg(n.map(e=>e.pipe(qd(1),Vf(am)))).pipe((0,gt.U)(e=>{for(const t of e)if(!0!==t){if(t===am)return am;if(!1===t||t instanceof _l)return t}return!0}),ri(e=>e!==am),qd(1)))}function fC(n){return(0,m_.z)((0,Ei.b)(e=>{if(vl(e))throw sC(0,e)}),(0,gt.U)(e=>!0===e))}const W_={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function pC(n,e,t,r,i){const u=K_(n,e,t);return u.matched?function PD(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?yt(i.map(d=>{const m=Dl(d,n);return cc(function tp(n){return n&&su(n.canMatch)}(m)?m.canMatch(e,t):n.runInContext(()=>m(e,t)))})).pipe(th(),fC()):yt(!0)}(r=sm(e,r),e,t).pipe((0,gt.U)(d=>!0===d?u:{...W_})):yt(u)}function K_(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...W_}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||Nw)(t,n,e);if(!i)return{...W_};const u={};ii(i.posParams,(m,w)=>{u[w]=m.path});const d=i.consumed.length>0?{...u,...i.consumed[i.consumed.length-1].parameters}:u;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:d,positionalParamSegments:i.posParams??{}}}function um(n,e,t,r){if(t.length>0&&function OD(n,e,t){return t.some(r=>np(n,e,r)&&Fi(r)!==Ut)}(n,t,r)){const u=new qt(e,function mC(n,e,t,r){const i={};i[Ut]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const u of t)if(""===u.path&&Fi(u)!==Ut){const d=new qt([],{});d._sourceSegment=n,d._segmentIndexShift=e.length,i[Fi(u)]=d}return i}(n,e,r,new qt(t,n.children)));return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:[]}}if(0===t.length&&function ix(n,e,t){return t.some(r=>np(n,e,r))}(n,t,r)){const u=new qt(n.segments,function gC(n,e,t,r,i){const u={};for(const d of r)if(np(n,t,d)&&!i[Fi(d)]){const m=new qt([],{});m._sourceSegment=n,m._segmentIndexShift=e.length,u[Fi(d)]=m}return{...i,...u}}(n,e,t,r,n.children));return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:t}}const i=new qt(n.segments,n.children);return i._sourceSegment=n,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:t}}function np(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function RD(n,e,t,r){return!!(Fi(n)===r||r!==Ut&&np(e,t,n))&&("**"===n.path||K_(e,n,t).matched)}function rp(n,e,t){return 0===e.length&&!n.children[t]}const cm=!1;class lm{constructor(e){this.segmentGroup=e||null}}class dm{constructor(e){this.urlTree=e}}function ip(n){return Ff(new lm(n))}function bo(n){return Ff(new dm(n))}class hm{constructor(e,t,r,i,u){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=u,this.allowRedirects=!0}apply(){const e=um(this.urlTree.root,[],[],this.config).segmentGroup,t=new qt(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,Ut).pipe((0,gt.U)(u=>this.createUrlTree(Gf(u),this.urlTree.queryParams,this.urlTree.fragment))).pipe(tu(u=>{if(u instanceof dm)return this.allowRedirects=!1,this.match(u.urlTree);throw u instanceof lm?this.noMatchError(u):u}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,Ut).pipe((0,gt.U)(i=>this.createUrlTree(Gf(i),e.queryParams,e.fragment))).pipe(tu(i=>{throw i instanceof lm?this.noMatchError(i):i}))}noMatchError(e){return new c.vHH(4002,cm)}createUrlTree(e,t,r){const i=b_(e);return new _l(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,gt.U)(u=>new qt([],u))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const u of Object.keys(r.children))"primary"===u?i.unshift(u):i.push(u);return(0,un.D)(i).pipe(eu(u=>{const d=r.children[u],m=Xf(t,u);return this.expandSegmentGroup(e,m,d,u).pipe((0,gt.U)(w=>({segment:w,outlet:u})))}),Uf((u,d)=>(u[d.outlet]=d.segment,u),{}),Rw())}expandSegment(e,t,r,i,u,d){return(0,un.D)(r).pipe(eu(m=>this.expandSegmentAgainstRoute(e,t,r,m,i,u,d).pipe(tu(D=>{if(D instanceof lm)return yt(null);throw D}))),Xa(m=>!!m),tu((m,w)=>{if(z_(m))return rp(t,i,u)?yt(new qt([],{})):ip(t);throw m}))}expandSegmentAgainstRoute(e,t,r,i,u,d,m){return RD(i,t,u,d)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,u,d):m&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,u,d):ip(t):ip(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,u,d){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,d):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,u,d)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const u=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?bo(u):this.lineralizeSegments(r,u).pipe((0,ki.z)(d=>{const m=new qt(d,{});return this.expandSegment(e,m,t,d,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,u,d){const{matched:m,consumedSegments:w,remainingSegments:D,positionalParamSegments:S}=K_(t,i,u);if(!m)return ip(t);const O=this.applyRedirectCommands(w,i.redirectTo,S);return i.redirectTo.startsWith("/")?bo(O):this.lineralizeSegments(i,O).pipe((0,ki.z)(U=>this.expandSegment(e,t,r,U.concat(D),d,!1)))}matchSegmentAgainstRoute(e,t,r,i,u){return"**"===r.path?(e=sm(r,e),r.loadChildren?(r._loadedRoutes?yt({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe((0,gt.U)(m=>(r._loadedRoutes=m.routes,r._loadedInjector=m.injector,new qt(i,{})))):yt(new qt(i,{}))):pC(t,r,i,e).pipe($r(({matched:d,consumedSegments:m,remainingSegments:w})=>d?this.getChildConfig(e=r._injector??e,r,i).pipe((0,ki.z)(S=>{const O=S.injector??e,U=S.routes,{segmentGroup:Z,slicedSegments:oe}=um(t,m,w,U),De=new qt(Z.segments,Z.children);if(0===oe.length&&De.hasChildren())return this.expandChildren(O,U,De).pipe((0,gt.U)(vt=>new qt(m,vt)));if(0===U.length&&0===oe.length)return yt(new qt(m,{}));const Le=Fi(r)===u;return this.expandSegment(O,De,U,oe,Le?Ut:u,!0).pipe((0,gt.U)(St=>new qt(m.concat(St.segments),St.children)))})):ip(t)))}getChildConfig(e,t,r){return t.children?yt({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?yt({routes:t._loadedRoutes,injector:t._loadedInjector}):function xD(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?yt(!0):yt(i.map(d=>{const m=Dl(d,n);return cc(function lC(n){return n&&su(n.canLoad)}(m)?m.canLoad(e,t):n.runInContext(()=>m(e,t)))})).pipe(th(),fC())}(e,t,r).pipe((0,ki.z)(i=>i?this.configLoader.loadChildren(e,t).pipe((0,Ei.b)(u=>{t._loadedRoutes=u.routes,t._loadedInjector=u.injector})):function Ii(n){return Ff(V_(cm,3))}())):yt({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return yt(r);if(i.numberOfChildren>1||!i.children[Ut])return e.redirectTo,Ff(new c.vHH(4e3,cm));i=i.children[Ut]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const u=this.createSegmentGroup(e,t.root,r,i);return new _l(u,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return ii(e,(i,u)=>{if("string"==typeof i&&i.startsWith(":")){const m=i.substring(1);r[u]=t[m]}else r[u]=i}),r}createSegmentGroup(e,t,r,i){const u=this.createSegments(e,t.segments,r,i);let d={};return ii(t.children,(m,w)=>{d[w]=this.createSegmentGroup(e,m,r,i)}),new qt(u,d)}createSegments(e,t,r,i){return t.map(u=>u.path.startsWith(":")?this.findPosParam(e,u,i):this.findOrReturn(u,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new c.vHH(4001,cm);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}class nh{}class sh{constructor(e,t,r,i,u,d,m){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=i,this.url=u,this.paramsInheritanceStrategy=d,this.urlSerializer=m}recognize(){const e=um(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Ut).pipe((0,gt.U)(t=>{if(null===t)return null;const r=new Qf([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Ut,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Io(r,t),u=new rC(this.url,i);return this.inheritParamsAndData(u._root),u}))}inheritParamsAndData(e){const t=e.value,r=tC(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i)}processChildren(e,t,r){return(0,un.D)(Object.keys(r.children)).pipe(eu(i=>{const u=r.children[i],d=Xf(t,i);return this.processSegmentGroup(e,d,u,i)}),Uf((i,u)=>i&&u?(i.push(...u),i):null),function Zd(n,e=!1){return(0,dr.e)((t,r)=>{let i=0;t.subscribe((0,gn.x)(r,u=>{const d=n(u,i++);(d||e)&&r.next(u),!d&&r.complete()}))})}(i=>null!==i),zg(null),Rw(),(0,gt.U)(i=>{if(null===i)return null;const u=Al(i);return function oh(n){n.sort((e,t)=>e.value.outlet===Ut?-1:t.value.outlet===Ut?1:e.value.outlet.localeCompare(t.value.outlet))}(u),u}))}processSegment(e,t,r,i,u){return(0,un.D)(t).pipe(eu(d=>this.processSegmentAgainstRoute(d._injector??e,d,r,i,u)),Xa(d=>!!d),tu(d=>{if(z_(d))return rp(r,i,u)?yt([]):yt(null);throw d}))}processSegmentAgainstRoute(e,t,r,i,u){if(t.redirectTo||!RD(t,r,i,u))return yt(null);let d;if("**"===t.path){const m=i.length>0?Zg(i).parameters:{},w=Q_(r)+i.length;d=yt({snapshot:new Qf(i,m,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,J_(t),Fi(t),t.component??t._loadedComponent??null,t,Y_(r),w,X_(t)),consumedSegments:[],remainingSegments:[]})}else d=pC(r,t,i,e).pipe((0,gt.U)(({matched:m,consumedSegments:w,remainingSegments:D,parameters:S})=>{if(!m)return null;const O=Q_(r)+w.length;return{snapshot:new Qf(w,S,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,J_(t),Fi(t),t.component??t._loadedComponent??null,t,Y_(r),O,X_(t)),consumedSegments:w,remainingSegments:D}}));return d.pipe($r(m=>{if(null===m)return yt(null);const{snapshot:w,consumedSegments:D,remainingSegments:S}=m;e=t._injector??e;const O=t._loadedInjector??e,U=function ah(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:Z,slicedSegments:oe}=um(r,D,S,U.filter(Le=>void 0===Le.redirectTo));if(0===oe.length&&Z.hasChildren())return this.processChildren(O,U,Z).pipe((0,gt.U)(Le=>null===Le?null:[new Io(w,Le)]));if(0===U.length&&0===oe.length)return yt([new Io(w,[])]);const De=Fi(t)===u;return this.processSegment(O,U,Z,oe,De?Ut:u).pipe((0,gt.U)(Le=>null===Le?null:[new Io(w,Le)]))}))}}function uh(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function Al(n){const e=[],t=new Set;for(const r of n){if(!uh(r)){e.push(r);continue}const i=e.find(u=>r.value.routeConfig===u.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=Al(r.children);e.push(new Io(r.value,i))}return e.filter(r=>!t.has(r))}function Y_(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Q_(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function J_(n){return n.data||{}}function X_(n){return n.resolve||{}}function ev(n){return"string"==typeof n.title||null===n.title}function tv(n){return $r(e=>{const t=n(e);return t?(0,un.D)(t).pipe((0,gt.U)(()=>e)):yt(e)})}const gc=new c.OlP("ROUTES");let op=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,c.f3M)(c.Sil)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return yt(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=cc(t.loadComponent()).pipe((0,gt.U)(ap),(0,Ei.b)(u=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=u}),__(()=>{this.componentLoaders.delete(t)})),i=new Gg(r,()=>new uc.x).pipe(Hg());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return yt({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const u=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe((0,gt.U)(m=>{this.onLoadEndListener&&this.onLoadEndListener(r);let w,D,S=!1;Array.isArray(m)?D=m:(w=m.create(t).injector,D=Fw(w.get(gc,[],c.XFs.Self|c.XFs.Optional)));return{routes:D.map(H_),injector:w}}),__(()=>{this.childrenLoaders.delete(r)})),d=new Gg(u,()=>new uc.x).pipe(Hg());return this.childrenLoaders.set(r,d),d}loadModuleFactoryOrRoutes(t){return cc(t()).pipe((0,gt.U)(ap),(0,ki.z)(r=>r instanceof c.YKP||Array.isArray(r)?yt(r):(0,un.D)(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function ap(n){return function LD(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let lh=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new uc.x,this.configLoader=(0,c.f3M)(op),this.environmentInjector=(0,c.f3M)(c.lqb),this.urlSerializer=(0,c.f3M)(Kd),this.rootContexts=(0,c.f3M)(Jf),this.navigationId=0,this.afterPreactivation=()=>yt(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new Jw(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new Xd(i))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t){return this.transitions=new Fs({id:0,targetPageId:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:zf,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(ri(r=>0!==r.id),(0,gt.U)(r=>({...r,extractedUrl:t.urlHandlingStrategy.extract(r.rawUrl)})),$r(r=>{let i=!1,u=!1;return yt(r).pipe((0,Ei.b)(d=>{this.currentNavigation={id:d.id,initialUrl:d.rawUrl,extractedUrl:d.extractedUrl,trigger:d.source,extras:d.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),$r(d=>{const m=t.browserUrlTree.toString(),w=!t.navigated||d.extractedUrl.toString()!==m||m!==t.currentUrlTree.toString();if(!w&&"reload"!==(d.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const S="";return this.events.next(new qf(d.id,t.serializeUrl(r.rawUrl),S,0)),t.rawUrlTree=d.rawUrl,d.resolve(null),ra.E}if(t.urlHandlingStrategy.shouldProcessUrl(d.rawUrl))return CC(d.source)&&(t.browserUrlTree=d.extractedUrl),yt(d).pipe($r(S=>{const O=this.transitions?.getValue();return this.events.next(new A_(S.id,this.urlSerializer.serialize(S.extractedUrl),S.source,S.restoredState)),O!==this.transitions?.getValue()?ra.E:Promise.resolve(S)}),function Us(n,e,t,r){return $r(i=>function Sl(n,e,t,r,i){return new hm(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe((0,gt.U)(u=>({...i,urlAfterRedirects:u}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,t.config),(0,Ei.b)(S=>{this.currentNavigation={...this.currentNavigation,finalUrl:S.urlAfterRedirects},r.urlAfterRedirects=S.urlAfterRedirects}),function yC(n,e,t,r,i){return(0,ki.z)(u=>function ih(n,e,t,r,i,u,d="emptyOnly"){return new sh(n,e,t,r,i,d,u).recognize().pipe($r(m=>null===m?function rh(n){return new lr.y(e=>e.error(n))}(new nh):yt(m)))}(n,e,t,u.urlAfterRedirects,r.serialize(u.urlAfterRedirects),r,i).pipe((0,gt.U)(d=>({...u,targetSnapshot:d}))))}(this.environmentInjector,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),(0,Ei.b)(S=>{if(r.targetSnapshot=S.targetSnapshot,"eager"===t.urlUpdateStrategy){if(!S.extras.skipLocationChange){const U=t.urlHandlingStrategy.merge(S.urlAfterRedirects,S.rawUrl);t.setBrowserUrl(U,S)}t.browserUrlTree=S.urlAfterRedirects}const O=new M_(S.id,this.urlSerializer.serialize(S.extractedUrl),this.urlSerializer.serialize(S.urlAfterRedirects),S.targetSnapshot);this.events.next(O)}));if(w&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:S,extractedUrl:O,source:U,restoredState:Z,extras:oe}=d,De=new A_(S,this.urlSerializer.serialize(O),U,Z);this.events.next(De);const Le=eC(O,this.rootComponentType).snapshot;return yt(r={...d,targetSnapshot:Le,urlAfterRedirects:O,extras:{...oe,skipLocationChange:!1,replaceUrl:!1}})}{const S="";return this.events.next(new qf(d.id,t.serializeUrl(r.extractedUrl),S,1)),t.rawUrlTree=d.rawUrl,d.resolve(null),ra.E}}),(0,Ei.b)(d=>{const m=new KM(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(m)}),(0,gt.U)(d=>r={...d,guards:uC(d.targetSnapshot,d.currentSnapshot,this.rootContexts)}),function DD(n,e){return(0,ki.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:u,canDeactivateChecks:d}}=t;return 0===d.length&&0===u.length?yt({...t,guardsResult:!0}):function TD(n,e,t,r){return(0,un.D)(n).pipe((0,ki.z)(i=>function Z_(n,e,t,r,i){const u=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return u&&0!==u.length?yt(u.map(m=>{const w=fc(e)??i,D=Dl(m,w);return cc(function bD(n){return n&&su(n.canDeactivate)}(D)?D.canDeactivate(n,e,t,r):w.runInContext(()=>D(n,e,t,r))).pipe(Xa())})).pipe(th()):yt(!0)}(i.component,i.route,t,e,r)),Xa(i=>!0!==i,!0))}(d,r,i,n).pipe((0,ki.z)(m=>m&&function ED(n){return"boolean"==typeof n}(m)?function SD(n,e,t,r){return(0,un.D)(e).pipe(eu(i=>Ja(function hC(n,e){return null!==n&&e&&e(new dD(n)),yt(!0)}(i.route.parent,r),function AD(n,e){return null!==n&&e&&e(new hD(n)),yt(!0)}(i.route,r),function MD(n,e,t){const r=e[e.length-1],u=e.slice(0,e.length-1).reverse().map(d=>function cC(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(d)).filter(d=>null!==d).map(d=>Pw(()=>yt(d.guards.map(w=>{const D=fc(d.node)??t,S=Dl(w,D);return cc(function ID(n){return n&&su(n.canActivateChild)}(S)?S.canActivateChild(r,n):D.runInContext(()=>S(r,n))).pipe(Xa())})).pipe(th())));return yt(u).pipe(th())}(n,i.path,t),function q_(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return yt(!0);const i=r.map(u=>Pw(()=>{const d=fc(e)??t,m=Dl(u,d);return cc(function dC(n){return n&&su(n.canActivate)}(m)?m.canActivate(e,n):d.runInContext(()=>m(e,n))).pipe(Xa())}));return yt(i).pipe(th())}(n,i.route,t))),Xa(i=>!0!==i,!0))}(r,u,n,e):yt(m)),(0,gt.U)(m=>({...t,guardsResult:m})))})}(this.environmentInjector,d=>this.events.next(d)),(0,Ei.b)(d=>{if(r.guardsResult=d.guardsResult,vl(d.guardsResult))throw sC(0,d.guardsResult);const m=new x_(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot,!!d.guardsResult);this.events.next(m)}),ri(d=>!!d.guardsResult||(t.restoreHistory(d),this.cancelNavigationTransition(d,"",3),!1)),tv(d=>{if(d.guards.canActivateChecks.length)return yt(d).pipe((0,Ei.b)(m=>{const w=new lD(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(w)}),$r(m=>{let w=!1;return yt(m).pipe(function _C(n,e){return(0,ki.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return yt(t);let u=0;return(0,un.D)(i).pipe(eu(d=>function vC(n,e,t,r){const i=n.routeConfig,u=n._resolve;return void 0!==i?.title&&!ev(i)&&(u[jf]=i.title),function wC(n,e,t,r){const i=function kD(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return yt({});const u={};return(0,un.D)(i).pipe((0,ki.z)(d=>function FD(n,e,t,r){const i=fc(e)??r,u=Dl(n,i);return cc(u.resolve?u.resolve(e,t):i.runInContext(()=>u(e,t)))}(n[d],e,t,r).pipe(Xa(),(0,Ei.b)(m=>{u[d]=m}))),ml(1),function Bf(n){return(0,gt.U)(()=>n)}(u),tu(d=>z_(d)?ra.E:Ff(d)))}(u,n,e,r).pipe((0,gt.U)(d=>(n._resolvedData=d,n.data=tC(n,t).resolve,i&&ev(i)&&(n.data[jf]=i.title),null)))}(d.route,r,n,e)),(0,Ei.b)(()=>u++),ml(1),(0,ki.z)(d=>u===i.length?yt(t):ra.E))})}(t.paramsInheritanceStrategy,this.environmentInjector),(0,Ei.b)({next:()=>w=!0,complete:()=>{w||(t.restoreHistory(m),this.cancelNavigationTransition(m,"",2))}}))}),(0,Ei.b)(m=>{const w=new YM(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(w)}))}),tv(d=>{const m=w=>{const D=[];w.routeConfig?.loadComponent&&!w.routeConfig._loadedComponent&&D.push(this.configLoader.loadComponent(w.routeConfig).pipe((0,Ei.b)(S=>{w.component=S}),(0,gt.U)(()=>{})));for(const S of w.children)D.push(...m(S));return D};return jg(m(d.targetSnapshot.root)).pipe(zg(),qd(1))}),tv(()=>this.afterPreactivation()),(0,gt.U)(d=>{const m=function QM(n,e,t){const r=bl(n,e._root,t?t._root:void 0);return new rm(r,e)}(t.routeReuseStrategy,d.targetSnapshot,d.currentRouterState);return r={...d,targetRouterState:m}}),(0,Ei.b)(d=>{t.currentUrlTree=d.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(d.urlAfterRedirects,d.rawUrl),t.routerState=d.targetRouterState,"deferred"===t.urlUpdateStrategy&&(d.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,d),t.browserUrlTree=d.urlAfterRedirects)}),((n,e,t)=>(0,gt.U)(r=>(new G_(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,t.routeReuseStrategy,d=>this.events.next(d)),qd(1),(0,Ei.b)({next:d=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new ru(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(d.targetRouterState.snapshot),d.resolve(!0)},complete:()=>{i=!0}}),__(()=>{i||u||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),tu(d=>{if(u=!0,aC(d)){oC(d)||(t.navigated=!0,t.restoreHistory(r,!0));const m=new em(r.id,this.urlSerializer.serialize(r.extractedUrl),d.message,d.cancellationCode);if(this.events.next(m),oC(d)){const w=t.urlHandlingStrategy.merge(d.url,t.rawUrlTree),D={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||CC(r.source)};t.scheduleNavigation(w,zf,null,D,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{t.restoreHistory(r,!0);const m=new tm(r.id,this.urlSerializer.serialize(r.extractedUrl),d,r.targetSnapshot??void 0);this.events.next(m);try{r.resolve(t.errorHandler(d))}catch(w){r.reject(w)}}return ra.E}))}))}cancelNavigationTransition(t,r,i){const u=new em(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(u),t.resolve(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function CC(n){return n!==zf}let pm=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(u=>u.outlet===Ut);return r}getResolvedTitleForRoute(t){return t.data[jf]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return(0,c.f3M)(rv)},providedIn:"root"}),n})(),rv=(()=>{class n extends pm{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(uf))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),EC=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return(0,c.f3M)(iv)},providedIn:"root"}),n})();class IC{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let iv=(()=>{class n extends IC{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(n)))(r||n)}}(),n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const up=new c.OlP("",{providedIn:"root",factory:()=>({})});let sv=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return(0,c.f3M)(DC)},providedIn:"root"}),n})(),DC=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function TC(n){throw n}function SC(n,e,t){return e.parse("/")}const AC={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},MC={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Hr=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,c.f3M)(c.c2e),this.isNgZoneEnabled=!1,this.options=(0,c.f3M)(up,{optional:!0})||{},this.errorHandler=this.options.errorHandler||TC,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||SC,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,c.f3M)(sv),this.routeReuseStrategy=(0,c.f3M)(EC),this.urlCreationStrategy=(0,c.f3M)(nm),this.titleStrategy=(0,c.f3M)(pm),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=Fw((0,c.f3M)(gc,{optional:!0})??[]),this.navigationTransitions=(0,c.f3M)(lh),this.urlSerializer=(0,c.f3M)(Kd),this.location=(0,c.f3M)(Ue),this.isNgZoneEnabled=(0,c.f3M)(c.R0b)instanceof c.R0b&&c.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new _l,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=eC(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId??0},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),zf,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,i){const u={replaceUrl:!0},d=i?.navigationId?i:null;if(i){const w={...i};delete w.navigationId,delete w.\u0275routerPageId,0!==Object.keys(w).length&&(u.state=w)}const m=this.parseUrl(t);this.scheduleNavigation(m,r,d,u)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(t){this.config=t.map(H_),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:u,fragment:d,queryParamsHandling:m,preserveFragment:w}=r,D=w?this.currentUrlTree.fragment:d;let S=null;switch(m){case"merge":S={...this.currentUrlTree.queryParams,...u};break;case"preserve":S=this.currentUrlTree.queryParams;break;default:S=u||null}return null!==S&&(S=this.removeEmptyProps(S)),this.urlCreationStrategy.createUrlTree(i,this.routerState,this.currentUrlTree,t,S,D??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=vl(t)?t:this.parseUrl(t),u=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(u,zf,null,r)}navigate(t,r={skipLocationChange:!1}){return function VD(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new c.vHH(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...AC}:!1===r?{...MC}:r,vl(t))return Vw(this.currentUrlTree,t,i);const u=this.parseUrl(t);return Vw(this.currentUrlTree,u,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const u=t[i];return null!=u&&(r[i]=u),r},{})}scheduleNavigation(t,r,i,u,d){if(this.disposed)return Promise.resolve(!1);let m,w,D,S;return d?(m=d.resolve,w=d.reject,D=d.promise):D=new Promise((O,U)=>{m=O,w=U}),S="computed"===this.canceledNavigationResolution?i&&i.\u0275routerPageId?i.\u0275routerPageId:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:S,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:u,resolve:m,reject:w,promise:D,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),D.catch(O=>Promise.reject(O))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const d={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",d)}else{const u={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.go(i,"",u)}}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const u=this.currentPageId-(this.browserPageId??this.currentPageId);0!==u?this.location.historyGo(u):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===u&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),sa=(()=>{class n{constructor(t,r,i,u,d,m){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=u,this.el=d,this.locationStrategy=m,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new uc.x;const w=d.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===w||"area"===w,this.isAnchorElement?this.subscription=t.events.subscribe(D=>{D instanceof ru&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(t){this._preserveFragment=(0,c.D6c)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,c.D6c)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,c.D6c)(t)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,r,i,u,d){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||r||i||u||d||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:(0,c.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,r){const i=this.renderer,u=this.el.nativeElement;null!==r?i.setAttribute(u,t,r):i.removeAttribute(u,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Hr),c.Y36(hc),c.$8M("tabindex"),c.Y36(c.Qsj),c.Y36(c.SBq),c.Y36(lt))},n.\u0275dir=c.lG2({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(t,r){1&t&&c.NdJ("click",function(u){return r.onClick(u.button,u.ctrlKey,u.shiftKey,u.altKey,u.metaKey)}),2&t&&c.uIk("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[c.TTD]}),n})();class uv{}let xC=(()=>{class n{constructor(t,r,i,u,d){this.router=t,this.injector=i,this.preloadingStrategy=u,this.loader=d}setUpPreloading(){this.subscription=this.router.events.pipe(ri(t=>t instanceof ru),eu(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const u of r){u.providers&&!u._injector&&(u._injector=(0,c.MMx)(u.providers,t,`Route: ${u.path}`));const d=u._injector??t,m=u._loadedInjector??d;(u.loadChildren&&!u._loadedRoutes&&void 0===u.canLoad||u.loadComponent&&!u._loadedComponent)&&i.push(this.preloadConfig(d,u)),(u.children||u._loadedRoutes)&&i.push(this.processRoutes(m,u.children??u._loadedRoutes))}return(0,un.D)(i).pipe((0,Gd.J)())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):yt(null);const u=i.pipe((0,ki.z)(d=>null===d?yt(void 0):(r._loadedRoutes=d.routes,r._loadedInjector=d.injector,this.processRoutes(d.injector??t,d.routes))));if(r.loadComponent&&!r._loadedComponent){const d=this.loader.loadComponent(r);return(0,un.D)([u,d]).pipe((0,Gd.J)())}return u})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Hr),c.LFG(c.Sil),c.LFG(c.lqb),c.LFG(uv),c.LFG(op))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const mm=new c.OlP("");let cv=(()=>{class n{constructor(t,r,i,u,d={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=u,this.options=d,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},d.scrollPositionRestoration=d.scrollPositionRestoration||"disabled",d.anchorScrolling=d.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof A_?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof ru&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Zf&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Zf(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(t){c.$Z()},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();var Ji=(()=>((Ji=Ji||{})[Ji.COMPLETE=0]="COMPLETE",Ji[Ji.FAILED=1]="FAILED",Ji[Ji.REDIRECTING=2]="REDIRECTING",Ji))();const ou=!1;function mc(n,e){return{\u0275kind:n,\u0275providers:e}}const cp=new c.OlP("",{providedIn:"root",factory:()=>!1});function ym(){const n=(0,c.f3M)(c.zs3);return e=>{const t=n.get(c.z2F);if(e!==t.components[0])return;const r=n.get(Hr),i=n.get(jD);1===n.get(NC)&&r.initialNavigation(),n.get(FC,null,c.XFs.Optional)?.setUpPreloading(),n.get(mm,null,c.XFs.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const jD=new c.OlP(ou?"bootstrap done indicator":"",{factory:()=>new uc.x}),NC=new c.OlP(ou?"initial navigation":"",{providedIn:"root",factory:()=>1});function kC(){let n=[];return n=ou?[{provide:c.Xts,multi:!0,useFactory:()=>{const e=(0,c.f3M)(Hr);return()=>e.events.subscribe(t=>{console.group?.(`Router Event: ${t.constructor.name}`),console.log(function eh(n){if(!("type"in n))return`Unknown Router Event: ${n.constructor.name}`;switch(n.type){case 14:return`ActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state}, shouldActivate: ${n.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 2:return`NavigationCancel(id: ${n.id}, url: '${n.url}')`;case 16:return`NavigationSkipped(id: ${n.id}, url: '${n.url}')`;case 1:return`NavigationEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${n.id}, url: '${n.url}', error: ${n.error})`;case 0:return`NavigationStart(id: ${n.id}, url: '${n.url}')`;case 6:return`ResolveEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 5:return`ResolveStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 10:return`RouteConfigLoadEnd(path: ${n.route.path})`;case 9:return`RouteConfigLoadStart(path: ${n.route.path})`;case 4:return`RoutesRecognized(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 15:return`Scroll(anchor: '${n.anchor}', position: '${n.position?`${n.position[0]}, ${n.position[1]}`:null}')`}}(t)),console.log(t),console.groupEnd?.()})}}]:[],mc(1,n)}const FC=new c.OlP(ou?"router preloader":"");function xr(n){return mc(0,[{provide:FC,useExisting:xC},{provide:uv,useExisting:n}])}const dh=!1,lv=new c.OlP(dh?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),LC=[Ue,{provide:Kd,useClass:w_},Hr,Jf,{provide:hc,useFactory:function OC(n){return n.routerState.root},deps:[Hr]},op,dh?{provide:cp,useValue:!0}:[]];function hh(){return new c.PXZ("Router",Hr)}let dv=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[LC,dh&&r?.enableTracing?kC().\u0275providers:[],{provide:gc,multi:!0,useValue:t},{provide:lv,useFactory:UC,deps:[[Hr,new c.FiY,new c.tp0]]},{provide:up,useValue:r||{}},r?.useHash?{provide:lt,useClass:xe}:{provide:lt,useClass:Me},{provide:mm,useFactory:()=>{const n=(0,c.f3M)(_a),e=(0,c.f3M)(c.R0b),t=(0,c.f3M)(up),r=(0,c.f3M)(lh),i=(0,c.f3M)(Kd);return t.scrollOffset&&n.setOffset(t.scrollOffset),new cv(i,r,n,e,t)}},r?.preloadingStrategy?xr(r.preloadingStrategy).\u0275providers:[],{provide:c.PXZ,multi:!0,useFactory:hh},r?.initialNavigation?cx(r):[],[{provide:hv,useFactory:ym},{provide:c.tb,multi:!0,useExisting:hv}]]}}static forChild(t){return{ngModule:n,providers:[{provide:gc,multi:!0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(lv,8))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Vs]}),n})();function UC(n){if(dh&&n)throw new c.vHH(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function cx(n){return["disabled"===n.initialNavigation?mc(3,[{provide:c.ip1,multi:!0,useFactory:()=>{const e=(0,c.f3M)(Hr);return()=>{e.setUpLocationChangeListener()}}},{provide:NC,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?mc(2,[{provide:NC,useValue:0},{provide:c.ip1,multi:!0,deps:[c.zs3],useFactory:e=>{const t=e.get(le,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const i=e.get(Hr),u=e.get(jD);(function PC(n,e){n.events.pipe(ri(t=>t instanceof ru||t instanceof em||t instanceof tm||t instanceof qf),(0,gt.U)(t=>t instanceof ru||t instanceof qf?Ji.COMPLETE:t instanceof em&&(0===t.code||1===t.code)?Ji.REDIRECTING:Ji.FAILED),ri(t=>t!==Ji.REDIRECTING),qd(1)).subscribe(()=>{e()})})(i,()=>{r(!0)}),e.get(lh).afterPreactivation=()=>(r(!0),u.closed?yt(void 0):u),i.initialNavigation()}))}}]).\u0275providers:[]]}const hv=new c.OlP(dh?"Router Initializer":""),lp_baseApi="https://fakestoreapi.com/";class _m{}class Bs{}class Pr{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),u=i.toLowerCase(),d=t.slice(r+1).trim();this.maybeSetNormalizedName(i,u),this.headers.has(u)?this.headers.get(u).push(d):this.headers.set(u,[d])}})}:()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{let i;if(i="string"==typeof r?[r]:"number"==typeof r?[r.toString()]:r.map(u=>u.toString()),i.length>0){const u=t.toLowerCase();this.headers.set(u,i),this.maybeSetNormalizedName(t,u)}})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Pr?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Pr;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Pr?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const u=e.value;if(u){let d=this.headers.get(t);if(!d)return;d=d.filter(m=>-1===u.indexOf(m)),0===d.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,d)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class BC{encodeKey(e){return $C(e)}encodeValue(e){return $C(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const ZD=/%(\d[a-f0-9])/gi,WD={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function $C(n){return encodeURIComponent(n).replace(ZD,(e,t)=>WD[t]??e)}function vm(n){return`${n}`}class aa{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new BC,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function jC(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const u=i.indexOf("="),[d,m]=-1==u?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,u)),e.decodeValue(i.slice(u+1))],w=t.get(d)||[];w.push(m),t.set(d,w)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t],i=Array.isArray(r)?r.map(vm):[vm(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(u=>{t.push({param:r,value:u,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new aa({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(vm(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(vm(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class KD{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function GC(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function zC(n){return typeof Blob<"u"&&n instanceof Blob}function pv(n){return typeof FormData<"u"&&n instanceof FormData}class yc{constructor(e,t,r,i){let u;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function HC(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,u=i):u=r,u&&(this.reportProgress=!!u.reportProgress,this.withCredentials=!!u.withCredentials,u.responseType&&(this.responseType=u.responseType),u.headers&&(this.headers=u.headers),u.context&&(this.context=u.context),u.params&&(this.params=u.params)),this.headers||(this.headers=new Pr),this.context||(this.context=new KD),this.params){const d=this.params.toString();if(0===d.length)this.urlWithParams=t;else{const m=t.indexOf("?");this.urlWithParams=t+(-1===m?"?":m<t.length-1?"&":"")+d}}else this.params=new aa,this.urlWithParams=t}serializeBody(){return null===this.body?null:GC(this.body)||zC(this.body)||pv(this.body)||function qC(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof aa?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||pv(this.body)?null:zC(this.body)?this.body.type||null:GC(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof aa?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,u=void 0!==e.body?e.body:this.body,d=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,m=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let w=e.headers||this.headers,D=e.params||this.params;const S=e.context??this.context;return void 0!==e.setHeaders&&(w=Object.keys(e.setHeaders).reduce((O,U)=>O.set(U,e.setHeaders[U]),w)),e.setParams&&(D=Object.keys(e.setParams).reduce((O,U)=>O.set(U,e.setParams[U]),D)),new yc(t,r,u,{params:D,headers:w,context:S,reportProgress:m,responseType:i,withCredentials:d})}}var yr=(()=>((yr=yr||{})[yr.Sent=0]="Sent",yr[yr.UploadProgress=1]="UploadProgress",yr[yr.ResponseHeader=2]="ResponseHeader",yr[yr.DownloadProgress=3]="DownloadProgress",yr[yr.Response=4]="Response",yr[yr.User=5]="User",yr))();class Cm{constructor(e,t=200,r="OK"){this.headers=e.headers||new Pr,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class Em extends Cm{constructor(e={}){super(e),this.type=yr.ResponseHeader}clone(e={}){return new Em({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class fh extends Cm{constructor(e={}){super(e),this.type=yr.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new fh({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class dp extends Cm{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function Im(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let bm=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let u;if(t instanceof yc)u=t;else{let w,D;w=i.headers instanceof Pr?i.headers:new Pr(i.headers),i.params&&(D=i.params instanceof aa?i.params:new aa({fromObject:i.params})),u=new yc(t,r,void 0!==i.body?i.body:null,{headers:w,context:i.context,params:D,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const d=yt(u).pipe(eu(w=>this.handler.handle(w)));if(t instanceof yc||"events"===i.observe)return d;const m=d.pipe(ri(w=>w instanceof fh));switch(i.observe||"body"){case"body":switch(u.responseType){case"arraybuffer":return m.pipe((0,gt.U)(w=>{if(null!==w.body&&!(w.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return w.body}));case"blob":return m.pipe((0,gt.U)(w=>{if(null!==w.body&&!(w.body instanceof Blob))throw new Error("Response is not a Blob.");return w.body}));case"text":return m.pipe((0,gt.U)(w=>{if(null!==w.body&&"string"!=typeof w.body)throw new Error("Response is not a string.");return w.body}));default:return m.pipe((0,gt.U)(w=>w.body))}case"response":return m;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new aa).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,Im(i,r))}post(t,r,i={}){return this.request("POST",t,Im(i,r))}put(t,r,i={}){return this.request("PUT",t,Im(i,r))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(_m))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function gv(n,e){return e(n)}function ZC(n,e){return(t,r)=>e.intercept(t,{handle:i=>n(i,r)})}const KC=new c.OlP("HTTP_INTERCEPTORS"),ph=new c.OlP("HTTP_INTERCEPTOR_FNS");function YC(){let n=null;return(e,t)=>(null===n&&(n=((0,c.f3M)(KC,{optional:!0})??[]).reduceRight(ZC,gv)),n(e,t))}let QC=(()=>{class n extends _m{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null}handle(t){if(null===this.chain){const r=Array.from(new Set(this.injector.get(ph)));this.chain=r.reduceRight((i,u)=>function WC(n,e,t){return(r,i)=>t.runInContext(()=>e(r,u=>n(u,i)))}(i,u,this.injector),gv)}return this.chain(t,r=>this.backend.handle(r))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Bs),c.LFG(c.lqb))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const XD=/^\)\]\}',?\n/;let XC=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new lr.y(r=>{const i=this.xhrFactory.build();if(i.open(t.method,t.urlWithParams),t.withCredentials&&(i.withCredentials=!0),t.headers.forEach((Z,oe)=>i.setRequestHeader(Z,oe.join(","))),t.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const Z=t.detectContentTypeHeader();null!==Z&&i.setRequestHeader("Content-Type",Z)}if(t.responseType){const Z=t.responseType.toLowerCase();i.responseType="json"!==Z?Z:"text"}const u=t.serializeBody();let d=null;const m=()=>{if(null!==d)return d;const Z=i.statusText||"OK",oe=new Pr(i.getAllResponseHeaders()),De=function eT(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(i)||t.url;return d=new Em({headers:oe,status:i.status,statusText:Z,url:De}),d},w=()=>{let{headers:Z,status:oe,statusText:De,url:Le}=m(),rt=null;204!==oe&&(rt=typeof i.response>"u"?i.responseText:i.response),0===oe&&(oe=rt?200:0);let St=oe>=200&&oe<300;if("json"===t.responseType&&"string"==typeof rt){const vt=rt;rt=rt.replace(XD,"");try{rt=""!==rt?JSON.parse(rt):null}catch(zt){rt=vt,St&&(St=!1,rt={error:zt,text:rt})}}St?(r.next(new fh({body:rt,headers:Z,status:oe,statusText:De,url:Le||void 0})),r.complete()):r.error(new dp({error:rt,headers:Z,status:oe,statusText:De,url:Le||void 0}))},D=Z=>{const{url:oe}=m(),De=new dp({error:Z,status:i.status||0,statusText:i.statusText||"Unknown Error",url:oe||void 0});r.error(De)};let S=!1;const O=Z=>{S||(r.next(m()),S=!0);let oe={type:yr.DownloadProgress,loaded:Z.loaded};Z.lengthComputable&&(oe.total=Z.total),"text"===t.responseType&&i.responseText&&(oe.partialText=i.responseText),r.next(oe)},U=Z=>{let oe={type:yr.UploadProgress,loaded:Z.loaded};Z.lengthComputable&&(oe.total=Z.total),r.next(oe)};return i.addEventListener("load",w),i.addEventListener("error",D),i.addEventListener("timeout",D),i.addEventListener("abort",D),t.reportProgress&&(i.addEventListener("progress",O),null!==u&&i.upload&&i.upload.addEventListener("progress",U)),i.send(u),r.next({type:yr.Sent}),()=>{i.removeEventListener("error",D),i.removeEventListener("abort",D),i.removeEventListener("load",w),i.removeEventListener("timeout",D),t.reportProgress&&(i.removeEventListener("progress",O),null!==u&&i.upload&&i.upload.removeEventListener("progress",U)),i.readyState!==i.DONE&&i.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(va))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const mv=new c.OlP("XSRF_ENABLED"),eE=new c.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),yv=new c.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class _v{}let nE=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Ws(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(re),c.LFG(c.Lbi),c.LFG(eE))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function rE(n,e){const t=n.url.toLowerCase();if(!(0,c.f3M)(mv)||"GET"===n.method||"HEAD"===n.method||t.startsWith("http://")||t.startsWith("https://"))return e(n);const r=(0,c.f3M)(_v).getToken(),i=(0,c.f3M)(yv);return null!=r&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}var er=(()=>((er=er||{})[er.Interceptors=0]="Interceptors",er[er.LegacyInterceptors=1]="LegacyInterceptors",er[er.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",er[er.NoXsrfProtection=3]="NoXsrfProtection",er[er.JsonpSupport=4]="JsonpSupport",er[er.RequestsMadeViaParent=5]="RequestsMadeViaParent",er))();function Ol(n,e){return{\u0275kind:n,\u0275providers:e}}function iE(...n){const e=[bm,XC,QC,{provide:_m,useExisting:QC},{provide:Bs,useExisting:XC},{provide:ph,useValue:rE,multi:!0},{provide:mv,useValue:!0},{provide:_v,useClass:nE}];for(const t of n)e.push(...t.\u0275providers);return(0,c.MR2)(e)}const vv=new c.OlP("LEGACY_INTERCEPTOR_FN");let vx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[iE(Ol(er.LegacyInterceptors,[{provide:vv,useFactory:YC},{provide:ph,useExisting:vv,multi:!0}]))]}),n})(),wv=(()=>{class n{constructor(t){this._HttpClient=t}ngOnInit(){}getAllProducts(){return this._HttpClient.get(lp_baseApi+"products")}getAllCategories(){return this._HttpClient.get(lp_baseApi+"products/categories")}getProductsByCategory(t){return this._HttpClient.get(lp_baseApi+"products/category/"+t)}getProductById(t){return this._HttpClient.get(lp_baseApi+"products/"+t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(bm))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Dt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-spin"]],decls:11,vars:0,consts:[[1,"lds-grid"]],template:function(t,r){1&t&&(c.TgZ(0,"div")(1,"div",0),c._UZ(2,"div")(3,"div")(4,"div")(5,"div")(6,"div")(7,"div")(8,"div")(9,"div")(10,"div"),c.qZA()())},styles:[".lds-grid[_ngcontent-%COMP%]{display:inline-block;position:relative;width:80px;height:80px}.lds-grid[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{position:absolute;width:16px;height:16px;border-radius:50%;background:#1c1c50;animation:_ngcontent-%COMP%_lds-grid 1.2s linear infinite}.lds-grid[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(1){top:8px;left:8px;animation-delay:0s}.lds-grid[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(2){top:8px;left:32px;animation-delay:-.4s}.lds-grid[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(3){top:8px;left:56px;animation-delay:-.8s}.lds-grid[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(4){top:32px;left:8px;animation-delay:-.4s}.lds-grid[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(5){top:32px;left:32px;animation-delay:-.8s}.lds-grid[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(6){top:32px;left:56px;animation-delay:-1.2s}.lds-grid[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(7){top:56px;left:8px;animation-delay:-.8s}.lds-grid[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(8){top:56px;left:32px;animation-delay:-1.2s}.lds-grid[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(9){top:56px;left:56px;animation-delay:-1.6s}@keyframes _ngcontent-%COMP%_lds-grid{0%,to{opacity:1}50%{opacity:.5}}"]}),n})();function oT(n,e){if(1&n&&(c.TgZ(0,"div",19)(1,"div",20),c._UZ(2,"img",21),c.TgZ(3,"div",22)(4,"h5",23),c._uU(5),c.qZA(),c.TgZ(6,"div",24)(7,"p"),c._uU(8),c.qZA()(),c.TgZ(9,"p")(10,"strong"),c._uU(11),c.TgZ(12,"del"),c._uU(13,"$250"),c.qZA()()()()()()),2&n){const t=e.$implicit;c.xp6(1),c.MGl("routerLink","/details/",t.id,""),c.xp6(1),c.s9C("src",t.image,c.LSH),c.xp6(3),c.Oqu(t.title),c.xp6(3),c.hij(" ",t.description," "),c.xp6(3),c.hij("$",t.price," ")}}function aT(n,e){if(1&n&&(c.TgZ(0,"div",27)(1,"div",28),c._UZ(2,"img",21),c.TgZ(3,"div",29)(4,"div",30)(5,"h3"),c._uU(6),c.qZA()(),c._UZ(7,"br"),c.TgZ(8,"div",31),c._UZ(9,"i",32)(10,"i",32)(11,"i",32)(12,"i",32)(13,"i",32),c.qZA(),c.TgZ(14,"h5"),c._uU(15),c.TgZ(16,"del"),c._uU(17,"$250"),c.qZA()()()()()),2&n){const t=e.$implicit;c.xp6(1),c.MGl("routerLink","/details/",t.id,""),c.xp6(1),c.s9C("src",t.image,c.LSH),c.xp6(4),c.Oqu(t.title),c.xp6(9),c.hij(" $",t.price," ")}}function uT(n,e){if(1&n&&(c.TgZ(0,"div",25),c.YNc(1,aT,18,4,"div",26),c.qZA()),2&n){const t=c.oxw();c.xp6(1),c.Q6J("ngForOf",t.firstFourProducts)}}function gh(n,e){if(1&n&&(c.TgZ(0,"div",34)(1,"div",28),c._UZ(2,"img",21),c.TgZ(3,"div",29)(4,"div",30)(5,"h3"),c._uU(6),c.qZA()(),c._UZ(7,"br"),c.TgZ(8,"div",31),c._UZ(9,"i",32)(10,"i",32)(11,"i",32)(12,"i",32)(13,"i",32),c.qZA(),c.TgZ(14,"h5"),c._uU(15),c.TgZ(16,"del"),c._uU(17,"$250"),c.qZA(),c._UZ(18,"span"),c.qZA()()()()),2&n){const t=e.$implicit;c.xp6(1),c.MGl("routerLink","/details/",t.id,""),c.xp6(1),c.s9C("src",t.image,c.LSH),c.xp6(4),c.Oqu(t.title),c.xp6(9),c.hij(" $",t.price," ")}}function cT(n,e){if(1&n&&(c.TgZ(0,"div",25),c.YNc(1,gh,19,4,"div",33),c.qZA()),2&n){const t=c.oxw();c.xp6(1),c.Q6J("ngForOf",t.secondFourProduct)}}function Dm(n,e){1&n&&(c.TgZ(0,"div",35),c._UZ(1,"app-spin"),c.qZA())}let Tm=(()=>{class n{constructor(t){this.prodSer=t,this.thressProducts=[],this.firstFourProducts=[],this.secondFourProduct=[],this.loading=!1}ngOnInit(){this.getProducts()}getProducts(){this.loading=!0,this.prodSer.getAllProducts().subscribe(t=>{this.thressProducts=t.slice(0,3),this.firstFourProducts=t.slice(3,7),this.secondFourProduct=t.slice(7,11),this.loading=!1},t=>{this.loading=!1,alert(t)})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(wv))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-card"]],decls:48,vars:4,consts:[["id","top-cards",1,"container"],[1,"row"],["class","col-md-4 py-3 py-md-0 item",4,"ngFor","ngForOf"],[1,"banner"],[1,"content"],["id","bannerbtn"],["id","product-cards",1,"container"],[1,"text-center"],["class","row","style","margin-top: 30px",4,"ngIf"],["class","text-center w-100",4,"ngIf"],["href","clothe.html","id","viewmorebtn"],[1,"container",2,"margin-top","100px"],[1,"container"],[2,"font-weight","bold"],["id","offer",1,"container"],[1,"col-md-4","col-sm-4","col-xs-6","py-md-0"],[1,"fa-solid","fa-cart-shopping"],[1,"fa-solid","fa-truck"],[1,"fa-solid","fa-thumbs-up"],[1,"col-md-4","py-3","py-md-0","item"],[1,"card",2,"background-color","#a9a9a926",3,"routerLink"],[3,"src"],[1,"card-img-overlay"],[1,"card-title"],[1,"desc"],[1,"row",2,"margin-top","30px"],["class","col-lg-3 col-md-6 py-3 py-md-0 mt-3",4,"ngFor","ngForOf"],[1,"col-lg-3","col-md-6","py-3","py-md-0","mt-3"],[1,"card",3,"routerLink"],[1,"card-body"],[1,"title"],[1,"star"],[1,"fas","fa-star","checked"],["class","col-lg-3 col-md-6 py-3 py-md-0",4,"ngFor","ngForOf"],[1,"col-lg-3","col-md-6","py-3","py-md-0"],[1,"text-center","w-100"]],template:function(t,r){1&t&&(c.TgZ(0,"div",0)(1,"div",1),c.YNc(2,oT,14,5,"div",2),c.qZA()(),c.TgZ(3,"div",3)(4,"div",4)(5,"h1"),c._uU(6,"Get Up To 50% Off"),c.qZA(),c.TgZ(7,"p"),c._uU(8," Lorem ipsum dolor sit, amet consectetur adipisicing elit. Esse, illum! "),c.qZA(),c.TgZ(9,"div",5)(10,"button"),c._uU(11,"SHOP NOW"),c.qZA()()()(),c.TgZ(12,"div",6)(13,"h1",7),c._uU(14,"PRODUCT"),c.qZA(),c.YNc(15,uT,2,1,"div",8),c.YNc(16,cT,2,1,"div",8),c.YNc(17,Dm,2,0,"div",9),c.TgZ(18,"a",10),c._uU(19,"View More"),c.qZA()(),c.TgZ(20,"div",11),c._UZ(21,"hr"),c.qZA(),c.TgZ(22,"div",12)(23,"h3",13),c._uU(24,"PRODUCT"),c.qZA(),c.TgZ(25,"p"),c._uU(26," Lorem ipsum dolor sit amet consectetur adipisicing elit. Mollitia recusandae voluptas veritatis distinctio laudantium minima ipsam quibusdam nesciunt omnis deleniti rerum, debitis velit quis cumque autem? Unde voluptatem magnam autem odio, natus consequuntur, inventore officia voluptate ipsam, ut eum aspernatur cupiditate reiciendis labore quis nesciunt. Porro facere, obcaecati ab magnam voluptatibus inventore! Nam eum ex fugit est facilis! Quo corrupti incidunt, autem aperiam nulla eius ab vel delectus esse nihil ea possimus quasi tenetur aut voluptate soluta, iure labore est iusto voluptates alias rem. Natus laudantium distinctio ea, nesciunt iure dolor illum quibusdam iste, accusamus dolore voluptas fuga nobis sequi! "),c.qZA(),c._UZ(27,"hr"),c.qZA(),c.TgZ(28,"div",14)(29,"div",1)(30,"div",15),c._UZ(31,"i",16),c.TgZ(32,"h5"),c._uU(33,"Free Shopping"),c.qZA(),c.TgZ(34,"p"),c._uU(35,"On order Over $100"),c.qZA()(),c.TgZ(36,"div",15),c._UZ(37,"i",17),c.TgZ(38,"h5"),c._uU(39,"Fast Delivery"),c.qZA(),c.TgZ(40,"p"),c._uU(41,"World wide"),c.qZA()(),c.TgZ(42,"div",15),c._UZ(43,"i",18),c.TgZ(44,"h5"),c._uU(45,"Big Choice"),c.qZA(),c.TgZ(46,"p"),c._uU(47,"Of product"),c.qZA()()()()),2&t&&(c.xp6(2),c.Q6J("ngForOf",r.thressProducts),c.xp6(13),c.Q6J("ngIf",!r.loading),c.xp6(1),c.Q6J("ngIf",!r.loading),c.xp6(1),c.Q6J("ngIf",r.loading))},dependencies:[Cs,Yr,sa,Dt],styles:["#top-cards[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{position:relative;transition:all .5s ease-in;height:60vh;cursor:pointer}#top-cards[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:block;width:100%;height:60vh}#top-cards[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-img-overlay[_ngcontent-%COMP%]{color:#fff;position:absolute;inset:0;height:100%;width:100%;opacity:0;visibility:none;transition:.5s ease;background-color:#393839}#top-cards[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:hover   .card-img-overlay[_ngcontent-%COMP%]{opacity:.8}#top-cards[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{color:#010132;font-weight:700;font-size:30px}.banner[_ngcontent-%COMP%]{width:100%;height:auto;padding:30px;margin-top:50px;background-image:linear-gradient(rgba(0,0,0,.5),rgba(0,0,0,.5)),url(banner.ecc41c3378aba5c0.jpg)}.banner[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{text-align:center;padding-top:100px}.banner[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], .banner[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff;text-shadow:1px 1px 1px black;letter-spacing:3px}.bannerbtn[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:150px;height:38px;background:transparent;color:#fff;border:2px solid white;transition:.5s ease;cursor:pointer}#bannerbtn[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#1c1c50;border:none}#product.cards[_ngcontent-%COMP%]{font-family:Roboto,serif;margin-top:100px}#product-cards[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{box-shadow:#64646f33 0 7px 29px;height:auto;transition:transform .2s ease}#product-cards[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:hover{transform:scale(1.1);cursor:pointer}#product-cards[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin-top:30px;color:#1c1c50;text-shadow:1px 1px 1px black}#product-cards[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{height:100px;overflow:hidden}#product-cards[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{letter-spacing:3px;color:#1c1c50;text-shadow:0px 1px 1px black;font-weight:700}#product-cards[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{float:right;color:#1c1c50;cursor:pointer}.checked[_ngcontent-%COMP%]{color:#ff0}#product-cards[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:250px;object-fit:contain}#viewmorebtn[_ngcontent-%COMP%]{display:flex;justify-content:center;margin:30px auto auto;text-decoration:none;width:200px;height:32px;color:#1c1c50;letter-spacing:5px;font-weight:700;background:transparent;border:2px solid #1c1c50}#viewmorebtn[_ngcontent-%COMP%]:hover{background-color:#1c1c50;color:#fff}#offer[_ngcontent-%COMP%]{margin-top:50px;margin-right:10px}#offer[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:60px;color:#1c1c50}"]}),n})(),zn=(()=>{class n{constructor(t){this.prodSer=t}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(wv))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-home"]],decls:15,vars:0,consts:[[1,"home"],[1,"content"],["id","shopnow"],[1,"img"],["src","assets/shoe1.png"],[1,"mt-3"]],template:function(t,r){1&t&&(c.TgZ(0,"section",0)(1,"div",1)(2,"h3"),c._uU(3,"Biggest Clothe Sale "),c._UZ(4,"br"),c.TgZ(5,"span"),c._uU(6,"Up To 50% off"),c.qZA()(),c.TgZ(7,"p"),c._uU(8," Lorem, ipsum dolor sit amet consectetur adipisicing elit. Omnis fugit molestiae suscipit, iste illum sit? "),c.qZA(),c.TgZ(9,"button",2),c._uU(10,"Shop Now"),c.qZA(),c._UZ(11,"br"),c.qZA(),c.TgZ(12,"div",3),c._UZ(13,"img",4),c.qZA()(),c._UZ(14,"app-card",5))},dependencies:[Tm],styles:[".home[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;flex-wrap:wrap;position:relative;z-index:0;font-family:Roboto Slab,serif}.home[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]{flex:1 1 400px}.home[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.home[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{flex:1 1 400px;margin-top:30px}.content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-left:70px;font-size:50px;text-shadow:1px 1px 1px black;color:#1c1c50;font-weight:700}.content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:40px}.content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-left:70px;color:#1c1c50}.content[_ngcontent-%COMP%]   #shopnow[_ngcontent-%COMP%]{margin-left:70px;width:200px;height:38px;border:2px solid #1c1c1c;font-weight:700;transition:.5s ease;cursor:pointer}.content[_ngcontent-%COMP%]   #shopnow[_ngcontent-%COMP%]:hover{background-color:#1c1c50;color:#fff}@media screen and (max-width: 800px){.content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-left:50px;font-size:40px}.content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .content[_ngcontent-%COMP%]   #shopnow[_ngcontent-%COMP%]{margin-left:50px}}@media screen and (max-width: 570px){.content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .content[_ngcontent-%COMP%]   #shopnow[_ngcontent-%COMP%]{margin-left:20px}}@media screen and (max-width: 799px){.home[_ngcontent-%COMP%]{height:150vh}}@media screen and (max-width: 550px){.home[_ngcontent-%COMP%]{height:100vh}}"]}),n})(),wx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-about"]],decls:30,vars:0,consts:[["id","about",1,"container"],[1,"row",2,"margin-top","50px"],[1,"col-md-6","py-md-0"],[1,"card"],["src","assets/about.jpg","height","400px"],[1,"lead"],["id","offer",1,"container"],[1,"row"],[1,"col-md-4","py-md-0"],[1,"fa-solid","fa-cart-shopping"],[1,"fa-solid","fa-truck"],[1,"fa-solid","fa-thumbs-up"]],template:function(t,r){1&t&&(c.TgZ(0,"div",0)(1,"h1"),c._uU(2,"ABOUT US"),c.qZA(),c.TgZ(3,"div",1)(4,"div",2)(5,"div",3),c._UZ(6,"img",4),c.qZA()(),c.TgZ(7,"div",2)(8,"p",5),c._uU(9," Lorem ipsum dolor sit, amet consectetur adipisicing elit. Vitae consequatur aperiam ipsum omnis odit adipisci nisi, quidem iste accusantium. Voluptates ratione praesentium officiis aliquid dolorum laboriosam hic perferendis, repellat aspernatur ad ex earum voluptatum quibusdam doloremque illum aliquam unde voluptate! Aspernatur adipisci dolorem doloremque voluptate amet ullam dolorum culpa? Eum! Lorem ipsum dolor sit, amet consectetur adipisicing elit. Vitae consequatur aperiam ipsum omnis odit adipisci nisi, quidem iste accusantium. Voluptates ratione praesentium officiis aliquid dolorum laboriosam hic perferendis, repellat aspernatur ad ex earum voluptatum quibusdam doloremque illum aliquam unde voluptate! "),c.qZA()()()(),c.TgZ(10,"div",6)(11,"div",7)(12,"div",8),c._UZ(13,"i",9),c.TgZ(14,"h5"),c._uU(15,"Free Shopping"),c.qZA(),c.TgZ(16,"p"),c._uU(17,"On order Over $100"),c.qZA()(),c.TgZ(18,"div",8),c._UZ(19,"i",10),c.TgZ(20,"h5"),c._uU(21,"Fast Delivery"),c.qZA(),c.TgZ(22,"p"),c._uU(23,"World wide"),c.qZA()(),c.TgZ(24,"div",8),c._UZ(25,"i",11),c.TgZ(26,"h5"),c._uU(27,"Big Choice"),c.qZA(),c.TgZ(28,"p"),c._uU(29,"Of product"),c.qZA()()()())},styles:["#about[_ngcontent-%COMP%]{margin-top:50px}#about[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{text-align:center;font-weight:700;color:#1c1c50}#offer[_ngcontent-%COMP%]{margin-top:50px}#offer[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:60px;color:#1c1c50}"]}),n})(),oE=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-contact"]],decls:34,vars:0,consts:[["id","contact",1,"container"],[1,"text-center"],[1,"row",2,"margin-top","50px"],[1,"col-md-4","py-3","py-md-0"],[1,"card"],[1,"fas","fa-phone"],[1,"fa-solid","fa-envelope"],[1,"fa-solid","fa-location-dot"],[1,"row",2,"margin-top","30px"],["type","text","placeholder","Name",1,"form-control"],["type","text","placeholder","Email",1,"form-control"],["type","number","placeholder","Phone",1,"form-control"],[1,"form-group",2,"margin-top","30ox"],["id","","rows","5","placeholder","Message",1,"form-control"],["id","messagebtn",1,"text-center"]],template:function(t,r){1&t&&(c.TgZ(0,"div",0)(1,"h1",1),c._uU(2,"CONTACT US"),c.qZA(),c.TgZ(3,"div",2)(4,"div",3)(5,"div",4)(6,"i",5),c._uU(7,"Phone"),c.qZA(),c.TgZ(8,"h6"),c._uU(9,"01151193187"),c.qZA()()(),c.TgZ(10,"div",3)(11,"div",4)(12,"i",6),c._uU(13,"Email"),c.qZA(),c.TgZ(14,"h6"),c._uU(15,"bishogamal6@gmail.com"),c.qZA()()(),c.TgZ(16,"div",3)(17,"div",4)(18,"i",7),c._uU(19,"Address"),c.qZA(),c.TgZ(20,"h6"),c._uU(21,"Egypt, Assiut"),c.qZA()()()(),c.TgZ(22,"div",8)(23,"div",3),c._UZ(24,"input",9),c.qZA(),c.TgZ(25,"div",3),c._UZ(26,"input",10),c.qZA(),c.TgZ(27,"div",3),c._UZ(28,"input",11),c.qZA(),c.TgZ(29,"div",12),c._UZ(30,"textarea",13),c.qZA(),c.TgZ(31,"div",14)(32,"button"),c._uU(33,"Message"),c.qZA()()()())},styles:["#contact[_ngcontent-%COMP%]{margin-top:50px}#contact[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#1c1c50;text-shadow:0px 0px 0px black}#contact[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{height:80px;margin-top:20px;box-shadow:#64646f33 0 7px 29px}#contact[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-top:10px;margin-left:10px;font-size:15px;color:#1c1c50;font-weight:700;letter-spacing:3px}#contact[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{margin-left:10px;margin-top:10px;letter-spacing:3px;font-weight:700;color:#1c1c50}textarea[_ngcontent-%COMP%]{margin-top:30px}#messagebtn[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:30px;width:200px;height:33px;background:transparent;border:2px solid #1c1c50;color:#1c1c50;font-weight:700;letter-spacing:3px;transition:.5s ease}#messagebtn[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#1c1c50;color:#fff}"]}),n})();var aE=k(6451),Sm=k(5363),uE=k(6063);class cE extends uc.x{constructor(e=1/0,t=1/0,r=uE.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:u,_windowTime:d}=this;t||(r.push(e),!i&&r.push(u.now()+d)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,u=i.slice();for(let d=0;d<u.length&&!e.closed;d+=r?1:2)e.next(u[d]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,u=(i?1:2)*e;if(e<1/0&&u<r.length&&r.splice(0,r.length-u),!i){const d=t.now();let m=0;for(let w=1;w<r.length&&r[w]<=d;w+=2)m=w;m&&r.splice(0,m+1)}}}var lE=k(3099);function Cv(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=n??1/0,(0,lE.B)({connector:()=>new cE(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function dE(n,e){return(0,zd.m)(e)?$r(()=>n,e):$r(()=>n)}var Ev=k(9468),Gr=k(4976),bi=k(2011);k(259);var _e=k(5861),Nl=k(6881),bv=k(4859),mn=k(2090),kl=k(1877);const pE=new Map,Dv={activated:!1,tokenObservers:[]},xm={initialized:!1,enabled:!1};function tr(n){return pE.get(n)||Object.assign({},Dv)}function gp(){return xm}const Fl="https://content-firebaseappcheck.googleapis.com/v1",vT="exchangeDebugToken",gE={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class wT{constructor(e,t,r,i,u){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=u,this.pending=null,this.nextErrorWaitInterval=i,i>u)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,_e.Z)(function*(){t.stop();try{t.pending=new mn.BH,yield function mE(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new mn.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const si=new mn.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function mp(n,e){return Sv.apply(this,arguments)}function Sv(){return(Sv=(0,_e.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){const O=yield i.getHeartbeatsHeader();O&&(r["X-Firebase-Client"]=O)}const u={method:"POST",body:JSON.stringify(e),headers:r};let d,m;try{d=yield fetch(n,u)}catch(O){throw si.create("fetch-network-error",{originalErrorMessage:O?.message})}if(200!==d.status)throw si.create("fetch-status-error",{httpStatus:d.status});try{m=yield d.json()}catch(O){throw si.create("fetch-parse-error",{originalErrorMessage:O?.message})}const w=m.ttl.match(/^([\d.]+)(s)$/);if(!w||!w[2]||isNaN(Number(w[1])))throw si.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${m.ttl}`});const D=1e3*Number(w[1]),S=Date.now();return{token:m.token,expireTimeMillis:S+D,issuedAtTimeMillis:S}})).apply(this,arguments)}const IT="firebase-app-check-database",_E=1,mh="firebase-app-check-store";let Nm=null;function EE(n,e){return Mv.apply(this,arguments)}function Mv(){return(Mv=(0,_e.Z)(function*(n,e){const r=(yield function wE(){return Nm||(Nm=new Promise((n,e)=>{try{const t=indexedDB.open(IT,_E);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(si.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(mh,{keyPath:"compositeKey"})}}catch(t){e(si.create("storage-open",{originalErrorMessage:t?.message}))}}),Nm)}()).transaction(mh,"readwrite"),u=r.objectStore(mh).put({compositeKey:n,value:e});return new Promise((d,m)=>{u.onsuccess=w=>{d()},r.onerror=w=>{var D;m(si.create("storage-set",{originalErrorMessage:null===(D=w.target.error)||void 0===D?void 0:D.message}))}})})).apply(this,arguments)}const yp=new kl.Yd("@firebase/app-check");function Fm(n,e){return(0,mn.hl)()?function bT(n,e){return EE(function bE(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{yp.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function Ov(){return Rv.apply(this,arguments)}function Rv(){return(Rv=(0,_e.Z)(function*(){const n=gp();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Nv={error:"UNKNOWN_ERROR"};function kv(n){return mn.US.encodeString(JSON.stringify(n),!1)}function _p(n){return vp.apply(this,arguments)}function vp(){return(vp=(0,_e.Z)(function*(n,e=!1){const t=n.app;!function Tv(n){if(!tr(n).activated)throw si.create("use-before-activation",{appName:n.name})}(t);const r=tr(t);let u,i=r.token;if(i&&!_h(i)&&(r.token=void 0,i=void 0),!i){const w=yield r.cachedTokenPromise;w&&(_h(w)?i=w:yield Fm(t,void 0))}if(!e&&i&&_h(i))return{token:i.token};let m,d=!1;if(function Lm(){return gp().enabled}()){r.exchangeTokenPromise||(r.exchangeTokenPromise=mp(function Rm(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${Fl}/projects/${t}/apps/${r}:${vT}?key=${i}`,body:{debug_token:e}}}(t,yield Ov()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),d=!0);const w=yield r.exchangeTokenPromise;return yield Fm(t,w),r.token=w,{token:w.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),d=!0),i=yield tr(t).exchangeTokenPromise}catch(w){"appCheck/throttled"===w.code?yp.warn(w.message):yp.error(w),u=w}return i?u?m=_h(i)?{token:i.token,internalError:u}:xT(u):(m={token:i.token},r.token=i,yield Fm(t,i)):m=xT(u),d&&function Uv(n,e){const t=tr(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(t,m),m})).apply(this,arguments)}function Lv(n,e){const t=tr(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function Vv(n){const{app:e}=n,t=tr(e);let r=t.tokenRefresher;r||(r=function yh(n){const{app:e}=n;return new wT((0,_e.Z)(function*(){let r;if(r=tr(e).token?yield _p(n,!0):yield _p(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=tr(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},gE.RETRIAL_MIN_WAIT,gE.RETRIAL_MAX_WAIT)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function _h(n){return n.expireTimeMillis-Date.now()>0}function xT(n){return{token:kv(Nv),error:n}}class DE{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=tr(this.app);for(const t of e)Lv(this.app,t.next);return Promise.resolve()}}const RE="app-check-internal";!function UT(){(0,Nl._registerComponent)(new bv.wA("app-check",n=>function Bv(n,e){return new DE(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(RE).initialize()})),(0,Nl._registerComponent)(new bv.wA(RE,n=>function PT(n){return{getToken:e=>_p(n,e),addTokenListener:e=>function wp(n,e,t,r){const{app:i}=n,u=tr(i);if(u.tokenObservers=[...u.tokenObservers,{next:t,error:r,type:e}],u.token&&_h(u.token)){const m=u.token;Promise.resolve().then(()=>{t({token:m.token}),Vv(n)}).catch(()=>{})}u.cachedTokenPromise.then(()=>Vv(n))}(n,"INTERNAL",e),removeTokenListener:e=>Lv(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Nl.registerVersion)("@firebase/app-check","0.7.0")}();class Ll{constructor(){return(0,Gr.vb)("app-check")}}typeof window<"u"&&window;var Bm=k(9260);const LE=new c.OlP("angularfire2.auth.use-emulator"),jm=new c.OlP("angularfire2.auth.settings"),vh=new c.OlP("angularfire2.auth.tenant-id"),VE=new c.OlP("angularfire2.auth.langugage-code"),UE=new c.OlP("angularfire2.auth.use-device-language"),BE=new c.OlP("angularfire.auth.persistence"),Ep=(n,e,t,r,i,u,d,m)=>(0,bi.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const w=e.runOutsideAngular(()=>n.auth());if(t&&w.useEmulator(...t),r&&(w.tenantId=r),w.languageCode=i,u&&w.useDeviceLanguage(),d)for(const[D,S]of Object.entries(d))w.settings[D]=S;return m&&w.setPersistence(m),w},[t,r,i,u,d,m]);let vc=(()=>{class n{constructor(t,r,i,u,d,m,w,D,S,O,U,Z){const oe=new uc.x,De=yt(void 0).pipe((0,Sm.Q)(d.outsideAngular),$r(()=>u.runOutsideAngular(()=>Promise.resolve().then(k.bind(k,3042)))),(0,gt.U)(()=>(0,bi.on)(t,u,r)),(0,gt.U)(Le=>Ep(Le,u,m,D,S,O,w,U)),Cv({bufferSize:1,refCount:!1}));if(ss(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=yt(null);else{De.pipe(Xa()).subscribe();const rt=De.pipe($r(zt=>zt.getRedirectResult().then(Jt=>Jt,()=>null)),Gr.iC,Cv({bufferSize:1,refCount:!1})),St=De.pipe($r(zt=>new lr.y(Jt=>({unsubscribe:u.runOutsideAngular(()=>zt.onAuthStateChanged(hn=>Jt.next(hn),hn=>Jt.error(hn),()=>Jt.complete()))})))),vt=De.pipe($r(zt=>new lr.y(Jt=>({unsubscribe:u.runOutsideAngular(()=>zt.onIdTokenChanged(hn=>Jt.next(hn),hn=>Jt.error(hn),()=>Jt.complete()))}))));this.authState=rt.pipe(dE(St),(0,Ev.R)(d.outsideAngular),(0,Sm.Q)(d.insideAngular)),this.user=rt.pipe(dE(vt),(0,Ev.R)(d.outsideAngular),(0,Sm.Q)(d.insideAngular)),this.idToken=this.user.pipe($r(zt=>zt?(0,un.D)(zt.getIdToken()):yt(null))),this.idTokenResult=this.user.pipe($r(zt=>zt?(0,un.D)(zt.getIdTokenResult()):yt(null))),this.credential=(0,aE.T)(rt,oe,this.authState.pipe(ri(zt=>!zt))).pipe((0,gt.U)(zt=>zt?.user?zt:null),(0,Ev.R)(d.outsideAngular),(0,Sm.Q)(d.insideAngular))}return(0,bi.pX)(this,De,u,{spy:{apply:(Le,rt,St)=>{(Le.startsWith("signIn")||Le.startsWith("createUser"))&&St.then(vt=>oe.next(vt))}}})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(bi.Dh),c.LFG(bi.xv,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(Gr.HU),c.LFG(LE,8),c.LFG(jm,8),c.LFG(vh,8),c.LFG(VE,8),c.LFG(UE,8),c.LFG(BE,8),c.LFG(Ll,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),qT=(()=>{class n{constructor(){Bm.Z.registerVersion("angularfire",Gr.q4.full,"auth-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[vc]}),n})(),$m=(()=>{class n{constructor(t,r){this.afAuth=t,this.router=r,this.isLogged=new Fs(this.userLoggedState)}get userLoggedState(){return!!localStorage.getItem("user")}signup(t,r){return localStorage.setItem("user",JSON.stringify({email:t,password:r})),this.isLogged.next(!0),this.afAuth.createUserWithEmailAndPassword(t,r)}login(t,r){return localStorage.setItem("user",JSON.stringify({email:t,password:r})),this.isLogged.next(!0),this.afAuth.signInWithEmailAndPassword(t,r)}logout(){return localStorage.removeItem("user"),this.isLogged.next(!1),this.router.navigate(["/home"]),this.afAuth.signOut()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(vc),c.LFG(Hr))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function jE(n,e){1&n&&(c.TgZ(0,"div",21),c._uU(1," Email is required "),c.qZA())}function $E(n,e){1&n&&(c.TgZ(0,"div",21),c._uU(1," Your input doesn't match email format "),c.qZA())}function Wv(n,e){1&n&&(c.TgZ(0,"div",21),c._uU(1," Passowrd is required "),c.qZA())}function HE(n,e){1&n&&(c.TgZ(0,"div",21),c._uU(1," Your Password must be at least 6 characters "),c.qZA())}function Kv(n,e){if(1&n&&(c.TgZ(0,"div",22),c._uU(1),c.qZA()),2&n){const t=c.oxw();c.xp6(1),c.hij(" ",t.errorMsg," ")}}let Yv=(()=>{class n{constructor(t,r){this.as=t,this.router=r,this.errorMsg=""}login(t){let r=t.value;this.as.login(r.email,r.password).then(i=>{this.errorMsg="",window.alert("You have been successfully signed in!"),this.router.navigate(["/"])}).catch(i=>this.errorMsg=i.message)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36($m),c.Y36(Hr))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-login"]],decls:36,vars:6,consts:[[1,"container","login"],[1,"row"],["id","side1",1,"col-md-4"],["id","btn"],["routerLink","/signup"],["id","side2",1,"col-md-8"],["id","inp"],[3,"ngSubmit"],["f","ngForm"],["ngModel","","name","email","type","email","placeholder","Email","required","","email",""],["email","ngModel"],["class","alert alert-danger",4,"ngIf"],["ngModel","","name","password","type","password","placeholder","Password","required","","minlength","6"],["password","ngModel"],[1,"icons"],[1,"fa-brands","fa-twitter"],[1,"fa-brands","fa-facebook-f"],[1,"fa-brands","fa-instagram"],["id","login"],[3,"disabled"],["class","alert alert-danger mt-2",4,"ngIf"],[1,"alert","alert-danger"],[1,"alert","alert-danger","mt-2"]],template:function(t,r){if(1&t){const i=c.EpF();c.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3"),c._uU(4,"Hello Friend!"),c.qZA(),c.TgZ(5,"p"),c._uU(6,"Create New Account"),c.qZA(),c.TgZ(7,"div",3)(8,"a",4),c._uU(9,"Sign Up"),c.qZA()()(),c.TgZ(10,"div",5)(11,"h3"),c._uU(12,"Login Account"),c.qZA(),c.TgZ(13,"p"),c._uU(14,"Create New Account"),c.qZA(),c.TgZ(15,"div",6)(16,"form",7,8),c.NdJ("ngSubmit",function(){c.CHM(i);const d=c.MAs(17);return c.KtG(r.login(d))}),c._UZ(18,"input",9,10),c.YNc(20,jE,2,0,"div",11),c.YNc(21,$E,2,0,"div",11),c._UZ(22,"input",12,13),c.YNc(24,Wv,2,0,"div",11),c.YNc(25,HE,2,0,"div",11),c.TgZ(26,"p"),c._uU(27,"Forget Your Password"),c.qZA(),c.TgZ(28,"div",14),c._UZ(29,"i",15)(30,"i",16)(31,"i",17),c.qZA(),c.TgZ(32,"div",18)(33,"button",19),c._uU(34,"LOG IN"),c.qZA()(),c.YNc(35,Kv,2,1,"div",20),c.qZA()()()()()}if(2&t){const i=c.MAs(17),u=c.MAs(19),d=c.MAs(23);c.xp6(20),c.Q6J("ngIf",u.touched&&(null==u.errors?null:u.errors.required)),c.xp6(1),c.Q6J("ngIf",u.touched&&(null==u.errors?null:u.errors.email)),c.xp6(3),c.Q6J("ngIf",d.touched&&(null==d.errors?null:d.errors.required)),c.xp6(1),c.Q6J("ngIf",d.touched&&(null==d.errors?null:d.errors.minlength)),c.xp6(8),c.Q6J("disabled",i.invalid),c.xp6(2),c.Q6J("ngIf",r.errorMsg)}},dependencies:[Yr,sa,na,qo,Wa,Ku,be,Ci,Xe,ta,ea],styles:[".login[_ngcontent-%COMP%]{width:100%;margin:50px auto auto;justify-content:center;font-family:Roboto Slab,serif}#side1[_ngcontent-%COMP%]{background-color:#1c1c50;height:76vh;border-radius:5px;box-shadow:#64646f33 0 7px 29px}#side1[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#fff;font-weight:700;text-shadow:1px 1px 1px black;margin-top:200px;align-items:center;text-align:center}#side1[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff;font-weight:700;align-items:center;text-align:center}#btn[_ngcontent-%COMP%]{align-items:center;text-align:center;border:2px solid white;border-radius:10px}#btn[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#fff}#side2[_ngcontent-%COMP%]{background-color:#fff;border-radius:5px;box-shadow:#64646f33 0 7px 29px;align-items:center;text-align:center}#side2[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:50px;color:#1c1c50;font-weight:700}#side2[_ngcontent-%COMP%]   .inp[_ngcontent-%COMP%]{margin-top:32px}#side2[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:500px;margin-top:20px;height:36px;align-items:center}#side2[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:20px;cursor:pointer}#side2[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-left:10px;cursor:pointer}#login[_ngcontent-%COMP%]{margin-top:10px}#login[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:200px;height:32px;color:#fff;background-color:#1c1c50;border:none;font-weight:700}.alert[_ngcontent-%COMP%]{width:500px;margin:auto;align-items:center}@media screen and (max-width: 992px){#side2[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:300px}.alert[_ngcontent-%COMP%]{width:300px;margin:auto;align-items:center}}@media screen and (max-width: 330px){#side2[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:200px}.alert[_ngcontent-%COMP%]{width:200px;margin:auto;align-items:center}}"]}),n})();var GE=k(4986);function Ip(){return(0,dr.e)((n,e)=>{let t,r=!1;n.subscribe((0,gn.x)(e,i=>{const u=t;t=i,r&&e.next([u,i]),r=!0}))})}function ZT(n,e){return n===e}k(3042);var et,WT=k(3942),KT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},js={},Hm=Hm||{},Ft=KT||self;function bp(){}function Dp(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Tp(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var Gm="closure_uid_"+(1e9*Math.random()>>>0),YT=0;function qE(n,e,t){return n.call.apply(n.bind,arguments)}function QT(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function vn(n,e,t){return(vn=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?qE:QT).apply(null,arguments)}function uu(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function zr(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(r,i,u){for(var d=Array(arguments.length-2),m=2;m<arguments.length;m++)d[m-2]=arguments[m];return e.prototype[i].apply(r,d)}}function wc(){this.s=this.s,this.o=this.o}wc.prototype.s=!1,wc.prototype.ra=function(){!this.s&&(this.s=!0,this.N(),0)&&function zE(n){Object.prototype.hasOwnProperty.call(n,Gm)&&n[Gm]||(n[Gm]=++YT)}(this)},wc.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const JT=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function zm(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function qm(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(Dp(r)){const i=n.length||0,u=r.length||0;n.length=i+u;for(let d=0;d<u;d++)n[i+d]=r[d]}else n.push(r)}}function _r(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}_r.prototype.h=function(){this.defaultPrevented=!0};var XT=function(){if(!Ft.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Ft.addEventListener("test",bp,e),Ft.removeEventListener("test",bp,e)}catch{}return n}();function wh(n){return/^[\s\xa0]*$/.test(n)}var ZE=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Zm(n,e){return n<e?-1:n>e?1:0}function Wm(){var n=Ft.navigator;return n&&(n=n.userAgent)?n:""}function ca(n){return-1!=Wm().indexOf(n)}function Jv(n){return Jv[" "](n),n}function Km(n,e,t){return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}Jv[" "]=bp;var Mp,n,WE=ca("Opera"),Vl=ca("Trident")||ca("MSIE"),Sp=ca("Edge"),Ap=Sp||Vl,eS=ca("Gecko")&&!(-1!=Wm().toLowerCase().indexOf("webkit")&&!ca("Edge"))&&!(ca("Trident")||ca("MSIE"))&&!ca("Edge"),KE=-1!=Wm().toLowerCase().indexOf("webkit")&&!ca("Edge");function YE(){var n=Ft.document;return n?n.documentMode:void 0}e:{var Cc="",Xv=(n=Wm(),eS?/rv:([^\);]+)(\)|;)/.exec(n):Sp?/Edge\/([\d\.]+)/.exec(n):Vl?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):KE?/WebKit\/(\S+)/.exec(n):WE?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Xv&&(Cc=Xv?Xv[1]:""),Vl){var Ym=YE();if(null!=Ym&&Ym>parseFloat(Cc)){Mp=String(Ym);break e}}Mp=Cc}var e0={},nS=Ft.document&&Vl&&(YE()||parseInt(Mp,10))||void 0;function xp(n,e){if(_r.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(eS){e:{try{Jv(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:rS[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&xp.$.h.call(this)}}zr(xp,_r);var rS={2:"touch",3:"pen",4:"mouse"};xp.prototype.h=function(){xp.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Ch="closure_listenable_"+(1e6*Math.random()|0),QE=0;function iS(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.la=i,this.key=++QE,this.fa=this.ia=!1}function Pp(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function Qm(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function JE(n){const e={};for(const t in n)e[t]=n[t];return e}const XE="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function n0(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let u=0;u<XE.length;u++)t=XE[u],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function Jm(n){this.src=n,this.g={},this.h=0}function Xm(n,e){var t=e.type;if(t in n.g){var u,r=n.g[t],i=JT(r,e);(u=0<=i)&&Array.prototype.splice.call(r,i,1),u&&(Pp(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function ey(n,e,t,r){for(var i=0;i<n.length;++i){var u=n[i];if(!u.fa&&u.listener==e&&u.capture==!!t&&u.la==r)return i}return-1}Jm.prototype.add=function(n,e,t,r,i){var u=n.toString();(n=this.g[u])||(n=this.g[u]=[],this.h++);var d=ey(n,e,r,i);return-1<d?(e=n[d],t||(e.ia=!1)):((e=new iS(e,this.src,u,!!r,i)).ia=t,n.push(e)),e};var ty="closure_lm_"+(1e6*Math.random()|0),ny={};function eI(n,e,t,r,i){if(r&&r.once)return r0(n,e,t,r,i);if(Array.isArray(e)){for(var u=0;u<e.length;u++)eI(n,e[u],t,r,i);return null}return t=sI(t),n&&n[Ch]?n.O(e,t,Tp(r)?!!r.capture:!!r,i):tI(n,e,t,!1,r,i)}function tI(n,e,t,r,i,u){if(!e)throw Error("Invalid event type");var d=Tp(i)?!!i.capture:!!i,m=rI(n);if(m||(n[ty]=m=new Jm(n)),(t=m.add(e,t,r,d,u)).proxy)return t;if(r=function Ux(){const e=Bx;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)XT||(i=d),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(oS(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function r0(n,e,t,r,i){if(Array.isArray(e)){for(var u=0;u<e.length;u++)r0(n,e[u],t,r,i);return null}return t=sI(t),n&&n[Ch]?n.P(e,t,Tp(r)?!!r.capture:!!r,i):tI(n,e,t,!0,r,i)}function sS(n,e,t,r,i){if(Array.isArray(e))for(var u=0;u<e.length;u++)sS(n,e[u],t,r,i);else r=Tp(r)?!!r.capture:!!r,t=sI(t),n&&n[Ch]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=ey(u=n.g[e],t,r,i))&&(Pp(u[t]),Array.prototype.splice.call(u,t,1),0==u.length&&(delete n.g[e],n.h--))):n&&(n=rI(n))&&(e=n.g[e.toString()],n=-1,e&&(n=ey(e,t,r,i)),(t=-1<n?e[n]:null)&&nI(t))}function nI(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[Ch])Xm(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(oS(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=rI(e))?(Xm(t,n),0==t.h&&(t.src=null,e[ty]=null)):Pp(n)}}}function oS(n){return n in ny?ny[n]:ny[n]="on"+n}function Bx(n,e){if(n.fa)n=!0;else{e=new xp(e,this);var t=n.listener,r=n.la||n.src;n.ia&&nI(n),n=t.call(r,e)}return n}function rI(n){return(n=n[ty])instanceof Jm?n:null}var iI="__closure_events_fn_"+(1e9*Math.random()>>>0);function sI(n){return"function"==typeof n?n:(n[iI]||(n[iI]=function(e){return n.handleEvent(e)}),n[iI])}function oi(){wc.call(this),this.i=new Jm(this),this.S=this,this.J=null}function vr(n,e){var t,r=n.J;if(r)for(t=[];r;r=r.J)t.push(r);if(n=n.S,r=e.type||e,"string"==typeof e)e=new _r(e,n);else if(e instanceof _r)e.target=e.target||n;else{var i=e;n0(e=new _r(r,n),i)}if(i=!0,t)for(var u=t.length-1;0<=u;u--){var d=e.g=t[u];i=s0(d,r,!0,e)&&i}if(i=s0(d=e.g=n,r,!0,e)&&i,i=s0(d,r,!1,e)&&i,t)for(u=0;u<t.length;u++)i=s0(d=e.g=t[u],r,!1,e)&&i}function s0(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,u=0;u<e.length;++u){var d=e[u];if(d&&!d.fa&&d.capture==t){var m=d.listener,w=d.la||d.src;d.ia&&Xm(n.i,d),i=!1!==m.call(w,r)&&i}}return i&&!r.defaultPrevented}zr(oi,wc),oi.prototype[Ch]=!0,oi.prototype.removeEventListener=function(n,e,t,r){sS(this,n,e,t,r)},oi.prototype.N=function(){if(oi.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)Pp(t[r]);delete n.g[e],n.h--}}this.J=null},oi.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},oi.prototype.P=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var ry=Ft.JSON.stringify;function iy(){var n=uI;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var c0,o0=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new jx,n=>n.reset());class jx{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function a0(n){Ft.setTimeout(()=>{throw n},0)}function u0(n,e){c0||function $x(){var n=Ft.Promise.resolve(void 0);c0=function(){n.then(aS)}}(),aI||(c0(),aI=!0),uI.add(n,e)}var aI=!1,uI=new class oI{constructor(){this.h=this.g=null}add(e,t){const r=o0.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function aS(){for(var n;n=iy();){try{n.h.call(n.g)}catch(t){a0(t)}var e=o0;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}aI=!1}function Ul(n,e){oi.call(this),this.h=n||1,this.g=e||Ft,this.j=vn(this.qb,this),this.l=Date.now()}function l0(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function cI(n,e,t){if("function"==typeof n)t&&(n=vn(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=vn(n.handleEvent,n)}return 2147483647<Number(e)?-1:Ft.setTimeout(n,e||0)}function uS(n){n.g=cI(()=>{n.g=null,n.i&&(n.i=!1,uS(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}zr(Ul,oi),(et=Ul.prototype).ga=!1,et.T=null,et.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),vr(this,"tick"),this.ga&&(l0(this),this.start()))}},et.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},et.N=function(){Ul.$.N.call(this),l0(this),delete this.g};class Hx extends wc{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:uS(this)}N(){super.N(),this.g&&(Ft.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Op(n){wc.call(this),this.h=n,this.g={}}zr(Op,wc);var lI=[];function dI(n,e,t,r){Array.isArray(t)||(t&&(lI[0]=t.toString()),t=lI);for(var i=0;i<t.length;i++){var u=eI(e,t[i],r||n.handleEvent,!1,n.h||n);if(!u)break;n.g[u.key]=u}}function cS(n){Qm(n.g,function(e,t){this.g.hasOwnProperty(t)&&nI(e)},n),n.g={}}function sy(){this.g=!0}function Rp(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function lS(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var u=i[0];if("noop"!=u&&"stop"!=u&&"close"!=u)for(var d=1;d<i.length;d++)i[d]=""}}}return ry(t)}catch{return e}}(n,t)+(r?" "+r:"")})}Op.prototype.N=function(){Op.$.N.call(this),cS(this)},Op.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},sy.prototype.Ea=function(){this.g=!1},sy.prototype.info=function(){};var cu={},pI=null;function d0(){return pI=pI||new oi}function ps(n){_r.call(this,cu.Ta,n)}function Np(n){const e=d0();vr(e,new ps(e))}function oy(n,e){_r.call(this,cu.STAT_EVENT,n),this.stat=e}function Li(n){const e=d0();vr(e,new oy(e,n))}function gI(n,e){_r.call(this,cu.Ua,n),this.size=e}function Bl(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Ft.setTimeout(function(){n()},e)}cu.Ta="serverreachability",zr(ps,_r),cu.STAT_EVENT="statevent",zr(oy,_r),cu.Ua="timingevent",zr(gI,_r);var kp={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},h0={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function f0(){}function g0(){}f0.prototype.h=null;var Lp,Fp={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function ay(){_r.call(this,"d")}function m0(){_r.call(this,"c")}function $s(){}function Hs(n,e,t,r){this.l=n,this.j=e,this.m=t,this.W=r||1,this.U=new Op(this),this.P=_0,this.V=new Ul(n=Ap?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.aa=-1,this.J=!1,this.O=0,this.M=null,this.ca=this.K=this.ba=this.S=!1,this.h=new y0}function y0(){this.i=null,this.g="",this.h=!1}zr(ay,_r),zr(m0,_r),zr($s,f0),$s.prototype.g=function(){return new XMLHttpRequest},$s.prototype.i=function(){return{}},Lp=new $s;var _0=45e3,uy={},cy={};function mI(n,e,t){n.L=1,n.v=E0(Gs(e)),n.s=t,n.S=!0,yI(n,null)}function yI(n,e){n.G=Date.now(),Eh(n),n.A=Gs(n.v);var t=n.A,r=n.W;Array.isArray(r)||(r=[String(r)]),jp(t.i,"t",r),n.C=0,t=n.l.I,n.h=new y0,n.g=A(n.l,t?e:null,!n.s),0<n.O&&(n.M=new Hx(vn(n.Pa,n,n.g),n.O)),dI(n.U,n.g,"readystatechange",n.nb),e=n.I?JE(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),Np(),function hI(n,e,t,r,i,u){n.info(function(){if(n.g)if(u)for(var d="",m=u.split("&"),w=0;w<m.length;w++){var D=m[w].split("=");if(1<D.length){var S=D[0];D=D[1];var O=S.split("_");d=2<=O.length&&"type"==O[1]?d+(S+"=")+D+"&":d+(S+"=redacted&")}}else d=null;else d=u;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+d})}(n.j,n.u,n.A,n.m,n.W,n.s)}function _I(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function vI(n,e,t){let i,r=!0;for(;!n.J&&n.C<t.length;){if(i=dS(n,t),i==cy){4==e&&(n.o=4,Li(14),r=!1),Rp(n.j,n.m,null,"[Incomplete Response]");break}if(i==uy){n.o=4,Li(15),Rp(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Rp(n.j,n.m,i,null),wI(n,i)}_I(n)&&i!=cy&&i!=uy&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Li(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.ca&&(n.ca=!0,(e=n.l).g==n&&e.ca&&!e.L&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),o(e),e.L=!0,Li(11))):(Rp(n.j,n.m,t,"[Invalid Chunked Response]"),Ec(n),Up(n))}function dS(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?cy:(t=Number(e.substring(t,r)),isNaN(t)?uy:(r+=1)+t>e.length?cy:(e=e.substr(r,t),n.C=r+t,e))}function Eh(n){n.Y=Date.now()+n.P,hS(n,n.P)}function hS(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Bl(vn(n.lb,n),e)}function Vp(n){n.B&&(Ft.clearTimeout(n.B),n.B=null)}function Up(n){0==n.l.H||n.J||h(n.l,n)}function Ec(n){Vp(n);var e=n.M;e&&"function"==typeof e.ra&&e.ra(),n.M=null,l0(n.V),cS(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.ra())}function wI(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||I0(t.h,n)))if(!n.K&&I0(t.h,n)&&3==t.H){try{var r=t.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;l(t),A0(t)}s(t),Li(18)}}else t.Fa=i[1],0<t.Fa-t.V&&37500>i[2]&&t.M&&0==t.A&&!t.v&&(t.v=Bl(vn(t.ib,t),6e3));if(1>=py(t.h)&&t.na){try{t.na()}catch{}t.na=void 0}}else _(t,11)}else if((n.K||t.g==n)&&l(t),!wh(e))for(i=t.Ja.g.parse(e),e=0;e<i.length;e++){let D=i[e];if(t.V=D[0],D=D[1],2==t.H)if("c"==D[0]){t.J=D[1],t.oa=D[2];const S=D[3];null!=S&&(t.qa=S,t.j.info("VER="+t.qa));const O=D[4];null!=O&&(t.Ga=O,t.j.info("SVER="+t.Ga));const U=D[5];null!=U&&"number"==typeof U&&0<U&&(t.K=r=1.5*U,t.j.info("backChannelRequestTimeoutMs_="+r)),r=t;const Z=n.g;if(Z){const oe=Z.g?Z.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(oe){var u=r.h;u.g||-1==oe.indexOf("spdy")&&-1==oe.indexOf("quic")&&-1==oe.indexOf("h2")||(u.j=u.l,u.g=new Set,u.h&&($p(u,u.h),u.h=null))}if(r.F){const De=Z.g?Z.g.getResponseHeader("X-HTTP-Session-Id"):null;De&&(r.Da=De,Vn(r.G,r.F,De))}}t.H=3,t.l&&t.l.Ba(),t.ca&&(t.S=Date.now()-n.G,t.j.info("Handshake RTT: "+t.S+"ms"));var d=n;if((r=t).wa=b(r,r.I?r.oa:null,r.Y),d.K){gy(r.h,d);var m=d,w=r.K;w&&m.setTimeout(w),m.B&&(Vp(m),Eh(m)),r.g=d}else CS(r);0<t.i.length&&M0(t)}else"stop"!=D[0]&&"close"!=D[0]||_(t,7);else 3==t.H&&("stop"==D[0]||"close"==D[0]?"stop"==D[0]?_(t,7):LI(t):"noop"!=D[0]&&t.l&&t.l.Aa(D),t.A=0)}Np()}catch{}}function w0(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Dp(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function CI(n){if(n.sa&&"function"==typeof n.sa)return n.sa();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(Dp(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function v0(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(Dp(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,u=0;u<i;u++)e.call(void 0,r[u],t&&t[u],n)}(et=Hs.prototype).setTimeout=function(n){this.P=n},et.nb=function(n){n=n.target;const e=this.M;e&&3==Dc(n)?e.l():this.Pa(n)},et.Pa=function(n){try{if(n==this.g)e:{const S=Dc(this.g);var e=this.g.Ia();if(this.g.da(),!(3>S)&&(3!=S||Ap||this.g&&(this.h.h||this.g.ja()||kI(this.g)))){this.J||4!=S||7==e||Np(),Vp(this);var t=this.g.da();this.aa=t;t:if(_I(this)){var r=kI(this.g);n="";var i=r.length,u=4==Dc(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Ec(this),Up(this);var d="";break t}this.h.i=new Ft.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:u&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,d=this.h.g}else d=this.g.ja();if(this.i=200==t,function fI(n,e,t,r,i,u,d){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+u+" "+d})}(this.j,this.u,this.A,this.m,this.W,S,t),this.i){if(this.ba&&!this.K){t:{if(this.g){var m,w=this.g;if((m=w.g?w.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!wh(m)){var D=m;break t}}D=null}if(!(t=D)){this.i=!1,this.o=3,Li(12),Ec(this),Up(this);break e}Rp(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,wI(this,t)}this.S?(vI(this,S,d),Ap&&this.i&&3==S&&(dI(this.U,this.V,"tick",this.mb),this.V.start())):(Rp(this.j,this.m,d,null),wI(this,d)),4==S&&Ec(this),this.i&&!this.J&&(4==S?h(this.l,this):(this.i=!1,Eh(this)))}else 400==t&&0<d.indexOf("Unknown SID")?(this.o=3,Li(12)):(this.o=0,Li(13)),Ec(this),Up(this)}}}catch{}},et.mb=function(){if(this.g){var n=Dc(this.g),e=this.g.ja();this.C<e.length&&(Vp(this),vI(this,n,e),this.i&&4!=n&&Eh(this))}},et.cancel=function(){this.J=!0,Ec(this)},et.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function Do(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Np(),Li(17)),Ec(this),this.o=2,Up(this)):hS(this,this.Y-n)};var C0=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ic(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Ic){this.h=void 0!==e?e:n.h,jl(this,n.j),this.s=n.s,this.g=n.g,Bp(this,n.m),this.l=n.l,e=n.i;var t=new hy;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),II(this,t),this.o=n.o}else n&&(t=String(n).match(C0))?(this.h=!!e,jl(this,t[1]||"",!0),this.s=ly(t[2]||""),this.g=ly(t[3]||"",!0),Bp(this,t[4]),this.l=ly(t[5]||"",!0),II(this,t[6]||"",!0),this.o=ly(t[7]||"")):(this.h=!!e,this.i=new hy(null,this.h))}function Gs(n){return new Ic(n)}function jl(n,e,t){n.j=t?ly(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Bp(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function II(n,e,t){e instanceof hy?(n.i=e,function mS(n,e){e&&!n.j&&($l(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(gS(this,r),jp(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=dy(e,Gx)),n.i=new hy(e,n.h))}function Vn(n,e,t){n.i.set(e,t)}function E0(n){return Vn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function ly(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function dy(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,bI),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function bI(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Ic.prototype.toString=function(){var n=[],e=this.j;e&&n.push(dy(e,DI,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(dy(e,DI,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(dy(t,"/"==t.charAt(0)?pS:fS,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",dy(t,zx)),n.join("")};var DI=/[#\/\?@]/g,fS=/[#\?:]/g,pS=/[#\?]/g,Gx=/[#\?@]/g,zx=/#/g;function hy(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function $l(n){n.g||(n.g=new Map,n.h=0,n.i&&function EI(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var u=n[t].substring(0,r);i=n[t].substring(r+1)}else u=n[t];e(u,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function gS(n,e){$l(n),e=Ih(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function TI(n,e){return $l(n),e=Ih(n,e),n.g.has(e)}function jp(n,e,t){gS(n,e),0<t.length&&(n.i=null,n.g.set(Ih(n,e),zm(t)),n.h+=t.length)}function Ih(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function bc(n){this.l=n||AI,n=Ft.PerformanceNavigationTiming?0<(n=Ft.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Ft.g&&Ft.g.Ka&&Ft.g.Ka()&&Ft.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(et=hy.prototype).add=function(n,e){$l(this),this.i=null,n=Ih(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},et.forEach=function(n,e){$l(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},et.sa=function(){$l(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let u=0;u<i.length;u++)t.push(e[r])}return t},et.Z=function(n){$l(this);let e=[];if("string"==typeof n)TI(this,n)&&(e=e.concat(this.g.get(Ih(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},et.set=function(n,e){return $l(this),this.i=null,TI(this,n=Ih(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},et.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},et.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const u=encodeURIComponent(String(r)),d=this.Z(r);for(r=0;r<d.length;r++){var i=u;""!==d[r]&&(i+="="+encodeURIComponent(String(d[r]))),n.push(i)}}return this.i=n.join("&")};var AI=10;function fy(n){return!!n.h||!!n.g&&n.g.size>=n.j}function py(n){return n.h?1:n.g?n.g.size:0}function I0(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function $p(n,e){n.g?n.g.add(e):n.h=e}function gy(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function Hp(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return zm(n.i)}function MI(){}function qx(){this.g=new MI}function Zx(n,e,t){const r=t||"";try{w0(n,function(i,u){let d=i;Tp(i)&&(d=ry(i)),e.push(r+u+"="+encodeURIComponent(d))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Gp(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function zp(n){this.l=n.fc||null,this.j=n.ob||!1}function my(n,e){oi.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=b0,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}bc.prototype.cancel=function(){if(this.i=Hp(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},MI.prototype.stringify=function(n){return Ft.JSON.stringify(n,void 0)},MI.prototype.parse=function(n){return Ft.JSON.parse(n,void 0)},zr(zp,f0),zp.prototype.g=function(){return new my(this.l,this.j)},zp.prototype.i=function(n){return function(){return n}}({}),zr(my,oi);var b0=0;function xI(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function bh(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Dh(n)}function Dh(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(et=my.prototype).open=function(n,e){if(this.readyState!=b0)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Dh(this)},et.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||Ft).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},et.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,bh(this)),this.readyState=b0},et.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Dh(this)),this.g&&(this.readyState=3,Dh(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Ft.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;xI(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},et.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?bh(this):Dh(this),3==this.readyState&&xI(this)}},et.Za=function(n){this.g&&(this.response=this.responseText=n,bh(this))},et.Ya=function(n){this.g&&(this.response=n,bh(this))},et.ka=function(){this.g&&bh(this)},et.setRequestHeader=function(n,e){this.v.append(n,e)},et.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},et.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(my.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var PI=Ft.JSON.parse;function nr(n){oi.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=OI,this.L=this.M=!1}zr(nr,oi);var OI="",RI=/^https?$/i,D0=["POST","PUT"];function T0(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,yy(n),_y(n)}function yy(n){n.F||(n.F=!0,vr(n,"complete"),vr(n,"error"))}function NI(n){if(n.h&&typeof Hm<"u"&&(!n.C[1]||4!=Dc(n)||2!=n.da()))if(n.v&&4==Dc(n))cI(n.La,0,n);else if(vr(n,"readystatechange"),4==Dc(n)){n.h=!1;try{const m=n.da();e:switch(m){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===m){var i=String(n.I).match(C0)[1]||null;if(!i&&Ft.self&&Ft.self.location){var u=Ft.self.location.protocol;i=u.substr(0,u.length-1)}r=!RI.test(i?i.toLowerCase():"")}t=r}if(t)vr(n,"complete"),vr(n,"success");else{n.m=6;try{var d=2<Dc(n)?n.g.statusText:""}catch{d=""}n.j=d+" ["+n.da()+"]",yy(n)}}finally{_y(n)}}}function _y(n,e){if(n.g){yS(n);const t=n.g,r=n.C[0]?bp:null;n.g=null,n.C=null,e||vr(n,"ready");try{t.onreadystatechange=r}catch{}}}function yS(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(Ft.clearTimeout(n.A),n.A=null)}function Dc(n){return n.g?n.g.readyState:0}function kI(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case OI:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function FI(n){let e="";return Qm(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function S0(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=FI(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Vn(n,e,t))}function vy(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function _S(n){this.Ga=0,this.i=[],this.j=new sy,this.oa=this.wa=this.G=this.Y=this.g=this.Da=this.F=this.ma=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=vy("failFast",!1,n),this.M=this.v=this.u=this.m=this.l=null,this.aa=!0,this.ta=this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=vy("baseRetryDelayMs",5e3,n),this.hb=vy("retryDelaySeedMs",1e4,n),this.eb=vy("forwardChannelMaxRetries",2,n),this.xa=vy("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.K=void 0,this.I=n&&n.supportsCrossDomainXhr||!1,this.J="",this.h=new bc(n&&n.concurrentRequestLimit),this.Ja=new qx,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.j.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.na=void 0,this.S=0,this.L=!1,this.pa=this.B=null}function LI(n){if(VI(n),3==n.H){var e=n.W++,t=Gs(n.G);Vn(t,"SID",n.J),Vn(t,"RID",e),Vn(t,"TYPE","terminate"),wy(n,t),(e=new Hs(n,n.j,e,void 0)).L=2,e.v=E0(Gs(t)),t=!1,Ft.navigator&&Ft.navigator.sendBeacon&&(t=Ft.navigator.sendBeacon(e.v.toString(),"")),!t&&Ft.Image&&((new Image).src=e.v,t=!0),t||(e.g=A(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Eh(e)}E(n)}function A0(n){n.g&&(o(n),n.g.cancel(),n.g=null)}function VI(n){A0(n),n.u&&(Ft.clearTimeout(n.u),n.u=null),l(n),n.h.cancel(),n.m&&("number"==typeof n.m&&Ft.clearTimeout(n.m),n.m=null)}function M0(n){fy(n.h)||n.m||(n.m=!0,u0(n.Na,n),n.C=0)}function vS(n,e){var t;t=e?e.m:n.W++;const r=Gs(n.G);Vn(r,"SID",n.J),Vn(r,"RID",t),Vn(r,"AID",n.V),wy(n,r),n.o&&n.s&&S0(r,n.o,n.s),t=new Hs(n,n.j,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.i=e.F.concat(n.i)),e=wS(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),$p(n.h,t),mI(t,r,e)}function wy(n,e){n.ma&&Qm(n.ma,function(t,r){Vn(e,r,t)}),n.l&&w0({},function(t,r){Vn(e,r,t)})}function wS(n,e,t){t=Math.min(n.i.length,t);var r=n.l?vn(n.l.Va,n.l,n):null;e:{var i=n.i;let u=-1;for(;;){const d=["count="+t];-1==u?0<t?(u=i[0].h,d.push("ofs="+u)):u=0:d.push("ofs="+u);let m=!0;for(let w=0;w<t;w++){let D=i[w].h;const S=i[w].g;if(D-=u,0>D)u=Math.max(0,i[w].h-100),m=!1;else try{Zx(S,d,"req"+D+"_")}catch{r&&r(S)}}if(m){r=d.join("&");break e}}}return n=n.i.splice(0,t),e.F=n,r}function CS(n){n.g||n.u||(n.ba=1,u0(n.Ma,n),n.A=0)}function s(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=Bl(vn(n.Ma,n),g(n,n.A)),n.A++,0))}function o(n){null!=n.B&&(Ft.clearTimeout(n.B),n.B=null)}function a(n){n.g=new Hs(n,n.j,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=Gs(n.wa);Vn(e,"RID","rpc"),Vn(e,"SID",n.J),Vn(e,"CI",n.M?"0":"1"),Vn(e,"AID",n.V),Vn(e,"TYPE","xmlhttp"),wy(n,e),n.o&&n.s&&S0(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.oa,t.L=1,t.v=E0(Gs(e)),t.s=null,t.S=!0,yI(t,n)}function l(n){null!=n.v&&(Ft.clearTimeout(n.v),n.v=null)}function h(n,e){var t=null;if(n.g==e){l(n),o(n),n.g=null;var r=2}else{if(!I0(n.h,e))return;t=e.F,gy(n.h,e),r=1}if(0!=n.H)if(n.ta=e.aa,e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.G;var i=n.C;vr(r=d0(),new gI(r,t)),M0(n)}else CS(n);else if(3==(i=e.o)||0==i&&0<n.ta||!(1==r&&function Yx(n,e){return!(py(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.F.concat(n.i),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=Bl(vn(n.Na,n,e),g(n,n.C)),n.C++,0)))}(n,e)||2==r&&s(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),i){case 1:_(n,5);break;case 4:_(n,10);break;case 3:_(n,6);break;default:_(n,2)}}function g(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.l||(t*=2),t*e}function _(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var r=vn(n.pb,n);t||(t=new Ic("//www.google.com/images/cleardot.gif"),Ft.location&&"http"==Ft.location.protocol||jl(t,"https"),E0(t)),function Wx(n,e){const t=new sy;if(Ft.Image){const r=new Image;r.onload=uu(Gp,t,r,"TestLoadImage: loaded",!0,e),r.onerror=uu(Gp,t,r,"TestLoadImage: error",!1,e),r.onabort=uu(Gp,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=uu(Gp,t,r,"TestLoadImage: timeout",!1,e),Ft.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Li(2);n.H=0,n.l&&n.l.za(e),E(n),VI(n)}function E(n){if(n.H=0,n.pa=[],n.l){const e=Hp(n.h);(0!=e.length||0!=n.i.length)&&(qm(n.pa,e),qm(n.pa,n.i),n.h.i.length=0,zm(n.i),n.i.length=0),n.l.ya()}}function b(n,e,t){var r=t instanceof Ic?Gs(t):new Ic(t,void 0);if(""!=r.g)e&&(r.g=e+"."+r.g),Bp(r,r.m);else{var i=Ft.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var u=new Ic(null,void 0);r&&jl(u,r),e&&(u.g=e),i&&Bp(u,i),t&&(u.l=t),r=u}return e=n.Da,(t=n.F)&&e&&Vn(r,t,e),Vn(r,"VER",n.qa),wy(n,r),r}function A(n,e,t){if(e&&!n.I)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new nr(t&&n.Ha&&!n.va?new zp({ob:!0}):n.va)).Oa(n.I),e}function P(){}function F(){if(Vl&&!(10<=Number(nS)))throw Error("Environmental error: no available transport.")}function G(n,e){oi.call(this),this.g=new _S(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!wh(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!wh(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Fe(this)}function Y(n){ay.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function ye(){m0.call(this),this.status=1}function Fe(n){this.g=n}function Qe(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Tt(n,e,t){t||(t=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(i=0;16>i;++i)r[i]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var u=n.g[3],d=(e=n.g[0])+(u^(t=n.g[1])&((i=n.g[2])^u))+r[0]+3614090360&4294967295;d=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=t+(d<<7&4294967295|d>>>25))+((d=u+(i^e&(t^i))+r[1]+3905402710&4294967295)<<12&4294967295|d>>>20))+((d=i+(t^u&(e^t))+r[2]+606105819&4294967295)<<17&4294967295|d>>>15))+((d=t+(e^i&(u^e))+r[3]+3250441966&4294967295)<<22&4294967295|d>>>10))+((d=e+(u^t&(i^u))+r[4]+4118548399&4294967295)<<7&4294967295|d>>>25))+((d=u+(i^e&(t^i))+r[5]+1200080426&4294967295)<<12&4294967295|d>>>20))+((d=i+(t^u&(e^t))+r[6]+2821735955&4294967295)<<17&4294967295|d>>>15))+((d=t+(e^i&(u^e))+r[7]+4249261313&4294967295)<<22&4294967295|d>>>10))+((d=e+(u^t&(i^u))+r[8]+1770035416&4294967295)<<7&4294967295|d>>>25))+((d=u+(i^e&(t^i))+r[9]+2336552879&4294967295)<<12&4294967295|d>>>20))+((d=i+(t^u&(e^t))+r[10]+4294925233&4294967295)<<17&4294967295|d>>>15))+((d=t+(e^i&(u^e))+r[11]+2304563134&4294967295)<<22&4294967295|d>>>10))+((d=e+(u^t&(i^u))+r[12]+1804603682&4294967295)<<7&4294967295|d>>>25))+((d=u+(i^e&(t^i))+r[13]+4254626195&4294967295)<<12&4294967295|d>>>20))+((d=i+(t^u&(e^t))+r[14]+2792965006&4294967295)<<17&4294967295|d>>>15))+((d=t+(e^i&(u^e))+r[15]+1236535329&4294967295)<<22&4294967295|d>>>10))+((d=e+(i^u&(t^i))+r[1]+4129170786&4294967295)<<5&4294967295|d>>>27))+((d=u+(t^i&(e^t))+r[6]+3225465664&4294967295)<<9&4294967295|d>>>23))+((d=i+(e^t&(u^e))+r[11]+643717713&4294967295)<<14&4294967295|d>>>18))+((d=t+(u^e&(i^u))+r[0]+3921069994&4294967295)<<20&4294967295|d>>>12))+((d=e+(i^u&(t^i))+r[5]+3593408605&4294967295)<<5&4294967295|d>>>27))+((d=u+(t^i&(e^t))+r[10]+38016083&4294967295)<<9&4294967295|d>>>23))+((d=i+(e^t&(u^e))+r[15]+3634488961&4294967295)<<14&4294967295|d>>>18))+((d=t+(u^e&(i^u))+r[4]+3889429448&4294967295)<<20&4294967295|d>>>12))+((d=e+(i^u&(t^i))+r[9]+568446438&4294967295)<<5&4294967295|d>>>27))+((d=u+(t^i&(e^t))+r[14]+3275163606&4294967295)<<9&4294967295|d>>>23))+((d=i+(e^t&(u^e))+r[3]+4107603335&4294967295)<<14&4294967295|d>>>18))+((d=t+(u^e&(i^u))+r[8]+1163531501&4294967295)<<20&4294967295|d>>>12))+((d=e+(i^u&(t^i))+r[13]+2850285829&4294967295)<<5&4294967295|d>>>27))+((d=u+(t^i&(e^t))+r[2]+4243563512&4294967295)<<9&4294967295|d>>>23))+((d=i+(e^t&(u^e))+r[7]+1735328473&4294967295)<<14&4294967295|d>>>18))+((d=t+(u^e&(i^u))+r[12]+2368359562&4294967295)<<20&4294967295|d>>>12))+((d=e+(t^i^u)+r[5]+4294588738&4294967295)<<4&4294967295|d>>>28))+((d=u+(e^t^i)+r[8]+2272392833&4294967295)<<11&4294967295|d>>>21))+((d=i+(u^e^t)+r[11]+1839030562&4294967295)<<16&4294967295|d>>>16))+((d=t+(i^u^e)+r[14]+4259657740&4294967295)<<23&4294967295|d>>>9))+((d=e+(t^i^u)+r[1]+2763975236&4294967295)<<4&4294967295|d>>>28))+((d=u+(e^t^i)+r[4]+1272893353&4294967295)<<11&4294967295|d>>>21))+((d=i+(u^e^t)+r[7]+4139469664&4294967295)<<16&4294967295|d>>>16))+((d=t+(i^u^e)+r[10]+3200236656&4294967295)<<23&4294967295|d>>>9))+((d=e+(t^i^u)+r[13]+681279174&4294967295)<<4&4294967295|d>>>28))+((d=u+(e^t^i)+r[0]+3936430074&4294967295)<<11&4294967295|d>>>21))+((d=i+(u^e^t)+r[3]+3572445317&4294967295)<<16&4294967295|d>>>16))+((d=t+(i^u^e)+r[6]+76029189&4294967295)<<23&4294967295|d>>>9))+((d=e+(t^i^u)+r[9]+3654602809&4294967295)<<4&4294967295|d>>>28))+((d=u+(e^t^i)+r[12]+3873151461&4294967295)<<11&4294967295|d>>>21))+((d=i+(u^e^t)+r[15]+530742520&4294967295)<<16&4294967295|d>>>16))+((d=t+(i^u^e)+r[2]+3299628645&4294967295)<<23&4294967295|d>>>9))+((d=e+(i^(t|~u))+r[0]+4096336452&4294967295)<<6&4294967295|d>>>26))+((d=u+(t^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|d>>>22))+((d=i+(e^(u|~t))+r[14]+2878612391&4294967295)<<15&4294967295|d>>>17))+((d=t+(u^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|d>>>11))+((d=e+(i^(t|~u))+r[12]+1700485571&4294967295)<<6&4294967295|d>>>26))+((d=u+(t^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|d>>>22))+((d=i+(e^(u|~t))+r[10]+4293915773&4294967295)<<15&4294967295|d>>>17))+((d=t+(u^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|d>>>11))+((d=e+(i^(t|~u))+r[8]+1873313359&4294967295)<<6&4294967295|d>>>26))+((d=u+(t^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|d>>>22))+((d=i+(e^(u|~t))+r[6]+2734768916&4294967295)<<15&4294967295|d>>>17))+((d=t+(u^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|d>>>11))+((u=(e=t+((d=e+(i^(t|~u))+r[4]+4149444226&4294967295)<<6&4294967295|d>>>26))+((d=u+(t^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|d>>>22))^((i=u+((d=i+(e^(u|~t))+r[2]+718787259&4294967295)<<15&4294967295|d>>>17))|~e))+r[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(i+(d<<21&4294967295|d>>>11))&4294967295,n.g[2]=n.g[2]+i&4294967295,n.g[3]=n.g[3]+u&4294967295}function fe(n,e){this.h=e;for(var t=[],r=!0,i=n.length-1;0<=i;i--){var u=0|n[i];r&&u==e||(t[i]=u,r=!1)}this.g=t}(et=nr.prototype).Oa=function(n){this.M=n},et.ha=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Lp.g(),this.C=function p0(n){return n.h||(n.h=n.i())}(this.u?this.u:Lp),this.g.onreadystatechange=vn(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(u){return void T0(this,u)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const u of r.keys())t.set(u,r.get(u))}r=Array.from(t.keys()).find(u=>"content-type"==u.toLowerCase()),i=Ft.FormData&&n instanceof Ft.FormData,!(0<=JT(D0,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[u,d]of t)this.g.setRequestHeader(u,d);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{yS(this),0<this.B&&((this.L=function Kx(n){return Vl&&function Vx(){return Km(e0,9,function(){let n=0;const e=ZE(String(Mp)).split("."),t=ZE("9").split("."),r=Math.max(e.length,t.length);for(let d=0;0==n&&d<r;d++){var i=e[d]||"",u=t[d]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],0==i[0].length&&0==u[0].length)break;n=Zm(0==i[1].length?0:parseInt(i[1],10),0==u[1].length?0:parseInt(u[1],10))||Zm(0==i[2].length,0==u[2].length)||Zm(i[2],u[2]),i=i[3],u=u[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=vn(this.ua,this)):this.A=cI(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(u){T0(this,u)}},et.ua=function(){typeof Hm<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,vr(this,"timeout"),this.abort(8))},et.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,vr(this,"complete"),vr(this,"abort"),_y(this))},et.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),_y(this,!0)),nr.$.N.call(this)},et.La=function(){this.s||(this.G||this.v||this.l?NI(this):this.kb())},et.kb=function(){NI(this)},et.da=function(){try{return 2<Dc(this)?this.g.status:-1}catch{return-1}},et.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},et.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),PI(e)}},et.Ia=function(){return this.m},et.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(et=_S.prototype).qa=8,et.H=1,et.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const i=new Hs(this,this.j,n,void 0);let u=this.s;if(this.U&&(u?(u=JE(u),n0(u,this.U)):u=this.U),null!==this.o||this.O||(i.I=u,u=null),this.P)e:{for(var e=0,t=0;t<this.i.length;t++){var r=this.i[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=wS(this,i,e),Vn(t=Gs(this.G),"RID",n),Vn(t,"CVER",22),this.F&&Vn(t,"X-HTTP-Session-Id",this.F),wy(this,t),u&&(this.O?e="headers="+encodeURIComponent(String(FI(u)))+"&"+e:this.o&&S0(t,this.o,u)),$p(this.h,i),this.bb&&Vn(t,"TYPE","init"),this.P?(Vn(t,"$req",e),Vn(t,"SID","null"),i.ba=!0,mI(i,t,null)):mI(i,t,e),this.H=2}}else 3==this.H&&(n?vS(this,n):0==this.i.length||fy(this.h)||vS(this))},et.Ma=function(){if(this.u=null,a(this),this.ca&&!(this.L||null==this.g||0>=this.S)){var n=2*this.S;this.j.info("BP detection timer enabled: "+n),this.B=Bl(vn(this.jb,this),n)}},et.jb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.M=!1,this.L=!0,Li(10),A0(this),a(this))},et.ib=function(){null!=this.v&&(this.v=null,A0(this),s(this),Li(19))},et.pb=function(n){n?(this.j.info("Successfully pinged google.com"),Li(2)):(this.j.info("Failed to ping google.com"),Li(1))},(et=P.prototype).Ba=function(){},et.Aa=function(){},et.za=function(){},et.ya=function(){},et.Va=function(){},F.prototype.g=function(n,e){return new G(n,e)},zr(G,oi),G.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.I=!0);var n=this.g,e=this.l,t=this.h||void 0;Li(0),n.Y=e,n.ma=t||{},n.M=n.aa,n.G=b(n,null,n.Y),M0(n)},G.prototype.close=function(){LI(this.g)},G.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=ry(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.fb++,n)),3==e.H&&M0(e)},G.prototype.N=function(){this.g.l=null,delete this.j,LI(this.g),delete this.g,G.$.N.call(this)},zr(Y,ay),zr(ye,m0),zr(Fe,P),Fe.prototype.Ba=function(){vr(this.g,"a")},Fe.prototype.Aa=function(n){vr(this.g,new Y(n))},Fe.prototype.za=function(n){vr(this.g,new ye)},Fe.prototype.ya=function(){vr(this.g,"b")},zr(Qe,function We(){this.blockSize=-1}),Qe.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Qe.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,r=this.m,i=this.h,u=0;u<e;){if(0==i)for(;u<=t;)Tt(this,n,u),u+=this.blockSize;if("string"==typeof n){for(;u<e;)if(r[i++]=n.charCodeAt(u++),i==this.blockSize){Tt(this,r),i=0;break}}else for(;u<e;)if(r[i++]=n[u++],i==this.blockSize){Tt(this,r),i=0;break}}this.h=i,this.i+=e},Qe.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var r=0;32>r;r+=8)n[t++]=this.g[e]>>>r&255;return n};var Lt={};function Mn(n){return-128<=n&&128>n?Km(Lt,n,function(e){return new fe([0|e],0>e?-1:0)}):new fe([0|n],0>n?-1:0)}function wn(n){if(isNaN(n)||!isFinite(n))return Cy;if(0>n)return Vi(wn(-n));for(var e=[],t=1,r=0;n>=t;r++)e[r]=n/t|0,t*=IS;return new fe(e,0)}var IS=4294967296,Cy=Mn(0),bS=Mn(1),Qx=Mn(16777216);function Hl(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function la(n){return-1==n.h}function Vi(n){for(var e=n.g.length,t=[],r=0;r<e;r++)t[r]=~n.g[r];return new fe(t,~n.h).add(bS)}function UI(n,e){return n.add(Vi(e))}function BI(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function x0(n,e){this.g=n,this.h=e}function jI(n,e){if(Hl(e))throw Error("division by zero");if(Hl(n))return new x0(Cy,Cy);if(la(n))return e=jI(Vi(n),e),new x0(Vi(e.g),Vi(e.h));if(la(e))return e=jI(n,Vi(e)),new x0(Vi(e.g),e.h);if(30<n.g.length){if(la(n)||la(e))throw Error("slowDivide_ only works with positive integers.");for(var t=bS,r=e;0>=r.X(n);)t=Jx(t),r=Jx(r);var i=Ey(t,1),u=Ey(r,1);for(r=Ey(r,2),t=Ey(t,2);!Hl(r);){var d=u.add(r);0>=d.X(n)&&(i=i.add(t),u=d),r=Ey(r,1),t=Ey(t,1)}return e=UI(n,i.R(e)),new x0(i,e)}for(i=Cy;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,r-48),d=(u=wn(t)).R(e);la(d)||0<d.X(n);)d=(u=wn(t-=r)).R(e);Hl(u)&&(u=bS),i=i.add(u),n=UI(n,d)}return new x0(i,n)}function Jx(n){for(var e=n.g.length+1,t=[],r=0;r<e;r++)t[r]=n.D(r)<<1|n.D(r-1)>>>31;return new fe(t,n.h)}function Ey(n,e){var t=e>>5;e%=32;for(var r=n.g.length-t,i=[],u=0;u<r;u++)i[u]=0<e?n.D(u+t)>>>e|n.D(u+t+1)<<32-e:n.D(u+t);return new fe(i,n.h)}(et=fe.prototype).ea=function(){if(la(this))return-Vi(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var r=this.D(t);n+=(0<=r?r:IS+r)*e,e*=IS}return n},et.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(Hl(this))return"0";if(la(this))return"-"+Vi(this).toString(n);for(var e=wn(Math.pow(n,6)),t=this,r="";;){var i=jI(t,e).g,u=((0<(t=UI(t,i.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(Hl(t=i))return u+r;for(;6>u.length;)u="0"+u;r=u+r}},et.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},et.X=function(n){return la(n=UI(this,n))?-1:Hl(n)?0:1},et.abs=function(){return la(this)?Vi(this):this},et.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0,i=0;i<=e;i++){var u=r+(65535&this.D(i))+(65535&n.D(i)),d=(u>>>16)+(this.D(i)>>>16)+(n.D(i)>>>16);r=d>>>16,t[i]=(d&=65535)<<16|(u&=65535)}return new fe(t,-2147483648&t[t.length-1]?-1:0)},et.R=function(n){if(Hl(this)||Hl(n))return Cy;if(la(this))return la(n)?Vi(this).R(Vi(n)):Vi(Vi(this).R(n));if(la(n))return Vi(this.R(Vi(n)));if(0>this.X(Qx)&&0>n.X(Qx))return wn(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],r=0;r<2*e;r++)t[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<n.g.length;i++){var u=this.D(r)>>>16,d=65535&this.D(r),m=n.D(i)>>>16,w=65535&n.D(i);t[2*r+2*i]+=d*w,BI(t,2*r+2*i),t[2*r+2*i+1]+=u*w,BI(t,2*r+2*i+1),t[2*r+2*i+1]+=d*m,BI(t,2*r+2*i+1),t[2*r+2*i+2]+=u*m,BI(t,2*r+2*i+2)}for(r=0;r<e;r++)t[r]=t[2*r+1]<<16|t[2*r];for(r=e;r<2*e;r++)t[r]=0;return new fe(t,0)},et.gb=function(n){return jI(this,n).h},et.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)&n.D(r);return new fe(t,this.h&n.h)},et.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)|n.D(r);return new fe(t,this.h|n.h)},et.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)^n.D(r);return new fe(t,this.h^n.h)},F.prototype.createWebChannel=F.prototype.g,G.prototype.send=G.prototype.u,G.prototype.open=G.prototype.m,G.prototype.close=G.prototype.close,kp.NO_ERROR=0,kp.TIMEOUT=8,kp.HTTP_ERROR=6,h0.COMPLETE="complete",g0.EventType=Fp,Fp.OPEN="a",Fp.CLOSE="b",Fp.ERROR="c",Fp.MESSAGE="d",oi.prototype.listen=oi.prototype.O,nr.prototype.listenOnce=nr.prototype.P,nr.prototype.getLastError=nr.prototype.Sa,nr.prototype.getLastErrorCode=nr.prototype.Ia,nr.prototype.getStatus=nr.prototype.da,nr.prototype.getResponseJson=nr.prototype.Wa,nr.prototype.getResponseText=nr.prototype.ja,nr.prototype.send=nr.prototype.ha,nr.prototype.setWithCredentials=nr.prototype.Oa,Qe.prototype.digest=Qe.prototype.l,Qe.prototype.reset=Qe.prototype.reset,Qe.prototype.update=Qe.prototype.j,fe.prototype.add=fe.prototype.add,fe.prototype.multiply=fe.prototype.R,fe.prototype.modulo=fe.prototype.gb,fe.prototype.compare=fe.prototype.X,fe.prototype.toNumber=fe.prototype.ea,fe.prototype.toString=fe.prototype.toString,fe.prototype.getBits=fe.prototype.D,fe.fromNumber=wn,fe.fromString=function ES(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return Vi(ES(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=wn(Math.pow(e,8)),r=Cy,i=0;i<n.length;i+=8){var u=Math.min(8,n.length-i),d=parseInt(n.substring(i,i+u),e);8>u?(u=wn(Math.pow(e,u)),r=r.R(u).add(wn(d))):r=(r=r.R(t)).add(wn(d))}return r};var VR=js.createWebChannelTransport=function(){return new F},UR=js.getStatEventTarget=function(){return d0()},DS=js.ErrorCode=kp,BR=js.EventType=h0,jR=js.Event=cu,Xx=js.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},$R=js.FetchXmlHttpFactory=zp,$I=js.WebChannel=g0,HR=js.XhrIo=nr,GR=js.Md5=Qe,Iy=js.Integer=fe;const e1="@firebase/firestore";class Di{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Di.UNAUTHENTICATED=new Di(null),Di.GOOGLE_CREDENTIALS=new Di("google-credentials-uid"),Di.FIRST_PARTY=new Di("first-party-uid"),Di.MOCK_USER=new Di("mock-user");let by="9.21.0";const Th=new kl.Yd("@firebase/firestore");function TS(){return Th.logLevel}function ke(n,...e){if(Th.logLevel<=kl.in.DEBUG){const t=e.map(SS);Th.debug(`Firestore (${by}): ${n}`,...t)}}function Or(n,...e){if(Th.logLevel<=kl.in.ERROR){const t=e.map(SS);Th.error(`Firestore (${by}): ${n}`,...t)}}function da(n,...e){if(Th.logLevel<=kl.in.WARN){const t=e.map(SS);Th.warn(`Firestore (${by}): ${n}`,...t)}}function SS(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function ot(n="Unexpected state"){const e=`FIRESTORE (${by}) INTERNAL ASSERTION FAILED: `+n;throw Or(e),new Error(e)}function _t(n,e){n||ot()}function Je(n,e){return n}const ae={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ae extends mn.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ai{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class t1{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ZR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Di.UNAUTHENTICATED))}shutdown(){}}class WR{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class KR{constructor(e){this.t=e,this.currentUser=Di.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const u=D=>this.i!==i?(i=this.i,t(D)):Promise.resolve();let d=new ai;this.o=()=>{this.i++,this.currentUser=this.u(),d.resolve(),d=new ai,e.enqueueRetryable(()=>u(this.currentUser))};const m=()=>{const D=d;e.enqueueRetryable((0,_e.Z)(function*(){yield D.promise,yield u(r.currentUser)}))},w=D=>{ke("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=D,this.auth.addAuthTokenListener(this.o),m()};this.t.onInit(D=>w(D)),setTimeout(()=>{if(!this.auth){const D=this.t.getImmediate({optional:!0});D?w(D):(ke("FirebaseAuthCredentialsProvider","Auth not yet detected"),d.resolve(),d=new ai)}},0),m()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(ke("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(_t("string"==typeof r.accessToken),new t1(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return _t(null===e||"string"==typeof e),new Di(e)}}class YR{constructor(e,t,r){this.h=e,this.l=t,this.m=r,this.type="FirstParty",this.user=Di.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class QR{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new YR(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Di.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class n1{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class JR{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const r=u=>{null!=u.error&&ke("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const d=u.token!==this.T;return this.T=u.token,ke("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>r(u))};const i=u=>{ke("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.appCheck.addTokenListener(this.o)};this.I.onInit(u=>i(u)),setTimeout(()=>{if(!this.appCheck){const u=this.I.getImmediate({optional:!0});u?i(u):ke("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(_t("string"==typeof t.token),this.T=t.token,new n1(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function XR(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class r1{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=XR(40);for(let u=0;u<i.length;++u)r.length<20&&i[u]<t&&(r+=e.charAt(i[u]%e.length))}return r}}function jt(n,e){return n<e?-1:n>e?1:0}function Dy(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function i1(n){return n+"\0"}class rr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ae(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ae(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Ae(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ae(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return rr.fromMillis(Date.now())}static fromDate(e){return rr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new rr(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?jt(this.nanoseconds,e.nanoseconds):jt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class wt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new wt(e)}static min(){return new wt(new rr(0,0))}static max(){return new wt(new rr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class P0{constructor(e,t,r){void 0===t?t=0:t>e.length&&ot(),void 0===r?r=e.length-t:r>e.length-t&&ot(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===P0.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof P0?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const u=e.get(i),d=t.get(i);if(u<d)return-1;if(u>d)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class ln extends P0{construct(e,t,r){return new ln(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ae(ae.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new ln(t)}static emptyPath(){return new ln([])}}const eN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class wr extends P0{construct(e,t,r){return new wr(e,t,r)}static isValidIdentifier(e){return eN.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),wr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new wr(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const u=()=>{if(0===r.length)throw new Ae(ae.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let d=!1;for(;i<e.length;){const m=e[i];if("\\"===m){if(i+1===e.length)throw new Ae(ae.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const w=e[i+1];if("\\"!==w&&"."!==w&&"`"!==w)throw new Ae(ae.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=w,i+=2}else"`"===m?(d=!d,i++):"."!==m||d?(r+=m,i++):(u(),i++)}if(u(),d)throw new Ae(ae.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new wr(t)}static emptyPath(){return new wr([])}}class Ke{constructor(e){this.path=e}static fromPath(e){return new Ke(ln.fromString(e))}static fromName(e){return new Ke(ln.fromString(e).popFirst(5))}static empty(){return new Ke(ln.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===ln.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return ln.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ke(new ln(e.slice()))}}class HI{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function AS(n){return n.fields.find(e=>2===e.kind)}function qp(n){return n.fields.filter(e=>2!==e.kind)}HI.UNKNOWN_ID=-1;class GI{constructor(e,t){this.fieldPath=e,this.kind=t}}class O0{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new O0(0,To.min())}}function s1(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=wt.fromTimestamp(1e9===r?new rr(t+1,0):new rr(t,r));return new To(i,Ke.empty(),e)}function o1(n){return new To(n.readTime,n.key,-1)}class To{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new To(wt.min(),Ke.empty(),-1)}static max(){return new To(wt.max(),Ke.empty(),-1)}}function MS(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=Ke.comparator(n.documentKey,e.documentKey),0!==t?t:jt(n.largestBatchId,e.largestBatchId))}const a1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class u1{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Sh(n){return xS.apply(this,arguments)}function xS(){return xS=(0,_e.Z)(function*(n){if(n.code!==ae.FAILED_PRECONDITION||n.message!==a1)throw n;ke("LocalStore","Unexpectedly lost primary lease")}),xS.apply(this,arguments)}class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ot(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ee((r,i)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,i)},this.catchCallback=u=>{this.wrapFailure(t,u).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ee?t:ee.resolve(t)}catch(t){return ee.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ee.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ee.reject(t)}static resolve(e){return new ee((t,r)=>{t(e)})}static reject(e){return new ee((t,r)=>{r(e)})}static waitFor(e){return new ee((t,r)=>{let i=0,u=0,d=!1;e.forEach(m=>{++i,m.next(()=>{++u,d&&u===i&&t()},w=>r(w))}),d=!0,u===i&&t()})}static or(e){let t=ee.resolve(!1);for(const r of e)t=t.next(i=>i?ee.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,u)=>{r.push(t.call(this,i,u))}),this.waitFor(r)}static mapArray(e,t){return new ee((r,i)=>{const u=e.length,d=new Array(u);let m=0;for(let w=0;w<u;w++){const D=w;t(e[D]).next(S=>{d[D]=S,++m,m===u&&r(d)},S=>i(S))}})}static doWhile(e,t){return new ee((r,i)=>{const u=()=>{!0===e()?t().next(()=>{u()},i):r()};u()})}}class zI{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.R=new ai,this.transaction.oncomplete=()=>{this.R.resolve()},this.transaction.onabort=()=>{t.error?this.R.reject(new R0(e,t.error)):this.R.resolve()},this.transaction.onerror=r=>{const i=PS(r.target.error);this.R.reject(new R0(e,i))}}static open(e,t,r,i){try{return new zI(t,e.transaction(i,r))}catch(u){throw new R0(t,u)}}get v(){return this.R.promise}abort(e){e&&this.R.reject(e),this.aborted||(ke("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new iN(t)}}class lu{constructor(e,t,r){this.name=e,this.version=t,this.V=r,12.2===lu.S((0,mn.z$)())&&Or("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return ke("SimpleDb","Removing database:",e),Zp(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,mn.hl)())return!1;if(lu.C())return!0;const e=(0,mn.z$)(),t=lu.S(e),r=0<t&&t<10,i=lu.N(e),u=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||u)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static N(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}O(e){var t=this;return(0,_e.Z)(function*(){return t.db||(ke("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const u=indexedDB.open(t.name,t.version);u.onsuccess=d=>{r(d.target.result)},u.onblocked=()=>{i(new R0(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},u.onerror=d=>{const m=d.target.error;i("VersionError"===m.name?new Ae(ae.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===m.name?new Ae(ae.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+m):new R0(e,m))},u.onupgradeneeded=d=>{ke("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',d.oldVersion),t.V.$(d.target.result,u.transaction,d.oldVersion,t.version).next(()=>{ke("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.F&&(t.db.onversionchange=r=>t.F(r)),t.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var u=this;return(0,_e.Z)(function*(){const d="readonly"===t;let m=0;for(;;){++m;try{u.db=yield u.O(e);const w=zI.open(u.db,e,d?"readonly":"readwrite",r),D=i(w).next(S=>(w.P(),S)).catch(S=>(w.abort(S),ee.reject(S))).toPromise();return D.catch(()=>{}),yield w.v,D}catch(w){const D=w,S="FirebaseError"!==D.name&&m<3;if(ke("SimpleDb","Transaction failed with error:",D.message,"Retrying:",S),u.close(),!S)return Promise.reject(D)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class rN{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return Zp(this.L.delete())}}class R0 extends Ae{constructor(e,t){super(ae.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Ah(n){return"IndexedDbTransactionError"===n.name}class iN{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(ke("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(ke("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Zp(r)}add(e){return ke("SimpleDb","ADD",this.store.name,e,e),Zp(this.store.add(e))}get(e){return Zp(this.store.get(e)).next(t=>(void 0===t&&(t=null),ke("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return ke("SimpleDb","DELETE",this.store.name,e),Zp(this.store.delete(e))}count(){return ke("SimpleDb","COUNT",this.store.name),Zp(this.store.count())}j(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),u=[];return this.W(i,(d,m)=>{u.push(m)}).next(()=>u)}{const i=this.store.getAll(r.range);return new ee((u,d)=>{i.onerror=m=>{d(m.target.error)},i.onsuccess=m=>{u(m.target.result)}})}}H(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new ee((i,u)=>{r.onerror=d=>{u(d.target.error)},r.onsuccess=d=>{i(d.target.result)}})}J(e,t){ke("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.Y=!1;const i=this.cursor(r);return this.W(i,(u,d,m)=>m.delete())}X(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.W(i,t)}Z(e){const t=this.cursor({});return new ee((r,i)=>{t.onerror=u=>{const d=PS(u.target.error);i(d)},t.onsuccess=u=>{const d=u.target.result;d?e(d.primaryKey,d.value).next(m=>{m?d.continue():r()}):r()}})}W(e,t){const r=[];return new ee((i,u)=>{e.onerror=d=>{u(d.target.error)},e.onsuccess=d=>{const m=d.target.result;if(!m)return void i();const w=new rN(m),D=t(m.primaryKey,m.value,w);if(D instanceof ee){const S=D.catch(O=>(w.done(),ee.reject(O)));r.push(S)}w.isDone?i():null===w.K?m.continue():m.continue(w.K)}}).next(()=>ee.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.Y?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Zp(n){return new ee((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=PS(r.target.error);t(i)}})}let c1=!1;function PS(n){const e=lu.S((0,mn.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Ae("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return c1||(c1=!0,setTimeout(()=>{throw r},0)),r}}return n}class sN{constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var t=this;ke("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,_e.Z)(function*(){t.task=null;try{ke("IndexBackiller",`Documents written: ${yield t.tt.nt()}`)}catch(r){Ah(r)?ke("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield Sh(r)}yield t.et(6e4)}))}}class oN{constructor(e,t){this.localStore=e,this.persistence=t}nt(e=50){var t=this;return(0,_e.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>t.st(r,e))})()}st(e,t){const r=new Set;let i=t,u=!0;return ee.doWhile(()=>!0===u&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(d=>{if(null!==d&&!r.has(d))return ke("IndexBackiller",`Processing collection: ${d}`),this.it(e,d,i).next(m=>{i-=m,r.add(d)});u=!1})).next(()=>t-i)}it(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next(u=>{const d=u.changes;return this.localStore.indexManager.updateIndexEntries(e,d).next(()=>this.rt(i,u)).next(m=>(ke("IndexBackiller",`Updating offset: ${m}`),this.localStore.indexManager.updateCollectionGroup(e,t,m))).next(()=>d.size)}))}rt(e,t){let r=e;return t.changes.forEach((i,u)=>{const d=o1(u);MS(d,r)>0&&(r=d)}),new To(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}let So=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ot(i),this.ut=i=>r.writeSequenceNumber(i))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function N0(n){return null==n}function k0(n){return 0===n&&1/n==-1/0}function l1(n){return"number"==typeof n&&Number.isInteger(n)&&!k0(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function Xi(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=d1(e)),e=aN(n.get(t),e);return d1(e)}function aN(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const u=n.charAt(i);switch(u){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=u}}return t}function d1(n){return n+"\x01\x01"}function Tc(n){const e=n.length;if(_t(e>=2),2===e)return _t("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),ln.emptyPath();const t=e-2,r=[];let i="";for(let u=0;u<e;){const d=n.indexOf("\x01",u);switch((d<0||d>t)&&ot(),n.charAt(d+1)){case"\x01":const m=n.substring(u,d);let w;0===i.length?w=m:(i+=m,w=i,i=""),r.push(w);break;case"\x10":i+=n.substring(u,d),i+="\0";break;case"\x11":i+=n.substring(u,d+1);break;default:ot()}u=d+2}return new ln(r)}const h1=["userId","batchId"];function qI(n,e){return[n,Xi(e)]}function f1(n,e,t){return[n,Xi(e),t]}const uN={},cN=["prefixPath","collectionGroup","readTime","documentId"],lN=["prefixPath","collectionGroup","documentId"],dN=["collectionGroup","readTime","prefixPath","documentId"],hN=["canonicalId","targetId"],fN=["targetId","path"],pN=["path","targetId"],gN=["collectionId","parent"],mN=["indexId","uid"],yN=["uid","sequenceNumber"],_N=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],vN=["indexId","uid","orderedDocumentKey"],wN=["userId","collectionPath","documentId"],CN=["userId","collectionPath","largestBatchId"],EN=["userId","collectionGroup","largestBatchId"],p1=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],IN=[...p1,"documentOverlays"],g1=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],m1=g1,bN=[...m1,"indexConfiguration","indexState","indexEntries"];class OS extends u1{constructor(e,t){super(),this.at=e,this.currentSequenceNumber=t}}function Ti(n,e){const t=Je(n);return lu.M(t.at,e)}function y1(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Mh(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function _1(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class Un{constructor(e,t){this.comparator=e,this.root=t||Ui.EMPTY}insert(e,t){return new Un(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ui.BLACK,null,null))}remove(e){return new Un(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ui.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ZI(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ZI(this.root,e,this.comparator,!1)}getReverseIterator(){return new ZI(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ZI(this.root,e,this.comparator,!0)}}class ZI{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?r(e.key,t):1,t&&i&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(0===u){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ui{constructor(e,t,r,i,u){this.key=e,this.value=t,this.color=r??Ui.RED,this.left=i??Ui.EMPTY,this.right=u??Ui.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,u){return new Ui(e??this.key,t??this.value,r??this.color,i??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const u=r(e,i.key);return i=u<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===u?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ui.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return Ui.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ui.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ui.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ot();const e=this.left.check();if(e!==this.right.check())throw ot();return e+(this.isRed()?0:1)}}Ui.EMPTY=null,Ui.RED=!0,Ui.BLACK=!1,Ui.EMPTY=new class{constructor(){this.size=0}get key(){throw ot()}get value(){throw ot()}get color(){throw ot()}get left(){throw ot()}get right(){throw ot()}copy(n,e,t,r,i){return this}insert(n,e,t){return new Ui(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class qn{constructor(e){this.comparator=e,this.data=new Un(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new v1(this.data.getIterator())}getIteratorFrom(e){return new v1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof qn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,u=r.getNext().key;if(0!==this.comparator(i,u))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new qn(this.comparator);return t.data=e,t}}class v1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Ty(n){return n.hasNext()?n.getNext():void 0}class zs{constructor(e){this.fields=e,e.sort(wr.comparator)}static empty(){return new zs([])}unionWith(e){let t=new qn(wr.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new zs(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Dy(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class w1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class ui{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new w1("Invalid base64 string: "+i):i}}(e);return new ui(t)}static fromUint8Array(e){const t=function(r){let i="";for(let u=0;u<r.length;++u)i+=String.fromCharCode(r[u]);return i}(e);return new ui(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return jt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ui.EMPTY_BYTE_STRING=new ui("");const TN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function xh(n){if(_t(!!n),"string"==typeof n){let e=0;const t=TN.exec(n);if(_t(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Cr(n.seconds),nanos:Cr(n.nanos)}}function Cr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Gl(n){return"string"==typeof n?ui.fromBase64String(n):ui.fromUint8Array(n)}function WI(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function KI(n){const e=n.mapValue.fields.__previous_value__;return WI(e)?KI(e):e}function F0(n){const e=xh(n.mapValue.fields.__local_write_time__.timestampValue);return new rr(e.seconds,e.nanos)}class SN{constructor(e,t,r,i,u,d,m,w){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=u,this.forceLongPolling=d,this.autoDetectLongPolling=m,this.useFetchStreams=w}}class Ph{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Ph("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Ph&&e.projectId===this.projectId&&e.database===this.database}}const Oh={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},YI={nullValue:"NULL_VALUE"};function Rh(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?WI(n)?4:b1(n)?9007199254740991:10:ot()}function Sc(n,e){if(n===e)return!0;const t=Rh(n);if(t!==Rh(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return F0(n).isEqual(F0(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const u=xh(r.timestampValue),d=xh(i.timestampValue);return u.seconds===d.seconds&&u.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,Gl(n.bytesValue).isEqual(Gl(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return Cr(r.geoPointValue.latitude)===Cr(i.geoPointValue.latitude)&&Cr(r.geoPointValue.longitude)===Cr(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Cr(r.integerValue)===Cr(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const u=Cr(r.doubleValue),d=Cr(i.doubleValue);return u===d?k0(u)===k0(d):isNaN(u)&&isNaN(d)}return!1}(n,e);case 9:return Dy(n.arrayValue.values||[],e.arrayValue.values||[],Sc);case 10:return function(r,i){const u=r.mapValue.fields||{},d=i.mapValue.fields||{};if(y1(u)!==y1(d))return!1;for(const m in u)if(u.hasOwnProperty(m)&&(void 0===d[m]||!Sc(u[m],d[m])))return!1;return!0}(n,e);default:return ot()}var i}function L0(n,e){return void 0!==(n.values||[]).find(t=>Sc(t,e))}function Nh(n,e){if(n===e)return 0;const t=Rh(n),r=Rh(e);if(t!==r)return jt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return jt(n.booleanValue,e.booleanValue);case 2:return function(i,u){const d=Cr(i.integerValue||i.doubleValue),m=Cr(u.integerValue||u.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1}(n,e);case 3:return C1(n.timestampValue,e.timestampValue);case 4:return C1(F0(n),F0(e));case 5:return jt(n.stringValue,e.stringValue);case 6:return function(i,u){const d=Gl(i),m=Gl(u);return d.compareTo(m)}(n.bytesValue,e.bytesValue);case 7:return function(i,u){const d=i.split("/"),m=u.split("/");for(let w=0;w<d.length&&w<m.length;w++){const D=jt(d[w],m[w]);if(0!==D)return D}return jt(d.length,m.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,u){const d=jt(Cr(i.latitude),Cr(u.latitude));return 0!==d?d:jt(Cr(i.longitude),Cr(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,u){const d=i.values||[],m=u.values||[];for(let w=0;w<d.length&&w<m.length;++w){const D=Nh(d[w],m[w]);if(D)return D}return jt(d.length,m.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,u){if(i===Oh.mapValue&&u===Oh.mapValue)return 0;if(i===Oh.mapValue)return 1;if(u===Oh.mapValue)return-1;const d=i.fields||{},m=Object.keys(d),w=u.fields||{},D=Object.keys(w);m.sort(),D.sort();for(let S=0;S<m.length&&S<D.length;++S){const O=jt(m[S],D[S]);if(0!==O)return O;const U=Nh(d[m[S]],w[D[S]]);if(0!==U)return U}return jt(m.length,D.length)}(n.mapValue,e.mapValue);default:throw ot()}}function C1(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return jt(n,e);const t=xh(n),r=xh(e),i=jt(t.seconds,r.seconds);return 0!==i?i:jt(t.nanos,r.nanos)}function Sy(n){return RS(n)}function RS(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=xh(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Gl(n.bytesValue).toBase64():"referenceValue"in n?Ke.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",u=!0;for(const d of r.values||[])u?u=!1:i+=",",i+=RS(d);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let u="{",d=!0;for(const m of i)d?d=!1:u+=",",u+=`${m}:${RS(r.fields[m])}`;return u+"}"}(n.mapValue):ot();var e}function Wp(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function NS(n){return!!n&&"integerValue"in n}function V0(n){return!!n&&"arrayValue"in n}function E1(n){return!!n&&"nullValue"in n}function I1(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function JI(n){return!!n&&"mapValue"in n}function U0(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Mh(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=U0(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=U0(n.arrayValue.values[t]);return e}return Object.assign({},n)}function b1(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function AN(n){return"nullValue"in n?YI:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Wp(Ph.empty(),Ke.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:ot()}function MN(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Wp(Ph.empty(),Ke.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Oh:ot()}function D1(n,e){const t=Nh(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function T1(n,e){const t=Nh(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class Bi{constructor(e){this.value=e}static empty(){return new Bi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!JI(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=U0(t)}setAll(e){let t=wr.emptyPath(),r={},i=[];e.forEach((d,m)=>{if(!t.isImmediateParentOf(m)){const w=this.getFieldsMap(t);this.applyChanges(w,r,i),r={},i=[],t=m.popLast()}d?r[m.lastSegment()]=U0(d):i.push(m.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,r,i)}delete(e){const t=this.field(e.popLast());JI(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Sc(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];JI(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Mh(t,(i,u)=>e[i]=u);for(const i of r)delete e[i]}clone(){return new Bi(U0(this.value))}}function S1(n){const e=[];return Mh(n.fields,(t,r)=>{const i=new wr([t]);if(JI(r)){const u=S1(r.mapValue).fields;if(0===u.length)e.push(i);else for(const d of u)e.push(i.child(d))}else e.push(i)}),new zs(e)}class Zn{constructor(e,t,r,i,u,d,m){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=u,this.data=d,this.documentState=m}static newInvalidDocument(e){return new Zn(e,0,wt.min(),wt.min(),wt.min(),Bi.empty(),0)}static newFoundDocument(e,t,r,i){return new Zn(e,1,t,wt.min(),r,i,0)}static newNoDocument(e,t){return new Zn(e,2,t,wt.min(),wt.min(),Bi.empty(),0)}static newUnknownDocument(e,t){return new Zn(e,3,t,wt.min(),wt.min(),Bi.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(wt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Bi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Bi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=wt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Zn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Zn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class kh{constructor(e,t){this.position=e,this.inclusive=t}}function A1(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const u=e[i],d=n.position[i];if(r=u.field.isKeyField()?Ke.comparator(Ke.fromName(d.referenceValue),t.key):Nh(d,t.data.field(u.field)),"desc"===u.dir&&(r*=-1),0!==r)break}return r}function M1(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Sc(n.position[t],e.position[t]))return!1;return!0}class Ay{constructor(e,t="asc"){this.field=e,this.dir=t}}function xN(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class x1{}class sn extends x1{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new PN(e,t,r):"array-contains"===t?new NN(e,r):"in"===t?new F1(e,r):"not-in"===t?new kN(e,r):"array-contains-any"===t?new FN(e,r):new sn(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new ON(e,r):new RN(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Nh(t,this.value)):null!==t&&Rh(this.value)===Rh(t)&&this.matchesComparison(Nh(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return ot()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Sn extends x1{constructor(e,t){super(),this.filters=e,this.op=t,this.ht=null}static create(e,t){return new Sn(e,t)}matches(e){return My(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ht||(this.ht=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(t=>t.isInequality());return null!==e?e.field:null}lt(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function My(n){return"and"===n.op}function kS(n){return"or"===n.op}function FS(n){return P1(n)&&My(n)}function P1(n){for(const e of n.filters)if(e instanceof Sn)return!1;return!0}function LS(n){if(n instanceof sn)return n.field.canonicalString()+n.op.toString()+Sy(n.value);if(FS(n))return n.filters.map(e=>LS(e)).join(",");{const e=n.filters.map(t=>LS(t)).join(",");return`${n.op}(${e})`}}function O1(n,e){return n instanceof sn?(t=n,(r=e)instanceof sn&&t.op===r.op&&t.field.isEqual(r.field)&&Sc(t.value,r.value)):n instanceof Sn?function(t,r){return r instanceof Sn&&t.op===r.op&&t.filters.length===r.filters.length&&t.filters.reduce((i,u,d)=>i&&O1(u,r.filters[d]),!0)}(n,e):void ot();var t,r}function R1(n,e){const t=n.filters.concat(e);return Sn.create(t,n.op)}function N1(n){return n instanceof sn?`${(e=n).field.canonicalString()} ${e.op} ${Sy(e.value)}`:n instanceof Sn?function(e){return e.op.toString()+" {"+e.getFilters().map(N1).join(" ,")+"}"}(n):"Filter";var e}class PN extends sn{constructor(e,t,r){super(e,t,r),this.key=Ke.fromName(r.referenceValue)}matches(e){const t=Ke.comparator(e.key,this.key);return this.matchesComparison(t)}}class ON extends sn{constructor(e,t){super(e,"in",t),this.keys=k1(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class RN extends sn{constructor(e,t){super(e,"not-in",t),this.keys=k1(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function k1(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>Ke.fromName(r.referenceValue))}class NN extends sn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return V0(t)&&L0(t.arrayValue,this.value)}}class F1 extends sn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&L0(this.value.arrayValue,t)}}class kN extends sn{constructor(e,t){super(e,"not-in",t)}matches(e){if(L0(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!L0(this.value.arrayValue,t)}}class FN extends sn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!V0(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>L0(this.value.arrayValue,r))}}class LN{constructor(e,t=null,r=[],i=[],u=null,d=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=u,this.startAt=d,this.endAt=m,this.ft=null}}function VS(n,e=null,t=[],r=[],i=null,u=null,d=null){return new LN(n,e,t,r,i,u,d)}function Kp(n){const e=Je(n);if(null===e.ft){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>LS(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),N0(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Sy(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Sy(r)).join(",")),e.ft=t}return e.ft}function B0(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!xN(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!O1(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!M1(n.startAt,e.startAt)&&M1(n.endAt,e.endAt)}function XI(n){return Ke.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function eb(n,e){return n.filters.filter(t=>t instanceof sn&&t.field.isEqual(e))}function L1(n,e,t){let r=YI,i=!0;for(const u of eb(n,e)){let d=YI,m=!0;switch(u.op){case"<":case"<=":d=AN(u.value);break;case"==":case"in":case">=":d=u.value;break;case">":d=u.value,m=!1;break;case"!=":case"not-in":d=YI}D1({value:r,inclusive:i},{value:d,inclusive:m})<0&&(r=d,i=m)}if(null!==t)for(let u=0;u<n.orderBy.length;++u)if(n.orderBy[u].field.isEqual(e)){const d=t.position[u];D1({value:r,inclusive:i},{value:d,inclusive:t.inclusive})<0&&(r=d,i=t.inclusive);break}return{value:r,inclusive:i}}function V1(n,e,t){let r=Oh,i=!0;for(const u of eb(n,e)){let d=Oh,m=!0;switch(u.op){case">=":case">":d=MN(u.value),m=!1;break;case"==":case"in":case"<=":d=u.value;break;case"<":d=u.value,m=!1;break;case"!=":case"not-in":d=Oh}T1({value:r,inclusive:i},{value:d,inclusive:m})>0&&(r=d,i=m)}if(null!==t)for(let u=0;u<n.orderBy.length;++u)if(n.orderBy[u].field.isEqual(e)){const d=t.position[u];T1({value:r,inclusive:i},{value:d,inclusive:t.inclusive})>0&&(r=d,i=t.inclusive);break}return{value:r,inclusive:i}}class zl{constructor(e,t=null,r=[],i=[],u=null,d="F",m=null,w=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=u,this.limitType=d,this.startAt=m,this.endAt=w,this.dt=null,this._t=null}}function U1(n,e,t,r,i,u,d,m){return new zl(n,e,t,r,i,u,d,m)}function xy(n){return new zl(n)}function B1(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function US(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function tb(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function BS(n){return null!==n.collectionGroup}function Yp(n){const e=Je(n);if(null===e.dt){e.dt=[];const t=tb(e),r=US(e);if(null!==t&&null===r)t.isKeyField()||e.dt.push(new Ay(t)),e.dt.push(new Ay(wr.keyField(),"asc"));else{let i=!1;for(const u of e.explicitOrderBy)e.dt.push(u),u.field.isKeyField()&&(i=!0);if(!i){const u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new Ay(wr.keyField(),u))}}}return e.dt}function gs(n){const e=Je(n);if(!e._t)if("F"===e.limitType)e._t=VS(e.path,e.collectionGroup,Yp(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const u of Yp(e))t.push(new Ay(u.field,"desc"===u.dir?"asc":"desc"));const r=e.endAt?new kh(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new kh(e.startAt.position,e.startAt.inclusive):null;e._t=VS(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e._t}function jS(n,e){e.getFirstInequalityField(),tb(n);const t=n.filters.concat([e]);return new zl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function nb(n,e,t){return new zl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function j0(n,e){return B0(gs(n),gs(e))&&n.limitType===e.limitType}function j1(n){return`${Kp(gs(n))}|lt:${n.limitType}`}function $S(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(r=>N1(r)).join(", ")}]`),N0(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Sy(r)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Sy(r)).join(",")),`Target(${t})`}(gs(n))}; limitType=${n.limitType})`}function $0(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):Ke.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of Yp(t))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,u,d){const m=A1(i,u,d);return i.inclusive?m<=0:m<0}(t.startAt,Yp(t),r)||t.endAt&&!function(i,u,d){const m=A1(i,u,d);return i.inclusive?m>=0:m>0}(t.endAt,Yp(t),r)));var t,r}function $1(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function H1(n){return(e,t)=>{let r=!1;for(const i of Yp(n)){const u=VN(i,e,t);if(0!==u)return u;r=r||i.field.isKeyField()}return 0}}function VN(n,e,t){const r=n.field.isKeyField()?Ke.comparator(e.key,t.key):function(i,u,d){const m=u.data.field(i),w=d.data.field(i);return null!==m&&null!==w?Nh(m,w):ot()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return ot()}}class ql{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,u]of r)if(this.equalsFn(i,e))return u}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let u=0;u<i.length;u++)if(this.equalsFn(i[u][0],e))return void(i[u]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Mh(this.inner,(t,r)=>{for(const[i,u]of r)e(i,u)})}isEmpty(){return _1(this.inner)}size(){return this.innerSize}}const UN=new Un(Ke.comparator);function qs(){return UN}const G1=new Un(Ke.comparator);function H0(...n){let e=G1;for(const t of n)e=e.insert(t.key,t);return e}function z1(n){let e=G1;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Ac(){return G0()}function q1(){return G0()}function G0(){return new ql(n=>n.toString(),(n,e)=>n.isEqual(e))}const BN=new Un(Ke.comparator),jN=new qn(Ke.comparator);function Zt(...n){let e=jN;for(const t of n)e=e.add(t);return e}const $N=new qn(jt);function HS(){return $N}function Z1(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:k0(e)?"-0":e}}function W1(n){return{integerValue:""+n}}function K1(n,e){return l1(e)?W1(e):Z1(n,e)}class rb{constructor(){this._=void 0}}function HN(n,e,t){return n instanceof Py?function(r,i){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&WI(i)&&(i=KI(i)),i&&(u.fields.__previous_value__=i),{mapValue:u}}(t,e):n instanceof Qp?Q1(n,e):n instanceof Jp?J1(n,e):function(r,i){const u=Y1(r,i),d=X1(u)+X1(r.wt);return NS(u)&&NS(r.wt)?W1(d):Z1(r.serializer,d)}(n,e)}function GN(n,e,t){return n instanceof Qp?Q1(n,e):n instanceof Jp?J1(n,e):t}function Y1(n,e){return n instanceof Oy?NS(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class Py extends rb{}class Qp extends rb{constructor(e){super(),this.elements=e}}function Q1(n,e){const t=eP(e);for(const r of n.elements)t.some(i=>Sc(i,r))||t.push(r);return{arrayValue:{values:t}}}class Jp extends rb{constructor(e){super(),this.elements=e}}function J1(n,e){let t=eP(e);for(const r of n.elements)t=t.filter(i=>!Sc(i,r));return{arrayValue:{values:t}}}class Oy extends rb{constructor(e,t){super(),this.serializer=e,this.wt=t}}function X1(n){return Cr(n.integerValue||n.doubleValue)}function eP(n){return V0(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class z0{constructor(e,t){this.field=e,this.transform=t}}class qN{constructor(e,t){this.version=e,this.transformResults=t}}class ir{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ir}static exists(e){return new ir(void 0,e)}static updateTime(e){return new ir(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ib(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class sb{}function tP(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Ny(n.key,ir.none()):new Ry(n.key,n.data,ir.none());{const t=n.data,r=Bi.empty();let i=new qn(wr.comparator);for(let u of e.fields)if(!i.has(u)){let d=t.field(u);null===d&&u.length>1&&(u=u.popLast(),d=t.field(u)),null===d?r.delete(u):r.set(u,d),i=i.add(u)}return new Zl(n.key,r,new zs(i.toArray()),ir.none())}}function ZN(n,e,t){n instanceof Ry?function(r,i,u){const d=r.value.clone(),m=iP(r.fieldTransforms,i,u.transformResults);d.setAll(m),i.convertToFoundDocument(u.version,d).setHasCommittedMutations()}(n,e,t):n instanceof Zl?function(r,i,u){if(!ib(r.precondition,i))return void i.convertToUnknownDocument(u.version);const d=iP(r.fieldTransforms,i,u.transformResults),m=i.data;m.setAll(rP(r)),m.setAll(d),i.convertToFoundDocument(u.version,m).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function q0(n,e,t,r){return n instanceof Ry?function(i,u,d,m){if(!ib(i.precondition,u))return d;const w=i.value.clone(),D=sP(i.fieldTransforms,m,u);return w.setAll(D),u.convertToFoundDocument(u.version,w).setHasLocalMutations(),null}(n,e,t,r):n instanceof Zl?function(i,u,d,m){if(!ib(i.precondition,u))return d;const w=sP(i.fieldTransforms,m,u),D=u.data;return D.setAll(rP(i)),D.setAll(w),u.convertToFoundDocument(u.version,D).setHasLocalMutations(),null===d?null:d.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(S=>S.field))}(n,e,t,r):(d=t,ib(n.precondition,u=e)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):d);var u,d}function WN(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),u=Y1(r.transform,i||null);null!=u&&(null===t&&(t=Bi.empty()),t.set(r.field,u))}return t||null}function nP(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&Dy(t,r,(i,u)=>function zN(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof Qp&&r instanceof Qp||t instanceof Jp&&r instanceof Jp?Dy(t.elements,r.elements,Sc):t instanceof Oy&&r instanceof Oy?Sc(t.wt,r.wt):t instanceof Py&&r instanceof Py);var t,r}(i,u))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class Ry extends sb{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Zl extends sb{constructor(e,t,r,i,u=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function rP(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function iP(n,e,t){const r=new Map;_t(n.length===t.length);for(let i=0;i<t.length;i++){const u=n[i],d=u.transform,m=e.data.field(u.field);r.set(u.field,GN(d,m,t[i]))}return r}function sP(n,e,t){const r=new Map;for(const i of n){const u=i.transform,d=t.data.field(i.field);r.set(i.field,HN(u,d,e))}return r}class Ny extends sb{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class GS extends sb{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class zS{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const u=this.mutations[i];u.key.isEqual(e.key)&&ZN(u,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=q0(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=q0(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=q1();return this.mutations.forEach(i=>{const u=e.get(i.key),d=u.overlayedDocument;let m=this.applyToLocalView(d,u.mutatedFields);m=t.has(i.key)?null:m;const w=tP(d,m);null!==w&&r.set(i.key,w),d.isValidDocument()||d.convertToNoDocument(wt.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Zt())}isEqual(e){return this.batchId===e.batchId&&Dy(this.mutations,e.mutations,(t,r)=>nP(t,r))&&Dy(this.baseMutations,e.baseMutations,(t,r)=>nP(t,r))}}class qS{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){_t(e.mutations.length===r.length);let i=BN;const u=e.mutations;for(let d=0;d<u.length;d++)i=i.insert(u[d].key,r[d].version);return new qS(e,t,r,i)}}class ZS{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class YN{constructor(e,t){this.count=e,this.unchangedNames=t}}var qr,dn;function oP(n){switch(n){default:return ot();case ae.CANCELLED:case ae.UNKNOWN:case ae.DEADLINE_EXCEEDED:case ae.RESOURCE_EXHAUSTED:case ae.INTERNAL:case ae.UNAVAILABLE:case ae.UNAUTHENTICATED:return!1;case ae.INVALID_ARGUMENT:case ae.NOT_FOUND:case ae.ALREADY_EXISTS:case ae.PERMISSION_DENIED:case ae.FAILED_PRECONDITION:case ae.ABORTED:case ae.OUT_OF_RANGE:case ae.UNIMPLEMENTED:case ae.DATA_LOSS:return!0}}function aP(n){if(void 0===n)return Or("GRPC error has no .code"),ae.UNKNOWN;switch(n){case qr.OK:return ae.OK;case qr.CANCELLED:return ae.CANCELLED;case qr.UNKNOWN:return ae.UNKNOWN;case qr.DEADLINE_EXCEEDED:return ae.DEADLINE_EXCEEDED;case qr.RESOURCE_EXHAUSTED:return ae.RESOURCE_EXHAUSTED;case qr.INTERNAL:return ae.INTERNAL;case qr.UNAVAILABLE:return ae.UNAVAILABLE;case qr.UNAUTHENTICATED:return ae.UNAUTHENTICATED;case qr.INVALID_ARGUMENT:return ae.INVALID_ARGUMENT;case qr.NOT_FOUND:return ae.NOT_FOUND;case qr.ALREADY_EXISTS:return ae.ALREADY_EXISTS;case qr.PERMISSION_DENIED:return ae.PERMISSION_DENIED;case qr.FAILED_PRECONDITION:return ae.FAILED_PRECONDITION;case qr.ABORTED:return ae.ABORTED;case qr.OUT_OF_RANGE:return ae.OUT_OF_RANGE;case qr.UNIMPLEMENTED:return ae.UNIMPLEMENTED;case qr.DATA_LOSS:return ae.DATA_LOSS;default:return ot()}}(dn=qr||(qr={}))[dn.OK=0]="OK",dn[dn.CANCELLED=1]="CANCELLED",dn[dn.UNKNOWN=2]="UNKNOWN",dn[dn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",dn[dn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",dn[dn.NOT_FOUND=5]="NOT_FOUND",dn[dn.ALREADY_EXISTS=6]="ALREADY_EXISTS",dn[dn.PERMISSION_DENIED=7]="PERMISSION_DENIED",dn[dn.UNAUTHENTICATED=16]="UNAUTHENTICATED",dn[dn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",dn[dn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",dn[dn.ABORTED=10]="ABORTED",dn[dn.OUT_OF_RANGE=11]="OUT_OF_RANGE",dn[dn.UNIMPLEMENTED=12]="UNIMPLEMENTED",dn[dn.INTERNAL=13]="INTERNAL",dn[dn.UNAVAILABLE=14]="UNAVAILABLE",dn[dn.DATA_LOSS=15]="DATA_LOSS";class WS{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return ob}static getOrCreateInstance(){return null===ob&&(ob=new WS),ob}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let ob=null;function uP(){return new TextEncoder}const QN=new Iy([4294967295,4294967295],0);function cP(n){const e=uP().encode(n),t=new GR;return t.update(e),new Uint8Array(t.digest())}function lP(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Iy([t,r],0),new Iy([i,u],0)]}class KS{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Z0(`Invalid padding: ${t}`);if(r<0)throw new Z0(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new Z0(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new Z0(`Invalid padding when bitmap length is 0: ${t}`);this.yt=8*e.length-t,this.It=Iy.fromNumber(this.yt)}Tt(e,t,r){let i=e.add(t.multiply(Iy.fromNumber(r)));return 1===i.compare(QN)&&(i=new Iy([i.getBits(0),i.getBits(1)],0)),i.modulo(this.It).toNumber()}Et(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}At(e){if(0===this.yt)return!1;const t=cP(e),[r,i]=lP(t);for(let u=0;u<this.hashCount;u++){const d=this.Tt(r,i,u);if(!this.Et(d))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),d=new KS(u,i,t);return r.forEach(m=>d.insert(m)),d}insert(e){if(0===this.yt)return;const t=cP(e),[r,i]=lP(t);for(let u=0;u<this.hashCount;u++){const d=this.Tt(r,i,u);this.Rt(d)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class Z0 extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class W0{constructor(e,t,r,i,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,K0.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new W0(wt.min(),i,new Un(jt),qs(),Zt())}}class K0{constructor(e,t,r,i,u){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new K0(r,t,Zt(),Zt(),Zt())}}class ab{constructor(e,t,r,i){this.vt=e,this.removedTargetIds=t,this.key=r,this.Pt=i}}class dP{constructor(e,t){this.targetId=e,this.bt=t}}class hP{constructor(e,t,r=ui.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class fP{constructor(){this.Vt=0,this.St=gP(),this.Dt=ui.EMPTY_BYTE_STRING,this.Ct=!1,this.xt=!0}get current(){return this.Ct}get resumeToken(){return this.Dt}get Nt(){return 0!==this.Vt}get kt(){return this.xt}Mt(e){e.approximateByteSize()>0&&(this.xt=!0,this.Dt=e)}Ot(){let e=Zt(),t=Zt(),r=Zt();return this.St.forEach((i,u)=>{switch(u){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:ot()}}),new K0(this.Dt,this.Ct,e,t,r)}$t(){this.xt=!1,this.St=gP()}Ft(e,t){this.xt=!0,this.St=this.St.insert(e,t)}Bt(e){this.xt=!0,this.St=this.St.remove(e)}Lt(){this.Vt+=1}qt(){this.Vt-=1}Ut(){this.xt=!0,this.Ct=!0}}class JN{constructor(e){this.Kt=e,this.Gt=new Map,this.Qt=qs(),this.jt=pP(),this.zt=new Un(jt)}Wt(e){for(const t of e.vt)e.Pt&&e.Pt.isFoundDocument()?this.Ht(t,e.Pt):this.Jt(t,e.key,e.Pt);for(const t of e.removedTargetIds)this.Jt(t,e.key,e.Pt)}Yt(e){this.forEachTarget(e,t=>{const r=this.Xt(t);switch(e.state){case 0:this.Zt(t)&&r.Mt(e.resumeToken);break;case 1:r.qt(),r.Nt||r.$t(),r.Mt(e.resumeToken);break;case 2:r.qt(),r.Nt||this.removeTarget(t);break;case 3:this.Zt(t)&&(r.Ut(),r.Mt(e.resumeToken));break;case 4:this.Zt(t)&&(this.te(t),r.Mt(e.resumeToken));break;default:ot()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Gt.forEach((r,i)=>{this.Zt(i)&&t(i)})}ee(e){var t;const r=e.targetId,i=e.bt.count,u=this.ne(r);if(u){const d=u.target;if(XI(d))if(0===i){const m=new Ke(d.path);this.Jt(r,m,Zn.newNoDocument(m,wt.min()))}else _t(1===i);else{const m=this.se(r);if(m!==i){const w=this.ie(e,m);0!==w&&(this.te(r),this.zt=this.zt.insert(r,2===w?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=WS.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(D,S,O){var U,Z,oe,De,Le,rt;const St={localCacheCount:S,existenceFilterCount:O.count},vt=O.unchangedNames;return vt&&(St.bloomFilter={applied:0===D,hashCount:null!==(U=vt?.hashCount)&&void 0!==U?U:0,bitmapLength:null!==(De=null===(oe=null===(Z=vt?.bits)||void 0===Z?void 0:Z.bitmap)||void 0===oe?void 0:oe.length)&&void 0!==De?De:0,padding:null!==(rt=null===(Le=vt?.bits)||void 0===Le?void 0:Le.padding)&&void 0!==rt?rt:0}),St}(w,m,e.bt))}}}}ie(e,t){const{unchangedNames:r,count:i}=e.bt;if(!r||!r.bits)return 1;const{bits:{bitmap:u="",padding:d=0},hashCount:m=0}=r;let w,D;try{w=Gl(u).toUint8Array()}catch(S){if(S instanceof w1)return da("Decoding the base64 bloom filter in existence filter failed ("+S.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw S}try{D=new KS(w,d,m)}catch(S){return da(S instanceof Z0?"BloomFilter error: ":"Applying bloom filter failed: ",S),1}return 0===D.yt?1:i!==t-this.re(e.targetId,D)?2:0}re(e,t){const r=this.Kt.getRemoteKeysForTarget(e);let i=0;return r.forEach(u=>{const d=this.Kt.oe(),m=`projects/${d.projectId}/databases/${d.database}/documents/${u.path.canonicalString()}`;t.At(m)||(this.Jt(e,u,null),i++)}),i}ue(e){const t=new Map;this.Gt.forEach((u,d)=>{const m=this.ne(d);if(m){if(u.current&&XI(m.target)){const w=new Ke(m.target.path);null!==this.Qt.get(w)||this.ce(d,w)||this.Jt(d,w,Zn.newNoDocument(w,e))}u.kt&&(t.set(d,u.Ot()),u.$t())}});let r=Zt();this.jt.forEach((u,d)=>{let m=!0;d.forEachWhile(w=>{const D=this.ne(w);return!D||"TargetPurposeLimboResolution"===D.purpose||(m=!1,!1)}),m&&(r=r.add(u))}),this.Qt.forEach((u,d)=>d.setReadTime(e));const i=new W0(e,t,this.zt,this.Qt,r);return this.Qt=qs(),this.jt=pP(),this.zt=new Un(jt),i}Ht(e,t){if(!this.Zt(e))return;const r=this.ce(e,t.key)?2:0;this.Xt(e).Ft(t.key,r),this.Qt=this.Qt.insert(t.key,t),this.jt=this.jt.insert(t.key,this.ae(t.key).add(e))}Jt(e,t,r){if(!this.Zt(e))return;const i=this.Xt(e);this.ce(e,t)?i.Ft(t,1):i.Bt(t),this.jt=this.jt.insert(t,this.ae(t).delete(e)),r&&(this.Qt=this.Qt.insert(t,r))}removeTarget(e){this.Gt.delete(e)}se(e){const t=this.Xt(e).Ot();return this.Kt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Lt(e){this.Xt(e).Lt()}Xt(e){let t=this.Gt.get(e);return t||(t=new fP,this.Gt.set(e,t)),t}ae(e){let t=this.jt.get(e);return t||(t=new qn(jt),this.jt=this.jt.insert(e,t)),t}Zt(e){const t=null!==this.ne(e);return t||ke("WatchChangeAggregator","Detected inactive target",e),t}ne(e){const t=this.Gt.get(e);return t&&t.Nt?null:this.Kt.he(e)}te(e){this.Gt.set(e,new fP),this.Kt.getRemoteKeysForTarget(e).forEach(t=>{this.Jt(e,t,null)})}ce(e,t){return this.Kt.getRemoteKeysForTarget(e).has(t)}}function pP(){return new Un(Ke.comparator)}function gP(){return new Un(Ke.comparator)}const XN={asc:"ASCENDING",desc:"DESCENDING"},ek={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},tk={and:"AND",or:"OR"};class nk{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function YS(n,e){return n.useProto3Json||N0(e)?e:{value:e}}function ky(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function mP(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function rk(n,e){return ky(n,e.toTimestamp())}function Rr(n){return _t(!!n),wt.fromTimestamp(function(e){const t=xh(e);return new rr(t.seconds,t.nanos)}(n))}function QS(n,e){return(t=n,new ln(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function yP(n){const e=ln.fromString(n);return _t(TP(e)),e}function Y0(n,e){return QS(n.databaseId,e.path)}function Mc(n,e){const t=yP(e);if(t.get(1)!==n.databaseId.projectId)throw new Ae(ae.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ae(ae.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ke(vP(t))}function JS(n,e){return QS(n.databaseId,e)}function _P(n){const e=yP(n);return 4===e.length?ln.emptyPath():vP(e)}function Q0(n){return new ln(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function vP(n){return _t(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function wP(n,e,t){return{name:Y0(n,e),fields:t.value.mapValue.fields}}function CP(n,e,t){const r=Mc(n,e.name),i=Rr(e.updateTime),u=e.createTime?Rr(e.createTime):wt.min(),d=new Bi({mapValue:{fields:e.fields}}),m=Zn.newFoundDocument(r,i,u,d);return t&&m.setHasCommittedMutations(),t?m.setHasCommittedMutations():m}function J0(n,e){let t;if(e instanceof Ry)t={update:wP(n,e.key,e.value)};else if(e instanceof Ny)t={delete:Y0(n,e.key)};else if(e instanceof Zl)t={update:wP(n,e.key,e.data),updateMask:dk(e.fieldMask)};else{if(!(e instanceof GS))return ot();t={verify:Y0(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,u){const d=u.transform;if(d instanceof Py)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Qp)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Jp)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Oy)return{fieldPath:u.field.canonicalString(),increment:d.wt};throw ot()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:rk(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:ot()),t;var i}function XS(n,e){const t=e.currentDocument?void 0!==(i=e.currentDocument).updateTime?ir.updateTime(Rr(i.updateTime)):void 0!==i.exists?ir.exists(i.exists):ir.none():ir.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(u,d){let m=null;"setToServerValue"in d?(_t("REQUEST_TIME"===d.setToServerValue),m=new Py):"appendMissingElements"in d?m=new Qp(d.appendMissingElements.values||[]):"removeAllFromArray"in d?m=new Jp(d.removeAllFromArray.values||[]):"increment"in d?m=new Oy(u,d.increment):ot();const w=wr.fromServerFormat(d.fieldPath);return new z0(w,m)}(n,i)):[];var i;if(e.update){const i=Mc(n,e.update.name),u=new Bi({mapValue:{fields:e.update.fields}});if(e.updateMask){const d=new zs((e.updateMask.fieldPaths||[]).map(D=>wr.fromServerFormat(D)));return new Zl(i,u,d,t,r)}return new Ry(i,u,t,r)}if(e.delete){const i=Mc(n,e.delete);return new Ny(i,t)}if(e.verify){const i=Mc(n,e.verify);return new GS(i,t)}return ot()}function EP(n,e){return{documents:[JS(n,e.path)]}}function eA(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=JS(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=JS(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(w){if(0!==w.length)return DP(Sn.create(w,"and"))}(e.filters);i&&(t.structuredQuery.where=i);const u=function(w){if(0!==w.length)return w.map(D=>{return{field:Fh((S=D).field),direction:uk(S.dir)};var S})}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const d=YS(n,e.limit);var m,w;return null!==d&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt={before:(m=e.startAt).inclusive,values:m.position}),e.endAt&&(t.structuredQuery.endAt={before:!(w=e.endAt).inclusive,values:w.position}),t}function IP(n){let e=_P(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){_t(1===r);const S=t.from[0];S.allDescendants?i=S.collectionId:e=e.child(S.collectionId)}let u=[];t.where&&(u=function(S){const O=bP(S);return O instanceof Sn&&FS(O)?O.getFilters():[O]}(t.where));let d=[];t.orderBy&&(d=t.orderBy.map(S=>{return new Ay(Fy((O=S).field),function(U){switch(U){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(O.direction));var O}));let m=null;t.limit&&(m=function(S){let O;return O="object"==typeof S?S.value:S,N0(O)?null:O}(t.limit));let w=null;var S;t.startAt&&(w=new kh((S=t.startAt).values||[],!!S.before));let D=null;return t.endAt&&(D=function(S){return new kh(S.values||[],!S.before)}(t.endAt)),U1(e,i,d,u,m,"F",w,D)}function bP(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Fy(e.unaryFilter.field);return sn.create(t,"==",{doubleValue:NaN});case"IS_NULL":const r=Fy(e.unaryFilter.field);return sn.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Fy(e.unaryFilter.field);return sn.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Fy(e.unaryFilter.field);return sn.create(u,"!=",{nullValue:"NULL_VALUE"});default:return ot()}}(n):void 0!==n.fieldFilter?sn.create(Fy((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ot()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return Sn.create(e.compositeFilter.filters.map(t=>bP(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return ot()}}(e.compositeFilter.op))}(n):ot();var e}function uk(n){return XN[n]}function ck(n){return ek[n]}function lk(n){return tk[n]}function Fh(n){return{fieldPath:n.canonicalString()}}function Fy(n){return wr.fromServerFormat(n.fieldPath)}function DP(n){return n instanceof sn?function(e){if("=="===e.op){if(I1(e.value))return{unaryFilter:{field:Fh(e.field),op:"IS_NAN"}};if(E1(e.value))return{unaryFilter:{field:Fh(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(I1(e.value))return{unaryFilter:{field:Fh(e.field),op:"IS_NOT_NAN"}};if(E1(e.value))return{unaryFilter:{field:Fh(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Fh(e.field),op:ck(e.op),value:e.value}}}(n):n instanceof Sn?function(e){const t=e.getFilters().map(r=>DP(r));return 1===t.length?t[0]:{compositeFilter:{op:lk(e.op),filters:t}}}(n):ot()}function dk(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function TP(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class Wl{constructor(e,t,r,i,u=wt.min(),d=wt.min(),m=ui.EMPTY_BYTE_STRING,w=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=m,this.expectedCount=w}withSequenceNumber(e){return new Wl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Wl(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Wl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Wl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class SP{constructor(e){this.le=e}}function AP(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:ub(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:Y0(i=n.le,(u=e).key),fields:u.data.value.mapValue.fields,updateTime:ky(i,u.version.toTimestamp()),createTime:ky(i,u.createTime.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:Xp(e.version)};else{if(!e.isUnknownDocument())return ot();r.unknownDocument={path:t.path.toArray(),version:Xp(e.version)}}var i,u;return r}function ub(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Xp(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function eg(n){const e=new rr(n.seconds,n.nanoseconds);return wt.fromTimestamp(e)}function tg(n,e){const t=(e.baseMutations||[]).map(u=>XS(n.le,u));for(let u=0;u<e.mutations.length-1;++u)u+1<e.mutations.length&&void 0!==e.mutations[u+1].transform&&(e.mutations[u].updateTransforms=e.mutations[u+1].transform.fieldTransforms,e.mutations.splice(u+1,1),++u);const r=e.mutations.map(u=>XS(n.le,u)),i=rr.fromMillis(e.localWriteTimeMs);return new zS(e.batchId,i,t,r)}function X0(n){const e=eg(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?eg(n.lastLimboFreeSnapshotVersion):wt.min();let r;var i;return void 0!==n.query.documents?(_t(1===(i=n.query).documents.length),r=gs(xy(_P(i.documents[0])))):r=gs(IP(n.query)),new Wl(r,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,ui.fromBase64String(n.resumeToken))}function MP(n,e){const t=Xp(e.snapshotVersion),r=Xp(e.lastLimboFreeSnapshotVersion);let i;i=XI(e.target)?EP(n.le,e.target):eA(n.le,e.target);const u=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Kp(e.target),readTime:t,resumeToken:u,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function tA(n){const e=IP({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?nb(e,e.limit,"L"):e}function nA(n,e){return new ZS(e.largestBatchId,XS(n.le,e.overlayMutation))}function xP(n,e){const t=e.path.lastSegment();return[n,Xi(e.path.popLast()),t]}function PP(n,e,t,r){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:Xp(r.readTime),documentKey:Xi(r.documentKey.path),largestBatchId:r.largestBatchId}}class fk{getBundleMetadata(e,t){return OP(e).get(t).next(r=>{if(r)return{id:(i=r).bundleId,createTime:eg(i.createTime),version:i.version};var i})}saveBundleMetadata(e,t){return OP(e).put({bundleId:(r=t).id,createTime:Xp(Rr(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return RP(e).get(t).next(r=>{if(r)return{name:(i=r).name,query:tA(i.bundledQuery),readTime:eg(i.readTime)};var i})}saveNamedQuery(e,t){return RP(e).put({name:(r=t).name,readTime:Xp(Rr(r.readTime)),bundledQuery:r.bundledQuery});var r}}function OP(n){return Ti(n,"bundles")}function RP(n){return Ti(n,"namedQueries")}class cb{constructor(e,t){this.serializer=e,this.userId=t}static fe(e,t){return new cb(e,t.uid||"")}getOverlay(e,t){return ew(e).get(xP(this.userId,t)).next(r=>r?nA(this.serializer,r):null)}getOverlays(e,t){const r=Ac();return ee.forEach(t,i=>this.getOverlay(e,i).next(u=>{null!==u&&r.set(i,u)})).next(()=>r)}saveOverlays(e,t,r){const i=[];return r.forEach((u,d)=>{const m=new ZS(t,d);i.push(this.de(e,m))}),ee.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(d=>i.add(Xi(d.getCollectionPath())));const u=[];return i.forEach(d=>{const m=IDBKeyRange.bound([this.userId,d,r],[this.userId,d,r+1],!1,!0);u.push(ew(e).J("collectionPathOverlayIndex",m))}),ee.waitFor(u)}getOverlaysForCollection(e,t,r){const i=Ac(),u=Xi(t),d=IDBKeyRange.bound([this.userId,u,r],[this.userId,u,Number.POSITIVE_INFINITY],!0);return ew(e).j("collectionPathOverlayIndex",d).next(m=>{for(const w of m){const D=nA(this.serializer,w);i.set(D.getKey(),D)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const u=Ac();let d;const m=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return ew(e).X({index:"collectionGroupOverlayIndex",range:m},(w,D,S)=>{const O=nA(this.serializer,D);u.size()<i||O.largestBatchId===d?(u.set(O.getKey(),O),d=O.largestBatchId):S.done()}).next(()=>u)}de(e,t){return ew(e).put(function(r,i,u){const[d,m,w]=xP(i,u.mutation.key);return{userId:i,collectionPath:m,documentId:w,collectionGroup:u.mutation.key.getCollectionGroup(),largestBatchId:u.largestBatchId,overlayMutation:J0(r.le,u.mutation)}}(this.serializer,this.userId,t))}}function ew(n){return Ti(n,"documentOverlays")}class ng{constructor(){}_e(e,t){this.we(e,t),t.me()}we(e,t){if("nullValue"in e)this.ge(t,5);else if("booleanValue"in e)this.ge(t,10),t.ye(e.booleanValue?1:0);else if("integerValue"in e)this.ge(t,15),t.ye(Cr(e.integerValue));else if("doubleValue"in e){const r=Cr(e.doubleValue);isNaN(r)?this.ge(t,13):(this.ge(t,15),k0(r)?t.ye(0):t.ye(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ge(t,20),"string"==typeof r?t.pe(r):(t.pe(`${r.seconds||""}`),t.ye(r.nanos||0))}else if("stringValue"in e)this.Ie(e.stringValue,t),this.Te(t);else if("bytesValue"in e)this.ge(t,30),t.Ee(Gl(e.bytesValue)),this.Te(t);else if("referenceValue"in e)this.Ae(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ge(t,45),t.ye(r.latitude||0),t.ye(r.longitude||0)}else"mapValue"in e?b1(e)?this.ge(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Te(t)):"arrayValue"in e?(this.ve(e.arrayValue,t),this.Te(t)):ot()}Ie(e,t){this.ge(t,25),this.Pe(e,t)}Pe(e,t){t.pe(e)}Re(e,t){const r=e.fields||{};this.ge(t,55);for(const i of Object.keys(r))this.Ie(i,t),this.we(r[i],t)}ve(e,t){const r=e.values||[];this.ge(t,50);for(const i of r)this.we(i,t)}Ae(e,t){this.ge(t,37),Ke.fromName(e).path.forEach(r=>{this.ge(t,60),this.Pe(r,t)})}ge(e,t){e.ye(t)}Te(e){e.ye(2)}}function pk(n){if(0===n)return 8;let e=0;return!(n>>4)&&(e+=4,n<<=4),!(n>>6)&&(e+=2,n<<=2),!(n>>7)&&(e+=1),e}function NP(n){const e=64-function(t){let r=0;for(let i=0;i<8;++i){const u=pk(255&t[i]);if(r+=u,8!==u)break}return r}(n);return Math.ceil(e/8)}ng.be=new ng;class gk{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ve(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Se(r.value),r=t.next();this.De()}Ce(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.xe(r.value),r=t.next();this.Ne()}ke(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Se(r);else if(r<2048)this.Se(960|r>>>6),this.Se(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Se(480|r>>>12),this.Se(128|63&r>>>6),this.Se(128|63&r);else{const i=t.codePointAt(0);this.Se(240|i>>>18),this.Se(128|63&i>>>12),this.Se(128|63&i>>>6),this.Se(128|63&i)}}this.De()}Me(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.xe(r);else if(r<2048)this.xe(960|r>>>6),this.xe(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.xe(480|r>>>12),this.xe(128|63&r>>>6),this.xe(128|63&r);else{const i=t.codePointAt(0);this.xe(240|i>>>18),this.xe(128|63&i>>>12),this.xe(128|63&i>>>6),this.xe(128|63&i)}}this.Ne()}Oe(e){const t=this.$e(e),r=NP(t);this.Fe(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}Be(e){const t=this.$e(e),r=NP(t);this.Fe(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}Le(){this.qe(255),this.qe(255)}Ue(){this.Ke(255),this.Ke(255)}reset(){this.position=0}seed(e){this.Fe(e.length),this.buffer.set(e,this.position),this.position+=e.length}Ge(){return this.buffer.slice(0,this.position)}$e(e){const t=function(i){const u=new DataView(new ArrayBuffer(8));return u.setFloat64(0,i,!1),new Uint8Array(u.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}Se(e){const t=255&e;0===t?(this.qe(0),this.qe(255)):255===t?(this.qe(255),this.qe(0)):this.qe(t)}xe(e){const t=255&e;0===t?(this.Ke(0),this.Ke(255)):255===t?(this.Ke(255),this.Ke(0)):this.Ke(e)}De(){this.qe(0),this.qe(1)}Ne(){this.Ke(0),this.Ke(1)}qe(e){this.Fe(1),this.buffer[this.position++]=e}Ke(e){this.Fe(1),this.buffer[this.position++]=~e}Fe(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class mk{constructor(e){this.Qe=e}Ee(e){this.Qe.Ve(e)}pe(e){this.Qe.ke(e)}ye(e){this.Qe.Oe(e)}me(){this.Qe.Le()}}class yk{constructor(e){this.Qe=e}Ee(e){this.Qe.Ce(e)}pe(e){this.Qe.Me(e)}ye(e){this.Qe.Be(e)}me(){this.Qe.Ue()}}class tw{constructor(){this.Qe=new gk,this.je=new mk(this.Qe),this.ze=new yk(this.Qe)}seed(e){this.Qe.seed(e)}We(e){return 0===e?this.je:this.ze}Ge(){return this.Qe.Ge()}reset(){this.Qe.reset()}}class rg{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}He(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new rg(this.indexId,this.documentKey,this.arrayValue,r)}}function Lh(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=kP(n.arrayValue,e.arrayValue),0!==t?t:(t=kP(n.directionalValue,e.directionalValue),0!==t?t:Ke.comparator(n.documentKey,e.documentKey)))}function kP(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class _k{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Je=e.orderBy,this.Ye=[];for(const t of e.filters){const r=t;r.isInequality()?this.Xe=r:this.Ye.push(r)}}Ze(e){_t(e.collectionGroup===this.collectionId);const t=AS(e);if(void 0!==t&&!this.tn(t))return!1;const r=qp(e);let i=0,u=0;for(;i<r.length&&this.tn(r[i]);++i);if(i===r.length)return!0;if(void 0!==this.Xe){const d=r[i];if(!this.en(this.Xe,d)||!this.nn(this.Je[u++],d))return!1;++i}for(;i<r.length;++i)if(u>=this.Je.length||!this.nn(this.Je[u++],r[i]))return!1;return!0}tn(e){for(const t of this.Ye)if(this.en(t,e))return!0;return!1}en(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}nn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function FP(n){var e,t;if(_t(n instanceof sn||n instanceof Sn),n instanceof sn){if(n instanceof F1){const i=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(u=>sn.create(n.field,"==",u)))||[];return Sn.create(i,"or")}return n}const r=n.filters.map(i=>FP(i));return Sn.create(r,n.op)}function vk(n){if(0===n.getFilters().length)return[];const e=sA(FP(n));return _t(LP(e)),rA(e)||iA(e)?[e]:e.getFilters()}function rA(n){return n instanceof sn}function iA(n){return n instanceof Sn&&FS(n)}function LP(n){return rA(n)||iA(n)||function(e){if(e instanceof Sn&&kS(e)){for(const t of e.getFilters())if(!rA(t)&&!iA(t))return!1;return!0}return!1}(n)}function sA(n){if(_t(n instanceof sn||n instanceof Sn),n instanceof sn)return n;if(1===n.filters.length)return sA(n.filters[0]);const e=n.filters.map(r=>sA(r));let t=Sn.create(e,n.op);return t=lb(t),LP(t)?t:(_t(t instanceof Sn),_t(My(t)),_t(t.filters.length>1),t.filters.reduce((r,i)=>oA(r,i)))}function oA(n,e){let t;return _t(n instanceof sn||n instanceof Sn),_t(e instanceof sn||e instanceof Sn),t=n instanceof sn?e instanceof sn?Sn.create([n,e],"and"):VP(n,e):e instanceof sn?VP(e,n):function(r,i){if(_t(r.filters.length>0&&i.filters.length>0),My(r)&&My(i))return R1(r,i.getFilters());const u=kS(r)?r:i,d=kS(r)?i:r,m=u.filters.map(w=>oA(w,d));return Sn.create(m,"or")}(n,e),lb(t)}function VP(n,e){if(My(e))return R1(e,n.getFilters());{const t=e.filters.map(r=>oA(n,r));return Sn.create(t,"or")}}function lb(n){if(_t(n instanceof sn||n instanceof Sn),n instanceof sn)return n;const e=n.getFilters();if(1===e.length)return lb(e[0]);if(P1(n))return n;const t=e.map(i=>lb(i)),r=[];return t.forEach(i=>{i instanceof sn?r.push(i):i instanceof Sn&&(i.op===n.op?r.push(...i.filters):r.push(i))}),1===r.length?r[0]:Sn.create(r,n.op)}class wk{constructor(){this.sn=new aA}addToCollectionParentIndex(e,t){return this.sn.add(t),ee.resolve()}getCollectionParents(e,t){return ee.resolve(this.sn.getEntries(t))}addFieldIndex(e,t){return ee.resolve()}deleteFieldIndex(e,t){return ee.resolve()}getDocumentsMatchingTarget(e,t){return ee.resolve(null)}getIndexType(e,t){return ee.resolve(0)}getFieldIndexes(e,t){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,t){return ee.resolve(To.min())}getMinOffsetFromCollectionGroup(e,t){return ee.resolve(To.min())}updateCollectionGroup(e,t,r){return ee.resolve()}updateIndexEntries(e,t){return ee.resolve()}}class aA{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new qn(ln.comparator),u=!i.has(r);return this.index[t]=i.add(r),u}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new qn(ln.comparator)).toArray()}}const db=new Uint8Array(0);class Ck{constructor(e,t){this.user=e,this.databaseId=t,this.rn=new aA,this.on=new ql(r=>Kp(r),(r,i)=>B0(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.rn.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.rn.add(t)});const u={collectionId:r,parent:Xi(i)};return UP(e).put(u)}return ee.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[i1(t),""],!1,!0);return UP(e).j(i).next(u=>{for(const d of u){if(d.collectionId!==t)break;r.push(Tc(d.parent))}return r})}addFieldIndex(e,t){const r=hb(e),i={indexId:(d=t).indexId,collectionGroup:d.collectionGroup,fields:d.fields.map(m=>[m.fieldPath.canonicalString(),m.kind])};var d;delete i.indexId;const u=r.add(i);if(t.indexState){const d=rw(e);return u.next(m=>{d.put(PP(m,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return u.next()}deleteFieldIndex(e,t){const r=hb(e),i=rw(e),u=nw(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>u.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=nw(e);let i=!0;const u=new Map;return ee.forEach(this.un(t),d=>this.cn(e,d).next(m=>{i&&(i=!!m),u.set(d,m)})).next(()=>{if(i){let d=Zt();const m=[];return ee.forEach(u,(w,D)=>{var S;ke("IndexedDbIndexManager",`Using index ${S=w,`id=${S.indexId}|cg=${S.collectionGroup}|f=${S.fields.map(vt=>`${vt.fieldPath}:${vt.kind}`).join(",")}`} to execute ${Kp(t)}`);const O=function(vt,zt){const Jt=AS(zt);if(void 0===Jt)return null;for(const hn of eb(vt,Jt.fieldPath))switch(hn.op){case"array-contains-any":return hn.value.arrayValue.values||[];case"array-contains":return[hn.value]}return null}(D,w),U=function(vt,zt){const Jt=new Map;for(const hn of qp(zt))for(const _s of eb(vt,hn.fieldPath))switch(_s.op){case"==":case"in":Jt.set(hn.fieldPath.canonicalString(),_s.value);break;case"not-in":case"!=":return Jt.set(hn.fieldPath.canonicalString(),_s.value),Array.from(Jt.values())}return null}(D,w),Z=function(vt,zt){const Jt=[];let hn=!0;for(const _s of qp(zt)){const qh=0===_s.kind?L1(vt,_s.fieldPath,vt.startAt):V1(vt,_s.fieldPath,vt.startAt);Jt.push(qh.value),hn&&(hn=qh.inclusive)}return new kh(Jt,hn)}(D,w),oe=function(vt,zt){const Jt=[];let hn=!0;for(const _s of qp(zt)){const qh=0===_s.kind?V1(vt,_s.fieldPath,vt.endAt):L1(vt,_s.fieldPath,vt.endAt);Jt.push(qh.value),hn&&(hn=qh.inclusive)}return new kh(Jt,hn)}(D,w),De=this.an(w,D,Z),Le=this.an(w,D,oe),rt=this.hn(w,D,U),St=this.ln(w.indexId,O,De,Z.inclusive,Le,oe.inclusive,rt);return ee.forEach(St,vt=>r.H(vt,t.limit).next(zt=>{zt.forEach(Jt=>{const hn=Ke.fromSegments(Jt.documentKey);d.has(hn)||(d=d.add(hn),m.push(hn))})}))}).next(()=>m)}return ee.resolve(null)})}un(e){let t=this.on.get(e);return t||(t=0===e.filters.length?[e]:vk(Sn.create(e.filters,"and")).map(r=>VS(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.on.set(e,t),t)}ln(e,t,r,i,u,d,m){const w=(null!=t?t.length:1)*Math.max(r.length,u.length),D=w/(null!=t?t.length:1),S=[];for(let O=0;O<w;++O){const U=t?this.fn(t[O/D]):db,Z=this.dn(e,U,r[O%D],i),oe=this._n(e,U,u[O%D],d),De=m.map(Le=>this.dn(e,U,Le,!0));S.push(...this.createRange(Z,oe,De))}return S}dn(e,t,r,i){const u=new rg(e,Ke.empty(),t,r);return i?u:u.He()}_n(e,t,r,i){const u=new rg(e,Ke.empty(),t,r);return i?u.He():u}cn(e,t){const r=new _k(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(u=>{let d=null;for(const m of u)r.Ze(m)&&(!d||m.fields.length>d.fields.length)&&(d=m);return d})}getIndexType(e,t){let r=2;const i=this.un(t);return ee.forEach(i,u=>this.cn(e,u).next(d=>{d?0!==r&&d.fields.length<function(m){let w=new qn(wr.comparator),D=!1;for(const S of m.filters)for(const O of S.getFlattenedFilters())O.field.isKeyField()||("array-contains"===O.op||"array-contains-any"===O.op?D=!0:w=w.add(O.field));for(const S of m.orderBy)S.field.isKeyField()||(w=w.add(S.field));return w.size+(D?1:0)}(u)&&(r=1):r=0})).next(()=>null!==t.limit&&i.length>1&&2===r?1:r)}wn(e,t){const r=new tw;for(const i of qp(e)){const u=t.data.field(i.fieldPath);if(null==u)return null;const d=r.We(i.kind);ng.be._e(u,d)}return r.Ge()}fn(e){const t=new tw;return ng.be._e(e,t.We(0)),t.Ge()}mn(e,t){const r=new tw;return ng.be._e(Wp(this.databaseId,t),r.We(function(i){const u=qp(i);return 0===u.length?0:u[u.length-1].kind}(e))),r.Ge()}hn(e,t,r){if(null===r)return[];let i=[];i.push(new tw);let u=0;for(const d of qp(e)){const m=r[u++];for(const w of i)if(this.gn(t,d.fieldPath)&&V0(m))i=this.yn(i,d,m);else{const D=w.We(d.kind);ng.be._e(m,D)}}return this.pn(i)}an(e,t,r){return this.hn(e,t,r.position)}pn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Ge();return t}yn(e,t,r){const i=[...e],u=[];for(const d of r.arrayValue.values||[])for(const m of i){const w=new tw;w.seed(m.Ge()),ng.be._e(d,w.We(t.kind)),u.push(w)}return u}gn(e,t){return!!e.filters.find(r=>r instanceof sn&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=hb(e),i=rw(e);return(t?r.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.j()).next(u=>{const d=[];return ee.forEach(u,m=>i.get([m.indexId,this.uid]).next(w=>{d.push(function(D,S){const O=S?new O0(S.sequenceNumber,new To(eg(S.readTime),new Ke(Tc(S.documentKey)),S.largestBatchId)):O0.empty(),U=D.fields.map(([Z,oe])=>new GI(wr.fromServerFormat(Z),oe));return new HI(D.indexId,D.collectionGroup,U,O)}(m,w))})).next(()=>d)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,i)=>{const u=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==u?u:jt(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=hb(e),u=rw(e);return this.In(e).next(d=>i.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(m=>ee.forEach(m,w=>u.put(PP(w.indexId,this.user,d,r)))))}updateIndexEntries(e,t){const r=new Map;return ee.forEach(t,(i,u)=>{const d=r.get(i.collectionGroup);return(d?ee.resolve(d):this.getFieldIndexes(e,i.collectionGroup)).next(m=>(r.set(i.collectionGroup,m),ee.forEach(m,w=>this.Tn(e,i,w).next(D=>{const S=this.En(u,w);return D.isEqual(S)?ee.resolve():this.An(e,u,w,D,S)}))))})}Rn(e,t,r,i){return nw(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.mn(r,t.key),documentKey:t.key.path.toArray()})}vn(e,t,r,i){return nw(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.mn(r,t.key),t.key.path.toArray()])}Tn(e,t,r){const i=nw(e);let u=new qn(Lh);return i.X({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.mn(r,t)])},(d,m)=>{u=u.add(new rg(r.indexId,t,m.arrayValue,m.directionalValue))}).next(()=>u)}En(e,t){let r=new qn(Lh);const i=this.wn(t,e);if(null==i)return r;const u=AS(t);if(null!=u){const d=e.data.field(u.fieldPath);if(V0(d))for(const m of d.arrayValue.values||[])r=r.add(new rg(t.indexId,e.key,this.fn(m),i))}else r=r.add(new rg(t.indexId,e.key,db,i));return r}An(e,t,r,i,u){ke("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const d=[];return function(m,w,D,S,O){const U=m.getIterator(),Z=w.getIterator();let oe=Ty(U),De=Ty(Z);for(;oe||De;){let Le=!1,rt=!1;if(oe&&De){const St=D(oe,De);St<0?rt=!0:St>0&&(Le=!0)}else null!=oe?rt=!0:Le=!0;Le?(S(De),De=Ty(Z)):rt?(O(oe),oe=Ty(U)):(oe=Ty(U),De=Ty(Z))}}(i,u,Lh,m=>{d.push(this.Rn(e,t,r,m))},m=>{d.push(this.vn(e,t,r,m))}),ee.waitFor(d)}In(e){let t=1;return rw(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,u)=>{u.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((d,m)=>Lh(d,m)).filter((d,m,w)=>!m||0!==Lh(d,w[m-1]));const i=[];i.push(e);for(const d of r){const m=Lh(d,e),w=Lh(d,t);if(0===m)i[0]=e.He();else if(m>0&&w<0)i.push(d),i.push(d.He());else if(w>0)break}i.push(t);const u=[];for(let d=0;d<i.length;d+=2){if(this.Pn(i[d],i[d+1]))return[];u.push(IDBKeyRange.bound([i[d].indexId,this.uid,i[d].arrayValue,i[d].directionalValue,db,[]],[i[d+1].indexId,this.uid,i[d+1].arrayValue,i[d+1].directionalValue,db,[]]))}return u}Pn(e,t){return Lh(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(BP)}getMinOffset(e,t){return ee.mapArray(this.un(t),r=>this.cn(e,r).next(i=>i||ot())).next(BP)}}function UP(n){return Ti(n,"collectionParents")}function nw(n){return Ti(n,"indexEntries")}function hb(n){return Ti(n,"indexConfiguration")}function rw(n){return Ti(n,"indexState")}function BP(n){_t(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const i=n[r].indexState.offset;MS(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new To(e.readTime,e.documentKey,t)}const jP={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class es{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new es(e,es.DEFAULT_COLLECTION_PERCENTILE,es.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function $P(n,e,t){const r=n.store("mutations"),i=n.store("documentMutations"),u=[],d=IDBKeyRange.only(t.batchId);let m=0;const w=r.X({range:d},(S,O,U)=>(m++,U.delete()));u.push(w.next(()=>{_t(1===m)}));const D=[];for(const S of t.mutations){const O=f1(e,S.key.path,t.batchId);u.push(i.delete(O)),D.push(S.key)}return ee.waitFor(u).next(()=>D)}function fb(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw ot();e=n.noDocument}return JSON.stringify(e).length}es.DEFAULT_COLLECTION_PERCENTILE=10,es.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,es.DEFAULT=new es(41943040,es.DEFAULT_COLLECTION_PERCENTILE,es.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),es.DISABLED=new es(-1,0,0);class pb{constructor(e,t,r,i){this.userId=e,this.serializer=t,this.indexManager=r,this.referenceDelegate=i,this.bn={}}static fe(e,t,r,i){_t(""!==e.uid);const u=e.isAuthenticated()?e.uid:"";return new pb(u,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Vh(e).X({index:"userMutationsIndex",range:r},(i,u,d)=>{t=!1,d.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const u=Ly(e),d=Vh(e);return d.add({}).next(m=>{_t("number"==typeof m);const w=new zS(m,t,r,i),D=function(U,Z,oe){const De=oe.baseMutations.map(rt=>J0(U.le,rt)),Le=oe.mutations.map(rt=>J0(U.le,rt));return{userId:Z,batchId:oe.batchId,localWriteTimeMs:oe.localWriteTime.toMillis(),baseMutations:De,mutations:Le}}(this.serializer,this.userId,w),S=[];let O=new qn((U,Z)=>jt(U.canonicalString(),Z.canonicalString()));for(const U of i){const Z=f1(this.userId,U.key.path,m);O=O.add(U.key.path.popLast()),S.push(d.put(D)),S.push(u.put(Z,uN))}return O.forEach(U=>{S.push(this.indexManager.addToCollectionParentIndex(e,U))}),e.addOnCommittedListener(()=>{this.bn[m]=w.keys()}),ee.waitFor(S).next(()=>w)})}lookupMutationBatch(e,t){return Vh(e).get(t).next(r=>r?(_t(r.userId===this.userId),tg(this.serializer,r)):null)}Vn(e,t){return this.bn[t]?ee.resolve(this.bn[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.bn[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let u=null;return Vh(e).X({index:"userMutationsIndex",range:i},(d,m,w)=>{m.userId===this.userId&&(_t(m.batchId>=r),u=tg(this.serializer,m)),w.done()}).next(()=>u)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Vh(e).X({index:"userMutationsIndex",range:t,reverse:!0},(i,u,d)=>{r=u.batchId,d.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Vh(e).j("userMutationsIndex",t).next(r=>r.map(i=>tg(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=qI(this.userId,t.path),i=IDBKeyRange.lowerBound(r),u=[];return Ly(e).X({range:i},(d,m,w)=>{const[D,S,O]=d,U=Tc(S);if(D===this.userId&&t.path.isEqual(U))return Vh(e).get(O).next(Z=>{if(!Z)throw ot();_t(Z.userId===this.userId),u.push(tg(this.serializer,Z))});w.done()}).next(()=>u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new qn(jt);const i=[];return t.forEach(u=>{const d=qI(this.userId,u.path),m=IDBKeyRange.lowerBound(d),w=Ly(e).X({range:m},(D,S,O)=>{const[U,Z,oe]=D,De=Tc(Z);U===this.userId&&u.path.isEqual(De)?r=r.add(oe):O.done()});i.push(w)}),ee.waitFor(i).next(()=>this.Sn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,u=qI(this.userId,r),d=IDBKeyRange.lowerBound(u);let m=new qn(jt);return Ly(e).X({range:d},(w,D,S)=>{const[O,U,Z]=w,oe=Tc(U);O===this.userId&&r.isPrefixOf(oe)?oe.length===i&&(m=m.add(Z)):S.done()}).next(()=>this.Sn(e,m))}Sn(e,t){const r=[],i=[];return t.forEach(u=>{i.push(Vh(e).get(u).next(d=>{if(null===d)throw ot();_t(d.userId===this.userId),r.push(tg(this.serializer,d))}))}),ee.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return $P(e.at,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.Dn(t.batchId)}),ee.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}Dn(e){delete this.bn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return ee.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return Ly(e).X({range:r},(u,d,m)=>{if(u[0]===this.userId){const w=Tc(u[1]);i.push(w)}else m.done()}).next(()=>{_t(0===i.length)})})}containsKey(e,t){return HP(e,this.userId,t)}Cn(e){return GP(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function HP(n,e,t){const r=qI(e,t.path),i=r[1],u=IDBKeyRange.lowerBound(r);let d=!1;return Ly(n).X({range:u,Y:!0},(m,w,D)=>{const[S,O,U]=m;S===e&&O===i&&(d=!0),D.done()}).next(()=>d)}function Vh(n){return Ti(n,"mutations")}function Ly(n){return Ti(n,"documentMutations")}function GP(n){return Ti(n,"mutationQueues")}class ig{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static Nn(){return new ig(0)}static kn(){return new ig(-1)}}class Ek{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.Mn(e).next(t=>{const r=new ig(t.highestTargetId);return t.highestTargetId=r.next(),this.On(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Mn(e).next(t=>wt.fromTimestamp(new rr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Mn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.Mn(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.On(e,i)))}addTargetData(e,t){return this.$n(e,t).next(()=>this.Mn(e).next(r=>(r.targetCount+=1,this.Fn(t,r),this.On(e,r))))}updateTargetData(e,t){return this.$n(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Vy(e).delete(t.targetId)).next(()=>this.Mn(e)).next(r=>(_t(r.targetCount>0),r.targetCount-=1,this.On(e,r)))}removeTargets(e,t,r){let i=0;const u=[];return Vy(e).X((d,m)=>{const w=X0(m);w.sequenceNumber<=t&&null===r.get(w.targetId)&&(i++,u.push(this.removeTargetData(e,w)))}).next(()=>ee.waitFor(u)).next(()=>i)}forEachTarget(e,t){return Vy(e).X((r,i)=>{const u=X0(i);t(u)})}Mn(e){return zP(e).get("targetGlobalKey").next(t=>(_t(null!==t),t))}On(e,t){return zP(e).put("targetGlobalKey",t)}$n(e,t){return Vy(e).put(MP(this.serializer,t))}Fn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Mn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=Kp(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let u=null;return Vy(e).X({range:i,index:"queryTargetsIndex"},(d,m,w)=>{const D=X0(m);B0(t,D.target)&&(u=D,w.done())}).next(()=>u)}addMatchingKeys(e,t,r){const i=[],u=Uh(e);return t.forEach(d=>{const m=Xi(d.path);i.push(u.put({targetId:r,path:m})),i.push(this.referenceDelegate.addReference(e,r,d))}),ee.waitFor(i)}removeMatchingKeys(e,t,r){const i=Uh(e);return ee.forEach(t,u=>{const d=Xi(u.path);return ee.waitFor([i.delete([r,d]),this.referenceDelegate.removeReference(e,r,u)])})}removeMatchingKeysForTargetId(e,t){const r=Uh(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=Uh(e);let u=Zt();return i.X({range:r,Y:!0},(d,m,w)=>{const D=Tc(d[1]),S=new Ke(D);u=u.add(S)}).next(()=>u)}containsKey(e,t){const r=Xi(t.path),i=IDBKeyRange.bound([r],[i1(r)],!1,!0);let u=0;return Uh(e).X({index:"documentTargetsIndex",Y:!0,range:i},([d,m],w,D)=>{0!==d&&(u++,D.done())}).next(()=>u>0)}he(e,t){return Vy(e).get(t).next(r=>r?X0(r):null)}}function Vy(n){return Ti(n,"targets")}function zP(n){return Ti(n,"targetGlobal")}function Uh(n){return Ti(n,"targetDocuments")}function qP([n,e],[t,r]){const i=jt(n,t);return 0===i?jt(e,r):i}class Ik{constructor(e){this.Bn=e,this.buffer=new qn(qP),this.Ln=0}qn(){return++this.Ln}Un(e){const t=[e,this.qn()];if(this.buffer.size<this.Bn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();qP(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class ZP{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Kn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Gn(6e4)}stop(){this.Kn&&(this.Kn.cancel(),this.Kn=null)}get started(){return null!==this.Kn}Gn(e){var t=this;ke("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Kn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,_e.Z)(function*(){t.Kn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){Ah(r)?ke("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield Sh(r)}yield t.Gn(3e5)}))}}class bk{constructor(e,t){this.Qn=e,this.params=t}calculateTargetCount(e,t){return this.Qn.jn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return ee.resolve(So.ct);const r=new Ik(t);return this.Qn.forEachTarget(e,i=>r.Un(i.sequenceNumber)).next(()=>this.Qn.zn(e,i=>r.Un(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Qn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Qn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(ke("LruGarbageCollector","Garbage collection skipped; disabled"),ee.resolve(jP)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ke("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),jP):this.Wn(e,t))}getCacheSize(e){return this.Qn.getCacheSize(e)}Wn(e,t){let r,i,u,d,m,w,D;const S=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(O=>(O>this.params.maximumSequenceNumbersToCollect?(ke("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${O}`),i=this.params.maximumSequenceNumbersToCollect):i=O,d=Date.now(),this.nthSequenceNumber(e,i))).next(O=>(r=O,m=Date.now(),this.removeTargets(e,r,t))).next(O=>(u=O,w=Date.now(),this.removeOrphanedDocuments(e,r))).next(O=>(D=Date.now(),TS()<=kl.in.DEBUG&&ke("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${d-S}ms\n\tDetermined least recently used ${i} in `+(m-d)+`ms\n\tRemoved ${u} targets in `+(w-m)+`ms\n\tRemoved ${O} documents in `+(D-w)+`ms\nTotal Duration: ${D-S}ms`),ee.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:u,documentsRemoved:O})))}}class Dk{constructor(e,t){this.db=e,this.garbageCollector=function WP(n,e){return new bk(n,e)}(this,t)}jn(e){const t=this.Hn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}Hn(e){let t=0;return this.zn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}zn(e,t){return this.Jn(e,(r,i)=>t(i))}addReference(e,t,r){return gb(e,r)}removeReference(e,t,r){return gb(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return gb(e,t)}Yn(e,t){return function(r,i){let u=!1;return GP(r).Z(d=>HP(r,d,i).next(m=>(m&&(u=!0),ee.resolve(!m)))).next(()=>u)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let u=0;return this.Jn(e,(d,m)=>{if(m<=t){const w=this.Yn(e,d).next(D=>{if(!D)return u++,r.getEntry(e,d).next(()=>(r.removeEntry(d,wt.min()),Uh(e).delete([0,Xi(d.path)])))});i.push(w)}}).next(()=>ee.waitFor(i)).next(()=>r.apply(e)).next(()=>u)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return gb(e,t)}Jn(e,t){const r=Uh(e);let i,u=So.ct;return r.X({index:"documentTargetsIndex"},([d,m],{path:w,sequenceNumber:D})=>{0===d?(u!==So.ct&&t(new Ke(Tc(i)),u),u=D,i=w):u=So.ct}).next(()=>{u!==So.ct&&t(new Ke(Tc(i)),u)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function gb(n,e){return Uh(n).put((r=n.currentSequenceNumber,{targetId:0,path:Xi(e.path),sequenceNumber:r}));var r}class KP{constructor(){this.changes=new ql(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Zn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?ee.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Tk{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return sg(e).put(r)}removeEntry(e,t,r){return sg(e).delete(function(i,u){const d=i.path.toArray();return[d.slice(0,d.length-2),d[d.length-2],ub(u),d[d.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Xn(e,r)))}getEntry(e,t){let r=Zn.newInvalidDocument(t);return sg(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(iw(t))},(i,u)=>{r=this.Zn(t,u)}).next(()=>r)}ts(e,t){let r={size:0,document:Zn.newInvalidDocument(t)};return sg(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(iw(t))},(i,u)=>{r={document:this.Zn(t,u),size:fb(u)}}).next(()=>r)}getEntries(e,t){let r=qs();return this.es(e,t,(i,u)=>{const d=this.Zn(i,u);r=r.insert(i,d)}).next(()=>r)}ns(e,t){let r=qs(),i=new Un(Ke.comparator);return this.es(e,t,(u,d)=>{const m=this.Zn(u,d);r=r.insert(u,m),i=i.insert(u,fb(d))}).next(()=>({documents:r,ss:i}))}es(e,t,r){if(t.isEmpty())return ee.resolve();let i=new qn(XP);t.forEach(w=>i=i.add(w));const u=IDBKeyRange.bound(iw(i.first()),iw(i.last())),d=i.getIterator();let m=d.getNext();return sg(e).X({index:"documentKeyIndex",range:u},(w,D,S)=>{const O=Ke.fromSegments([...D.prefixPath,D.collectionGroup,D.documentId]);for(;m&&XP(m,O)<0;)r(m,null),m=d.getNext();m&&m.isEqual(O)&&(r(m,D),m=d.hasNext()?d.getNext():null),m?S.G(iw(m)):S.done()}).next(()=>{for(;m;)r(m,null),m=d.hasNext()?d.getNext():null})}getDocumentsMatchingQuery(e,t,r,i){const u=t.path,d=[u.popLast().toArray(),u.lastSegment(),ub(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],m=[u.popLast().toArray(),u.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return sg(e).j(IDBKeyRange.bound(d,m,!0)).next(w=>{let D=qs();for(const S of w){const O=this.Zn(Ke.fromSegments(S.prefixPath.concat(S.collectionGroup,S.documentId)),S);O.isFoundDocument()&&($0(t,O)||i.has(O.key))&&(D=D.insert(O.key,O))}return D})}getAllFromCollectionGroup(e,t,r,i){let u=qs();const d=JP(t,r),m=JP(t,To.max());return sg(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(d,m,!0)},(w,D,S)=>{const O=this.Zn(Ke.fromSegments(D.prefixPath.concat(D.collectionGroup,D.documentId)),D);u=u.insert(O.key,O),u.size===i&&S.done()}).next(()=>u)}newChangeBuffer(e){return new Sk(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return QP(e).get("remoteDocumentGlobalKey").next(t=>(_t(!!t),t))}Xn(e,t){return QP(e).put("remoteDocumentGlobalKey",t)}Zn(e,t){if(t){const r=function hk(n,e){let t;if(e.document)t=CP(n.le,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=Ke.fromSegments(e.noDocument.path),i=eg(e.noDocument.readTime);t=Zn.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return ot();{const r=Ke.fromSegments(e.unknownDocument.path),i=eg(e.unknownDocument.version);t=Zn.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(r){const i=new rr(r[0],r[1]);return wt.fromTimestamp(i)}(e.readTime)),t}(this.serializer,t);if(!r.isNoDocument()||!r.version.isEqual(wt.min()))return r}return Zn.newInvalidDocument(e)}}function YP(n){return new Tk(n)}class Sk extends KP{constructor(e,t){super(),this.rs=e,this.trackRemovals=t,this.os=new ql(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new qn((u,d)=>jt(u.canonicalString(),d.canonicalString()));return this.changes.forEach((u,d)=>{const m=this.os.get(u);if(t.push(this.rs.removeEntry(e,u,m.readTime)),d.isValidDocument()){const w=AP(this.rs.serializer,d);i=i.add(u.path.popLast());const D=fb(w);r+=D-m.size,t.push(this.rs.addEntry(e,u,w))}else if(r-=m.size,this.trackRemovals){const w=AP(this.rs.serializer,d.convertToNoDocument(wt.min()));t.push(this.rs.addEntry(e,u,w))}}),i.forEach(u=>{t.push(this.rs.indexManager.addToCollectionParentIndex(e,u))}),t.push(this.rs.updateMetadata(e,r)),ee.waitFor(t)}getFromCache(e,t){return this.rs.ts(e,t).next(r=>(this.os.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.rs.ns(e,t).next(({documents:r,ss:i})=>(i.forEach((u,d)=>{this.os.set(u,{size:d,readTime:r.get(u).readTime})}),r))}}function QP(n){return Ti(n,"remoteDocumentGlobal")}function sg(n){return Ti(n,"remoteDocumentsV14")}function iw(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function JP(n,e){const t=e.documentKey.path.toArray();return[n,ub(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function XP(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let u=0;u<t.length-2&&u<r.length-2;++u)if(i=jt(t[u],r[u]),i)return i;return i=jt(t.length,r.length),i||(i=jt(t[t.length-2],r[r.length-2]),i||jt(t[t.length-1],r[r.length-1]))}class Ak{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class eO{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(null!==r&&q0(r.mutation,i,zs.empty(),rr.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Zt()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Zt()){const i=Ac();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(u=>{let d=H0();return u.forEach((m,w)=>{d=d.insert(m,w.overlayedDocument)}),d}))}getOverlayedDocuments(e,t){const r=Ac();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Zt()))}populateOverlays(e,t,r){const i=[];return r.forEach(u=>{t.has(u)||i.push(u)}),this.documentOverlayCache.getOverlays(e,i).next(u=>{u.forEach((d,m)=>{t.set(d,m)})})}computeViews(e,t,r,i){let u=qs();const d=G0(),m=G0();return t.forEach((w,D)=>{const S=r.get(D.key);i.has(D.key)&&(void 0===S||S.mutation instanceof Zl)?u=u.insert(D.key,D):void 0!==S?(d.set(D.key,S.mutation.getFieldMask()),q0(S.mutation,D,S.mutation.getFieldMask(),rr.now())):d.set(D.key,zs.empty())}),this.recalculateAndSaveOverlays(e,u).next(w=>(w.forEach((D,S)=>d.set(D,S)),t.forEach((D,S)=>{var O;return m.set(D,new Ak(S,null!==(O=d.get(D))&&void 0!==O?O:null))}),m))}recalculateAndSaveOverlays(e,t){const r=G0();let i=new Un((d,m)=>d-m),u=Zt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(d=>{for(const m of d)m.keys().forEach(w=>{const D=t.get(w);if(null===D)return;let S=r.get(w)||zs.empty();S=m.applyToLocalView(D,S),r.set(w,S);const O=(i.get(m.batchId)||Zt()).add(w);i=i.insert(m.batchId,O)})}).next(()=>{const d=[],m=i.getReverseIterator();for(;m.hasNext();){const w=m.getNext(),D=w.key,S=w.value,O=q1();S.forEach(U=>{if(!u.has(U)){const Z=tP(t.get(U),r.get(U));null!==Z&&O.set(U,Z),u=u.add(U)}}),d.push(this.documentOverlayCache.saveOverlays(e,D,O))}return ee.waitFor(d)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return Ke.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):BS(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var i}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(u=>{const d=i-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-u.size):ee.resolve(Ac());let m=-1,w=u;return d.next(D=>ee.forEach(D,(S,O)=>(m<O.largestBatchId&&(m=O.largestBatchId),u.get(S)?ee.resolve():this.remoteDocumentCache.getEntry(e,S).next(U=>{w=w.insert(S,U)}))).next(()=>this.populateOverlays(e,D,u)).next(()=>this.computeViews(e,w,D,Zt())).next(S=>({batchId:m,changes:z1(S)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ke(t)).next(r=>{let i=H0();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const i=t.collectionGroup;let u=H0();return this.indexManager.getCollectionParents(e,i).next(d=>ee.forEach(d,m=>{const w=(D=t,S=m.child(i),new zl(S,null,D.explicitOrderBy.slice(),D.filters.slice(),D.limit,D.limitType,D.startAt,D.endAt));var D,S;return this.getDocumentsMatchingCollectionQuery(e,w,r).next(D=>{D.forEach((S,O)=>{u=u.insert(S,O)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(u=>(i=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,i))).next(u=>{i.forEach((m,w)=>{const D=w.getKey();null===u.get(D)&&(u=u.insert(D,Zn.newInvalidDocument(D)))});let d=H0();return u.forEach((m,w)=>{const D=i.get(m);void 0!==D&&q0(D.mutation,w,zs.empty(),rr.now()),$0(t,w)&&(d=d.insert(m,w))}),d})}}class Mk{constructor(e){this.serializer=e,this.us=new Map,this.cs=new Map}getBundleMetadata(e,t){return ee.resolve(this.us.get(t))}saveBundleMetadata(e,t){var r;return this.us.set(t.id,{id:(r=t).id,version:r.version,createTime:Rr(r.createTime)}),ee.resolve()}getNamedQuery(e,t){return ee.resolve(this.cs.get(t))}saveNamedQuery(e,t){return this.cs.set(t.name,{name:(r=t).name,query:tA(r.bundledQuery),readTime:Rr(r.readTime)}),ee.resolve();var r}}class xk{constructor(){this.overlays=new Un(Ke.comparator),this.hs=new Map}getOverlay(e,t){return ee.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Ac();return ee.forEach(t,i=>this.getOverlay(e,i).next(u=>{null!==u&&r.set(i,u)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,u)=>{this.de(e,t,u)}),ee.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.hs.get(r);return void 0!==i&&(i.forEach(u=>this.overlays=this.overlays.remove(u)),this.hs.delete(r)),ee.resolve()}getOverlaysForCollection(e,t,r){const i=Ac(),u=t.length+1,d=new Ke(t.child("")),m=this.overlays.getIteratorFrom(d);for(;m.hasNext();){const w=m.getNext().value,D=w.getKey();if(!t.isPrefixOf(D.path))break;D.path.length===u&&w.largestBatchId>r&&i.set(w.getKey(),w)}return ee.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let u=new Un((D,S)=>D-S);const d=this.overlays.getIterator();for(;d.hasNext();){const D=d.getNext().value;if(D.getKey().getCollectionGroup()===t&&D.largestBatchId>r){let S=u.get(D.largestBatchId);null===S&&(S=Ac(),u=u.insert(D.largestBatchId,S)),S.set(D.getKey(),D)}}const m=Ac(),w=u.getIterator();for(;w.hasNext()&&(w.getNext().value.forEach((D,S)=>m.set(D,S)),!(m.size()>=i)););return ee.resolve(m)}de(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const d=this.hs.get(i.largestBatchId).delete(r.key);this.hs.set(i.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new ZS(t,r));let u=this.hs.get(t);void 0===u&&(u=Zt(),this.hs.set(t,u)),this.hs.set(t,u.add(r.key))}}class uA{constructor(){this.ls=new qn(Si.fs),this.ds=new qn(Si._s)}isEmpty(){return this.ls.isEmpty()}addReference(e,t){const r=new Si(e,t);this.ls=this.ls.add(r),this.ds=this.ds.add(r)}ws(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.gs(new Si(e,t))}ys(e,t){e.forEach(r=>this.removeReference(r,t))}ps(e){const t=new Ke(new ln([])),r=new Si(t,e),i=new Si(t,e+1),u=[];return this.ds.forEachInRange([r,i],d=>{this.gs(d),u.push(d.key)}),u}Is(){this.ls.forEach(e=>this.gs(e))}gs(e){this.ls=this.ls.delete(e),this.ds=this.ds.delete(e)}Ts(e){const t=new Ke(new ln([])),r=new Si(t,e),i=new Si(t,e+1);let u=Zt();return this.ds.forEachInRange([r,i],d=>{u=u.add(d.key)}),u}containsKey(e){const t=new Si(e,0),r=this.ls.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Si{constructor(e,t){this.key=e,this.Es=t}static fs(e,t){return Ke.comparator(e.key,t.key)||jt(e.Es,t.Es)}static _s(e,t){return jt(e.Es,t.Es)||Ke.comparator(e.key,t.key)}}class Pk{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.As=1,this.Rs=new qn(Si.fs)}checkEmpty(e){return ee.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const u=this.As;this.As++;const d=new zS(u,t,r,i);this.mutationQueue.push(d);for(const m of i)this.Rs=this.Rs.add(new Si(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ee.resolve(d)}lookupMutationBatch(e,t){return ee.resolve(this.vs(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.Ps(t+1),u=i<0?0:i;return ee.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(0===this.mutationQueue.length?-1:this.As-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Si(t,0),i=new Si(t,Number.POSITIVE_INFINITY),u=[];return this.Rs.forEachInRange([r,i],d=>{const m=this.vs(d.Es);u.push(m)}),ee.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new qn(jt);return t.forEach(i=>{const u=new Si(i,0),d=new Si(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([u,d],m=>{r=r.add(m.Es)})}),ee.resolve(this.bs(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let u=r;Ke.isDocumentKey(u)||(u=u.child(""));const d=new Si(new Ke(u),0);let m=new qn(jt);return this.Rs.forEachWhile(w=>{const D=w.key.path;return!!r.isPrefixOf(D)&&(D.length===i&&(m=m.add(w.Es)),!0)},d),ee.resolve(this.bs(m))}bs(e){const t=[];return e.forEach(r=>{const i=this.vs(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){_t(0===this.Vs(t.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return ee.forEach(t.mutations,i=>{const u=new Si(i.key,t.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Dn(e){}containsKey(e,t){const r=new Si(t,0),i=this.Rs.firstAfterOrEqual(r);return ee.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return ee.resolve()}Vs(e,t){return this.Ps(e)}Ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}vs(e){const t=this.Ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Ok{constructor(e){this.Ss=e,this.docs=new Un(Ke.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),u=i?i.size:0,d=this.Ss(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:d}),this.size+=d-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ee.resolve(r?r.document.mutableCopy():Zn.newInvalidDocument(t))}getEntries(e,t){let r=qs();return t.forEach(i=>{const u=this.docs.get(i);r=r.insert(i,u?u.document.mutableCopy():Zn.newInvalidDocument(i))}),ee.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let u=qs();const d=t.path,m=new Ke(d.child("")),w=this.docs.getIteratorFrom(m);for(;w.hasNext();){const{key:D,value:{document:S}}=w.getNext();if(!d.isPrefixOf(D.path))break;D.path.length>d.length+1||MS(o1(S),r)<=0||(i.has(S.key)||$0(t,S))&&(u=u.insert(S.key,S.mutableCopy()))}return ee.resolve(u)}getAllFromCollectionGroup(e,t,r,i){ot()}Ds(e,t){return ee.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new Rk(this)}getSize(e){return ee.resolve(this.size)}}class Rk extends KP{constructor(e){super(),this.rs=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.rs.addEntry(e,i)):this.rs.removeEntry(r)}),ee.waitFor(t)}getFromCache(e,t){return this.rs.getEntry(e,t)}getAllFromCache(e,t){return this.rs.getEntries(e,t)}}class Nk{constructor(e){this.persistence=e,this.Cs=new ql(t=>Kp(t),B0),this.lastRemoteSnapshotVersion=wt.min(),this.highestTargetId=0,this.xs=0,this.Ns=new uA,this.targetCount=0,this.ks=ig.Nn()}forEachTarget(e,t){return this.Cs.forEach((r,i)=>t(i)),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this.xs)}allocateTargetId(e){return this.highestTargetId=this.ks.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.xs&&(this.xs=t),ee.resolve()}$n(e){this.Cs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ks=new ig(t),this.highestTargetId=t),e.sequenceNumber>this.xs&&(this.xs=e.sequenceNumber)}addTargetData(e,t){return this.$n(t),this.targetCount+=1,ee.resolve()}updateTargetData(e,t){return this.$n(t),ee.resolve()}removeTargetData(e,t){return this.Cs.delete(t.target),this.Ns.ps(t.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,t,r){let i=0;const u=[];return this.Cs.forEach((d,m)=>{m.sequenceNumber<=t&&null===r.get(m.targetId)&&(this.Cs.delete(d),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),i++)}),ee.waitFor(u).next(()=>i)}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,t){const r=this.Cs.get(t)||null;return ee.resolve(r)}addMatchingKeys(e,t,r){return this.Ns.ws(t,r),ee.resolve()}removeMatchingKeys(e,t,r){this.Ns.ys(t,r);const i=this.persistence.referenceDelegate,u=[];return i&&t.forEach(d=>{u.push(i.markPotentiallyOrphaned(e,d))}),ee.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.Ns.ps(t),ee.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Ns.Ts(t);return ee.resolve(r)}containsKey(e,t){return ee.resolve(this.Ns.containsKey(t))}}class cA{constructor(e,t){this.Ms={},this.overlays={},this.Os=new So(0),this.$s=!1,this.$s=!0,this.referenceDelegate=e(this),this.Fs=new Nk(this),this.indexManager=new wk,this.remoteDocumentCache=new Ok(r=>this.referenceDelegate.Bs(r)),this.serializer=new SP(t),this.Ls=new Mk(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.$s=!1,Promise.resolve()}get started(){return this.$s}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new xk,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Ms[e.toKey()];return r||(r=new Pk(t,this.referenceDelegate),this.Ms[e.toKey()]=r),r}getTargetCache(){return this.Fs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ls}runTransaction(e,t,r){ke("MemoryPersistence","Starting transaction:",e);const i=new kk(this.Os.next());return this.referenceDelegate.qs(),r(i).next(u=>this.referenceDelegate.Us(i).next(()=>u)).toPromise().then(u=>(i.raiseOnCommittedEvent(),u))}Ks(e,t){return ee.or(Object.values(this.Ms).map(r=>()=>r.containsKey(e,t)))}}class kk extends u1{constructor(e){super(),this.currentSequenceNumber=e}}class mb{constructor(e){this.persistence=e,this.Gs=new uA,this.Qs=null}static js(e){return new mb(e)}get zs(){if(this.Qs)return this.Qs;throw ot()}addReference(e,t,r){return this.Gs.addReference(r,t),this.zs.delete(r.toString()),ee.resolve()}removeReference(e,t,r){return this.Gs.removeReference(r,t),this.zs.add(r.toString()),ee.resolve()}markPotentiallyOrphaned(e,t){return this.zs.add(t.toString()),ee.resolve()}removeTarget(e,t){this.Gs.ps(t.targetId).forEach(i=>this.zs.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(u=>this.zs.add(u.toString()))}).next(()=>r.removeTargetData(e,t))}qs(){this.Qs=new Set}Us(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.zs,r=>{const i=Ke.fromPath(r);return this.Ws(e,i).next(u=>{u||t.removeEntry(i,wt.min())})}).next(()=>(this.Qs=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ws(e,t).next(r=>{r?this.zs.delete(t.toString()):this.zs.add(t.toString())})}Bs(e){return 0}Ws(e,t){return ee.or([()=>ee.resolve(this.Gs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ks(e,t)])}}class Fk{constructor(e){this.serializer=e}$(e,t,r,i){const u=new zI("createOrUpgrade",t);var m;r<1&&i>=1&&(e.createObjectStore("owner"),(m=e).createObjectStore("mutationQueues",{keyPath:"userId"}),m.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",h1,{unique:!0}),m.createObjectStore("documentMutations"),tO(e),function(m){m.createObjectStore("remoteDocuments")}(e));let d=ee.resolve();return r<3&&i>=3&&(0!==r&&(function(m){m.deleteObjectStore("targetDocuments"),m.deleteObjectStore("targets"),m.deleteObjectStore("targetGlobal")}(e),tO(e)),d=d.next(()=>function(m){const w=m.store("targetGlobal"),D={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:wt.min().toTimestamp(),targetCount:0};return w.put("targetGlobalKey",D)}(u))),r<4&&i>=4&&(0!==r&&(d=d.next(()=>function(m,w){return w.store("mutations").j().next(D=>{m.deleteObjectStore("mutations"),m.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",h1,{unique:!0});const S=w.store("mutations"),O=D.map(U=>S.put(U));return ee.waitFor(O)})}(e,u))),d=d.next(()=>{!function(m){m.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(d=d.next(()=>this.Js(u))),r<6&&i>=6&&(d=d.next(()=>(function(m){m.createObjectStore("remoteDocumentGlobal")}(e),this.Ys(u)))),r<7&&i>=7&&(d=d.next(()=>this.Xs(u))),r<8&&i>=8&&(d=d.next(()=>this.Zs(e,u))),r<9&&i>=9&&(d=d.next(()=>{!function(m){m.objectStoreNames.contains("remoteDocumentChanges")&&m.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(d=d.next(()=>this.ti(u))),r<11&&i>=11&&(d=d.next(()=>{(function(m){m.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(m){m.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(d=d.next(()=>{!function(m){const w=m.createObjectStore("documentOverlays",{keyPath:wN});w.createIndex("collectionPathOverlayIndex",CN,{unique:!1}),w.createIndex("collectionGroupOverlayIndex",EN,{unique:!1})}(e)})),r<13&&i>=13&&(d=d.next(()=>function(m){const w=m.createObjectStore("remoteDocumentsV14",{keyPath:cN});w.createIndex("documentKeyIndex",lN),w.createIndex("collectionGroupIndex",dN)}(e)).next(()=>this.ei(e,u)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(d=d.next(()=>this.ni(e,u))),r<15&&i>=15&&(d=d.next(()=>function(m){m.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),m.createObjectStore("indexState",{keyPath:mN}).createIndex("sequenceNumberIndex",yN,{unique:!1}),m.createObjectStore("indexEntries",{keyPath:_N}).createIndex("documentKeyIndex",vN,{unique:!1})}(e))),d}Ys(e){let t=0;return e.store("remoteDocuments").X((r,i)=>{t+=fb(i)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Js(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.j().next(i=>ee.forEach(i,u=>{const d=IDBKeyRange.bound([u.userId,-1],[u.userId,u.lastAcknowledgedBatchId]);return r.j("userMutationsIndex",d).next(m=>ee.forEach(m,w=>{_t(w.userId===u.userId);const D=tg(this.serializer,w);return $P(e,u.userId,D).next(()=>{})}))}))}Xs(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const u=[];return r.X((d,m)=>{const w=new ln(d),D=[0,Xi(w)];u.push(t.get(D).next(S=>S?ee.resolve():t.put({targetId:0,path:Xi(w),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>ee.waitFor(u))})}Zs(e,t){e.createObjectStore("collectionParents",{keyPath:gN});const r=t.store("collectionParents"),i=new aA,u=d=>{if(i.add(d)){const m=d.lastSegment(),w=d.popLast();return r.put({collectionId:m,parent:Xi(w)})}};return t.store("remoteDocuments").X({Y:!0},(d,m)=>{const w=new ln(d);return u(w.popLast())}).next(()=>t.store("documentMutations").X({Y:!0},([d,m,w],D)=>{const S=Tc(m);return u(S.popLast())}))}ti(e){const t=e.store("targets");return t.X((r,i)=>{const u=X0(i),d=MP(this.serializer,u);return t.put(d)})}ei(e,t){const r=t.store("remoteDocuments"),i=[];return r.X((u,d)=>{const m=t.store("remoteDocumentsV14"),w=(D=d,D.document?new Ke(ln.fromString(D.document.name).popFirst(5)):D.noDocument?Ke.fromSegments(D.noDocument.path):D.unknownDocument?Ke.fromSegments(D.unknownDocument.path):ot()).path.toArray();var D;const S={prefixPath:w.slice(0,w.length-2),collectionGroup:w[w.length-2],documentId:w[w.length-1],readTime:d.readTime||[0,0],unknownDocument:d.unknownDocument,noDocument:d.noDocument,document:d.document,hasCommittedMutations:!!d.hasCommittedMutations};i.push(m.put(S))}).next(()=>ee.waitFor(i))}ni(e,t){const r=t.store("mutations"),i=YP(this.serializer),u=new cA(mb.js,this.serializer.le);return r.j().next(d=>{const m=new Map;return d.forEach(w=>{var D;let S=null!==(D=m.get(w.userId))&&void 0!==D?D:Zt();tg(this.serializer,w).keys().forEach(O=>S=S.add(O)),m.set(w.userId,S)}),ee.forEach(m,(w,D)=>{const S=new Di(D),O=cb.fe(this.serializer,S),U=u.getIndexManager(S),Z=pb.fe(S,this.serializer,U,u.referenceDelegate);return new eO(i,Z,O,U).recalculateAndSaveOverlaysForDocumentKeys(new OS(t,So.ct),w).next()})})}}function tO(n){n.createObjectStore("targetDocuments",{keyPath:fN}).createIndex("documentTargetsIndex",pN,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",hN,{unique:!0}),n.createObjectStore("targetGlobal")}const lA="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class dA{constructor(e,t,r,i,u,d,m,w,D,S,O=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.si=u,this.window=d,this.document=m,this.ii=D,this.ri=S,this.oi=O,this.Os=null,this.$s=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ui=null,this.inForeground=!1,this.ci=null,this.ai=null,this.hi=Number.NEGATIVE_INFINITY,this.li=U=>Promise.resolve(),!dA.D())throw new Ae(ae.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Dk(this,i),this.fi=t+"main",this.serializer=new SP(w),this.di=new lu(this.fi,this.oi,new Fk(this.serializer)),this.Fs=new Ek(this.referenceDelegate,this.serializer),this.remoteDocumentCache=YP(this.serializer),this.Ls=new fk,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===S&&Or("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.wi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ae(ae.FAILED_PRECONDITION,lA);return this.mi(),this.gi(),this.yi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Fs.getHighestSequenceNumber(e))}).then(e=>{this.Os=new So(e,this.ii)}).then(()=>{this.$s=!0}).catch(e=>(this.di&&this.di.close(),Promise.reject(e)))}pi(e){var t=this;return this.li=function(){var r=(0,_e.Z)(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.di.B(function(){var t=(0,_e.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.si.enqueueAndForget((0,_e.Z)(function*(){t.started&&(yield t.wi())})))}wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>_b(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ii(e).next(t=>{t||(this.isPrimary=!1,this.si.enqueueRetryable(()=>this.li(!1)))})}).next(()=>this.Ti(e)).next(t=>this.isPrimary&&!t?this.Ei(e).next(()=>!1):!!t&&this.Ai(e).next(()=>!0))).catch(e=>{if(Ah(e))return ke("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return ke("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.si.enqueueRetryable(()=>this.li(e)),this.isPrimary=e})}Ii(e){return sw(e).get("owner").next(t=>ee.resolve(this.Ri(t)))}vi(e){return _b(e).delete(this.clientId)}Pi(){var e=this;return(0,_e.Z)(function*(){if(e.isPrimary&&!e.bi(e.hi,18e5)){e.hi=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=Ti(r,"clientMetadata");return i.j().next(u=>{const d=e.Vi(u,18e5),m=u.filter(w=>-1===d.indexOf(w));return ee.forEach(m,w=>i.delete(w.clientId)).next(()=>m)})}).catch(()=>[]);if(e._i)for(const r of t)e._i.removeItem(e.Si(r.clientId))}})()}yi(){this.ai=this.si.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.wi().then(()=>this.Pi()).then(()=>this.yi()))}Ri(e){return!!e&&e.ownerId===this.clientId}Ti(e){return this.ri?ee.resolve(!0):sw(e).get("owner").next(t=>{if(null!==t&&this.bi(t.leaseTimestampMs,5e3)&&!this.Di(t.ownerId)){if(this.Ri(t)&&this.networkEnabled)return!0;if(!this.Ri(t)){if(!t.allowTabSynchronization)throw new Ae(ae.FAILED_PRECONDITION,lA);return!1}}return!(!this.networkEnabled||!this.inForeground)||_b(e).j().next(r=>void 0===this.Vi(r,5e3).find(i=>!(this.clientId===i.clientId||!(!this.networkEnabled&&i.networkEnabled||!this.inForeground&&i.inForeground&&this.networkEnabled===i.networkEnabled))))}).next(t=>(this.isPrimary!==t&&ke("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,_e.Z)(function*(){e.$s=!1,e.Ci(),e.ai&&(e.ai.cancel(),e.ai=null),e.xi(),e.Ni(),yield e.di.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new OS(t,So.ct);return e.Ei(r).next(()=>e.vi(r))}),e.di.close(),e.ki()})()}Vi(e,t){return e.filter(r=>this.bi(r.updateTimeMs,t)&&!this.Di(r.clientId))}Mi(){return this.runTransaction("getActiveClients","readonly",e=>_b(e).j().next(t=>this.Vi(t,18e5).map(r=>r.clientId)))}get started(){return this.$s}getMutationQueue(e,t){return pb.fe(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Fs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Ck(e,this.serializer.le.databaseId)}getDocumentOverlayCache(e){return cb.fe(this.serializer,e)}getBundleCache(){return this.Ls}runTransaction(e,t,r){ke("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",u=15===(d=this.oi)?bN:14===d?m1:13===d?g1:12===d?IN:11===d?p1:void ot();var d;let m;return this.di.runTransaction(e,i,u,w=>(m=new OS(w,this.Os?this.Os.next():So.ct),"readwrite-primary"===t?this.Ii(m).next(D=>!!D||this.Ti(m)).next(D=>{if(!D)throw Or(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.si.enqueueRetryable(()=>this.li(!1)),new Ae(ae.FAILED_PRECONDITION,a1);return r(m)}).next(D=>this.Ai(m).next(()=>D)):this.Oi(m).next(()=>r(m)))).then(w=>(m.raiseOnCommittedEvent(),w))}Oi(e){return sw(e).get("owner").next(t=>{if(null!==t&&this.bi(t.leaseTimestampMs,5e3)&&!this.Di(t.ownerId)&&!this.Ri(t)&&!(this.ri||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Ae(ae.FAILED_PRECONDITION,lA)})}Ai(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return sw(e).put("owner",t)}static D(){return lu.D()}Ei(e){const t=sw(e);return t.get("owner").next(r=>this.Ri(r)?(ke("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):ee.resolve())}bi(e,t){const r=Date.now();return!(e<r-t||e>r&&(Or(`Detected an update time that is in the future: ${e} > ${r}`),1))}mi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ci=()=>{this.si.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.wi()))},this.document.addEventListener("visibilitychange",this.ci),this.inForeground="visible"===this.document.visibilityState)}xi(){this.ci&&(this.document.removeEventListener("visibilitychange",this.ci),this.ci=null)}gi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ui=()=>{this.Ci();const t=/(?:Version|Mobile)\/1[456]/;(0,mn.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.si.enterRestrictedMode(!0),this.si.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ui))}Ni(){this.ui&&(this.window.removeEventListener("pagehide",this.ui),this.ui=null)}Di(e){var t;try{const r=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Si(e)));return ke("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Or("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Ci(){if(this._i)try{this._i.setItem(this.Si(this.clientId),String(Date.now()))}catch(e){Or("Failed to set zombie client id.",e)}}ki(){if(this._i)try{this._i.removeItem(this.Si(this.clientId))}catch{}}Si(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function sw(n){return Ti(n,"owner")}function _b(n){return Ti(n,"clientMetadata")}function hA(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class fA{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.$i=r,this.Fi=i}static Bi(e,t){let r=Zt(),i=Zt();for(const u of t.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:i=i.add(u.doc.key)}return new fA(e,t.fromCache,r,i)}}class nO{constructor(){this.Li=!1}initialize(e,t){this.qi=e,this.indexManager=t,this.Li=!0}getDocumentsMatchingQuery(e,t,r,i){return this.Ui(e,t).next(u=>u||this.Ki(e,t,i,r)).next(u=>u||this.Gi(e,t))}Ui(e,t){if(B1(t))return ee.resolve(null);let r=gs(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=nb(t,null,"F"),r=gs(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(u=>{const d=Zt(...u);return this.qi.getDocuments(e,d).next(m=>this.indexManager.getMinOffset(e,r).next(w=>{const D=this.Qi(t,m);return this.ji(t,D,d,w.readTime)?this.Ui(e,nb(t,null,"F")):this.zi(e,D,t,w)}))})))}Ki(e,t,r,i){return B1(t)||i.isEqual(wt.min())?this.Gi(e,t):this.qi.getDocuments(e,r).next(u=>{const d=this.Qi(t,u);return this.ji(t,d,r,i)?this.Gi(e,t):(TS()<=kl.in.DEBUG&&ke("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),$S(t)),this.zi(e,d,t,s1(i,-1)))})}Qi(e,t){let r=new qn(H1(e));return t.forEach((i,u)=>{$0(e,u)&&(r=r.add(u))}),r}ji(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const u="F"===e.limitType?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(i)>0)}Gi(e,t){return TS()<=kl.in.DEBUG&&ke("QueryEngine","Using full collection scan to execute query:",$S(t)),this.qi.getDocumentsMatchingQuery(e,t,To.min())}zi(e,t,r,i){return this.qi.getDocumentsMatchingQuery(e,r,i).next(u=>(t.forEach(d=>{u=u.insert(d.key,d)}),u))}}class Lk{constructor(e,t,r,i){this.persistence=e,this.Wi=t,this.serializer=i,this.Hi=new Un(jt),this.Ji=new ql(u=>Kp(u),B0),this.Yi=new Map,this.Xi=e.getRemoteDocumentCache(),this.Fs=e.getTargetCache(),this.Ls=e.getBundleCache(),this.Zi(r)}Zi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new eO(this.Xi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Xi.setIndexManager(this.indexManager),this.Wi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Hi))}}function rO(n,e,t,r){return new Lk(n,e,t,r)}function iO(n,e){return pA.apply(this,arguments)}function pA(){return pA=(0,_e.Z)(function*(n,e){const t=Je(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(u=>(i=u,t.Zi(e),t.mutationQueue.getAllMutationBatches(r))).next(u=>{const d=[],m=[];let w=Zt();for(const D of i){d.push(D.batchId);for(const S of D.mutations)w=w.add(S.key)}for(const D of u){m.push(D.batchId);for(const S of D.mutations)w=w.add(S.key)}return t.localDocuments.getDocuments(r,w).next(D=>({tr:D,removedBatchIds:d,addedBatchIds:m}))})})}),pA.apply(this,arguments)}function sO(n){const e=Je(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Fs.getLastRemoteSnapshotVersion(t))}function oO(n,e,t){let r=Zt(),i=Zt();return t.forEach(u=>r=r.add(u)),e.getEntries(n,r).next(u=>{let d=qs();return t.forEach((m,w)=>{const D=u.get(m);w.isFoundDocument()!==D.isFoundDocument()&&(i=i.add(m)),w.isNoDocument()&&w.version.isEqual(wt.min())?(e.removeEntry(m,w.readTime),d=d.insert(m,w)):!D.isValidDocument()||w.version.compareTo(D.version)>0||0===w.version.compareTo(D.version)&&D.hasPendingWrites?(e.addEntry(w),d=d.insert(m,w)):ke("LocalStore","Ignoring outdated watch update for ",m,". Current version:",D.version," Watch version:",w.version)}),{er:d,nr:i}})}function Bk(n,e){const t=Je(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Uy(n,e){const t=Je(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Fs.getTargetData(r,e).next(u=>u?(i=u,ee.resolve(i)):t.Fs.allocateTargetId(r).next(d=>(i=new Wl(e,d,"TargetPurposeListen",r.currentSequenceNumber),t.Fs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Hi.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Hi=t.Hi.insert(r.targetId,r),t.Ji.set(e,r.targetId)),r})}function By(n,e,t){return gA.apply(this,arguments)}function gA(){return gA=(0,_e.Z)(function*(n,e,t){const r=Je(n),i=r.Hi.get(e),u=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",u,d=>r.persistence.referenceDelegate.removeTarget(d,i)))}catch(d){if(!Ah(d))throw d;ke("LocalStore",`Failed to update sequence numbers for target ${e}: ${d}`)}r.Hi=r.Hi.remove(e),r.Ji.delete(i.target)}),gA.apply(this,arguments)}function vb(n,e,t){const r=Je(n);let i=wt.min(),u=Zt();return r.persistence.runTransaction("Execute query","readonly",d=>function(m,w,D){const S=Je(m),O=S.Ji.get(D);return void 0!==O?ee.resolve(S.Hi.get(O)):S.Fs.getTargetData(w,D)}(r,d,gs(e)).next(m=>{if(m)return i=m.lastLimboFreeSnapshotVersion,r.Fs.getMatchingKeysForTargetId(d,m.targetId).next(w=>{u=w})}).next(()=>r.Wi.getDocumentsMatchingQuery(d,e,t?i:wt.min(),t?u:Zt())).next(m=>(cO(r,$1(e),m),{documents:m,sr:u})))}function aO(n,e){const t=Je(n),r=Je(t.Fs),i=t.Hi.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",u=>r.he(u,e).next(d=>d?d.target:null))}function uO(n,e){const t=Je(n),r=t.Yi.get(e)||wt.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.Xi.getAllFromCollectionGroup(i,e,s1(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(cO(t,e,i),i))}function cO(n,e,t){let r=n.Yi.get(e)||wt.min();t.forEach((i,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)}),n.Yi.set(e,r)}function mA(){return mA=(0,_e.Z)(function*(n,e,t,r){const i=Je(n);let u=Zt(),d=qs();for(const D of t){const S=e.ir(D.metadata.name);D.document&&(u=u.add(S));const O=e.rr(D);O.setReadTime(e.ur(D.metadata.readTime)),d=d.insert(S,O)}const m=i.Xi.newChangeBuffer({trackRemovals:!0}),w=yield Uy(i,(D=r,gs(xy(ln.fromString(`__bundle__/docs/${D}`)))));var D;return i.persistence.runTransaction("Apply bundle documents","readwrite",D=>oO(D,m,d).next(S=>(m.apply(D),S)).next(S=>i.Fs.removeMatchingKeysForTargetId(D,w.targetId).next(()=>i.Fs.addMatchingKeys(D,u,w.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(D,S.er,S.nr)).next(()=>S.er)))}),mA.apply(this,arguments)}function $k(n,e){return yA.apply(this,arguments)}function yA(){return yA=(0,_e.Z)(function*(n,e,t=Zt()){const r=yield Uy(n,gs(tA(e.bundledQuery))),i=Je(n);return i.persistence.runTransaction("Save named query","readwrite",u=>{const d=Rr(e.readTime);if(r.snapshotVersion.compareTo(d)>=0)return i.Ls.saveNamedQuery(u,e);const m=r.withResumeToken(ui.EMPTY_BYTE_STRING,d);return i.Hi=i.Hi.insert(m.targetId,m),i.Fs.updateTargetData(u,m).next(()=>i.Fs.removeMatchingKeysForTargetId(u,r.targetId)).next(()=>i.Fs.addMatchingKeys(u,t,r.targetId)).next(()=>i.Ls.saveNamedQuery(u,e))})}),yA.apply(this,arguments)}function lO(n,e){return`firestore_clients_${n}_${e}`}function dO(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function _A(n,e){return`firestore_targets_${n}_${e}`}class wb{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static cr(e,t,r){const i=JSON.parse(r);let u,d="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return d&&i.error&&(d="string"==typeof i.error.message&&"string"==typeof i.error.code,d&&(u=new Ae(i.error.code,i.error.message))),d?new wb(e,t,i.state,u):(Or("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}ar(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class ow{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static cr(e,t){const r=JSON.parse(t);let i,u="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return u&&r.error&&(u="string"==typeof r.error.message&&"string"==typeof r.error.code,u&&(i=new Ae(r.error.code,r.error.message))),u?new ow(e,r.state,i):(Or("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}ar(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Cb{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static cr(e,t){const r=JSON.parse(t);let i="object"==typeof r&&r.activeTargetIds instanceof Array,u=HS();for(let d=0;i&&d<r.activeTargetIds.length;++d)i=l1(r.activeTargetIds[d]),u=u.add(r.activeTargetIds[d]);return i?new Cb(e,u):(Or("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class vA{constructor(e,t){this.clientId=e,this.onlineState=t}static cr(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new vA(t.clientId,t.onlineState):(Or("SharedClientState",`Failed to parse online state: ${e}`),null)}}class wA{constructor(){this.activeTargetIds=HS()}hr(e){this.activeTargetIds=this.activeTargetIds.add(e)}lr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ar(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class CA{constructor(e,t,r,i,u){this.window=e,this.si=t,this.persistenceKey=r,this.dr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.wr.bind(this),this.mr=new Un(jt),this.started=!1,this.gr=[];const d=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=u,this.yr=lO(this.persistenceKey,this.dr),this.pr=`firestore_sequence_number_${this.persistenceKey}`,this.mr=this.mr.insert(this.dr,new wA),this.Ir=new RegExp(`^firestore_clients_${d}_([^_]*)$`),this.Tr=new RegExp(`^firestore_mutations_${d}_(\\d+)(?:_(.*))?$`),this.Er=new RegExp(`^firestore_targets_${d}_(\\d+)$`),this.Ar=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(m){return`firestore_bundle_loaded_v2_${m}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,_e.Z)(function*(){const t=yield e.syncEngine.Mi();for(const i of t){if(i===e.dr)continue;const u=e.getItem(lO(e.persistenceKey,i));if(u){const d=Cb.cr(i,u);d&&(e.mr=e.mr.insert(d.clientId,d))}}e.vr();const r=e.storage.getItem(e.Ar);if(r){const i=e.Pr(r);i&&e.br(i)}for(const i of e.gr)e.wr(i);e.gr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.pr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Vr(this.mr)}isActiveQueryTarget(e){let t=!1;return this.mr.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Sr(e,"pending")}updateMutationState(e,t,r){this.Sr(e,t,r),this.Dr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(_A(this.persistenceKey,e));if(r){const i=ow.cr(e,r);i&&(t=i.state)}}return this.Cr.hr(e),this.vr(),t}removeLocalQueryTarget(e){this.Cr.lr(e),this.vr()}isLocalQueryTarget(e){return this.Cr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(_A(this.persistenceKey,e))}updateQueryState(e,t,r){this.Nr(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.Dr(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.kr(e)}notifyBundleLoaded(e){this.Mr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.yr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return ke("SharedClientState","READ",e,t),t}setItem(e,t){ke("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){ke("SharedClientState","REMOVE",e),this.storage.removeItem(e)}wr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(ke("SharedClientState","EVENT",r.key,r.newValue),r.key===this.yr)return void Or("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.si.enqueueRetryable((0,_e.Z)(function*(){if(t.started){if(null!==r.key)if(t.Ir.test(r.key)){if(null==r.newValue){const i=t.Or(r.key);return t.$r(i,null)}{const i=t.Fr(r.key,r.newValue);if(i)return t.$r(i.clientId,i)}}else if(t.Tr.test(r.key)){if(null!==r.newValue){const i=t.Br(r.key,r.newValue);if(i)return t.Lr(i)}}else if(t.Er.test(r.key)){if(null!==r.newValue){const i=t.qr(r.key,r.newValue);if(i)return t.Ur(i)}}else if(r.key===t.Ar){if(null!==r.newValue){const i=t.Pr(r.newValue);if(i)return t.br(i)}}else if(r.key===t.pr){const i=function(u){let d=So.ct;if(null!=u)try{const m=JSON.parse(u);_t("number"==typeof m),d=m}catch(m){Or("SharedClientState","Failed to read sequence number from WebStorage",m)}return d}(r.newValue);i!==So.ct&&t.sequenceNumberHandler(i)}else if(r.key===t.Rr){const i=t.Kr(r.newValue);yield Promise.all(i.map(u=>t.syncEngine.Gr(u)))}}else t.gr.push(r)}))}}get Cr(){return this.mr.get(this.dr)}vr(){this.setItem(this.yr,this.Cr.ar())}Sr(e,t,r){const i=new wb(this.currentUser,e,t,r),u=dO(this.persistenceKey,this.currentUser,e);this.setItem(u,i.ar())}Dr(e){const t=dO(this.persistenceKey,this.currentUser,e);this.removeItem(t)}kr(e){this.storage.setItem(this.Ar,JSON.stringify({clientId:this.dr,onlineState:e}))}Nr(e,t,r){const i=_A(this.persistenceKey,e),u=new ow(e,t,r);this.setItem(i,u.ar())}Mr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}Or(e){const t=this.Ir.exec(e);return t?t[1]:null}Fr(e,t){const r=this.Or(e);return Cb.cr(r,t)}Br(e,t){const r=this.Tr.exec(e),i=Number(r[1]);return wb.cr(new Di(void 0!==r[2]?r[2]:null),i,t)}qr(e,t){const r=this.Er.exec(e),i=Number(r[1]);return ow.cr(i,t)}Pr(e){return vA.cr(e)}Kr(e){return JSON.parse(e)}Lr(e){var t=this;return(0,_e.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Qr(e.batchId,e.state,e.error);ke("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Ur(e){return this.syncEngine.jr(e.targetId,e.state,e.error)}$r(e,t){const r=t?this.mr.insert(e,t):this.mr.remove(e),i=this.Vr(this.mr),u=this.Vr(r),d=[],m=[];return u.forEach(w=>{i.has(w)||d.push(w)}),i.forEach(w=>{u.has(w)||m.push(w)}),this.syncEngine.zr(d,m).then(()=>{this.mr=r})}br(e){this.mr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Vr(e){let t=HS();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class hO{constructor(){this.Wr=new wA,this.Hr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Wr.hr(e),this.Hr[e]||"not-current"}updateQueryState(e,t,r){this.Hr[e]=t}removeLocalQueryTarget(e){this.Wr.lr(e)}isLocalQueryTarget(e){return this.Wr.activeTargetIds.has(e)}clearQueryState(e){delete this.Hr[e]}getAllActiveQueryTargets(){return this.Wr.activeTargetIds}isActiveQueryTarget(e){return this.Wr.activeTargetIds.has(e)}start(){return this.Wr=new wA,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Hk{Jr(e){}shutdown(){}}class fO{constructor(){this.Yr=()=>this.Xr(),this.Zr=()=>this.eo(),this.no=[],this.so()}Jr(e){this.no.push(e)}shutdown(){window.removeEventListener("online",this.Yr),window.removeEventListener("offline",this.Zr)}so(){window.addEventListener("online",this.Yr),window.addEventListener("offline",this.Zr)}Xr(){ke("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.no)e(0)}eo(){ke("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.no)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Eb=null;function EA(){return null===Eb?Eb=268435456+Math.round(2147483648*Math.random()):Eb++,"0x"+Eb.toString(16)}const Gk={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class zk{constructor(e){this.io=e.io,this.ro=e.ro}oo(e){this.uo=e}co(e){this.ao=e}onMessage(e){this.ho=e}close(){this.ro()}send(e){this.io(e)}lo(){this.uo()}fo(e){this.ao(e)}_o(e){this.ho(e)}}const ts="WebChannelConnection";class qk extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.wo=(e.ssl?"https":"http")+"://"+e.host,this.mo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get yo(){return!1}po(e,t,r,i,u){const d=EA(),m=this.Io(e,t);ke("RestConnection",`Sending RPC '${e}' ${d}:`,m,r);const w={};return this.To(w,i,u),this.Eo(e,m,w,r).then(D=>(ke("RestConnection",`Received RPC '${e}' ${d}: `,D),D),D=>{throw da("RestConnection",`RPC '${e}' ${d} failed with error: `,D,"url: ",m,"request:",r),D})}Ao(e,t,r,i,u,d){return this.po(e,t,r,i,u)}To(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+by,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,u)=>e[u]=i),r&&r.headers.forEach((i,u)=>e[u]=i)}Io(e,t){return`${this.wo}/v1/${t}:${Gk[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}Eo(e,t,r,i){const u=EA();return new Promise((d,m)=>{const w=new HR;w.setWithCredentials(!0),w.listenOnce(BR.COMPLETE,()=>{try{switch(w.getLastErrorCode()){case DS.NO_ERROR:const S=w.getResponseJson();ke(ts,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(S)),d(S);break;case DS.TIMEOUT:ke(ts,`RPC '${e}' ${u} timed out`),m(new Ae(ae.DEADLINE_EXCEEDED,"Request time out"));break;case DS.HTTP_ERROR:const O=w.getStatus();if(ke(ts,`RPC '${e}' ${u} failed with status:`,O,"response text:",w.getResponseText()),O>0){let U=w.getResponseJson();Array.isArray(U)&&(U=U[0]);const Z=U?.error;if(Z&&Z.status&&Z.message){const oe=function(De){const Le=De.toLowerCase().replace(/_/g,"-");return Object.values(ae).indexOf(Le)>=0?Le:ae.UNKNOWN}(Z.status);m(new Ae(oe,Z.message))}else m(new Ae(ae.UNKNOWN,"Server responded with status "+w.getStatus()))}else m(new Ae(ae.UNAVAILABLE,"Connection failed."));break;default:ot()}}finally{ke(ts,`RPC '${e}' ${u} completed.`)}});const D=JSON.stringify(i);ke(ts,`RPC '${e}' ${u} sending request:`,i),w.send(t,"POST",D,r,15)})}Ro(e,t,r){const i=EA(),u=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=VR(),m=UR(),w={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(w.xmlHttpFactory=new $R({})),this.To(w.initMessageHeaders,t,r),w.encodeInitMessageHeaders=!0;const D=u.join("");ke(ts,`Creating RPC '${e}' stream ${i}: ${D}`,w);const S=d.createWebChannel(D,w);let O=!1,U=!1;const Z=new zk({io:De=>{U?ke(ts,`Not sending because RPC '${e}' stream ${i} is closed:`,De):(O||(ke(ts,`Opening RPC '${e}' stream ${i} transport.`),S.open(),O=!0),ke(ts,`RPC '${e}' stream ${i} sending:`,De),S.send(De))},ro:()=>S.close()}),oe=(De,Le,rt)=>{De.listen(Le,St=>{try{rt(St)}catch(vt){setTimeout(()=>{throw vt},0)}})};return oe(S,$I.EventType.OPEN,()=>{U||ke(ts,`RPC '${e}' stream ${i} transport opened.`)}),oe(S,$I.EventType.CLOSE,()=>{U||(U=!0,ke(ts,`RPC '${e}' stream ${i} transport closed`),Z.fo())}),oe(S,$I.EventType.ERROR,De=>{U||(U=!0,da(ts,`RPC '${e}' stream ${i} transport errored:`,De),Z.fo(new Ae(ae.UNAVAILABLE,"The operation could not be completed")))}),oe(S,$I.EventType.MESSAGE,De=>{var Le;if(!U){const rt=De.data[0];_t(!!rt);const vt=rt.error||(null===(Le=rt[0])||void 0===Le?void 0:Le.error);if(vt){ke(ts,`RPC '${e}' stream ${i} received error:`,vt);const zt=vt.status;let Jt=function(_s){const qh=qr[_s];if(void 0!==qh)return aP(qh)}(zt),hn=vt.message;void 0===Jt&&(Jt=ae.INTERNAL,hn="Unknown error status: "+zt+" with message "+vt.message),U=!0,Z.fo(new Ae(Jt,hn)),S.close()}else ke(ts,`RPC '${e}' stream ${i} received:`,rt),Z._o(rt)}}),oe(m,jR.STAT_EVENT,De=>{De.stat===Xx.PROXY?ke(ts,`RPC '${e}' stream ${i} detected buffering proxy`):De.stat===Xx.NOPROXY&&ke(ts,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{Z.lo()},0),Z}}function pO(){return typeof window<"u"?window:null}function Ib(){return typeof document<"u"?document:null}function aw(n){return new nk(n,!0)}class IA{constructor(e,t,r=1e3,i=1.5,u=6e4){this.si=e,this.timerId=t,this.vo=r,this.Po=i,this.bo=u,this.Vo=0,this.So=null,this.Do=Date.now(),this.reset()}reset(){this.Vo=0}Co(){this.Vo=this.bo}xo(e){this.cancel();const t=Math.floor(this.Vo+this.No()),r=Math.max(0,Date.now()-this.Do),i=Math.max(0,t-r);i>0&&ke("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Vo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.So=this.si.enqueueAfterDelay(this.timerId,i,()=>(this.Do=Date.now(),e())),this.Vo*=this.Po,this.Vo<this.vo&&(this.Vo=this.vo),this.Vo>this.bo&&(this.Vo=this.bo)}ko(){null!==this.So&&(this.So.skipDelay(),this.So=null)}cancel(){null!==this.So&&(this.So.cancel(),this.So=null)}No(){return(Math.random()-.5)*this.Vo}}class gO{constructor(e,t,r,i,u,d,m,w){this.si=e,this.Mo=r,this.Oo=i,this.connection=u,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=m,this.listener=w,this.state=0,this.$o=0,this.Fo=null,this.Bo=null,this.stream=null,this.Lo=new IA(e,t)}qo(){return 1===this.state||5===this.state||this.Uo()}Uo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Ko()}stop(){var e=this;return(0,_e.Z)(function*(){e.qo()&&(yield e.close(0))})()}Go(){this.state=0,this.Lo.reset()}Qo(){this.Uo()&&null===this.Fo&&(this.Fo=this.si.enqueueAfterDelay(this.Mo,6e4,()=>this.jo()))}zo(e){this.Wo(),this.stream.send(e)}jo(){var e=this;return(0,_e.Z)(function*(){if(e.Uo())return e.close(0)})()}Wo(){this.Fo&&(this.Fo.cancel(),this.Fo=null)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}close(e,t){var r=this;return(0,_e.Z)(function*(){r.Wo(),r.Ho(),r.Lo.cancel(),r.$o++,4!==e?r.Lo.reset():t&&t.code===ae.RESOURCE_EXHAUSTED?(Or(t.toString()),Or("Using maximum backoff delay to prevent overloading the backend."),r.Lo.Co()):t&&t.code===ae.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Jo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.co(t)})()}Jo(){}auth(){this.state=1;const e=this.Yo(this.$o),t=this.$o;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.$o===t&&this.Xo(r,i)},r=>{e(()=>{const i=new Ae(ae.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Zo(i)})})}Xo(e,t){const r=this.Yo(this.$o);this.stream=this.tu(e,t),this.stream.oo(()=>{r(()=>(this.state=2,this.Bo=this.si.enqueueAfterDelay(this.Oo,1e4,()=>(this.Uo()&&(this.state=3),Promise.resolve())),this.listener.oo()))}),this.stream.co(i=>{r(()=>this.Zo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Ko(){var e=this;this.state=5,this.Lo.xo((0,_e.Z)(function*(){e.state=0,e.start()}))}Zo(e){return ke("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Yo(e){return t=>{this.si.enqueueAndForget(()=>this.$o===e?t():(ke("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Zk extends gO{constructor(e,t,r,i,u,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,d),this.serializer=u}tu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.Lo.reset();const t=function sk(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(w=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===w?1:"REMOVE"===w?2:"CURRENT"===w?3:"RESET"===w?4:ot(),i=e.targetChange.targetIds||[],u=function(w,D){return w.useProto3Json?(_t(void 0===D||"string"==typeof D),ui.fromBase64String(D||"")):(_t(void 0===D||D instanceof Uint8Array),ui.fromUint8Array(D||new Uint8Array))}(n,e.targetChange.resumeToken),d=e.targetChange.cause,m=d&&function(w){const D=void 0===w.code?ae.UNKNOWN:aP(w.code);return new Ae(D,w.message||"")}(d);t=new hP(r,i,u,m||null)}else if("documentChange"in e){const r=e.documentChange,i=Mc(n,r.document.name),u=Rr(r.document.updateTime),d=r.document.createTime?Rr(r.document.createTime):wt.min(),m=new Bi({mapValue:{fields:r.document.fields}}),w=Zn.newFoundDocument(i,u,d,m);t=new ab(r.targetIds||[],r.removedTargetIds||[],w.key,w)}else if("documentDelete"in e){const r=e.documentDelete,i=Mc(n,r.document),u=r.readTime?Rr(r.readTime):wt.min(),d=Zn.newNoDocument(i,u);t=new ab([],r.removedTargetIds||[],d.key,d)}else if("documentRemove"in e){const r=e.documentRemove,i=Mc(n,r.document);t=new ab([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return ot();{const r=e.filter,{count:i=0,unchangedNames:u}=r,d=new YN(i,u);t=new dP(r.targetId,d)}}var w;return t}(this.serializer,e),r=function(i){if(!("targetChange"in i))return wt.min();const u=i.targetChange;return u.targetIds&&u.targetIds.length?wt.min():u.readTime?Rr(u.readTime):wt.min()}(e);return this.listener.eu(t,r)}nu(e){const t={};t.database=Q0(this.serializer),t.addTarget=function(i,u){let d;const m=u.target;if(d=XI(m)?{documents:EP(i,m)}:{query:eA(i,m)},d.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){d.resumeToken=mP(i,u.resumeToken);const w=YS(i,u.expectedCount);null!==w&&(d.expectedCount=w)}else if(u.snapshotVersion.compareTo(wt.min())>0){d.readTime=ky(i,u.snapshotVersion.toTimestamp());const w=YS(i,u.expectedCount);null!==w&&(d.expectedCount=w)}return d}(this.serializer,e);const r=function ak(n,e){const t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ot()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.zo(t)}su(e){const t={};t.database=Q0(this.serializer),t.removeTarget=e,this.zo(t)}}class Wk extends gO{constructor(e,t,r,i,u,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,d),this.serializer=u,this.iu=!1}get ru(){return this.iu}start(){this.iu=!1,this.lastStreamToken=void 0,super.start()}Jo(){this.iu&&this.ou([])}tu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(_t(!!e.streamToken),this.lastStreamToken=e.streamToken,this.iu){this.Lo.reset();const t=function ok(n,e){return n&&n.length>0?(_t(void 0!==e),n.map(t=>function(r,i){let u=Rr(r.updateTime?r.updateTime:i);return u.isEqual(wt.min())&&(u=Rr(i)),new qN(u,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Rr(e.commitTime);return this.listener.uu(r,t)}return _t(!e.writeResults||0===e.writeResults.length),this.iu=!0,this.listener.cu()}au(){const e={};e.database=Q0(this.serializer),this.zo(e)}ou(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>J0(this.serializer,r))};this.zo(t)}}class Kk extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.hu=!1}lu(){if(this.hu)throw new Ae(ae.FAILED_PRECONDITION,"The client has already been terminated.")}po(e,t,r){return this.lu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,u])=>this.connection.po(e,t,r,i,u)).catch(i=>{throw"FirebaseError"===i.name?(i.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Ae(ae.UNKNOWN,i.toString())})}Ao(e,t,r,i){return this.lu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,d])=>this.connection.Ao(e,t,r,u,d,i)).catch(u=>{throw"FirebaseError"===u.name?(u.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Ae(ae.UNKNOWN,u.toString())})}terminate(){this.hu=!0}}class Qk{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.du=0,this._u=null,this.wu=!0}mu(){0===this.du&&(this.gu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.yu("Backend didn't respond within 10 seconds."),this.gu("Offline"),Promise.resolve())))}pu(e){"Online"===this.state?this.gu("Unknown"):(this.du++,this.du>=1&&(this.Iu(),this.yu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.gu("Offline")))}set(e){this.Iu(),this.du=0,"Online"===e&&(this.wu=!1),this.gu(e)}gu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}yu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.wu?(Or(t),this.wu=!1):ke("OnlineStateTracker",t)}Iu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class Jk{constructor(e,t,r,i,u){var d=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Tu=[],this.Eu=new Map,this.Au=new Set,this.Ru=[],this.vu=u,this.vu.Jr(m=>{r.enqueueAndForget((0,_e.Z)(function*(){var w;Bh(d)&&(ke("RemoteStore","Restarting streams for network reachability change."),yield(w=(0,_e.Z)(function*(D){const S=Je(D);S.Au.add(4),yield jy(S),S.Pu.set("Unknown"),S.Au.delete(4),yield uw(S)}),function(D){return w.apply(this,arguments)})(d))}))}),this.Pu=new Qk(r,i)}}function uw(n){return DA.apply(this,arguments)}function DA(){return DA=(0,_e.Z)(function*(n){if(Bh(n))for(const e of n.Ru)yield e(!0)}),DA.apply(this,arguments)}function jy(n){return TA.apply(this,arguments)}function TA(){return TA=(0,_e.Z)(function*(n){for(const e of n.Ru)yield e(!1)}),TA.apply(this,arguments)}function bb(n,e){const t=Je(n);t.Eu.has(e.targetId)||(t.Eu.set(e.targetId,e),MA(t)?AA(t):Hy(t).Uo()&&SA(t,e))}function cw(n,e){const t=Je(n),r=Hy(t);t.Eu.delete(e),r.Uo()&&mO(t,e),0===t.Eu.size&&(r.Uo()?r.Qo():Bh(t)&&t.Pu.set("Unknown"))}function SA(n,e){if(n.bu.Lt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(wt.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Hy(n).nu(e)}function mO(n,e){n.bu.Lt(e),Hy(n).su(e)}function AA(n){n.bu=new JN({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),he:e=>n.Eu.get(e)||null,oe:()=>n.datastore.serializer.databaseId}),Hy(n).start(),n.Pu.mu()}function MA(n){return Bh(n)&&!Hy(n).qo()&&n.Eu.size>0}function Bh(n){return 0===Je(n).Au.size}function yO(n){n.bu=void 0}function Xk(n){return xA.apply(this,arguments)}function xA(){return xA=(0,_e.Z)(function*(n){n.Eu.forEach((e,t)=>{SA(n,e)})}),xA.apply(this,arguments)}function eF(n,e){return PA.apply(this,arguments)}function PA(){return PA=(0,_e.Z)(function*(n,e){yO(n),MA(n)?(n.Pu.pu(e),AA(n)):n.Pu.set("Unknown")}),PA.apply(this,arguments)}function tF(n,e,t){return OA.apply(this,arguments)}function OA(){return OA=(0,_e.Z)(function*(n,e,t){if(n.Pu.set("Online"),e instanceof hP&&2===e.state&&e.cause)try{yield(r=(0,_e.Z)(function*(i,u){const d=u.cause;for(const m of u.targetIds)i.Eu.has(m)&&(yield i.remoteSyncer.rejectListen(m,d),i.Eu.delete(m),i.bu.removeTarget(m))}),function(i,u){return r.apply(this,arguments)})(n,e)}catch(r){ke("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Db(n,r)}else if(e instanceof ab?n.bu.Wt(e):e instanceof dP?n.bu.ee(e):n.bu.Yt(e),!t.isEqual(wt.min()))try{const r=yield sO(n.localStore);t.compareTo(r)>=0&&(yield function(i,u){const d=i.bu.ue(u);return d.targetChanges.forEach((m,w)=>{if(m.resumeToken.approximateByteSize()>0){const D=i.Eu.get(w);D&&i.Eu.set(w,D.withResumeToken(m.resumeToken,u))}}),d.targetMismatches.forEach((m,w)=>{const D=i.Eu.get(m);if(!D)return;i.Eu.set(m,D.withResumeToken(ui.EMPTY_BYTE_STRING,D.snapshotVersion)),mO(i,m);const S=new Wl(D.target,m,w,D.sequenceNumber);SA(i,S)}),i.remoteSyncer.applyRemoteEvent(d)}(n,t))}catch(r){ke("RemoteStore","Failed to raise snapshot:",r),yield Db(n,r)}var r}),OA.apply(this,arguments)}function Db(n,e,t){return RA.apply(this,arguments)}function RA(){return RA=(0,_e.Z)(function*(n,e,t){if(!Ah(e))throw e;n.Au.add(1),yield jy(n),n.Pu.set("Offline"),t||(t=()=>sO(n.localStore)),n.asyncQueue.enqueueRetryable((0,_e.Z)(function*(){ke("RemoteStore","Retrying IndexedDB access"),yield t(),n.Au.delete(1),yield uw(n)}))}),RA.apply(this,arguments)}function _O(n,e){return e().catch(t=>Db(n,t,e))}function $y(n){return NA.apply(this,arguments)}function NA(){return NA=(0,_e.Z)(function*(n){const e=Je(n),t=jh(e);let r=e.Tu.length>0?e.Tu[e.Tu.length-1].batchId:-1;for(;nF(e);)try{const i=yield Bk(e.localStore,r);if(null===i){0===e.Tu.length&&t.Qo();break}r=i.batchId,rF(e,i)}catch(i){yield Db(e,i)}vO(e)&&wO(e)}),NA.apply(this,arguments)}function nF(n){return Bh(n)&&n.Tu.length<10}function rF(n,e){n.Tu.push(e);const t=jh(n);t.Uo()&&t.ru&&t.ou(e.mutations)}function vO(n){return Bh(n)&&!jh(n).qo()&&n.Tu.length>0}function wO(n){jh(n).start()}function iF(n){return kA.apply(this,arguments)}function kA(){return kA=(0,_e.Z)(function*(n){jh(n).au()}),kA.apply(this,arguments)}function sF(n){return FA.apply(this,arguments)}function FA(){return FA=(0,_e.Z)(function*(n){const e=jh(n);for(const t of n.Tu)e.ou(t.mutations)}),FA.apply(this,arguments)}function oF(n,e,t){return LA.apply(this,arguments)}function LA(){return LA=(0,_e.Z)(function*(n,e,t){const r=n.Tu.shift(),i=qS.from(r,e,t);yield _O(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield $y(n)}),LA.apply(this,arguments)}function aF(n,e){return VA.apply(this,arguments)}function VA(){return VA=(0,_e.Z)(function*(n,e){var t;e&&jh(n).ru&&(yield(t=(0,_e.Z)(function*(r,i){if(oP(u=i.code)&&u!==ae.ABORTED){const d=r.Tu.shift();jh(r).Go(),yield _O(r,()=>r.remoteSyncer.rejectFailedWrite(d.batchId,i)),yield $y(r)}var u}),function(r,i){return t.apply(this,arguments)})(n,e)),vO(n)&&wO(n)}),VA.apply(this,arguments)}function CO(n,e){return UA.apply(this,arguments)}function UA(){return UA=(0,_e.Z)(function*(n,e){const t=Je(n);t.asyncQueue.verifyOperationInProgress(),ke("RemoteStore","RemoteStore received new credentials");const r=Bh(t);t.Au.add(3),yield jy(t),r&&t.Pu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.Au.delete(3),yield uw(t)}),UA.apply(this,arguments)}function BA(n,e){return jA.apply(this,arguments)}function jA(){return jA=(0,_e.Z)(function*(n,e){const t=Je(n);e?(t.Au.delete(2),yield uw(t)):e||(t.Au.add(2),yield jy(t),t.Pu.set("Unknown"))}),jA.apply(this,arguments)}function Hy(n){return n.Vu||(n.Vu=function(e,t,r){const i=Je(e);return i.lu(),new Zk(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(n.datastore,n.asyncQueue,{oo:Xk.bind(null,n),co:eF.bind(null,n),eu:tF.bind(null,n)}),n.Ru.push(function(){var e=(0,_e.Z)(function*(t){t?(n.Vu.Go(),MA(n)?AA(n):n.Pu.set("Unknown")):(yield n.Vu.stop(),yO(n))});return function(t){return e.apply(this,arguments)}}())),n.Vu}function jh(n){return n.Su||(n.Su=function(e,t,r){const i=Je(e);return i.lu(),new Wk(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(n.datastore,n.asyncQueue,{oo:iF.bind(null,n),co:aF.bind(null,n),cu:sF.bind(null,n),uu:oF.bind(null,n)}),n.Ru.push(function(){var e=(0,_e.Z)(function*(t){t?(n.Su.Go(),yield $y(n)):(yield n.Su.stop(),n.Tu.length>0&&(ke("RemoteStore",`Stopping write stream with ${n.Tu.length} pending writes`),n.Tu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Su}class $A{constructor(e,t,r,i,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=u,this.deferred=new ai,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}static createAndSchedule(e,t,r,i,u){const d=Date.now()+r,m=new $A(e,t,d,i,u);return m.start(r),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ae(ae.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Gy(n,e){if(Or("AsyncQueue",`${e}: ${n}`),Ah(n))return new Ae(ae.UNAVAILABLE,`${e}: ${n}`);throw n}class zy{constructor(e){this.comparator=e?(t,r)=>e(t,r)||Ke.comparator(t.key,r.key):(t,r)=>Ke.comparator(t.key,r.key),this.keyedMap=H0(),this.sortedSet=new Un(this.comparator)}static emptySet(e){return new zy(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof zy)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,u=r.getNext().key;if(!i.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new zy;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class EO{constructor(){this.Du=new Un(Ke.comparator)}track(e){const t=e.doc.key,r=this.Du.get(t);r?0!==e.type&&3===r.type?this.Du=this.Du.insert(t,e):3===e.type&&1!==r.type?this.Du=this.Du.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Du=this.Du.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Du=this.Du.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Du=this.Du.remove(t):1===e.type&&2===r.type?this.Du=this.Du.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Du=this.Du.insert(t,{type:2,doc:e.doc}):ot():this.Du=this.Du.insert(t,e)}Cu(){const e=[];return this.Du.inorderTraversal((t,r)=>{e.push(r)}),e}}class qy{constructor(e,t,r,i,u,d,m,w,D){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=u,this.fromCache=d,this.syncStateChanged=m,this.excludesMetadataChanges=w,this.hasCachedResults=D}static fromInitialDocuments(e,t,r,i,u){const d=[];return t.forEach(m=>{d.push({type:0,doc:m})}),new qy(e,t,zy.emptySet(t),d,r,i,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&j0(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class uF{constructor(){this.xu=void 0,this.listeners=[]}}class cF{constructor(){this.queries=new ql(e=>j1(e),j0),this.onlineState="Unknown",this.Nu=new Set}}function HA(n,e){return GA.apply(this,arguments)}function GA(){return GA=(0,_e.Z)(function*(n,e){const t=Je(n),r=e.query;let i=!1,u=t.queries.get(r);if(u||(i=!0,u=new uF),i)try{u.xu=yield t.onListen(r)}catch(d){const m=Gy(d,`Initialization of query '${$S(e.query)}' failed`);return void e.onError(m)}t.queries.set(r,u),u.listeners.push(e),e.ku(t.onlineState),u.xu&&e.Mu(u.xu)&&ZA(t)}),GA.apply(this,arguments)}function zA(n,e){return qA.apply(this,arguments)}function qA(){return qA=(0,_e.Z)(function*(n,e){const t=Je(n),r=e.query;let i=!1;const u=t.queries.get(r);if(u){const d=u.listeners.indexOf(e);d>=0&&(u.listeners.splice(d,1),i=0===u.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),qA.apply(this,arguments)}function lF(n,e){const t=Je(n);let r=!1;for(const i of e){const d=t.queries.get(i.query);if(d){for(const m of d.listeners)m.Mu(i)&&(r=!0);d.xu=i}}r&&ZA(t)}function dF(n,e,t){const r=Je(n),i=r.queries.get(e);if(i)for(const u of i.listeners)u.onError(t);r.queries.delete(e)}function ZA(n){n.Nu.forEach(e=>{e.next()})}class WA{constructor(e,t,r){this.query=e,this.Ou=t,this.$u=!1,this.Fu=null,this.onlineState="Unknown",this.options=r||{}}Mu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new qy(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.$u?this.Bu(e)&&(this.Ou.next(e),t=!0):this.Lu(e,this.onlineState)&&(this.qu(e),t=!0),this.Fu=e,t}onError(e){this.Ou.error(e)}ku(e){this.onlineState=e;let t=!1;return this.Fu&&!this.$u&&this.Lu(this.Fu,e)&&(this.qu(this.Fu),t=!0),t}Lu(e,t){return!e.fromCache||(!this.options.Uu||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Bu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Fu&&this.Fu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}qu(e){e=qy.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.$u=!0,this.Ou.next(e)}}class hF{constructor(e,t){this.Ku=e,this.byteLength=t}Gu(){return"metadata"in this.Ku}}class IO{constructor(e){this.serializer=e}ir(e){return Mc(this.serializer,e)}rr(e){return e.metadata.exists?CP(this.serializer,e.document,!1):Zn.newNoDocument(this.ir(e.metadata.name),this.ur(e.metadata.readTime))}ur(e){return Rr(e)}}class fF{constructor(e,t,r){this.Qu=e,this.localStore=t,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=bO(e)}ju(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Ku.namedQuery)this.queries.push(e.Ku.namedQuery);else if(e.Ku.documentMetadata){this.documents.push({metadata:e.Ku.documentMetadata}),e.Ku.documentMetadata.exists||++t;const r=ln.fromString(e.Ku.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.Ku.document&&(this.documents[this.documents.length-1].document=e.Ku.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}zu(e){const t=new Map,r=new IO(this.serializer);for(const i of e)if(i.metadata.queries){const u=r.ir(i.metadata.name);for(const d of i.metadata.queries){const m=(t.get(d)||Zt()).add(u);t.set(d,m)}}return t}complete(){var e=this;return(0,_e.Z)(function*(){const t=yield function jk(n,e,t,r){return mA.apply(this,arguments)}(e.localStore,new IO(e.serializer),e.documents,e.Qu.id),r=e.zu(e.documents);for(const i of e.queries)yield $k(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,Wu:e.collectionGroups,Hu:t}})()}}function bO(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class DO{constructor(e){this.key=e}}class TO{constructor(e){this.key=e}}class SO{constructor(e,t){this.query=e,this.Ju=t,this.Yu=null,this.hasCachedResults=!1,this.current=!1,this.Xu=Zt(),this.mutatedKeys=Zt(),this.Zu=H1(e),this.tc=new zy(this.Zu)}get ec(){return this.Ju}nc(e,t){const r=t?t.sc:new EO,i=t?t.tc:this.tc;let u=t?t.mutatedKeys:this.mutatedKeys,d=i,m=!1;const w="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,D="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((S,O)=>{const U=i.get(S),Z=$0(this.query,O)?O:null,oe=!!U&&this.mutatedKeys.has(U.key),De=!!Z&&(Z.hasLocalMutations||this.mutatedKeys.has(Z.key)&&Z.hasCommittedMutations);let Le=!1;U&&Z?U.data.isEqual(Z.data)?oe!==De&&(r.track({type:3,doc:Z}),Le=!0):this.ic(U,Z)||(r.track({type:2,doc:Z}),Le=!0,(w&&this.Zu(Z,w)>0||D&&this.Zu(Z,D)<0)&&(m=!0)):!U&&Z?(r.track({type:0,doc:Z}),Le=!0):U&&!Z&&(r.track({type:1,doc:U}),Le=!0,(w||D)&&(m=!0)),Le&&(Z?(d=d.add(Z),u=De?u.add(S):u.delete(S)):(d=d.delete(S),u=u.delete(S)))}),null!==this.query.limit)for(;d.size>this.query.limit;){const S="F"===this.query.limitType?d.last():d.first();d=d.delete(S.key),u=u.delete(S.key),r.track({type:1,doc:S})}return{tc:d,sc:r,ji:m,mutatedKeys:u}}ic(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.tc;this.tc=e.tc,this.mutatedKeys=e.mutatedKeys;const u=e.sc.Cu();u.sort((D,S)=>function(O,U){const Z=oe=>{switch(oe){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ot()}};return Z(O)-Z(U)}(D.type,S.type)||this.Zu(D.doc,S.doc)),this.rc(r);const d=t?this.oc():[],m=0===this.Xu.size&&this.current?1:0,w=m!==this.Yu;return this.Yu=m,0!==u.length||w?{snapshot:new qy(this.query,e.tc,i,u,e.mutatedKeys,0===m,w,!1,!!r&&r.resumeToken.approximateByteSize()>0),uc:d}:{uc:d}}ku(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({tc:this.tc,sc:new EO,mutatedKeys:this.mutatedKeys,ji:!1},!1)):{uc:[]}}cc(e){return!this.Ju.has(e)&&!!this.tc.has(e)&&!this.tc.get(e).hasLocalMutations}rc(e){e&&(e.addedDocuments.forEach(t=>this.Ju=this.Ju.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ju=this.Ju.delete(t)),this.current=e.current)}oc(){if(!this.current)return[];const e=this.Xu;this.Xu=Zt(),this.tc.forEach(r=>{this.cc(r.key)&&(this.Xu=this.Xu.add(r.key))});const t=[];return e.forEach(r=>{this.Xu.has(r)||t.push(new TO(r))}),this.Xu.forEach(r=>{e.has(r)||t.push(new DO(r))}),t}ac(e){this.Ju=e.sr,this.Xu=Zt();const t=this.nc(e.documents);return this.applyChanges(t,!0)}hc(){return qy.fromInitialDocuments(this.query,this.tc,this.mutatedKeys,0===this.Yu,this.hasCachedResults)}}class pF{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class gF{constructor(e){this.key=e,this.lc=!1}}class mF{constructor(e,t,r,i,u,d){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=u,this.maxConcurrentLimboResolutions=d,this.fc={},this.dc=new ql(m=>j1(m),j0),this._c=new Map,this.wc=new Set,this.mc=new Un(Ke.comparator),this.gc=new Map,this.yc=new uA,this.Ic={},this.Tc=new Map,this.Ec=ig.kn(),this.onlineState="Unknown",this.Ac=void 0}get isPrimaryClient(){return!0===this.Ac}}function yF(n,e){return KA.apply(this,arguments)}function KA(){return KA=(0,_e.Z)(function*(n,e){const t=_M(n);let r,i;const u=t.dc.get(e);if(u)r=u.targetId,t.sharedClientState.addLocalQueryTarget(r),i=u.view.hc();else{const d=yield Uy(t.localStore,gs(e)),m=t.sharedClientState.addLocalQueryTarget(d.targetId);r=d.targetId,i=yield YA(t,e,r,"current"===m,d.resumeToken),t.isPrimaryClient&&bb(t.remoteStore,d)}return i}),KA.apply(this,arguments)}function YA(n,e,t,r,i){return QA.apply(this,arguments)}function QA(){return QA=(0,_e.Z)(function*(n,e,t,r,i){n.Rc=(O,U,Z)=>{return(oe=(0,_e.Z)(function*(De,Le,rt,St){let vt=Le.view.nc(rt);vt.ji&&(vt=yield vb(De.localStore,Le.query,!1).then(({documents:hn})=>Le.view.nc(hn,vt)));const zt=St&&St.targetChanges.get(Le.targetId),Jt=Le.view.applyChanges(vt,De.isPrimaryClient,zt);return aM(De,Le.targetId,Jt.uc),Jt.snapshot}),function(De,Le,rt,St){return oe.apply(this,arguments)})(n,O,U,Z);var oe};const u=yield vb(n.localStore,e,!0),d=new SO(e,u.sr),m=d.nc(u.documents),w=K0.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),D=d.applyChanges(m,n.isPrimaryClient,w);aM(n,t,D.uc);const S=new pF(e,t,d);return n.dc.set(e,S),n._c.has(t)?n._c.get(t).push(e):n._c.set(t,[e]),D.snapshot}),QA.apply(this,arguments)}function _F(n,e){return JA.apply(this,arguments)}function JA(){return JA=(0,_e.Z)(function*(n,e){const t=Je(n),r=t.dc.get(e),i=t._c.get(r.targetId);if(i.length>1)return t._c.set(r.targetId,i.filter(u=>!j0(u,e))),void t.dc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield By(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),cw(t.remoteStore,r.targetId),Zy(t,r.targetId)}).catch(Sh))):(Zy(t,r.targetId),yield By(t.localStore,r.targetId,!0))}),JA.apply(this,arguments)}function XA(){return XA=(0,_e.Z)(function*(n,e,t){const r=vM(n);try{const i=yield function(u,d){const m=Je(u),w=rr.now(),D=d.reduce((U,Z)=>U.add(Z.key),Zt());let S,O;return m.persistence.runTransaction("Locally write mutations","readwrite",U=>{let Z=qs(),oe=Zt();return m.Xi.getEntries(U,D).next(De=>{Z=De,Z.forEach((Le,rt)=>{rt.isValidDocument()||(oe=oe.add(Le))})}).next(()=>m.localDocuments.getOverlayedDocuments(U,Z)).next(De=>{S=De;const Le=[];for(const rt of d){const St=WN(rt,S.get(rt.key).overlayedDocument);null!=St&&Le.push(new Zl(rt.key,St,S1(St.value.mapValue),ir.exists(!0)))}return m.mutationQueue.addMutationBatch(U,w,Le,d)}).next(De=>{O=De;const Le=De.applyToLocalDocumentSet(S,oe);return m.documentOverlayCache.saveOverlays(U,De.batchId,Le)})}).then(()=>({batchId:O.batchId,changes:z1(S)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(u,d,m){let w=u.Ic[u.currentUser.toKey()];w||(w=new Un(jt)),w=w.insert(d,m),u.Ic[u.currentUser.toKey()]=w}(r,i.batchId,t),yield Kl(r,i.changes),yield $y(r.remoteStore)}catch(i){const u=Gy(i,"Failed to persist write");t.reject(u)}}),XA.apply(this,arguments)}function AO(n,e){return eM.apply(this,arguments)}function eM(){return eM=(0,_e.Z)(function*(n,e){const t=Je(n);try{const r=yield function Uk(n,e){const t=Je(n),r=e.snapshotVersion;let i=t.Hi;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const d=t.Xi.newChangeBuffer({trackRemovals:!0});i=t.Hi;const m=[];e.targetChanges.forEach((S,O)=>{const U=i.get(O);if(!U)return;m.push(t.Fs.removeMatchingKeys(u,S.removedDocuments,O).next(()=>t.Fs.addMatchingKeys(u,S.addedDocuments,O)));let Z=U.withSequenceNumber(u.currentSequenceNumber);var oe,De,Le;null!==e.targetMismatches.get(O)?Z=Z.withResumeToken(ui.EMPTY_BYTE_STRING,wt.min()).withLastLimboFreeSnapshotVersion(wt.min()):S.resumeToken.approximateByteSize()>0&&(Z=Z.withResumeToken(S.resumeToken,r)),i=i.insert(O,Z),De=Z,Le=S,(0===(oe=U).resumeToken.approximateByteSize()||De.snapshotVersion.toMicroseconds()-oe.snapshotVersion.toMicroseconds()>=3e8||Le.addedDocuments.size+Le.modifiedDocuments.size+Le.removedDocuments.size>0)&&m.push(t.Fs.updateTargetData(u,Z))});let w=qs(),D=Zt();if(e.documentUpdates.forEach(S=>{e.resolvedLimboDocuments.has(S)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(u,S))}),m.push(oO(u,d,e.documentUpdates).next(S=>{w=S.er,D=S.nr})),!r.isEqual(wt.min())){const S=t.Fs.getLastRemoteSnapshotVersion(u).next(O=>t.Fs.setTargetsMetadata(u,u.currentSequenceNumber,r));m.push(S)}return ee.waitFor(m).next(()=>d.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,w,D)).next(()=>w)}).then(u=>(t.Hi=i,u))}(t.localStore,e);e.targetChanges.forEach((i,u)=>{const d=t.gc.get(u);d&&(_t(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?d.lc=!0:i.modifiedDocuments.size>0?_t(d.lc):i.removedDocuments.size>0&&(_t(d.lc),d.lc=!1))}),yield Kl(t,r,e)}catch(r){yield Sh(r)}}),eM.apply(this,arguments)}function MO(n,e,t){const r=Je(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.dc.forEach((u,d)=>{const m=d.view.ku(e);m.snapshot&&i.push(m.snapshot)}),function(u,d){const m=Je(u);m.onlineState=d;let w=!1;m.queries.forEach((D,S)=>{for(const O of S.listeners)O.ku(d)&&(w=!0)}),w&&ZA(m)}(r.eventManager,e),i.length&&r.fc.eu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function wF(n,e,t){return tM.apply(this,arguments)}function tM(){return tM=(0,_e.Z)(function*(n,e,t){const r=Je(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.gc.get(e),u=i&&i.key;if(u){let d=new Un(Ke.comparator);d=d.insert(u,Zn.newNoDocument(u,wt.min()));const m=Zt().add(u),w=new W0(wt.min(),new Map,new Un(jt),d,m);yield AO(r,w),r.mc=r.mc.remove(u),r.gc.delete(e),uM(r)}else yield By(r.localStore,e,!1).then(()=>Zy(r,e,t)).catch(Sh)}),tM.apply(this,arguments)}function CF(n,e){return nM.apply(this,arguments)}function nM(){return nM=(0,_e.Z)(function*(n,e){const t=Je(n),r=e.batch.batchId;try{const i=yield function Vk(n,e){const t=Je(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),u=t.Xi.newChangeBuffer({trackRemovals:!0});return function(d,m,w,D){const S=w.batch,O=S.keys();let U=ee.resolve();return O.forEach(Z=>{U=U.next(()=>D.getEntry(m,Z)).next(oe=>{const De=w.docVersions.get(Z);_t(null!==De),oe.version.compareTo(De)<0&&(S.applyToRemoteDocument(oe,w),oe.isValidDocument()&&(oe.setReadTime(w.commitVersion),D.addEntry(oe)))})}),U.next(()=>d.mutationQueue.removeMutationBatch(m,S))}(t,r,e,u).next(()=>u.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(d){let m=Zt();for(let w=0;w<d.mutationResults.length;++w)d.mutationResults[w].transformResults.length>0&&(m=m.add(d.batch.mutations[w].key));return m}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}(t.localStore,e);oM(t,r,null),sM(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Kl(t,i)}catch(i){yield Sh(i)}}),nM.apply(this,arguments)}function EF(n,e,t){return rM.apply(this,arguments)}function rM(){return rM=(0,_e.Z)(function*(n,e,t){const r=Je(n);try{const i=yield function(u,d){const m=Je(u);return m.persistence.runTransaction("Reject batch","readwrite-primary",w=>{let D;return m.mutationQueue.lookupMutationBatch(w,d).next(S=>(_t(null!==S),D=S.keys(),m.mutationQueue.removeMutationBatch(w,S))).next(()=>m.mutationQueue.performConsistencyCheck(w)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(w,D,d)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(w,D)).next(()=>m.localDocuments.getDocuments(w,D))})}(r.localStore,e);oM(r,e,t),sM(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Kl(r,i)}catch(i){yield Sh(i)}}),rM.apply(this,arguments)}function iM(){return iM=(0,_e.Z)(function*(n,e){const t=Je(n);Bh(t.remoteStore)||ke("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(u){const d=Je(u);return d.persistence.runTransaction("Get highest unacknowledged batch id","readonly",m=>d.mutationQueue.getHighestUnacknowledgedBatchId(m))}(t.localStore);if(-1===r)return void e.resolve();const i=t.Tc.get(r)||[];i.push(e),t.Tc.set(r,i)}catch(r){const i=Gy(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),iM.apply(this,arguments)}function sM(n,e){(n.Tc.get(e)||[]).forEach(t=>{t.resolve()}),n.Tc.delete(e)}function oM(n,e,t){const r=Je(n);let i=r.Ic[r.currentUser.toKey()];if(i){const u=i.get(e);u&&(t?u.reject(t):u.resolve(),i=i.remove(e)),r.Ic[r.currentUser.toKey()]=i}}function Zy(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n._c.get(e))n.dc.delete(r),t&&n.fc.vc(r,t);n._c.delete(e),n.isPrimaryClient&&n.yc.ps(e).forEach(r=>{n.yc.containsKey(r)||xO(n,r)})}function xO(n,e){n.wc.delete(e.path.canonicalString());const t=n.mc.get(e);null!==t&&(cw(n.remoteStore,t),n.mc=n.mc.remove(e),n.gc.delete(t),uM(n))}function aM(n,e,t){for(const r of t)r instanceof DO?(n.yc.addReference(r.key,e),bF(n,r)):r instanceof TO?(ke("SyncEngine","Document no longer in limbo: "+r.key),n.yc.removeReference(r.key,e),n.yc.containsKey(r.key)||xO(n,r.key)):ot()}function bF(n,e){const t=e.key,r=t.path.canonicalString();n.mc.get(t)||n.wc.has(r)||(ke("SyncEngine","New document in limbo: "+t),n.wc.add(r),uM(n))}function uM(n){for(;n.wc.size>0&&n.mc.size<n.maxConcurrentLimboResolutions;){const e=n.wc.values().next().value;n.wc.delete(e);const t=new Ke(ln.fromString(e)),r=n.Ec.next();n.gc.set(r,new gF(t)),n.mc=n.mc.insert(t,r),bb(n.remoteStore,new Wl(gs(xy(t.path)),r,"TargetPurposeLimboResolution",So.ct))}}function Kl(n,e,t){return cM.apply(this,arguments)}function cM(){return cM=(0,_e.Z)(function*(n,e,t){const r=Je(n),i=[],u=[],d=[];var m;r.dc.isEmpty()||(r.dc.forEach((m,w)=>{d.push(r.Rc(w,e,t).then(D=>{if((D||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(w.targetId,D?.fromCache?"not-current":"current"),D){i.push(D);const S=fA.Bi(w.targetId,D);u.push(S)}}))}),yield Promise.all(d),r.fc.eu(i),yield(m=(0,_e.Z)(function*(w,D){const S=Je(w);try{yield S.persistence.runTransaction("notifyLocalViewChanges","readwrite",O=>ee.forEach(D,U=>ee.forEach(U.$i,Z=>S.persistence.referenceDelegate.addReference(O,U.targetId,Z)).next(()=>ee.forEach(U.Fi,Z=>S.persistence.referenceDelegate.removeReference(O,U.targetId,Z)))))}catch(O){if(!Ah(O))throw O;ke("LocalStore","Failed to update sequence numbers: "+O)}for(const O of D){const U=O.targetId;if(!O.fromCache){const Z=S.Hi.get(U),De=Z.withLastLimboFreeSnapshotVersion(Z.snapshotVersion);S.Hi=S.Hi.insert(U,De)}}}),function(w,D){return m.apply(this,arguments)})(r.localStore,u))}),cM.apply(this,arguments)}function DF(n,e){return lM.apply(this,arguments)}function lM(){return lM=(0,_e.Z)(function*(n,e){const t=Je(n);if(!t.currentUser.isEqual(e)){ke("SyncEngine","User change. New user:",e.toKey());const r=yield iO(t.localStore,e);t.currentUser=e,(i=t).Tc.forEach(d=>{d.forEach(m=>{m.reject(new Ae(ae.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.Tc.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Kl(t,r.tr)}var i}),lM.apply(this,arguments)}function TF(n,e){const t=Je(n),r=t.gc.get(e);if(r&&r.lc)return Zt().add(r.key);{let i=Zt();const u=t._c.get(e);if(!u)return i;for(const d of u){const m=t.dc.get(d);i=i.unionWith(m.view.ec)}return i}}function SF(n,e){return dM.apply(this,arguments)}function dM(){return dM=(0,_e.Z)(function*(n,e){const t=Je(n),r=yield vb(t.localStore,e.query,!0),i=e.view.ac(r);return t.isPrimaryClient&&aM(t,e.targetId,i.uc),i}),dM.apply(this,arguments)}function AF(n,e){return hM.apply(this,arguments)}function hM(){return hM=(0,_e.Z)(function*(n,e){const t=Je(n);return uO(t.localStore,e).then(r=>Kl(t,r))}),hM.apply(this,arguments)}function MF(n,e,t,r){return fM.apply(this,arguments)}function fM(){return fM=(0,_e.Z)(function*(n,e,t,r){const i=Je(n),u=yield function(d,m){const w=Je(d),D=Je(w.mutationQueue);return w.persistence.runTransaction("Lookup mutation documents","readonly",S=>D.Vn(S,m).next(O=>O?w.localDocuments.getDocuments(S,O):ee.resolve(null)))}(i.localStore,e);var m;null!==u?("pending"===t?yield $y(i.remoteStore):"acknowledged"===t||"rejected"===t?(oM(i,e,r||null),sM(i,e),m=e,Je(Je(i.localStore).mutationQueue).Dn(m)):ot(),yield Kl(i,u)):ke("SyncEngine","Cannot apply mutation batch with id: "+e)}),fM.apply(this,arguments)}function pM(){return pM=(0,_e.Z)(function*(n,e){const t=Je(n);if(_M(t),vM(t),!0===e&&!0!==t.Ac){const r=t.sharedClientState.getAllActiveQueryTargets(),i=yield PO(t,r.toArray());t.Ac=!0,yield BA(t.remoteStore,!0);for(const u of i)bb(t.remoteStore,u)}else if(!1===e&&!1!==t.Ac){const r=[];let i=Promise.resolve();t._c.forEach((u,d)=>{t.sharedClientState.isLocalQueryTarget(d)?r.push(d):i=i.then(()=>(Zy(t,d),By(t.localStore,d,!0))),cw(t.remoteStore,d)}),yield i,yield PO(t,r),function(u){const d=Je(u);d.gc.forEach((m,w)=>{cw(d.remoteStore,w)}),d.yc.Is(),d.gc=new Map,d.mc=new Un(Ke.comparator)}(t),t.Ac=!1,yield BA(t.remoteStore,!1)}}),pM.apply(this,arguments)}function PO(n,e,t){return gM.apply(this,arguments)}function gM(){return gM=(0,_e.Z)(function*(n,e,t){const r=Je(n),i=[],u=[];for(const d of e){let m;const w=r._c.get(d);if(w&&0!==w.length){m=yield Uy(r.localStore,gs(w[0]));for(const D of w){const S=r.dc.get(D),O=yield SF(r,S);O.snapshot&&u.push(O.snapshot)}}else{const D=yield aO(r.localStore,d);m=yield Uy(r.localStore,D),yield YA(r,OO(D),d,!1,m.resumeToken)}i.push(m)}return r.fc.eu(u),i}),gM.apply(this,arguments)}function OO(n){return U1(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function PF(n){const e=Je(n);return Je(Je(e.localStore).persistence).Mi()}function OF(n,e,t,r){return mM.apply(this,arguments)}function mM(){return mM=(0,_e.Z)(function*(n,e,t,r){const i=Je(n);if(i.Ac)return void ke("SyncEngine","Ignoring unexpected query state notification.");const u=i._c.get(e);if(u&&u.length>0)switch(t){case"current":case"not-current":{const d=yield uO(i.localStore,$1(u[0])),m=W0.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,ui.EMPTY_BYTE_STRING);yield Kl(i,d,m);break}case"rejected":yield By(i.localStore,e,!0),Zy(i,e,r);break;default:ot()}}),mM.apply(this,arguments)}function RF(n,e,t){return yM.apply(this,arguments)}function yM(){return yM=(0,_e.Z)(function*(n,e,t){const r=_M(n);if(r.Ac){for(const i of e){if(r._c.has(i)){ke("SyncEngine","Adding an already active target "+i);continue}const u=yield aO(r.localStore,i),d=yield Uy(r.localStore,u);yield YA(r,OO(u),d.targetId,!1,d.resumeToken),bb(r.remoteStore,d)}for(const i of t)r._c.has(i)&&(yield By(r.localStore,i,!1).then(()=>{cw(r.remoteStore,i),Zy(r,i)}).catch(Sh))}}),yM.apply(this,arguments)}function _M(n){const e=Je(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=AO.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=TF.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=wF.bind(null,e),e.fc.eu=lF.bind(null,e.eventManager),e.fc.vc=dF.bind(null,e.eventManager),e}function vM(n){const e=Je(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=CF.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=EF.bind(null,e),e}class lw{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,_e.Z)(function*(){t.serializer=aw(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return rO(this.persistence,new nO,e.initialUser,this.serializer)}createPersistence(e){return new cA(mb.js,this.serializer)}createSharedClientState(e){return new hO}terminate(){var e=this;return(0,_e.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class wM extends lw{constructor(e,t,r){super(),this.bc=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,_e.Z)(function*(){yield t().call(r,e),yield r.bc.initialize(r,e),yield vM(r.bc.syncEngine),yield $y(r.bc.remoteStore),yield r.persistence.pi(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return rO(this.persistence,new nO,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new ZP(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const r=new oN(t,this.persistence);return new sN(e.asyncQueue,r)}createPersistence(e){const t=hA(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?es.withCacheSize(this.cacheSizeBytes):es.DEFAULT;return new dA(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,pO(),Ib(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new hO}}class RO extends wM{constructor(e,t){super(e,t,!1),this.bc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,_e.Z)(function*(){yield t().call(r,e);const i=r.bc.syncEngine;r.sharedClientState instanceof CA&&(r.sharedClientState.syncEngine={Qr:MF.bind(null,i),jr:OF.bind(null,i),zr:RF.bind(null,i),Mi:PF.bind(null,i),Gr:AF.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.pi(function(){var u=(0,_e.Z)(function*(d){yield function xF(n,e){return pM.apply(this,arguments)}(r.bc.syncEngine,d),r.gcScheduler&&(d&&!r.gcScheduler.started?r.gcScheduler.start():d||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(d&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():d||r.indexBackfillerScheduler.stop())});return function(d){return u.apply(this,arguments)}}())})()}createSharedClientState(e){const t=pO();if(!CA.D(t))throw new Ae(ae.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=hA(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new CA(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class Wy{initialize(e,t){var r=this;return(0,_e.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>MO(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=DF.bind(null,r.syncEngine),yield BA(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new cF}createDatastore(e){const t=aw(e.databaseInfo.databaseId),r=new qk(e.databaseInfo);return new Kk(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,u=m=>MO(this.syncEngine,m,0),d=fO.D()?new fO:new Hk,new Jk(t,r,i,u,d);var t,r,i,u,d}createSyncEngine(e,t){return function(r,i,u,d,m,w,D){const S=new mF(r,i,u,d,m,w);return D&&(S.Ac=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,_e.Z)(function*(t){const r=Je(t);ke("RemoteStore","RemoteStore shutting down."),r.Au.add(5),yield jy(r),r.vu.shutdown(),r.Pu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function NO(n,e=10240){let t=0;return{read:()=>(0,_e.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,_e.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class Tb{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Vc(this.observer.next,e)}error(e){this.observer.error?this.Vc(this.observer.error,e):Or("Uncaught Error in snapshot listener:",e.toString())}Sc(){this.muted=!0}Vc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class FF{constructor(e,t){this.Dc=e,this.serializer=t,this.metadata=new ai,this.buffer=new Uint8Array,this.Cc=new TextDecoder("utf-8"),this.xc().then(r=>{r&&r.Gu()?this.metadata.resolve(r.Ku.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.Ku)}`))},r=>this.metadata.reject(r))}close(){return this.Dc.cancel()}getMetadata(){var e=this;return(0,_e.Z)(function*(){return e.metadata.promise})()}Pc(){var e=this;return(0,_e.Z)(function*(){return yield e.getMetadata(),e.xc()})()}xc(){var e=this;return(0,_e.Z)(function*(){const t=yield e.Nc();if(null===t)return null;const r=e.Cc.decode(t),i=Number(r);isNaN(i)&&e.kc(`length string (${r}) is not valid number`);const u=yield e.Mc(i);return new hF(JSON.parse(u),t.length+i)})()}Oc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Nc(){var e=this;return(0,_e.Z)(function*(){for(;e.Oc()<0&&!(yield e.$c()););if(0===e.buffer.length)return null;const t=e.Oc();t<0&&e.kc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}Mc(e){var t=this;return(0,_e.Z)(function*(){for(;t.buffer.length<e;)(yield t.$c())&&t.kc("Reached the end of bundle when more is expected.");const r=t.Cc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}kc(e){throw this.Dc.cancel(),new Error(`Invalid bundle format: ${e}`)}$c(){var e=this;return(0,_e.Z)(function*(){const t=yield e.Dc.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class LF{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,_e.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Ae(ae.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,_e.Z)(function*(u,d){const m=Je(u),w=Q0(m.serializer)+"/documents",D={documents:d.map(Z=>Y0(m.serializer,Z))},S=yield m.Ao("BatchGetDocuments",w,D,d.length),O=new Map;S.forEach(Z=>{const oe=function ik(n,e){return"found"in e?function(t,r){_t(!!r.found);const i=Mc(t,r.found.name),u=Rr(r.found.updateTime),d=r.found.createTime?Rr(r.found.createTime):wt.min(),m=new Bi({mapValue:{fields:r.found.fields}});return Zn.newFoundDocument(i,u,d,m)}(n,e):"missing"in e?function(t,r){_t(!!r.missing),_t(!!r.readTime);const i=Mc(t,r.missing),u=Rr(r.readTime);return Zn.newNoDocument(i,u)}(n,e):ot()}(m.serializer,Z);O.set(oe.key.toString(),oe)});const U=[];return d.forEach(Z=>{const oe=O.get(Z.toString());_t(!!oe),U.push(oe)}),U}),function(u,d){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Ny(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,_e.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const u=Ke.fromPath(i);e.mutations.push(new GS(u,e.precondition(u)))}),yield(r=(0,_e.Z)(function*(i,u){const d=Je(i),m=Q0(d.serializer)+"/documents",w={writes:u.map(D=>J0(d.serializer,D))};yield d.po("Commit",m,w)}),function(i,u){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw ot();t=wt.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Ae(ae.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(wt.min())?ir.exists(!1):ir.updateTime(t):ir.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(wt.min()))throw new Ae(ae.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ir.updateTime(t)}return ir.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class VF{constructor(e,t,r,i,u){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=u,this.Fc=r.maxAttempts,this.Lo=new IA(this.asyncQueue,"transaction_retry")}run(){this.Fc-=1,this.Bc()}Bc(){var e=this;this.Lo.xo((0,_e.Z)(function*(){const t=new LF(e.datastore),r=e.Lc(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(u=>{e.qc(u)}))}).catch(i=>{e.qc(i)})}))}Lc(e){try{const t=this.updateFunction(e);return!N0(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}qc(e){this.Fc>0&&this.Uc(e)?(this.Fc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Bc(),Promise.resolve()))):this.deferred.reject(e)}Uc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!oP(t)}return!1}}class UF{constructor(e,t,r,i){var u=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Di.UNAUTHENTICATED,this.clientId=r1.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var d=(0,_e.Z)(function*(m){ke("FirestoreClient","Received user=",m.uid),yield u.authCredentialListener(m),u.user=m});return function(m){return d.apply(this,arguments)}}()),this.appCheckCredentials.start(r,d=>(ke("FirestoreClient","Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}getConfiguration(){var e=this;return(0,_e.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ae(ae.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new ai;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,_e.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=Gy(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function Sb(n,e){return CM.apply(this,arguments)}function CM(){return CM=(0,_e.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),ke("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,_e.Z)(function*(u){r.isEqual(u)||(yield iO(e.localStore,u),r=u)});return function(u){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),CM.apply(this,arguments)}function EM(n,e){return IM.apply(this,arguments)}function IM(){return IM=(0,_e.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield bM(n);ke("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>CO(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,u)=>CO(e.remoteStore,u)),n._onlineComponents=e}),IM.apply(this,arguments)}function kO(n){return"FirebaseError"===n.name?n.code===ae.FAILED_PRECONDITION||n.code===ae.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function bM(n){return DM.apply(this,arguments)}function DM(){return DM=(0,_e.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ke("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Sb(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!kO(t))throw t;da("Error using user provided cache. Falling back to memory cache: "+t),yield Sb(n,new lw)}}else ke("FirestoreClient","Using default OfflineComponentProvider"),yield Sb(n,new lw);return n._offlineComponents}),DM.apply(this,arguments)}function Ab(n){return TM.apply(this,arguments)}function TM(){return TM=(0,_e.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ke("FirestoreClient","Using user provided OnlineComponentProvider"),yield EM(n,n._uninitializedComponentsProvider._online)):(ke("FirestoreClient","Using default OnlineComponentProvider"),yield EM(n,new Wy))),n._onlineComponents}),TM.apply(this,arguments)}function FO(n){return bM(n).then(e=>e.persistence)}function Mb(n){return bM(n).then(e=>e.localStore)}function LO(n){return Ab(n).then(e=>e.remoteStore)}function SM(n){return Ab(n).then(e=>e.syncEngine)}function Ky(n){return AM.apply(this,arguments)}function AM(){return AM=(0,_e.Z)(function*(n){const e=yield Ab(n),t=e.eventManager;return t.onListen=yF.bind(null,e.syncEngine),t.onUnlisten=_F.bind(null,e.syncEngine),t}),AM.apply(this,arguments)}function UO(n,e,t={}){const r=new ai;return n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return function(i,u,d,m,w){const D=new Tb({next:O=>{u.enqueueAndForget(()=>zA(i,S));const U=O.docs.has(d);!U&&O.fromCache?w.reject(new Ae(ae.UNAVAILABLE,"Failed to get document because the client is offline.")):U&&O.fromCache&&m&&"server"===m.source?w.reject(new Ae(ae.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):w.resolve(O)},error:O=>w.reject(O)}),S=new WA(xy(d.path),D,{includeMetadataChanges:!0,Uu:!0});return HA(i,S)}(yield Ky(n),n.asyncQueue,e,t,r)})),r.promise}function BO(n,e,t={}){const r=new ai;return n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return function(i,u,d,m,w){const D=new Tb({next:O=>{u.enqueueAndForget(()=>zA(i,S)),O.fromCache&&"server"===m.source?w.reject(new Ae(ae.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):w.resolve(O)},error:O=>w.reject(O)}),S=new WA(d,D,{includeMetadataChanges:!0,Uu:!0});return HA(i,S)}(yield Ky(n),n.asyncQueue,e,t,r)})),r.promise}const jO=new Map;function MM(n,e,t){if(!t)throw new Ae(ae.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function $O(n,e,t,r){if(!0===e&&!0===r)throw new Ae(ae.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function HO(n){if(!Ke.isDocumentKey(n))throw new Ae(ae.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function GO(n){if(Ke.isDocumentKey(n))throw new Ae(ae.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function xb(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":ot()}function on(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ae(ae.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=xb(n);throw new Ae(ae.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function zO(n,e){if(e<=0)throw new Ae(ae.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class qO{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Ae(ae.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ae(ae.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}$O("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!this.experimentalForceLongPolling&&void 0!==e.experimentalAutoDetectLongPolling&&!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class dw{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new qO({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Ae(ae.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ae(ae.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new qO(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new ZR;switch(t.type){case"firstParty":return new QR(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Ae(ae.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=jO.get(e);t&&(ke("ComponentProvider","Removing Datastore"),jO.delete(e),t.terminate())}(this),Promise.resolve()}}class Wn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new xc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Wn(this.firestore,e,this._key)}}class ji{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ji(this.firestore,e,this._query)}}class xc extends ji{constructor(e,t,r){super(e,t,xy(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Wn(this.firestore,null,new Ke(e))}withConverter(e){return new xc(this.firestore,e,this._path)}}function WO(n,e,...t){if(n=(0,mn.m9)(n),MM("collection","path",e),n instanceof dw){const r=ln.fromString(e,...t);return GO(r),new xc(n,null,r)}{if(!(n instanceof Wn||n instanceof xc))throw new Ae(ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ln.fromString(e,...t));return GO(r),new xc(n.firestore,null,r)}}function Pb(n,e,...t){if(n=(0,mn.m9)(n),1===arguments.length&&(e=r1.A()),MM("doc","path",e),n instanceof dw){const r=ln.fromString(e,...t);return HO(r),new Wn(n,null,new Ke(r))}{if(!(n instanceof Wn||n instanceof xc))throw new Ae(ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ln.fromString(e,...t));return HO(r),new Wn(n.firestore,n instanceof xc?n.converter:null,new Ke(r))}}function KO(n,e){return n=(0,mn.m9)(n),e=(0,mn.m9)(e),(n instanceof Wn||n instanceof xc)&&(e instanceof Wn||e instanceof xc)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function xM(n,e){return n=(0,mn.m9)(n),e=(0,mn.m9)(e),n instanceof ji&&e instanceof ji&&n.firestore===e.firestore&&j0(n._query,e._query)&&n.converter===e.converter}class KF{constructor(){this.Kc=Promise.resolve(),this.Gc=[],this.Qc=!1,this.jc=[],this.zc=null,this.Wc=!1,this.Hc=!1,this.Jc=[],this.Lo=new IA(this,"async_queue_retry"),this.Yc=()=>{const t=Ib();t&&ke("AsyncQueue","Visibility state changed to "+t.visibilityState),this.Lo.ko()};const e=Ib();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Yc)}get isShuttingDown(){return this.Qc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Xc(),this.Zc(e)}enterRestrictedMode(e){if(!this.Qc){this.Qc=!0,this.Hc=e||!1;const t=Ib();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Yc)}}enqueue(e){if(this.Xc(),this.Qc)return new Promise(()=>{});const t=new ai;return this.Zc(()=>this.Qc&&this.Hc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Gc.push(e),this.ta()))}ta(){var e=this;return(0,_e.Z)(function*(){if(0!==e.Gc.length){try{yield e.Gc[0](),e.Gc.shift(),e.Lo.reset()}catch(t){if(!Ah(t))throw t;ke("AsyncQueue","Operation failed with retryable error: "+t)}e.Gc.length>0&&e.Lo.xo(()=>e.ta())}})()}Zc(e){const t=this.Kc.then(()=>(this.Wc=!0,e().catch(r=>{throw this.zc=r,this.Wc=!1,Or("INTERNAL UNHANDLED ERROR: ",function(u){let d=u.message||"";return u.stack&&(d=u.stack.includes(u.message)?u.stack:u.message+"\n"+u.stack),d}(r)),r}).then(r=>(this.Wc=!1,r))));return this.Kc=t,t}enqueueAfterDelay(e,t,r){this.Xc(),this.Jc.indexOf(e)>-1&&(t=0);const i=$A.createAndSchedule(this,e,t,r,u=>this.ea(u));return this.jc.push(i),i}Xc(){this.zc&&ot()}verifyOperationInProgress(){}na(){var e=this;return(0,_e.Z)(function*(){let t;do{t=e.Kc,yield t}while(t!==e.Kc)})()}sa(e){for(const t of this.jc)if(t.timerId===e)return!0;return!1}ia(e){return this.na().then(()=>{this.jc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.jc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.na()})}ra(e){this.Jc.push(e)}ea(e){const t=this.jc.indexOf(e);this.jc.splice(t,1)}}function PM(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class YF{constructor(){this._progressObserver={},this._taskCompletionResolver=new ai,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Kn extends dw{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new KF,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||YO(this),this._firestoreClient.terminate()}}function Nr(n){return n._firestoreClient||YO(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function YO(n){var e,t,r;const i=n._freezeSettings(),u=(m=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new SN(n._databaseId,m,n._persistenceKey,(D=i).host,D.ssl,D.experimentalForceLongPolling,D.experimentalAutoDetectLongPolling,D.useFetchStreams));var m,D;n._firestoreClient=new UF(n._authCredentials,n._appCheckCredentials,n._queue,u),null!==(t=i.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(r=i.cache)&&void 0!==r&&r._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}function QO(n,e,t){const r=new ai;return n.asyncQueue.enqueue((0,_e.Z)(function*(){try{yield Sb(n,t),yield EM(n,e),r.resolve()}catch(i){const u=i;if(!kO(u))throw u;da("Error enabling indexeddb cache. Falling back to memory cache: "+u),r.reject(u)}})).then(()=>r.promise)}function JO(n){if(n._initialized||n._terminated)throw new Ae(ae.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Pc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Pc(ui.fromBase64String(e))}catch(t){throw new Ae(ae.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Pc(ui.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Yl{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Ae(ae.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new wr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class og{constructor(e){this._methodName=e}}class Ob{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ae(ae.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ae(ae.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return jt(this._lat,e._lat)||jt(this._long,e._long)}}const aL=/^__.*__$/;class uL{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Zl(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ry(e,this.data,t,this.fieldTransforms)}}class XO{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Zl(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function eR(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ot()}}class Rb{constructor(e,t,r,i,u,d){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===u&&this.oa(),this.fieldTransforms=u||[],this.fieldMask=d||[]}get path(){return this.settings.path}get ua(){return this.settings.ua}ca(e){return new Rb(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}aa(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.ca({path:r,ha:!1});return i.la(e),i}fa(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.ca({path:r,ha:!1});return i.oa(),i}da(e){return this.ca({path:void 0,ha:!0})}_a(e){return Fb(e,this.settings.methodName,this.settings.wa||!1,this.path,this.settings.ma)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}oa(){if(this.path)for(let e=0;e<this.path.length;e++)this.la(this.path.get(e))}la(e){if(0===e.length)throw this._a("Document fields must not be empty");if(eR(this.ua)&&aL.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class cL{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||aw(e)}ga(e,t,r,i=!1){return new Rb({ua:e,methodName:t,ma:r,path:wr.emptyPath(),ha:!1,wa:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ag(n){const e=n._freezeSettings(),t=aw(n._databaseId);return new cL(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Nb(n,e,t,r,i,u={}){const d=n.ga(u.merge||u.mergeFields?2:0,e,t,i);kM("Data must be an object, but it was:",d,r);const m=rR(r,d);let w,D;if(u.merge)w=new zs(d.fieldMask),D=d.fieldTransforms;else if(u.mergeFields){const S=[];for(const O of u.mergeFields){const U=pw(e,O,t);if(!d.contains(U))throw new Ae(ae.INVALID_ARGUMENT,`Field '${U}' is specified in your field mask but missing from your input data.`);sR(S,U)||S.push(U)}w=new zs(S),D=d.fieldTransforms.filter(O=>w.covers(O.field))}else w=null,D=d.fieldTransforms;return new uL(new Bi(m),w,D)}class fw extends og{_toFieldTransform(e){if(2!==e.ua)throw e._a(1===e.ua?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof fw}}function tR(n,e,t){return new Rb({ua:3,ma:e.settings.ma,methodName:n._methodName,ha:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class OM extends og{_toFieldTransform(e){return new z0(e.path,new Py)}isEqual(e){return e instanceof OM}}class lL extends og{constructor(e,t){super(e),this.ya=t}_toFieldTransform(e){const t=tR(this,e,!0),r=this.ya.map(u=>ug(u,t)),i=new Qp(r);return new z0(e.path,i)}isEqual(e){return this===e}}class dL extends og{constructor(e,t){super(e),this.ya=t}_toFieldTransform(e){const t=tR(this,e,!0),r=this.ya.map(u=>ug(u,t)),i=new Jp(r);return new z0(e.path,i)}isEqual(e){return this===e}}class hL extends og{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=new Oy(e.serializer,K1(e.serializer,this.pa));return new z0(e.path,t)}isEqual(e){return this===e}}function RM(n,e,t,r){const i=n.ga(1,e,t);kM("Data must be an object, but it was:",i,r);const u=[],d=Bi.empty();Mh(r,(w,D)=>{const S=kb(e,w,t);D=(0,mn.m9)(D);const O=i.fa(S);if(D instanceof fw)u.push(S);else{const U=ug(D,O);null!=U&&(u.push(S),d.set(S,U))}});const m=new zs(u);return new XO(d,m,i.fieldTransforms)}function NM(n,e,t,r,i,u){const d=n.ga(1,e,t),m=[pw(e,r,t)],w=[i];if(u.length%2!=0)throw new Ae(ae.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let U=0;U<u.length;U+=2)m.push(pw(e,u[U])),w.push(u[U+1]);const D=[],S=Bi.empty();for(let U=m.length-1;U>=0;--U)if(!sR(D,m[U])){const Z=m[U];let oe=w[U];oe=(0,mn.m9)(oe);const De=d.fa(Z);if(oe instanceof fw)D.push(Z);else{const Le=ug(oe,De);null!=Le&&(D.push(Z),S.set(Z,Le))}}const O=new zs(D);return new XO(S,O,d.fieldTransforms)}function nR(n,e,t,r=!1){return ug(t,n.ga(r?4:3,e))}function ug(n,e){if(iR(n=(0,mn.m9)(n)))return kM("Unsupported field value:",e,n),rR(n,e);if(n instanceof og)return function(t,r){if(!eR(r.ua))throw r._a(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.ha&&4!==e.ua)throw e._a("Nested arrays are not supported");return function(t,r){const i=[];let u=0;for(const d of t){let m=ug(d,r.da(u));null==m&&(m={nullValue:"NULL_VALUE"}),i.push(m),u++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,mn.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return K1(r.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=rr.fromDate(t);return{timestampValue:ky(r.serializer,i)}}if(t instanceof rr){const i=new rr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:ky(r.serializer,i)}}if(t instanceof Ob)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Pc)return{bytesValue:mP(r.serializer,t._byteString)};if(t instanceof Wn){const i=r.databaseId,u=t.firestore._databaseId;if(!u.isEqual(i))throw r._a(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:QS(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r._a(`Unsupported field value: ${xb(t)}`)}(n,e)}function rR(n,e){const t={};return _1(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Mh(n,(r,i)=>{const u=ug(i,e.aa(r));null!=u&&(t[r]=u)}),{mapValue:{fields:t}}}function iR(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof rr||n instanceof Ob||n instanceof Pc||n instanceof Wn||n instanceof og)}function kM(n,e,t){if(!iR(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=xb(t);throw e._a("an object"===r?n+" a custom object":n+" "+r)}var r}function pw(n,e,t){if((e=(0,mn.m9)(e))instanceof Yl)return e._internalPath;if("string"==typeof e)return kb(n,e);throw Fb("Field path arguments must be of type string or ",n,!1,void 0,t)}const fL=new RegExp("[~\\*/\\[\\]]");function kb(n,e,t){if(e.search(fL)>=0)throw Fb(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Yl(...e.split("."))._internalPath}catch{throw Fb(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Fb(n,e,t,r,i){const u=r&&!r.isEmpty(),d=void 0!==i;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let w="";return(u||d)&&(w+=" (found",u&&(w+=` in field ${r}`),d&&(w+=` in document ${i}`),w+=")"),new Ae(ae.INVALID_ARGUMENT,m+n+w)}function sR(n,e){return n.some(t=>t.isEqual(e))}class gw{constructor(e,t,r,i,u){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Wn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new pL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Lb("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class pL extends gw{data(){return super.data()}}function Lb(n,e){return"string"==typeof e?kb(n,e):e instanceof Yl?e._internalPath:e._delegate._internalPath}function oR(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Ae(ae.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class FM{}class mw extends FM{}function $h(n,e,...t){let r=[];e instanceof FM&&r.push(e),r=r.concat(t),function(i){const u=i.filter(m=>m instanceof Yy).length,d=i.filter(m=>m instanceof yw).length;if(u>1||u>0&&d>0)throw new Ae(ae.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class yw extends mw{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new yw(e,t,r)}_apply(e){const t=this._parse(e);return lR(e._query,t),new ji(e.firestore,e.converter,jS(e._query,t))}_parse(e){const t=ag(e.firestore);return function(i,u,d,m,w,D,S){let O;if(w.isKeyField()){if("array-contains"===D||"array-contains-any"===D)throw new Ae(ae.INVALID_ARGUMENT,`Invalid Query. You can't perform '${D}' queries on documentId().`);if("in"===D||"not-in"===D){cR(S,D);const U=[];for(const Z of S)U.push(uR(m,i,Z));O={arrayValue:{values:U}}}else O=uR(m,i,S)}else"in"!==D&&"not-in"!==D&&"array-contains-any"!==D||cR(S,D),O=nR(d,"where",S,"in"===D||"not-in"===D);return sn.create(w,D,O)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class Yy extends FM{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Yy(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===t.length?t[0]:Sn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(r,i){let u=r;const d=i.getFlattenedFilters();for(const m of d)lR(u,m),u=jS(u,m)}(e._query,t),new ji(e.firestore,e.converter,jS(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class LM extends mw{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new LM(e,t)}_apply(e){const t=function(r,i,u){if(null!==r.startAt)throw new Ae(ae.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Ae(ae.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const d=new Ay(i,u);return function(m,w){if(null===US(m)){const D=tb(m);null!==D&&dR(0,D,w.field)}}(r,d),d}(e._query,this._field,this._direction);return new ji(e.firestore,e.converter,function(r,i){const u=r.explicitOrderBy.concat([i]);return new zl(r.path,r.collectionGroup,u,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class Vb extends mw{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new Vb(e,t,r)}_apply(e){return new ji(e.firestore,e.converter,nb(e._query,this._limit,this._limitType))}}class Ub extends mw{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new Ub(e,t,r)}_apply(e){const t=aR(e,this.type,this._docOrFields,this._inclusive);return new ji(e.firestore,e.converter,(i=t,new zl((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}class Bb extends mw{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new Bb(e,t,r)}_apply(e){const t=aR(e,this.type,this._docOrFields,this._inclusive);return new ji(e.firestore,e.converter,(i=t,new zl((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)));var r,i}}function aR(n,e,t,r){if(t[0]=(0,mn.m9)(t[0]),t[0]instanceof gw)return function(i,u,d,m,w){if(!m)throw new Ae(ae.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${d}().`);const D=[];for(const S of Yp(i))if(S.field.isKeyField())D.push(Wp(u,m.key));else{const O=m.data.field(S.field);if(WI(O))throw new Ae(ae.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+S.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===O){const U=S.field.canonicalString();throw new Ae(ae.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${U}' (used as the orderBy) does not exist.`)}D.push(O)}return new kh(D,w)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=ag(n.firestore);return function(u,d,m,w,D,S){const O=u.explicitOrderBy;if(D.length>O.length)throw new Ae(ae.INVALID_ARGUMENT,`Too many arguments provided to ${w}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const U=[];for(let Z=0;Z<D.length;Z++){const oe=D[Z];if(O[Z].field.isKeyField()){if("string"!=typeof oe)throw new Ae(ae.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${w}(), but got a ${typeof oe}`);if(!BS(u)&&-1!==oe.indexOf("/"))throw new Ae(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${w}() must be a plain document ID, but '${oe}' contains a slash.`);const De=u.path.child(ln.fromString(oe));if(!Ke.isDocumentKey(De))throw new Ae(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${w}() must result in a valid document path, but '${De}' is not because it contains an odd number of segments.`);const Le=new Ke(De);U.push(Wp(d,Le))}else{const De=nR(m,w,oe);U.push(De)}}return new kh(U,S)}(n._query,n.firestore._databaseId,i,e,t,r)}}function uR(n,e,t){if("string"==typeof(t=(0,mn.m9)(t))){if(""===t)throw new Ae(ae.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!BS(e)&&-1!==t.indexOf("/"))throw new Ae(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(ln.fromString(t));if(!Ke.isDocumentKey(r))throw new Ae(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Wp(n,new Ke(r))}if(t instanceof Wn)return Wp(n,t._key);throw new Ae(ae.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${xb(t)}.`)}function cR(n,e){if(!Array.isArray(n)||0===n.length)throw new Ae(ae.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function lR(n,e){if(e.isInequality()){const r=tb(n),i=e.field;if(null!==r&&!r.isEqual(i))throw new Ae(ae.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const u=US(n);null!==u&&dR(0,i,u)}const t=function(r,i){for(const u of r)for(const d of u.getFlattenedFilters())if(i.indexOf(d.op)>=0)return d.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new Ae(ae.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function dR(n,e,t){if(!t.isEqual(e))throw new Ae(ae.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class VM{convertValue(e,t="none"){switch(Rh(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Cr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Gl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw ot()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Mh(e,(i,u)=>{r[i]=this.convertValue(u,t)}),r}convertGeoPoint(e){return new Ob(Cr(e.latitude),Cr(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=KI(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(F0(e));default:return null}}convertTimestamp(e){const t=xh(e);return new rr(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=ln.fromString(e);_t(TP(r));const i=new Ph(r.get(1),r.get(3)),u=new Ke(r.popFirst(5));return i.isEqual(t)||Or(`Document ${u} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}function jb(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class IL extends VM{constructor(e){super(),this.firestore=e}convertBytes(e){return new Pc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Wn(this.firestore,null,t)}}class cg{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ql extends gw{constructor(e,t,r,i,u,d){super(e,t,r,i,d),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new _w(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Lb("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class _w extends Ql{data(e={}){return super.data(e)}}class Hh{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new cg(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new _w(this._firestore,this._userDataWriter,r.key,r,new cg(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ae(ae.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let u=0;return r._snapshot.docChanges.map(d=>({type:"added",doc:new _w(r._firestore,r._userDataWriter,d.doc.key,d.doc,new cg(r._snapshot.mutatedKeys.has(d.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:u++}))}{let u=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(d=>i||3!==d.type).map(d=>{const m=new _w(r._firestore,r._userDataWriter,d.doc.key,d.doc,new cg(r._snapshot.mutatedKeys.has(d.doc.key),r._snapshot.fromCache),r.query.converter);let w=-1,D=-1;return 0!==d.type&&(w=u.indexOf(d.doc.key),u=u.delete(d.doc.key)),1!==d.type&&(u=u.add(d.doc),D=u.indexOf(d.doc.key)),{type:DL(d.type),doc:m,oldIndex:w,newIndex:D}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function DL(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ot()}}function fR(n,e){return n instanceof Ql&&e instanceof Ql?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Hh&&e instanceof Hh&&n._firestore===e._firestore&&xM(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class Gh extends VM{constructor(e){super(),this.firestore=e}convertBytes(e){return new Pc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Wn(this.firestore,null,t)}}function pR(n,e,t){n=on(n,Wn);const r=on(n.firestore,Kn),i=jb(n.converter,e,t);return Qy(r,[Nb(ag(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,ir.none())])}function gR(n,e,t,...r){n=on(n,Wn);const i=on(n.firestore,Kn),u=ag(i);let d;return d="string"==typeof(e=(0,mn.m9)(e))||e instanceof Yl?NM(u,"updateDoc",n._key,e,t,r):RM(u,"updateDoc",n._key,e),Qy(i,[d.toMutation(n._key,ir.exists(!0))])}function mR(n,...e){var t,r,i;n=(0,mn.m9)(n);let u={includeMetadataChanges:!1},d=0;"object"!=typeof e[d]||PM(e[d])||(u=e[d],d++);const m={includeMetadataChanges:u.includeMetadataChanges};if(PM(e[d])){const O=e[d];e[d]=null===(t=O.next)||void 0===t?void 0:t.bind(O),e[d+1]=null===(r=O.error)||void 0===r?void 0:r.bind(O),e[d+2]=null===(i=O.complete)||void 0===i?void 0:i.bind(O)}let w,D,S;if(n instanceof Wn)D=on(n.firestore,Kn),S=xy(n._key.path),w={next:O=>{e[d]&&e[d](UM(D,n,O))},error:e[d+1],complete:e[d+2]};else{const O=on(n,ji);D=on(O.firestore,Kn),S=O._query;const U=new Gh(D);w={next:Z=>{e[d]&&e[d](new Hh(D,U,O,Z))},error:e[d+1],complete:e[d+2]},oR(n._query)}return function(O,U,Z,oe){const De=new Tb(oe),Le=new WA(U,De,Z);return O.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return HA(yield Ky(O),Le)})),()=>{De.Sc(),O.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return zA(yield Ky(O),Le)}))}}(Nr(D),S,m,w)}function Qy(n,e){return function(t,r){const i=new ai;return t.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return function vF(n,e,t){return XA.apply(this,arguments)}(yield SM(t),r,i)})),i.promise}(Nr(n),e)}function UM(n,e,t){const r=t.docs.get(e._key),i=new Gh(n);return new Ql(n,i,e._key,r,new cg(t.hasPendingWrites,t.fromCache),e.converter)}const HL={maxAttempts:5};class yR{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=ag(e)}set(e,t,r){this._verifyNotCommitted();const i=zh(e,this._firestore),u=jb(i.converter,t,r),d=Nb(this._dataReader,"WriteBatch.set",i._key,u,null!==i.converter,r);return this._mutations.push(d.toMutation(i._key,ir.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const u=zh(e,this._firestore);let d;return d="string"==typeof(t=(0,mn.m9)(t))||t instanceof Yl?NM(this._dataReader,"WriteBatch.update",u._key,t,r,i):RM(this._dataReader,"WriteBatch.update",u._key,t),this._mutations.push(d.toMutation(u._key,ir.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=zh(e,this._firestore);return this._mutations=this._mutations.concat(new Ny(t._key,ir.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ae(ae.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function zh(n,e){if((n=(0,mn.m9)(n)).firestore!==e)throw new Ae(ae.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class GL extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=ag(e)}get(e){const t=zh(e,this._firestore),r=new IL(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||1!==i.length)return ot();const u=i[0];if(u.isFoundDocument())return new gw(this._firestore,r,u.key,u,t.converter);if(u.isNoDocument())return new gw(this._firestore,r,t._key,null,t.converter);throw ot()})}set(e,t,r){const i=zh(e,this._firestore),u=jb(i.converter,t,r),d=Nb(this._dataReader,"Transaction.set",i._key,u,null!==i.converter,r);return this._transaction.set(i._key,d),this}update(e,t,r,...i){const u=zh(e,this._firestore);let d;return d="string"==typeof(t=(0,mn.m9)(t))||t instanceof Yl?NM(this._dataReader,"Transaction.update",u._key,t,r,i):RM(this._dataReader,"Transaction.update",u._key,t),this._transaction.update(u._key,d),this}delete(e){const t=zh(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=zh(e,this._firestore),r=new Gh(this._firestore);return super.get(e).then(i=>new Ql(this._firestore,r,t._key,i._document,new cg(!1,!1),t.converter))}}!function(n,e=!0){by=Nl.SDK_VERSION,(0,Nl._registerComponent)(new bv.wA("firestore",(t,{instanceIdentifier:r,options:i})=>{const u=t.getProvider("app").getImmediate(),d=new Kn(new KR(t.getProvider("auth-internal")),new JR(t.getProvider("app-check-internal")),function(m,w){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new Ae(ae.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ph(m.options.projectId,w)}(u,r),u);return i=Object.assign({useFetchStreams:e},i),d._setSettings(i),d},"PUBLIC").setMultipleInstances(!0)),(0,Nl.registerVersion)(e1,"3.11.0",n),(0,Nl.registerVersion)(e1,"3.11.0","esm2017")}();function BM(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Ae("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function vR(){if(typeof Uint8Array>"u")throw new Ae("unimplemented","Uint8Arrays are not available in this environment.")}function wR(){if(!function DN(){return typeof atob<"u"}())throw new Ae("unimplemented","Blobs are unavailable in Firestore in this environment.")}class vw{constructor(e){this._delegate=e}static fromBase64String(e){return wR(),new vw(Pc.fromBase64String(e))}static fromUint8Array(e){return vR(),new vw(Pc.fromUint8Array(e))}toBase64(){return wR(),this._delegate.toBase64()}toUint8Array(){return vR(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function jM(n){return function XL(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class e2{enableIndexedDbPersistence(e,t){return function JF(n,e){JO(n=on(n,Kn));const t=Nr(n);if(t._uninitializedComponentsProvider)throw new Ae(ae.FAILED_PRECONDITION,"SDK cache is already specified.");da("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=n._freezeSettings(),i=new Wy;return QO(t,i,new wM(i,r.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function XF(n){JO(n=on(n,Kn));const e=Nr(n);if(e._uninitializedComponentsProvider)throw new Ae(ae.FAILED_PRECONDITION,"SDK cache is already specified.");da("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings(),r=new Wy;return QO(e,r,new RO(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function eL(n){if(n._initialized&&!n._terminated)throw new Ae(ae.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new ai;return n._queue.enqueueAndForgetEvenWhileRestricted((0,_e.Z)(function*(){try{yield(t=(0,_e.Z)(function*(r){if(!lu.D())return Promise.resolve();const i=r+"main";yield lu.delete(i)}),function(r){return t.apply(this,arguments)})(hA(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class CR{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Ph||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&da("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function ZO(n,e,t,r={}){var i;const u=(n=on(n,dw))._getSettings();if("firestore.googleapis.com"!==u.host&&u.host!==e&&da("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},u),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let d,m;if("string"==typeof r.mockUserToken)d=r.mockUserToken,m=Di.MOCK_USER;else{d=(0,mn.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const w=r.mockUserToken.sub||r.mockUserToken.user_id;if(!w)throw new Ae(ae.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new Di(w)}n._authCredentials=new WR(new t1(d,m))}}(this._delegate,e,t,r)}enableNetwork(){return function nL(n){return function BF(n){return n.asyncQueue.enqueue((0,_e.Z)(function*(){const e=yield FO(n),t=yield LO(n);return e.setNetworkEnabled(!0),function(r){const i=Je(r);return i.Au.delete(0),uw(i)}(t)}))}(Nr(n=on(n,Kn)))}(this._delegate)}disableNetwork(){return function rL(n){return function jF(n){return n.asyncQueue.enqueue((0,_e.Z)(function*(){const e=yield FO(n),t=yield LO(n);return e.setNetworkEnabled(!1),(r=(0,_e.Z)(function*(i){const u=Je(i);u.Au.add(0),yield jy(u),u.Pu.set("Offline")}),function(i){return r.apply(this,arguments)})(t);var r}))}(Nr(n=on(n,Kn)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,$O("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function tL(n){return function(e){const t=new ai;return e.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return function IF(n,e){return iM.apply(this,arguments)}(yield SM(e),t)})),t.promise}(Nr(n=on(n,Kn)))}(this._delegate)}onSnapshotsInSync(e){return function NL(n,e){return function GF(n,e){const t=new Tb(e);return n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return r=yield Ky(n),i=t,Je(r).Nu.add(i),void i.next();var r,i})),()=>{t.Sc(),n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return r=yield Ky(n),i=t,void Je(r).Nu.delete(i);var r,i}))}}(Nr(n=on(n,Kn)),PM(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Ae("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Jy(this,WO(this._delegate,e))}catch(t){throw ms(t,"collection()","Firestore.collection()")}}doc(e){try{return new ha(this,Pb(this._delegate,e))}catch(t){throw ms(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new ys(this,function WF(n,e){if(n=on(n,dw),MM("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Ae(ae.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new ji(n,null,(t=e,new zl(ln.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw ms(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function zL(n,e,t){n=on(n,Kn);const r=Object.assign(Object.assign({},HL),t);return function(i){if(i.maxAttempts<1)throw new Ae(ae.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(i,u,d){const m=new ai;return i.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){const w=yield function VO(n){return Ab(n).then(e=>e.datastore)}(i);new VF(i.asyncQueue,w,d,u,m).run()})),m.promise}(Nr(n),i=>e(new GL(n,i)),r)}(this._delegate,t=>e(new ER(this,t)))}batch(){return Nr(this._delegate),new IR(new yR(this._delegate,e=>Qy(this._delegate,e)))}loadBundle(e){return function iL(n,e){const t=Nr(n=on(n,Kn)),r=new YF;return function zF(n,e,t,r){const i=function(u,d){let m;return m="string"==typeof u?uP().encode(u):u,w=function(w,D){if(w instanceof Uint8Array)return NO(w,D);if(w instanceof ArrayBuffer)return NO(new Uint8Array(w),D);if(w instanceof ReadableStream)return w.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(m),new FF(w,d);var w}(t,aw(e));n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){!function NF(n,e,t){const r=Je(n);var i;(i=(0,_e.Z)(function*(u,d,m){try{const w=yield d.getMetadata();if(yield function(U,Z){const oe=Je(U),De=Rr(Z.createTime);return oe.persistence.runTransaction("hasNewerBundle","readonly",Le=>oe.Ls.getBundleMetadata(Le,Z.id)).then(Le=>!!Le&&Le.createTime.compareTo(De)>=0)}(u.localStore,w))return yield d.close(),m._completeWith({taskState:"Success",documentsLoaded:(U=w).totalDocuments,bytesLoaded:U.totalBytes,totalDocuments:U.totalDocuments,totalBytes:U.totalBytes}),Promise.resolve(new Set);m._updateProgress(bO(w));const D=new fF(w,u.localStore,d.serializer);let S=yield d.Pc();for(;S;){const U=yield D.ju(S);U&&m._updateProgress(U),S=yield d.Pc()}const O=yield D.complete();return yield Kl(u,O.Hu,void 0),yield function(U,Z){const oe=Je(U);return oe.persistence.runTransaction("Save bundle","readwrite",De=>oe.Ls.saveBundleMetadata(De,Z))}(u.localStore,w),m._completeWith(O.progress),Promise.resolve(O.Wu)}catch(w){return da("SyncEngine",`Loading bundle failed with ${w}`),m._failWith(w),Promise.resolve(new Set)}var U}),function(u,d,m){return i.apply(this,arguments)})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield SM(n),i,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function sL(n,e){return function qF(n,e){return n.asyncQueue.enqueue((0,_e.Z)(function*(){return function(t,r){const i=Je(t);return i.persistence.runTransaction("Get named query","readonly",u=>i.Ls.getNamedQuery(u,r))}(yield Mb(n),e)}))}(Nr(n=on(n,Kn)),e).then(t=>t?new ji(n,null,t.query):null)}(this._delegate,e).then(t=>t?new ys(this,t):null)}}class $b extends VM{constructor(e){super(),this.firestore=e}convertBytes(e){return new vw(new Pc(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return ha.forKey(t,this.firestore,null)}}class ER{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new $b(e)}get(e){const t=dg(e);return this._delegate.get(t).then(r=>new ww(this._firestore,new Ql(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=dg(e);return r?(BM("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const u=dg(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,r,...i),this}delete(e){const t=dg(e);return this._delegate.delete(t),this}}class IR{constructor(e){this._delegate=e}set(e,t,r){const i=dg(e);return r?(BM("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const u=dg(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,r,...i),this}delete(e){const t=dg(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class lg{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new _w(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Cw(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=lg.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let u=i.get(t);return u||(u=new lg(e,new $b(e),t),i.set(t,u)),u}}lg.INSTANCES=new WeakMap;class ha{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new $b(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Ae("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new ha(t,new Wn(t._delegate,r,new Ke(e)))}static forKey(e,t,r){return new ha(t,new Wn(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Jy(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Jy(this.firestore,WO(this._delegate,e))}catch(t){throw ms(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,mn.m9)(e))instanceof Wn&&KO(this._delegate,e)}set(e,t){t=BM("DocumentReference.set",t);try{return t?pR(this._delegate,e,t):pR(this._delegate,e)}catch(r){throw ms(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?gR(this._delegate,e):gR(this._delegate,e,t,...r)}catch(i){throw ms(i,"updateDoc()","DocumentReference.update()")}}delete(){return function OL(n){return Qy(on(n.firestore,Kn),[new Ny(n._key,ir.none())])}(this._delegate)}onSnapshot(...e){const t=bR(e),r=DR(e,i=>new ww(this.firestore,new Ql(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return mR(this._delegate,t,r)}get(e){let t;return t="cache"===e?.source?function SL(n){n=on(n,Wn);const e=on(n.firestore,Kn),t=Nr(e),r=new Gh(e);return function $F(n,e){const t=new ai;return n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return(r=(0,_e.Z)(function*(i,u,d){try{const m=yield function(w,D){const S=Je(w);return S.persistence.runTransaction("read document","readonly",O=>S.localDocuments.getDocument(O,D))}(i,u);m.isFoundDocument()?d.resolve(m):m.isNoDocument()?d.resolve(null):d.reject(new Ae(ae.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(m){const w=Gy(m,`Failed to get document '${u} from cache`);d.reject(w)}}),function(i,u,d){return r.apply(this,arguments)})(yield Mb(n),e,t);var r})),t.promise}(t,n._key).then(i=>new Ql(e,r,n._key,i,new cg(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function AL(n){n=on(n,Wn);const e=on(n.firestore,Kn);return UO(Nr(e),n._key,{source:"server"}).then(t=>UM(e,n,t))}(this._delegate):function TL(n){n=on(n,Wn);const e=on(n.firestore,Kn);return UO(Nr(e),n._key).then(t=>UM(e,n,t))}(this._delegate),t.then(r=>new ww(this.firestore,new Ql(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new ha(this.firestore,this._delegate.withConverter(e?lg.getInstance(this.firestore,e):null))}}function ms(n,e,t){return n.message=n.message.replace(e,t),n}function bR(n){for(const e of n)if("object"==typeof e&&!jM(e))return e;return{}}function DR(n,e){var t,r;let i;return i=jM(n[0])?n[0]:jM(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:u=>{i.next&&i.next(e(u))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class ww{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new ha(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return fR(this._delegate,e._delegate)}}class Cw extends ww{data(e){const t=this._delegate.data(e);return function qR(n,e){n||ot()}(void 0!==t),t}}class ys{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new $b(e)}where(e,t,r){try{return new ys(this.firestore,$h(this._delegate,function gL(n,e,t){const r=e,i=Lb("where",n);return yw._create(i,r,t)}(e,t,r)))}catch(i){throw ms(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new ys(this.firestore,$h(this._delegate,function mL(n,e="asc"){const t=e,r=Lb("orderBy",n);return LM._create(r,t)}(e,t)))}catch(r){throw ms(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new ys(this.firestore,$h(this._delegate,function yL(n){return zO("limit",n),Vb._create("limit",n,"F")}(e)))}catch(t){throw ms(t,"limit()","Query.limit()")}}limitToLast(e){try{return new ys(this.firestore,$h(this._delegate,function _L(n){return zO("limitToLast",n),Vb._create("limitToLast",n,"L")}(e)))}catch(t){throw ms(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new ys(this.firestore,$h(this._delegate,function vL(...n){return Ub._create("startAt",n,!0)}(...e)))}catch(t){throw ms(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new ys(this.firestore,$h(this._delegate,function wL(...n){return Ub._create("startAfter",n,!1)}(...e)))}catch(t){throw ms(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new ys(this.firestore,$h(this._delegate,function CL(...n){return Bb._create("endBefore",n,!1)}(...e)))}catch(t){throw ms(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new ys(this.firestore,$h(this._delegate,function EL(...n){return Bb._create("endAt",n,!0)}(...e)))}catch(t){throw ms(t,"endAt()","Query.endAt()")}}isEqual(e){return xM(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function xL(n){n=on(n,ji);const e=on(n.firestore,Kn),t=Nr(e),r=new Gh(e);return function HF(n,e){const t=new ai;return n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return(r=(0,_e.Z)(function*(i,u,d){try{const m=yield vb(i,u,!0),w=new SO(u,m.sr),D=w.nc(m.documents),S=w.applyChanges(D,!1);d.resolve(S.snapshot)}catch(m){const w=Gy(m,`Failed to execute query '${u} against cache`);d.reject(w)}}),function(i,u,d){return r.apply(this,arguments)})(yield Mb(n),e,t);var r})),t.promise}(t,n._query).then(i=>new Hh(e,r,n,i))}(this._delegate):"server"===e?.source?function PL(n){n=on(n,ji);const e=on(n.firestore,Kn),t=Nr(e),r=new Gh(e);return BO(t,n._query,{source:"server"}).then(i=>new Hh(e,r,n,i))}(this._delegate):function ML(n){n=on(n,ji);const e=on(n.firestore,Kn),t=Nr(e),r=new Gh(e);return oR(n._query),BO(t,n._query).then(i=>new Hh(e,r,n,i))}(this._delegate),t.then(r=>new $M(this.firestore,new Hh(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=bR(e),r=DR(e,i=>new $M(this.firestore,new Hh(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return mR(this._delegate,t,r)}withConverter(e){return new ys(this.firestore,this._delegate.withConverter(e?lg.getInstance(this.firestore,e):null))}}class n2{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Cw(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class $M{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new ys(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Cw(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new n2(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new Cw(this._firestore,r))})}isEqual(e){return fR(this._delegate,e._delegate)}}class Jy extends ys{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new ha(this.firestore,e):null}doc(e){try{return new ha(this.firestore,void 0===e?Pb(this._delegate):Pb(this._delegate,e))}catch(t){throw ms(t,"doc()","CollectionReference.doc()")}}add(e){return function RL(n,e){const t=on(n.firestore,Kn),r=Pb(n),i=jb(n.converter,e);return Qy(t,[Nb(ag(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,ir.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new ha(this.firestore,t))}isEqual(e){return KO(this._delegate,e._delegate)}withConverter(e){return new Jy(this.firestore,this._delegate.withConverter(e?lg.getInstance(this.firestore,e):null))}}function dg(n){return on(n,Wn)}class HM{constructor(...e){this._delegate=new Yl(...e)}static documentId(){return new HM(wr.keyField().canonicalString())}isEqual(e){return(e=(0,mn.m9)(e))instanceof Yl&&this._delegate._internalPath.isEqual(e._internalPath)}}class hg{constructor(e){this._delegate=e}static serverTimestamp(){const e=function ZL(){return new OM("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new hg(e)}static delete(){const e=function qL(){return new fw("deleteField")}();return e._methodName="FieldValue.delete",new hg(e)}static arrayUnion(...e){const t=function WL(...n){return new lL("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new hg(t)}static arrayRemove(...e){const t=function KL(...n){return new dL("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new hg(t)}static increment(e){const t=function YL(n){return new hL("increment",n)}(e);return t._methodName="FieldValue.increment",new hg(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const r2={Firestore:CR,GeoPoint:Ob,Timestamp:rr,Blob:vw,Transaction:ER,WriteBatch:IR,DocumentReference:ha,DocumentSnapshot:ww,Query:ys,QueryDocumentSnapshot:Cw,QuerySnapshot:$M,CollectionReference:Jy,FieldPath:HM,FieldValue:hg,setLogLevel:function t2(n){!function zR(n){Th.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function TR(n,e){return function o2(n,e=GE.z){return new lr.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{r?.()}})}(n,e)}function GM(n,e){return TR(n,e).pipe((0,gt.U)(t=>({payload:t,type:"query"})))}function Hb(n,e){return GM(n,e).pipe(Vf(void 0),Ip(),(0,gt.U)(([t,r])=>{const i=r.payload.docChanges(),u=i.map(d=>({type:d.type,payload:d}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((d,m)=>{const w=i.find(S=>S.doc.ref.isEqual(d.ref)),D=t?.payload.docs.find(S=>S.ref.isEqual(d.ref));w&&JSON.stringify(w.doc.metadata)===JSON.stringify(d.metadata)||!w&&D&&JSON.stringify(D.metadata)===JSON.stringify(d.metadata)||u.push({type:"modified",payload:{oldIndex:m,newIndex:m,type:"modified",doc:d}})}),u}))}function SR(n,e,t){return Hb(n,t).pipe(Uf((r,i)=>function u2(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function c2(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return zM(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return zM(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return zM(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(u=>u.payload),e),[]),function Qv(n,e=gl.y){return n=n??ZT,(0,dr.e)((t,r)=>{let i,u=!0;t.subscribe((0,gn.x)(r,d=>{const m=e(d);(u||!n(i,m))&&(u=!1,i=m,r.next(d))}))})}(),(0,gt.U)(r=>r.map(i=>({type:i.type,payload:i}))))}function zM(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function AR(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}!function s2(n){(function i2(n,e){n.INTERNAL.registerComponent(new bv.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},r2)))})(n,(e,t)=>new CR(e,t,new e2)),n.registerVersion("@firebase/firestore-compat","0.3.8")}(WT.Z);class MR{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=Hb(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,gt.U)(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe(Vf(void 0),Ip(),ri(([r,i])=>i.length>0||!r),(0,gt.U)(([r,i])=>i),Gr.iC)}auditTrail(e){return this.stateChanges(e).pipe(Uf((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=AR(e);return SR(this.query,t,this.afs.schedulers.outsideAngular).pipe(Gr.iC)}valueChanges(e={}){return GM(this.query,this.afs.schedulers.outsideAngular).pipe((0,gt.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),Gr.iC)}get(e){return(0,un.D)(this.query.get(e)).pipe(Gr.iC)}add(e){return this.ref.add(e)}doc(e){return new xR(this.ref.doc(e),this.afs)}}class xR{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:u}=RR(r,t);return new MR(i,u,this.afs)}snapshotChanges(){return function a2(n,e){return TR(n,e).pipe(Vf(void 0),Ip(),(0,gt.U)(([t,r])=>r.exists?t?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Gr.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,gt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,un.D)(this.ref.get(e)).pipe(Gr.iC)}}class l2{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?Hb(this.query,this.afs.schedulers.outsideAngular).pipe((0,gt.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),ri(t=>t.length>0),Gr.iC):Hb(this.query,this.afs.schedulers.outsideAngular).pipe(Gr.iC)}auditTrail(e){return this.stateChanges(e).pipe(Uf((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=AR(e);return SR(this.query,t,this.afs.schedulers.outsideAngular).pipe(Gr.iC)}valueChanges(e={}){return GM(this.query,this.afs.schedulers.outsideAngular).pipe((0,gt.U)(r=>r.payload.docs.map(i=>e.idField?Object.assign({[e.idField]:i.id},i.data()):i.data())),Gr.iC)}get(e){return(0,un.D)(this.query.get(e)).pipe(Gr.iC)}}const PR=new c.OlP("angularfire2.enableFirestorePersistence"),OR=new c.OlP("angularfire2.firestore.persistenceSettings"),d2=new c.OlP("angularfire2.firestore.settings"),h2=new c.OlP("angularfire2.firestore.use-emulator");function RR(n,e=(t=>t)){return{query:e(n),ref:n}}let NR=(()=>{class n{constructor(t,r,i,u,d,m,w,D,S,O,U,Z,oe,De,Le,rt,St){this.schedulers=w;const vt=(0,bi.on)(t,m,r),zt=S;O&&Ep(vt,m,U,oe,De,Le,Z,rt),[this.firestore,this.persistenceEnabled$]=(0,bi.cc)(`${vt.name}.firestore`,"AngularFirestore",vt.name,()=>{const Jt=m.runOutsideAngular(()=>vt.firestore());if(u&&Jt.settings(u),zt&&Jt.useEmulator(...zt),i&&!ss(d)){const hn=()=>{try{return(0,un.D)(Jt.enablePersistence(D||void 0).then(()=>!0,()=>!1))}catch(_s){return typeof console<"u"&&console.warn(_s),yt(!1)}};return[Jt,m.runOutsideAngular(hn)]}return[Jt,yt(!1)]},[u,zt,i])}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:u,query:d}=RR(i,r),m=this.schedulers.ngZone.run(()=>u);return new MR(m,d,this)}collectionGroup(t,r){const i=r||(d=>d),u=this.firestore.collectionGroup(t);return new l2(i(u),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new xR(i,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(bi.Dh),c.LFG(bi.xv,8),c.LFG(PR,8),c.LFG(d2,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(Gr.HU),c.LFG(OR,8),c.LFG(h2,8),c.LFG(vc,8),c.LFG(LE,8),c.LFG(jm,8),c.LFG(vh,8),c.LFG(VE,8),c.LFG(UE,8),c.LFG(BE,8),c.LFG(Ll,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),f2=(()=>{class n{constructor(){Bm.Z.registerVersion("angularfire",Gr.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:PR,useValue:!0},{provide:OR,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[NR]}),n})(),p2=(()=>{class n{constructor(t){this.fs=t}addNewUser(t,r){return this.fs.doc("users/"+t).set({name:r})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(NR))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function g2(n,e){1&n&&(c.TgZ(0,"div",25),c._uU(1," Name is required "),c.qZA())}function m2(n,e){1&n&&(c.TgZ(0,"div",25),c._uU(1," Email is required "),c.qZA())}function y2(n,e){1&n&&(c.TgZ(0,"div",25),c._uU(1," Your input doesn't match email format "),c.qZA())}function _2(n,e){1&n&&(c.TgZ(0,"div",25),c._uU(1," Passowrd is required "),c.qZA())}function v2(n,e){1&n&&(c.TgZ(0,"div",25),c._uU(1," Your Password must be at least 6 characters "),c.qZA())}function w2(n,e){1&n&&(c.TgZ(0,"div",25),c._uU(1," Password confirm is required "),c.qZA())}function C2(n,e){1&n&&(c.TgZ(0,"div",25),c._uU(1," Passwords doesn't match "),c.qZA())}function E2(n,e){if(1&n&&(c.TgZ(0,"div",26),c._uU(1),c.qZA()),2&n){const t=c.oxw();c.xp6(1),c.hij(" ",t.errorMsg," ")}}let I2=(()=>{class n{constructor(t,r,i){this.as=t,this.us=r,this.router=i,this.errorMsg=""}signup(t){let r=t.value;this.as.signup(r.email,r.password).then(i=>{this.errorMsg="",window.alert("You have been successfully registered!"),this.us.addNewUser(i.user?.uid,r.name).then(()=>{this.router.navigate(["/home"])})}).catch(i=>{this.errorMsg=i.message})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36($m),c.Y36(p2),c.Y36(Hr))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-signup"]],decls:43,vars:9,consts:[[1,"container","login"],[1,"row"],["id","side1",1,"col-md-4"],["id","btn"],["routerLink","/login"],["id","side2",1,"col-md-8"],["id","inp"],[3,"ngSubmit"],["f","ngForm"],["ngModel","","name","name","type","text","placeholder","Name","required",""],["name","ngModel"],["class","alert alert-danger",4,"ngIf"],["ngModel","","name","email","type","email","placeholder","Email","required","","email",""],["email","ngModel"],["ngModel","","name","password","type","password","placeholder","Password","required","","minlength","6"],["password","ngModel"],["ngModel","","name","passwordConfirm","type","password","placeholder","Confirm Password","required",""],["passwordConfirm","ngModel"],[1,"icons"],[1,"fa-brands","fa-twitter"],[1,"fa-brands","fa-facebook-f"],[1,"fa-brands","fa-instagram"],["id","login"],[3,"disabled"],["class","alert alert-danger mt-2",4,"ngIf"],[1,"alert","alert-danger"],[1,"alert","alert-danger","mt-2"]],template:function(t,r){if(1&t){const i=c.EpF();c.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3"),c._uU(4,"Hello Back!!"),c.qZA(),c.TgZ(5,"p"),c._uU(6,"Lorem ipsum dolor sit amet."),c.qZA(),c.TgZ(7,"div",3)(8,"a",4),c._uU(9,"Login"),c.qZA()()(),c.TgZ(10,"div",5)(11,"h3"),c._uU(12,"Create Account"),c.qZA(),c.TgZ(13,"p"),c._uU(14,"Create New Account"),c.qZA(),c.TgZ(15,"div",6)(16,"form",7,8),c.NdJ("ngSubmit",function(){c.CHM(i);const d=c.MAs(17);return c.KtG(r.signup(d))}),c._UZ(18,"input",9,10),c.YNc(20,g2,2,0,"div",11),c._UZ(21,"input",12,13),c.YNc(23,m2,2,0,"div",11),c.YNc(24,y2,2,0,"div",11),c._UZ(25,"input",14,15),c.YNc(27,_2,2,0,"div",11),c.YNc(28,v2,2,0,"div",11),c._UZ(29,"input",16,17),c.YNc(31,w2,2,0,"div",11),c.YNc(32,C2,2,0,"div",11),c.TgZ(33,"p"),c._uU(34,"Lorem ipsum dolor sit amet."),c.qZA(),c.TgZ(35,"div",18),c._UZ(36,"i",19)(37,"i",20)(38,"i",21),c.qZA(),c.TgZ(39,"div",22)(40,"button",23),c._uU(41,"SIGN UP"),c.qZA()()(),c.YNc(42,E2,2,1,"div",24),c.qZA()()()()}if(2&t){const i=c.MAs(17),u=c.MAs(19),d=c.MAs(22),m=c.MAs(26),w=c.MAs(30);c.xp6(20),c.Q6J("ngIf",u.invalid&&u.touched),c.xp6(3),c.Q6J("ngIf",d.touched&&(null==d.errors?null:d.errors.required)),c.xp6(1),c.Q6J("ngIf",d.touched&&(null==d.errors?null:d.errors.email)),c.xp6(3),c.Q6J("ngIf",m.touched&&(null==m.errors?null:m.errors.required)),c.xp6(1),c.Q6J("ngIf",m.touched&&(null==m.errors?null:m.errors.minlength)),c.xp6(3),c.Q6J("ngIf",w.invalid&&w.touched),c.xp6(1),c.Q6J("ngIf",w.value!==m.value&&w.touched&&0!==w.value.length),c.xp6(8),c.Q6J("disabled",i.invalid),c.xp6(2),c.Q6J("ngIf",r.errorMsg)}},dependencies:[Yr,sa,na,qo,Wa,Ku,be,Ci,Xe,ta,ea],styles:[".login[_ngcontent-%COMP%]{width:100%;margin:50px auto auto;justify-content:center;font-family:Roboto Slab,serif}#side1[_ngcontent-%COMP%]{background-color:#1c1c50;height:100vh;border-radius:5px;box-shadow:#64646f33 0 7px 29px}#side1[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#fff;font-weight:700;text-shadow:1px 1px 1px black;margin-top:200px;align-items:center;text-align:center}#side1[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff;font-weight:700;align-items:center;text-align:center}#btn[_ngcontent-%COMP%]{align-items:center;text-align:center;border:2px solid white;border-radius:10px}#btn[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#fff}#side2[_ngcontent-%COMP%]{background-color:#fff;border-radius:5px;box-shadow:#64646f33 0 7px 29px;align-items:center;text-align:center}#side2[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:50px;color:#1c1c50;font-weight:700}#side2[_ngcontent-%COMP%]   .inp[_ngcontent-%COMP%]{margin-top:32px}#side2[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:500px;margin-top:20px;height:36px;align-items:center}.alert[_ngcontent-%COMP%]{width:500px;margin:auto;align-items:center}#side2[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:20px;cursor:pointer}#side2[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-left:10px;cursor:pointer}#login[_ngcontent-%COMP%]{margin-top:10px}#login[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:200px;height:32px;color:#fff;background-color:#1c1c50;border:none;font-weight:700}@media screen and (max-width: 992px){#side2[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .alert[_ngcontent-%COMP%]{width:300px}}@media screen and (max-width: 330px){#side2[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:200px}}"]}),n})(),b2=(()=>{class n{constructor(t){this.http=t}createNewCart(t){return this.http.post(lp_baseApi+"carts",t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(bm))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function D2(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"div",20)(1,"div",4),c._UZ(2,"img",21),c.qZA(),c.TgZ(3,"div",5)(4,"div",22),c._uU(5),c.qZA(),c.TgZ(6,"p",23),c._uU(7),c.qZA()(),c.TgZ(8,"div",6)(9,"strong"),c._uU(10),c.ALo(11,"currency"),c.qZA()(),c.TgZ(12,"div",7)(13,"button",24),c.NdJ("click",function(){const u=c.CHM(t).index,d=c.oxw();return c.KtG(d.decreaseAmount(u))}),c._uU(14,"-"),c.qZA(),c.TgZ(15,"input",25),c.NdJ("change",function(){c.CHM(t);const i=c.oxw();return c.KtG(i.detectChange())})("ngModelChange",function(i){const d=c.CHM(t).$implicit;return c.KtG(d.quantity=i)}),c.qZA(),c.TgZ(16,"button",24),c.NdJ("click",function(){const u=c.CHM(t).index,d=c.oxw();return c.KtG(d.increaseAmount(u))}),c._uU(17,"+"),c.qZA()(),c.TgZ(18,"div",8)(19,"button",26),c.NdJ("click",function(){const u=c.CHM(t).index,d=c.oxw();return c.KtG(d.deleteProduct(u))}),c._uU(20," Remove "),c.qZA()(),c.TgZ(21,"div",9)(22,"strong"),c._uU(23),c.ALo(24,"currency"),c.qZA()()()}if(2&n){const t=e.$implicit;c.xp6(2),c.s9C("src",t.prd.image,c.LSH),c.xp6(3),c.Oqu(t.prd.title),c.xp6(2),c.Oqu(t.prd.description),c.xp6(3),c.Oqu(c.lcZ(11,6,t.prd.price)),c.xp6(5),c.Q6J("ngModel",t.quantity),c.xp6(8),c.Oqu(c.lcZ(24,8,t.quantity*t.prd.price))}}function T2(n,e){1&n&&(c.TgZ(0,"div",27)(1,"strong"),c._uU(2,"Well done!"),c.qZA(),c._uU(3," Your Order is Successfully Send"),c.qZA())}let S2=(()=>{class n{constructor(t){this.service=t,this.cartProducts=[],this.total=0,this.success=!1}ngOnInit(){this.getCartProducts()}getCartProducts(){"cart"in localStorage&&(this.cartProducts=JSON.parse(localStorage.getItem("cart"))),this.getCartTotal()}getCartTotal(){this.total=0;for(let t in this.cartProducts)this.total+=this.cartProducts[t].prd.price*this.cartProducts[t].quantity}increaseAmount(t){this.cartProducts[t].quantity++,this.getCartTotal(),localStorage.setItem("cart",JSON.stringify(this.cartProducts))}decreaseAmount(t){this.cartProducts[t].quantity--,this.getCartTotal(),localStorage.setItem("cart",JSON.stringify(this.cartProducts))}detectChange(){localStorage.setItem("cart",JSON.stringify(this.cartProducts))}deleteProduct(t){this.cartProducts.splice(t,1),this.getCartTotal(),localStorage.setItem("cart",JSON.stringify(this.cartProducts))}addCart(){let t=this.cartProducts.map(i=>({productId:i.prd.id,quantity:i.quantity}));this.service.createNewCart({userId:5,date:new Date,products:t}).subscribe(i=>{this.success=!0})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(b2))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-cart"]],decls:51,vars:5,consts:[[1,"container-fluid","mt-3"],[1,"lead"],[1,"shopping-cart","mt-2"],[1,"column-labels"],[1,"product-image"],[1,"product-details"],[1,"product-price"],[1,"product-quantity"],[1,"product-removal"],[1,"product-line-price"],["class","product",4,"ngFor","ngForOf"],[1,"totals"],[1,"totals-item"],["id","cart-subtotal",1,"totals-value"],["id","cart-tax",1,"totals-value"],["id","cart-shipping",1,"totals-value"],[1,"totals-item","totals-item-total"],["id","cart-total",1,"totals-value"],[1,"checkout",3,"click"],["class","container alert alert-success mt-3","role","alert",4,"ngIf"],[1,"product"],[3,"src"],[1,"product-title"],[1,"product-description"],[2,"background-color","#1c1c50","color","white",3,"click"],["type","text","min","1",2,"text-align","center",3,"ngModel","change","ngModelChange"],[1,"remove-product","w-100",3,"click"],["role","alert",1,"container","alert","alert-success","mt-3"]],template:function(t,r){1&t&&(c.TgZ(0,"div",0)(1,"h1"),c._uU(2,"Shopping Cart"),c.qZA(),c.TgZ(3,"h4",1),c._uU(4,"You have "),c.TgZ(5,"span"),c._uU(6),c.qZA(),c._uU(7," items in your cart"),c.qZA(),c.TgZ(8,"div",2)(9,"div",3)(10,"label",4),c._uU(11,"Image"),c.qZA(),c.TgZ(12,"label",5),c._uU(13,"Product"),c.qZA(),c.TgZ(14,"label",6),c._uU(15,"Price"),c.qZA(),c.TgZ(16,"label",7),c._uU(17,"Quantity"),c.qZA(),c.TgZ(18,"label",8),c._uU(19,"Remove"),c.qZA(),c.TgZ(20,"label",9),c._uU(21,"Total"),c.qZA()(),c.YNc(22,D2,25,10,"div",10),c.TgZ(23,"div",11)(24,"div",12)(25,"label"),c._uU(26,"Subtotal"),c.qZA(),c.TgZ(27,"div",13)(28,"strong"),c._uU(29),c.qZA()()(),c.TgZ(30,"div",12)(31,"label"),c._uU(32,"Tax (5%)"),c.qZA(),c.TgZ(33,"div",14)(34,"strong"),c._uU(35,"3.60"),c.qZA()()(),c.TgZ(36,"div",12)(37,"label"),c._uU(38,"Shipping"),c.qZA(),c.TgZ(39,"div",15)(40,"strong"),c._uU(41,"15.00"),c.qZA()()(),c.TgZ(42,"div",16)(43,"label"),c._uU(44,"Grand Total"),c.qZA(),c.TgZ(45,"div",17)(46,"strong"),c._uU(47),c.qZA()()()(),c.TgZ(48,"button",18),c.NdJ("click",function(){return r.addCart()}),c._uU(49,"order now"),c.qZA()()(),c.YNc(50,T2,4,0,"div",19)),2&t&&(c.xp6(6),c.Oqu(r.cartProducts.length),c.xp6(16),c.Q6J("ngForOf",r.cartProducts),c.xp6(7),c.Oqu(r.total),c.xp6(18),c.Oqu(r.total+3.6+15),c.xp6(3),c.Q6J("ngIf",r.success))},dependencies:[Cs,Yr,qo,Wa,ta,Kh],styles:['.product-image[_ngcontent-%COMP%]{float:left;width:20%}.product-details[_ngcontent-%COMP%]{float:left;width:37%}.product-price[_ngcontent-%COMP%]{float:left;width:12%}.product-quantity[_ngcontent-%COMP%], .product-removal[_ngcontent-%COMP%]{float:left;width:10%}.product-line-price[_ngcontent-%COMP%]{float:left;width:11%;text-align:right}.group[_ngcontent-%COMP%]:before, .shopping-cart[_ngcontent-%COMP%]:before, .column-labels[_ngcontent-%COMP%]:before, .product[_ngcontent-%COMP%]:before, .totals-item[_ngcontent-%COMP%]:before, .group[_ngcontent-%COMP%]:after, .shopping-cart[_ngcontent-%COMP%]:after, .column-labels[_ngcontent-%COMP%]:after, .product[_ngcontent-%COMP%]:after, .totals-item[_ngcontent-%COMP%]:after{content:"";display:table}.group[_ngcontent-%COMP%]:after, .shopping-cart[_ngcontent-%COMP%]:after, .column-labels[_ngcontent-%COMP%]:after, .product[_ngcontent-%COMP%]:after, .totals-item[_ngcontent-%COMP%]:after{clear:both}.group[_ngcontent-%COMP%], .shopping-cart[_ngcontent-%COMP%], .column-labels[_ngcontent-%COMP%], .product[_ngcontent-%COMP%], .totals-item[_ngcontent-%COMP%]{zoom:1}body[_ngcontent-%COMP%]{padding:0 30px 30px 20px;font-family:HelveticaNeue-Light,Helvetica Neue Light,Helvetica Neue,Helvetica,Arial,sans-serif;font-weight:300}h1[_ngcontent-%COMP%]{font-weight:500;color:#1c1c50;font-size:2.3rem;font-family:Roboto Slab,serif}.lead[_ngcontent-%COMP%]{font-weight:600;color:#1c1c50}label[_ngcontent-%COMP%]{color:#aaa;font-size:20px}.shopping-cart[_ngcontent-%COMP%]{margin-top:-45px}.container-fluid[_ngcontent-%COMP%]   .lead[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:green;font-weight:700}.column-labels[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{padding-bottom:15px;margin-bottom:15px;border-bottom:1px solid #eee}.column-labels[_ngcontent-%COMP%]   .product-image[_ngcontent-%COMP%], .column-labels[_ngcontent-%COMP%]   .product-details[_ngcontent-%COMP%], .column-labels[_ngcontent-%COMP%]   .product-removal[_ngcontent-%COMP%]{text-indent:-9999px}.product[_ngcontent-%COMP%]{margin-bottom:20px;padding-bottom:10px;border-bottom:1px solid #eee}.product[_ngcontent-%COMP%]   .product-image[_ngcontent-%COMP%]{text-align:center}.product[_ngcontent-%COMP%]   .product-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px}.product[_ngcontent-%COMP%]   .product-details[_ngcontent-%COMP%]   .product-title[_ngcontent-%COMP%]{margin-right:20px;font-family:HelveticaNeue-Medium,Helvetica Neue Medium;font-size:20px;font-weight:700;color:#1c1c50}.product[_ngcontent-%COMP%]   .product-details[_ngcontent-%COMP%]   .product-description[_ngcontent-%COMP%]{margin:5px 20px 5px 0;line-height:1.4em}.product[_ngcontent-%COMP%]   .product-quantity[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:40px}.product[_ngcontent-%COMP%]   .remove-product[_ngcontent-%COMP%]{border:0;padding:4px 8px;background-color:#c66;color:#fff;font-family:HelveticaNeue-Medium,Helvetica Neue Medium;font-size:14px;border-radius:3px;font-weight:700}.product[_ngcontent-%COMP%]   .remove-product[_ngcontent-%COMP%]:hover{background-color:#a44}.totals[_ngcontent-%COMP%]   .totals-item[_ngcontent-%COMP%]{float:right;clear:both;width:100%;margin-bottom:10px}.totals[_ngcontent-%COMP%]   .totals-item[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{float:left;clear:both;width:79%;text-align:right;font-weight:700;color:#1c1c50}.totals[_ngcontent-%COMP%]   .totals-item[_ngcontent-%COMP%]   .totals-value[_ngcontent-%COMP%]{float:right;width:21%;text-align:right}.totals[_ngcontent-%COMP%]   .totals-item-total[_ngcontent-%COMP%]{font-family:HelveticaNeue-Medium,Helvetica Neue Medium}.checkout[_ngcontent-%COMP%]{float:right;border:0;margin-top:20px;padding:6px 25px;background-color:#1c1c50;color:#fff;font-size:25px;border-radius:3px}.checkout[_ngcontent-%COMP%]:hover{background-color:#1c1c50}@media screen and (max-width: 931px){.product-image[_ngcontent-%COMP%]{float:left;width:17%}.product-details[_ngcontent-%COMP%]{float:left;width:33%}.product-price[_ngcontent-%COMP%]{float:left;width:10%}.product-quantity[_ngcontent-%COMP%]{float:left;width:20%}.product-removal[_ngcontent-%COMP%]{float:left;width:10%}.product-line-price[_ngcontent-%COMP%]{float:left;width:10%;text-align:right}}@media screen and (max-width: 650px){.shopping-cart[_ngcontent-%COMP%]{margin:0;padding-top:20px;border-top:1px solid #eee}.column-labels[_ngcontent-%COMP%]{display:none}.product-image[_ngcontent-%COMP%]{float:right;width:auto}.product-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin:0 0 10px 10px}.product-details[_ngcontent-%COMP%]{float:none;margin-bottom:10px;width:auto}.product-price[_ngcontent-%COMP%]{clear:both;width:70px}.product-removal[_ngcontent-%COMP%]{width:auto}.product-line-price[_ngcontent-%COMP%]{float:right;width:70px}}@media screen and (max-width: 479px){.product-quantity[_ngcontent-%COMP%]{display:flex}.product[_ngcontent-%COMP%]   .product-quantity[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:10px;text-align:center;height:25px}.product[_ngcontent-%COMP%]   .product-quantity[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:20px;height:25px}}@media screen and (max-width: 350px){.product-removal[_ngcontent-%COMP%]{float:right}.product-line-price[_ngcontent-%COMP%]{float:right;clear:left;width:auto;margin-top:10px}.totals[_ngcontent-%COMP%]   .totals-item[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{width:60%}.totals[_ngcontent-%COMP%]   .totals-item[_ngcontent-%COMP%]   .totals-value[_ngcontent-%COMP%]{width:40%}}']}),n})();function A2(n,e){if(1&n&&(c.TgZ(0,"option",21),c._uU(1),c.qZA()),2&n){const t=e.$implicit;c.s9C("value",t),c.xp6(1),c.hij(" ",t," ")}}function M2(n,e){if(1&n&&(c.TgZ(0,"div",24)(1,"div",25),c._UZ(2,"img",26),c.TgZ(3,"div",27)(4,"div",28)(5,"h3"),c._uU(6),c.qZA()(),c._UZ(7,"br"),c.TgZ(8,"div",29),c._UZ(9,"i",30)(10,"i",30)(11,"i",30)(12,"i",30)(13,"i",30),c.qZA(),c.TgZ(14,"h5"),c._uU(15),c.TgZ(16,"del"),c._uU(17,"$250"),c.qZA()()()(),c._UZ(18,"br"),c.qZA()),2&n){const t=e.$implicit;c.xp6(1),c.MGl("routerLink","/details/",t.id,""),c.xp6(1),c.s9C("src",t.image,c.LSH),c.xp6(4),c.Oqu(t.title),c.xp6(9),c.hij(" $",t.price," ")}}function x2(n,e){if(1&n&&(c.TgZ(0,"div",22),c.YNc(1,M2,19,4,"div",23),c.qZA()),2&n){const t=c.oxw();c.xp6(1),c.Q6J("ngForOf",t.getAllProducts)}}function P2(n,e){1&n&&(c.TgZ(0,"div",31),c._UZ(1,"app-spin"),c.qZA())}const O2=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",component:zn},{path:"about",component:wx},{path:"clothe",component:(()=>{class n{constructor(t){this.prodSer=t,this.categories=[],this.getAllProducts=[],this.loading=!1}ngOnInit(){this.getProducts(),this.getCategories()}getProducts(){this.loading=!0,this.prodSer.getAllProducts().subscribe(t=>{this.loading=!1,this.getAllProducts=t},t=>{this.loading=!1,alert("Error")})}getCategories(){this.loading=!0,this.prodSer.getAllCategories().subscribe(t=>{this.loading=!1,this.categories=t},t=>{this.loading=!1,alert(t)})}filterCategory(t){this.loading=!0;let r=t.target.value;"All"==r?(this.loading=!1,this.getProducts()):(this.loading=!1,this.getProductsCategory(r))}getProductsCategory(t){this.loading=!0,this.prodSer.getProductsByCategory(t).subscribe(r=>{this.loading=!1,this.getAllProducts=r})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(wv))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-clothe"]],decls:49,vars:3,consts:[[1,"banner2"],[1,"content2"],["id","bannerbtn2"],["id","product-cards",1,"container"],[1,"my-2","w-25"],["for","",1,"my-1"],[1,"form-control",3,"change"],["value","All","selected",""],[3,"value",4,"ngFor","ngForOf"],["class","row","style","margin-top: 30px",4,"ngIf"],["class","text-center w-100",4,"ngIf"],["href","clothe.html","id","viewmorebtn"],[1,"container",2,"margin-top","100px"],[1,"container"],[2,"font-weight","bold"],["id","offer",1,"container"],[1,"row"],[1,"col-md-4","py-md-0"],[1,"fa-solid","fa-cart-shopping"],[1,"fa-solid","fa-truck"],[1,"fa-solid","fa-thumbs-up"],[3,"value"],[1,"row",2,"margin-top","30px"],["class","col-lg-3 col-md-4 py-3 py-md-0",4,"ngFor","ngForOf"],[1,"col-lg-3","col-md-4","py-3","py-md-0"],[1,"card",3,"routerLink"],[3,"src"],[1,"card-body"],[1,"title"],[1,"star"],[1,"fas","fa-star","checked"],[1,"text-center","w-100"]],template:function(t,r){1&t&&(c.TgZ(0,"div",0)(1,"div",1)(2,"h1"),c._uU(3,"Get More Product"),c.qZA(),c.TgZ(4,"p"),c._uU(5," Lorem ipsum dolor sit, amet consectetur adipisicing elit. Esse, illum! "),c.qZA(),c.TgZ(6,"div",2)(7,"button"),c._uU(8,"SHOP NOW"),c.qZA()()()(),c.TgZ(9,"div",3)(10,"div",4)(11,"label",5),c._uU(12,"Catgeories :"),c.qZA(),c.TgZ(13,"select",6),c.NdJ("change",function(u){return r.filterCategory(u)}),c.TgZ(14,"option",7),c._uU(15,"All"),c.qZA(),c.YNc(16,A2,2,2,"option",8),c.qZA()(),c.YNc(17,x2,2,1,"div",9),c.YNc(18,P2,2,0,"div",10),c.TgZ(19,"a",11),c._uU(20,"View More"),c.qZA()(),c.TgZ(21,"div",12),c._UZ(22,"hr"),c.qZA(),c.TgZ(23,"div",13)(24,"h3",14),c._uU(25,"PRODUCT"),c.qZA(),c.TgZ(26,"p"),c._uU(27," Lorem ipsum dolor sit amet consectetur adipisicing elit. Mollitia recusandae voluptas veritatis distinctio laudantium minima ipsam quibusdam nesciunt omnis deleniti rerum, debitis velit quis cumque autem? Unde voluptatem magnam autem odio, natus consequuntur, inventore officia voluptate ipsam, ut eum aspernatur cupiditate reiciendis labore quis nesciunt. Porro facere, obcaecati ab magnam voluptatibus inventore! Nam eum ex fugit est facilis! Quo corrupti incidunt, autem aperiam nulla eius ab vel delectus esse nihil ea possimus quasi tenetur aut voluptate soluta, iure labore est iusto voluptates alias rem. Natus laudantium distinctio ea, nesciunt iure dolor illum quibusdam iste, accusamus dolore voluptas fuga nobis sequi! "),c.qZA(),c._UZ(28,"hr"),c.qZA(),c.TgZ(29,"div",15)(30,"div",16)(31,"div",17),c._UZ(32,"i",18),c.TgZ(33,"h5"),c._uU(34,"Free Shopping"),c.qZA(),c.TgZ(35,"p"),c._uU(36,"On order Over $100"),c.qZA()(),c.TgZ(37,"div",17),c._UZ(38,"i",19),c.TgZ(39,"h5"),c._uU(40,"Fast Delivery"),c.qZA(),c.TgZ(41,"p"),c._uU(42,"World wide"),c.qZA()(),c.TgZ(43,"div",17),c._UZ(44,"i",20),c.TgZ(45,"h5"),c._uU(46,"Big Choice"),c.qZA(),c.TgZ(47,"p"),c._uU(48,"Of product"),c.qZA()()()()),2&t&&(c.xp6(16),c.Q6J("ngForOf",r.categories),c.xp6(1),c.Q6J("ngIf",!r.loading),c.xp6(1),c.Q6J("ngIf",r.loading))},dependencies:[Cs,Yr,sa,Mf,xf,Dt],styles:[".banner2[_ngcontent-%COMP%]{width:100%;height:50vh;background-color:#fff;margin-top:50px;background-image:linear-gradient(rgba(0,0,0,.5),rgba(0,0,0,.5)),url(banner2.075a002019f64ba4.jpg)}.banner2[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff}.banner2[_ngcontent-%COMP%]   .content2[_ngcontent-%COMP%]{text-align:center;padding-top:100px}.banner2[_ngcontent-%COMP%]   .content2[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], .banner2[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff;text-shadow:1px 1px 1px black;letter-spacing:3px}.bannerbtn2[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:150px;height:38px;background:transparent;color:#fff;border:2px solid white;transition:.5s ease;cursor:pointer}#bannerbtn2[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#1c1c50;border:none}#product.cards[_ngcontent-%COMP%]{font-family:Roboto,serif;margin-top:100px}#product-cards[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:700;color:#1c1c50;letter-spacing:3px}#product-cards[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{box-shadow:#64646f33 0 7px 29px;transition:transform .2s ease}#product-cards[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:hover{cursor:pointer}#product-cards[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:hover{transform:scale(1.1)}#product-cards[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin-top:30px;color:#1c1c50;text-shadow:1px 1px 1px black}#product-cards[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{height:200px;overflow:hidden}#product-cards[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{letter-spacing:3px;color:#1c1c50;text-shadow:0px 1px 1px black;font-weight:700}#product-cards[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{float:right;color:#1c1c50;cursor:pointer}.checked[_ngcontent-%COMP%]{color:#ff0}#product-cards[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:250px;object-fit:contain}#viewmorebtn[_ngcontent-%COMP%]{display:flex;justify-content:center;margin:30px auto auto;text-decoration:none;width:200px;height:32px;color:#1c1c50;letter-spacing:5px;font-weight:700;background:transparent;border:2px solid #1c1c50}#viewmorebtn[_ngcontent-%COMP%]:hover{background-color:#1c1c50;color:#fff}#offer[_ngcontent-%COMP%]{margin-top:50px}#offer[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:60px;color:#1c1c50}"]}),n})()},{path:"contact",component:oE},{path:"details/:id",component:(()=>{class n{constructor(t,r){this.route=t,this.prdSer=r,this.cartProducts=[],this.amount=1,this.data={},this.id=this.route.snapshot.paramMap.get("id"),window.scrollTo(0,0)}ngOnInit(){this.getProduct()}getProduct(){this.prdSer.getProductById(this.id).subscribe(t=>{this.data=t})}addToCart(t){"cart"in localStorage?(this.cartProducts=JSON.parse(localStorage.getItem("cart")),this.cartProducts.find(i=>i.prd.id===t.id)?alert("product is already exist"):(this.cartProducts.push({prd:t,quantity:this.amount}),localStorage.setItem("cart",JSON.stringify(this.cartProducts)))):(this.cartProducts.push({prd:t,quantity:this.amount}),localStorage.setItem("cart",JSON.stringify(this.cartProducts)))}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(hc),c.Y36(wv))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-product-details"]],decls:41,vars:8,consts:[[1,"container","my-3"],[1,"row"],[1,"col-md-6"],[1,"w-100",3,"src"],[1,"lead"],[1,"add"],[1,"counter"],["type","text","value","1",1,"form-control","w-25",3,"ngModel","ngModelChange"],[1,"d-flex","justify-content-center"],[3,"click"]],template:function(t,r){1&t&&(c.TgZ(0,"div",0)(1,"div",1)(2,"div",2),c._UZ(3,"img",3),c.qZA(),c.TgZ(4,"div",2)(5,"h3"),c._uU(6),c.qZA(),c.TgZ(7,"p",4),c._uU(8),c.qZA(),c.TgZ(9,"h4")(10,"strong"),c._uU(11,"Category"),c.qZA(),c._uU(12,": "),c.TgZ(13,"span"),c._uU(14),c.qZA()(),c.TgZ(15,"h4")(16,"strong"),c._uU(17,"Price"),c.qZA(),c._uU(18,": "),c.TgZ(19,"span"),c._uU(20),c.qZA()(),c.TgZ(21,"h4")(22,"strong"),c._uU(23,"Rating"),c.qZA(),c._uU(24,": "),c.TgZ(25,"span"),c._uU(26),c.qZA()(),c.TgZ(27,"h4")(28,"strong"),c._uU(29,"Rating Count"),c.qZA(),c._uU(30,": "),c.TgZ(31,"span"),c._uU(32),c.qZA()(),c.TgZ(33,"div",5)(34,"div",6)(35,"h4"),c._uU(36,"Qnt: "),c.qZA(),c.TgZ(37,"input",7),c.NdJ("ngModelChange",function(u){return r.amount=u}),c.qZA()(),c.TgZ(38,"div",8)(39,"button",9),c.NdJ("click",function(){return r.addToCart(r.data)}),c._uU(40,"Add To Card"),c.qZA()()()()()()),2&t&&(c.xp6(3),c.s9C("src",r.data.image,c.LSH),c.xp6(3),c.hij("Title: ",r.data.title,""),c.xp6(2),c.hij("Description: ",r.data.description,""),c.xp6(6),c.Oqu(r.data.category),c.xp6(6),c.hij("",r.data.price,"$"),c.xp6(6),c.Oqu(r.data.rating.rate),c.xp6(6),c.Oqu(r.data.rating.count),c.xp6(5),c.Q6J("ngModel",r.amount))},dependencies:[qo,Wa,ta],styles:["*[_ngcontent-%COMP%]{padding:5px}.container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100vh}.container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:40px;text-shadow:1px 1px 1px black;color:#1c1c50;font-weight:700}.container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#1c1c50}.container[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:25px;font-weight:700;color:green}.container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:150px;height:40px;font-weight:700;letter-spacing:3px;background:transparent;color:#1c1c50;border:2px solid #1c1c50;position:absolute;margin-top:2rem;margin:auto;transition:all .6s ease}.container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#1c1c50;color:#fff}.counter[_ngcontent-%COMP%]{display:flex;margin-bottom:10px}"]}),n})()},{path:"login",component:Yv},{path:"signup",component:I2},{path:"cart",component:S2,canActivate:[(()=>{class n{constructor(t,r){this.as=t,this.router=r}canActivate(t,r){return!!this.as.userLoggedState||(alert("You must log in first"),this.router.navigate(["/login"]),!1)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG($m),c.LFG(Hr))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})()]},{path:"**",component:zn}];let R2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[dv.forRoot(O2),dv]}),n})(),N2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-header"]],decls:26,vars:0,consts:[[1,"home-section"],["id","navbar",1,"navbar","navbar-expand-lg"],[1,"container-fluid"],["routerLink","/",1,"navbar-brand"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"fa-solid","fa-bars",2,"color","white"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto","mb-2","mb-lg-0"],[1,"nav-item"],["aria-current","page","href","index.html",1,"nav-link","active"],["routerLink","clothe",1,"nav-link"],["routerLink","about",1,"nav-link"],["routerLink","contact",1,"nav-link"],["role","search",1,"d-flex"],["type","search","placeholder","Search","aria-label","Search",1,"form-control","me-2"],["type","submit","id","search-btn",1,"btn","btn-outline-success"]],template:function(t,r){1&t&&(c.TgZ(0,"div",0)(1,"nav",1)(2,"div",2)(3,"a",3),c._uU(4,"Fashion"),c.qZA(),c.TgZ(5,"button",4)(6,"span"),c._UZ(7,"i",5),c.qZA()(),c.TgZ(8,"div",6)(9,"ul",7)(10,"li",8)(11,"a",9),c._uU(12,"Home"),c.qZA()(),c.TgZ(13,"li",8)(14,"a",10),c._uU(15,"All Products"),c.qZA()(),c.TgZ(16,"li",8)(17,"a",11),c._uU(18,"About Us"),c.qZA()(),c.TgZ(19,"li",8)(20,"a",12),c._uU(21,"Contact Us"),c.qZA()()(),c.TgZ(22,"form",13),c._UZ(23,"input",14),c.TgZ(24,"button",15),c._uU(25," Search "),c.qZA()()()()()())},dependencies:[sa,na,Ku,ea],styles:['@import"https://fonts.googleapis.com/css2?family=Roboto:ital,wght@1,500&display=swap";@import"https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@500&family=Roboto+Slab&family=Roboto:ital,wght@1,500&display=swap";.home-section[_ngcontent-%COMP%]{width:100%;background-color:#a9a9a926}#navbar[_ngcontent-%COMP%]{background-color:#1c1c50;font-size:16px}#navbar[_ngcontent-%COMP%]   .navbar-brand[_ngcontent-%COMP%]{color:#fff;font-family:Roboto Slab,serif}#navbar[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{color:#fff;font-weight:700;margin-left:5px;transition:.5s ease}#navbar[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover{color:#fff;border-radius:5px}.dropdown[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff}#search-btn[_ngcontent-%COMP%]{color:#fff;border:1px solid white}#search-btn[_ngcontent-%COMP%]:hover{background-color:#1c1c50}']}),n})();function k2(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"button",11)(1,"a",12),c.NdJ("click",function(){c.CHM(t);const i=c.oxw();return c.KtG(i.logout())}),c._uU(2,"Logout"),c.qZA()()}}function F2(n,e){1&n&&(c.TgZ(0,"button",13)(1,"a",14),c._uU(2,"Login"),c.qZA()())}function L2(n,e){1&n&&(c.TgZ(0,"button",15)(1,"a",16),c._uU(2,"Sign up"),c.qZA()())}let V2=(()=>{class n{constructor(t,r){this.as=t,this.afAuth=r}ngOnInit(){}logout(){this.as.logout().then(()=>{console.log("logout")})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36($m),c.Y36(vc))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-navbar"]],decls:14,vars:9,consts:[[1,"top-navbar"],[1,"top-icons"],[1,"fa-brands","fa-twitter"],[1,"fa-brands","fa-facebook"],[1,"fa-brands","fa-instagram"],[1,"other-links"],["id","btn-logout",4,"ngIf"],["id","btn-login",4,"ngIf"],["id","btn-signup",4,"ngIf"],[1,"fa-solid","fa-user"],["routerLink","cart",1,"fa-solid","fa-cart-shopping"],["id","btn-logout"],[3,"click"],["id","btn-login"],["routerLink","login"],["id","btn-signup"],["routerLink","signup"]],template:function(t,r){1&t&&(c.TgZ(0,"div",0)(1,"div",1),c._UZ(2,"i",2)(3,"i",3)(4,"i",4),c.qZA(),c.TgZ(5,"div",5),c.YNc(6,k2,3,0,"button",6),c.ALo(7,"async"),c.YNc(8,F2,3,0,"button",7),c.ALo(9,"async"),c.YNc(10,L2,3,0,"button",8),c.ALo(11,"async"),c._UZ(12,"i",9)(13,"i",10),c.qZA()()),2&t&&(c.xp6(6),c.Q6J("ngIf",c.lcZ(7,3,r.afAuth.user)),c.xp6(2),c.Q6J("ngIf",!c.lcZ(9,5,r.afAuth.user)),c.xp6(2),c.Q6J("ngIf",!c.lcZ(11,7,r.afAuth.user)))},dependencies:[Yr,sa,Is],styles:[".top-navbar[_ngcontent-%COMP%]{width:100%;height:7vh;background-color:#a9a9a926;display:flex;align-items:center;text-align:center;justify-content:space-between}.top-icons[_ngcontent-%COMP%]{margin-left:45px}.top-icons[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:20px;color:#1c1c50;margin-left:10px;cursor:pointer}.other-links[_ngcontent-%COMP%]{margin-right:33px}.other-links[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#1c1c50;font-size:20px;margin-left:10px;cursor:pointer}#btn-login[_ngcontent-%COMP%]{width:100px;border:2px solid #1c1c50;color:#1c1c50;font-weight:700;border-radius:5px;height:auto;transition:.5s ease;cursor:pointer}#btn-login[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#1c1c50;transition:.5s ease}#btn-login[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, #btn-login[_ngcontent-%COMP%]:hover{background-color:#1c1c50;color:#fff}#btn-signup[_ngcontent-%COMP%]{width:100px;border:2px solid #1c1c50;color:#1c1c50;font-weight:700;border-radius:5px;height:auto;transition:.5s ease;cursor:pointer}#btn-signup[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#1c1c50;transition:.5s ease}#btn-signup[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, #btn-signup[_ngcontent-%COMP%]:hover{background-color:#1c1c50;color:#fff}#btn-logout[_ngcontent-%COMP%]{width:100px;border:2px solid #1c1c50;color:#1c1c50;font-weight:700;border-radius:5px;height:auto;transition:.5s ease;cursor:pointer}#btn-logout[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#1c1c50;transition:.5s ease}#btn-logout[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, #btn-logout[_ngcontent-%COMP%]:hover{background-color:#1c1c50;color:#fff}@media screen and (max-width: 768px){#btn-signup[_ngcontent-%COMP%], #btn-login[_ngcontent-%COMP%], #btn-logout[_ngcontent-%COMP%]{width:90px;height:auto;font-size:15px}}@media screen and (max-width: 410px){#btn-signup[_ngcontent-%COMP%], #btn-login[_ngcontent-%COMP%], #btn-logout[_ngcontent-%COMP%]{width:60px;height:auto;font-size:10px}.top-navbar[_ngcontent-%COMP%]   .top-icons[_ngcontent-%COMP%]   .fa-brands[_ngcontent-%COMP%], .other-links[_ngcontent-%COMP%]   .fa-solid[_ngcontent-%COMP%]{font-size:18px}}"]}),n})(),U2=(()=>{class n{constructor(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-footer"]],decls:88,vars:0,consts:[["id","footer",2,"margin-top","50px"],[1,"footer-top"],[1,"container"],[1,"row"],[1,"col-lg-3","col-md-6","footer-content"],[1,"fas","fa-phone"],[1,"fa-solid","fa-envelope"],[1,"col-lg-3","col-md-6","footer-links"],["routerLink","/"],["routerLink","about"],["routerLink","contact"],["href","#"],[1,"social-links","mt-3"],["href","",1,"twitter"],[1,"fa-brands","fa-twitter"],[1,"fa-brands","fa-facebook-f"],[1,"fa-brands","fa-google-plus"],[1,"fa-brands","fa-instagram"],[1,"fa-brands","fa-linkedin-in"],[1,"container","py-4"],[1,"copyright"],[1,"credits"]],template:function(t,r){1&t&&(c.TgZ(0,"footer",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h3"),c._uU(6,"Fashion"),c.qZA(),c.TgZ(7,"p"),c._uU(8," Lorem ipsum, dolor sit amet consectetur adipisicing elit. Iusto, fugit. "),c.qZA(),c.TgZ(9,"p"),c._uU(10," Egypt "),c._UZ(11,"br"),c._uU(12," USA "),c._UZ(13,"br"),c._uU(14," Spain "),c._UZ(15,"br"),c.qZA(),c.TgZ(16,"strong"),c._UZ(17,"i",5),c._uU(18,"Phone: "),c.TgZ(19,"strong"),c._uU(20,"01151193187"),c.qZA()(),c._UZ(21,"br"),c.TgZ(22,"strong"),c._UZ(23,"i",6),c._uU(24,"Email: "),c.TgZ(25,"strong"),c._uU(26,"bishogamal6@gmail"),c.qZA()()(),c.TgZ(27,"div",7)(28,"h4"),c._uU(29,"Useful Links"),c.qZA(),c.TgZ(30,"ul")(31,"li")(32,"a",8),c._uU(33,"Home"),c.qZA()(),c.TgZ(34,"li")(35,"a",9),c._uU(36,"About"),c.qZA()(),c.TgZ(37,"li")(38,"a",10),c._uU(39,"Contact"),c.qZA()(),c.TgZ(40,"li")(41,"a",8),c._uU(42,"Services"),c.qZA()(),c.TgZ(43,"li")(44,"a",8),c._uU(45,"Privacy policay"),c.qZA()()()(),c.TgZ(46,"div",7)(47,"h4"),c._uU(48,"Our Services"),c.qZA(),c.TgZ(49,"p"),c._uU(50," Lorem ipsum dolor sit amet consectetur adipisicing elit. Est, deserunt? "),c.qZA(),c.TgZ(51,"ul")(52,"li")(53,"a",11),c._uU(54,"Smart Phone"),c.qZA()(),c.TgZ(55,"li")(56,"a",11),c._uU(57,"Smart Watch"),c.qZA()(),c.TgZ(58,"li")(59,"a",11),c._uU(60,"Airbods"),c.qZA()()()(),c.TgZ(61,"div",7)(62,"h4"),c._uU(63,"Our Social Network"),c.qZA(),c.TgZ(64,"p"),c._uU(65," Lorem ipsum dolor sit amet, consectetur adipisicing elit. Eaque, nihil. "),c.qZA(),c.TgZ(66,"div",12)(67,"a",13),c._UZ(68,"i",14),c.qZA(),c.TgZ(69,"a",13),c._UZ(70,"i",15),c.qZA(),c.TgZ(71,"a",13),c._UZ(72,"i",16),c.qZA(),c.TgZ(73,"a",13),c._UZ(74,"i",17),c.qZA(),c.TgZ(75,"a",13),c._UZ(76,"i",18),c.qZA()()()()()(),c._UZ(77,"hr"),c.TgZ(78,"div",19)(79,"div",20),c._uU(80," \xa9 Copyright "),c.TgZ(81,"strong"),c._uU(82,"Fashion"),c.qZA(),c._uU(83,". All Rights Reserved "),c.qZA(),c.TgZ(84,"div",21),c._uU(85,"Designed By "),c.TgZ(86,"a",11),c._uU(87,"Bishoy Gamal"),c.qZA()()()())},dependencies:[sa],styles:["#footer[_ngcontent-%COMP%]{padding:0 0 30px;color:#d0d0d0;font-size:14px;background:#1c1c50;font-family:Roboto Slab,serif}#footer[_ngcontent-%COMP%]   .footer-top[_ngcontent-%COMP%]{padding:60px 0 30px;background:#1c1c50;color:#fff}#footer[_ngcontent-%COMP%]   .footer-top[_ngcontent-%COMP%]   .footer-contact[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#fff;text-shadow:1px 1px 1px black}#footer[_ngcontent-%COMP%]   .footer-top[_ngcontent-%COMP%]   .footer-contact[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:22px;margin:0 0 20px;padding:2px 0;line-height:1;font-weight:700}#footer[_ngcontent-%COMP%]   .footer-top[_ngcontent-%COMP%]   .footer-contact[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;margin-bottom:30px;color:#fff;line-height:1}#footer[_ngcontent-%COMP%]   .footer-top[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:16px;font-weight:700;position:relative;padding-bottom:12px}#footer[_ngcontent-%COMP%]   .footer-top[_ngcontent-%COMP%]   .footer-links[_ngcontent-%COMP%]{margin-bottom:30px}#footer[_ngcontent-%COMP%]   .footer-top[_ngcontent-%COMP%]   .footer-links[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}#footer[_ngcontent-%COMP%]   .footer-top[_ngcontent-%COMP%]   .footer-links[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding-right:10px 0;display:flex;align-items:center}#footer[_ngcontent-%COMP%]   .footer-top[_ngcontent-%COMP%]   .footer-links[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:first-child{padding:0}#footer[_ngcontent-%COMP%]   .footer-top[_ngcontent-%COMP%]   .footer-links[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;line-height:1;padding-top:10px}#footer[_ngcontent-%COMP%]   .footer-top[_ngcontent-%COMP%]   .social-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:18px;display:inline-block;color:#fff;line-height:1;padding-right:4px;border-radius:50px;text-align:center;width:36px;height:36px;transition:.5s ease}.footer[_ngcontent-%COMP%]   .copyright[_ngcontent-%COMP%]{float:left;text-align:center}#footer[_ngcontent-%COMP%]   .credits[_ngcontent-%COMP%]{float:right;text-align:center;color:#fff;display:flex}#footer[_ngcontent-%COMP%]   .credits[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;font-weight:700;text-decoration:none}.arrow[_ngcontent-%COMP%]{position:fixed;background-color:#1c1c50;border-radius:50%;height:30px;bottom:40px;right:50px;text-decoration:none;align-items:center}.arrow[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#fff}"]}),n})(),B2=(()=>{class n{constructor(t){this.router=t,this.title="ecommerce",this.router.events.subscribe(r=>{r instanceof ru&&window.scrollTo(0,0)})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Hr))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-root"]],decls:4,vars:0,template:function(t,r){1&t&&c._UZ(0,"app-navbar")(1,"app-header")(2,"router-outlet")(3,"app-footer")},dependencies:[B_,N2,V2,U2],styles:["*[_ngcontent-%COMP%]{padding:0;margin:0;box-sizing:border-box}"]}),n})(),j2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n,bootstrap:[B2]}),n.\u0275inj=c.cJS({imports:[Ho,qT,R2,dv,f2,Aw,bi.hO,vx,bi.hO.initializeApp({apiKey:"AIzaSyAOY1-wUSQaS7NttFno_HWLfestJv607is",authDomain:"e-commerce-2f3e0.firebaseapp.com",projectId:"e-commerce-2f3e0",storageBucket:"e-commerce-2f3e0.appspot.com",messagingSenderId:"142845563831",appId:"1:142845563831:web:ecc2320819a6b059028e32",measurementId:"G-EQKR39YSHV"})]}),n})();Wc().bootstrapModule(j2).catch(n=>console.error(n))},9751:(mt,Te,k)=>{k.d(Te,{y:()=>ve});var c=k(2961),Q=k(727),N=k(8822),se=k(9635),ie=k(2416),re=k(576),ge=k(2806);let ve=(()=>{class q{constructor(Ie){Ie&&(this._subscribe=Ie)}lift(Ie){const Ze=new q;return Ze.source=this,Ze.operator=Ie,Ze}subscribe(Ie,Ze,lt){const he=function j(q){return q&&q instanceof c.Lv||function $(q){return q&&(0,re.m)(q.next)&&(0,re.m)(q.error)&&(0,re.m)(q.complete)}(q)&&(0,Q.Nn)(q)}(Ie)?Ie:new c.Hp(Ie,Ze,lt);return(0,ge.x)(()=>{const{operator:Me,source:xe}=this;he.add(Me?Me.call(he,xe):xe?this._subscribe(he):this._trySubscribe(he))}),he}_trySubscribe(Ie){try{return this._subscribe(Ie)}catch(Ze){Ie.error(Ze)}}forEach(Ie,Ze){return new(Ze=le(Ze))((lt,he)=>{const Me=new c.Hp({next:xe=>{try{Ie(xe)}catch(Ue){he(Ue),Me.unsubscribe()}},error:he,complete:lt});this.subscribe(Me)})}_subscribe(Ie){var Ze;return null===(Ze=this.source)||void 0===Ze?void 0:Ze.subscribe(Ie)}[N.L](){return this}pipe(...Ie){return(0,se.U)(Ie)(this)}toPromise(Ie){return new(Ie=le(Ie))((Ze,lt)=>{let he;this.subscribe(Me=>he=Me,Me=>lt(Me),()=>Ze(he))})}}return q.create=je=>new q(je),q})();function le(q){var je;return null!==(je=q??ie.v.Promise)&&void 0!==je?je:Promise}},7579:(mt,Te,k)=>{k.d(Te,{x:()=>ge});var c=k(9751),Q=k(727);const se=(0,k(3888).d)(le=>function(){le(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ie=k(8737),re=k(2806);let ge=(()=>{class le extends c.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(j){const q=new ve(this,this);return q.operator=j,q}_throwIfClosed(){if(this.closed)throw new se}next(j){(0,re.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const q of this.currentObservers)q.next(j)}})}error(j){(0,re.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=j;const{observers:q}=this;for(;q.length;)q.shift().error(j)}})}complete(){(0,re.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:j}=this;for(;j.length;)j.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var j;return(null===(j=this.observers)||void 0===j?void 0:j.length)>0}_trySubscribe(j){return this._throwIfClosed(),super._trySubscribe(j)}_subscribe(j){return this._throwIfClosed(),this._checkFinalizedStatuses(j),this._innerSubscribe(j)}_innerSubscribe(j){const{hasError:q,isStopped:je,observers:Ie}=this;return q||je?Q.Lc:(this.currentObservers=null,Ie.push(j),new Q.w0(()=>{this.currentObservers=null,(0,ie.P)(Ie,j)}))}_checkFinalizedStatuses(j){const{hasError:q,thrownError:je,isStopped:Ie}=this;q?j.error(je):Ie&&j.complete()}asObservable(){const j=new c.y;return j.source=this,j}}return le.create=($,j)=>new ve($,j),le})();class ve extends ge{constructor($,j){super(),this.destination=$,this.source=j}next($){var j,q;null===(q=null===(j=this.destination)||void 0===j?void 0:j.next)||void 0===q||q.call(j,$)}error($){var j,q;null===(q=null===(j=this.destination)||void 0===j?void 0:j.error)||void 0===q||q.call(j,$)}complete(){var $,j;null===(j=null===($=this.destination)||void 0===$?void 0:$.complete)||void 0===j||j.call($)}_subscribe($){var j,q;return null!==(q=null===(j=this.source)||void 0===j?void 0:j.subscribe($))&&void 0!==q?q:Q.Lc}}},2961:(mt,Te,k)=>{k.d(Te,{Hp:()=>lt,Lv:()=>q});var c=k(576),Q=k(727),N=k(2416),se=k(7849);function ie(){}const re=le("C",void 0,void 0);function le(Pe,we,Ce){return{kind:Pe,value:we,error:Ce}}var $=k(3410),j=k(2806);class q extends Q.w0{constructor(we){super(),this.isStopped=!1,we?(this.destination=we,(0,Q.Nn)(we)&&we.add(this)):this.destination=Ue}static create(we,Ce,$e){return new lt(we,Ce,$e)}next(we){this.isStopped?xe(function ve(Pe){return le("N",Pe,void 0)}(we),this):this._next(we)}error(we){this.isStopped?xe(function ge(Pe){return le("E",void 0,Pe)}(we),this):(this.isStopped=!0,this._error(we))}complete(){this.isStopped?xe(re,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(we){this.destination.next(we)}_error(we){try{this.destination.error(we)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const je=Function.prototype.bind;function Ie(Pe,we){return je.call(Pe,we)}class Ze{constructor(we){this.partialObserver=we}next(we){const{partialObserver:Ce}=this;if(Ce.next)try{Ce.next(we)}catch($e){he($e)}}error(we){const{partialObserver:Ce}=this;if(Ce.error)try{Ce.error(we)}catch($e){he($e)}else he(we)}complete(){const{partialObserver:we}=this;if(we.complete)try{we.complete()}catch(Ce){he(Ce)}}}class lt extends q{constructor(we,Ce,$e){let Re;if(super(),(0,c.m)(we)||!we)Re={next:we??void 0,error:Ce??void 0,complete:$e??void 0};else{let it;this&&N.v.useDeprecatedNextContext?(it=Object.create(we),it.unsubscribe=()=>this.unsubscribe(),Re={next:we.next&&Ie(we.next,it),error:we.error&&Ie(we.error,it),complete:we.complete&&Ie(we.complete,it)}):Re=we}this.destination=new Ze(Re)}}function he(Pe){N.v.useDeprecatedSynchronousErrorHandling?(0,j.O)(Pe):(0,se.h)(Pe)}function xe(Pe,we){const{onStoppedNotification:Ce}=N.v;Ce&&$.z.setTimeout(()=>Ce(Pe,we))}const Ue={closed:!0,next:ie,error:function Me(Pe){throw Pe},complete:ie}},727:(mt,Te,k)=>{k.d(Te,{Lc:()=>re,w0:()=>ie,Nn:()=>ge});var c=k(576);const N=(0,k(3888).d)(le=>function(j){le(this),this.message=j?`${j.length} errors occurred during unsubscription:\n${j.map((q,je)=>`${je+1}) ${q.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=j});var se=k(8737);class ie{constructor($){this.initialTeardown=$,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let $;if(!this.closed){this.closed=!0;const{_parentage:j}=this;if(j)if(this._parentage=null,Array.isArray(j))for(const Ie of j)Ie.remove(this);else j.remove(this);const{initialTeardown:q}=this;if((0,c.m)(q))try{q()}catch(Ie){$=Ie instanceof N?Ie.errors:[Ie]}const{_finalizers:je}=this;if(je){this._finalizers=null;for(const Ie of je)try{ve(Ie)}catch(Ze){$=$??[],Ze instanceof N?$=[...$,...Ze.errors]:$.push(Ze)}}if($)throw new N($)}}add($){var j;if($&&$!==this)if(this.closed)ve($);else{if($ instanceof ie){if($.closed||$._hasParent(this))return;$._addParent(this)}(this._finalizers=null!==(j=this._finalizers)&&void 0!==j?j:[]).push($)}}_hasParent($){const{_parentage:j}=this;return j===$||Array.isArray(j)&&j.includes($)}_addParent($){const{_parentage:j}=this;this._parentage=Array.isArray(j)?(j.push($),j):j?[j,$]:$}_removeParent($){const{_parentage:j}=this;j===$?this._parentage=null:Array.isArray(j)&&(0,se.P)(j,$)}remove($){const{_finalizers:j}=this;j&&(0,se.P)(j,$),$ instanceof ie&&$._removeParent(this)}}ie.EMPTY=(()=>{const le=new ie;return le.closed=!0,le})();const re=ie.EMPTY;function ge(le){return le instanceof ie||le&&"closed"in le&&(0,c.m)(le.remove)&&(0,c.m)(le.add)&&(0,c.m)(le.unsubscribe)}function ve(le){(0,c.m)(le)?le():le.unsubscribe()}},2416:(mt,Te,k)=>{k.d(Te,{v:()=>c});const c={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(mt,Te,k)=>{k.d(Te,{E:()=>Q});const Q=new(k(9751).y)(ie=>ie.complete())},8996:(mt,Te,k)=>{k.d(Te,{D:()=>we});var c=k(8421),Q=k(5363),N=k(9468),re=k(9751),ve=k(2202),le=k(576),$=k(9672);function q(Ce,$e){if(!Ce)throw new Error("Iterable cannot be null");return new re.y(Re=>{(0,$.f)(Re,$e,()=>{const it=Ce[Symbol.asyncIterator]();(0,$.f)(Re,$e,()=>{it.next().then(te=>{te.done?Re.complete():Re.next(te.value)})},0,!0)})})}var je=k(3670),Ie=k(8239),Ze=k(1144),lt=k(6495),he=k(2206),Me=k(4532),xe=k(3260);function we(Ce,$e){return $e?function Pe(Ce,$e){if(null!=Ce){if((0,je.c)(Ce))return function se(Ce,$e){return(0,c.Xf)(Ce).pipe((0,N.R)($e),(0,Q.Q)($e))}(Ce,$e);if((0,Ze.z)(Ce))return function ge(Ce,$e){return new re.y(Re=>{let it=0;return $e.schedule(function(){it===Ce.length?Re.complete():(Re.next(Ce[it++]),Re.closed||this.schedule())})})}(Ce,$e);if((0,Ie.t)(Ce))return function ie(Ce,$e){return(0,c.Xf)(Ce).pipe((0,N.R)($e),(0,Q.Q)($e))}(Ce,$e);if((0,he.D)(Ce))return q(Ce,$e);if((0,lt.T)(Ce))return function j(Ce,$e){return new re.y(Re=>{let it;return(0,$.f)(Re,$e,()=>{it=Ce[ve.h](),(0,$.f)(Re,$e,()=>{let te,It;try{({value:te,done:It}=it.next())}catch(tt){return void Re.error(tt)}It?Re.complete():Re.next(te)},0,!0)}),()=>(0,le.m)(it?.return)&&it.return()})}(Ce,$e);if((0,xe.L)(Ce))return function Ue(Ce,$e){return q((0,xe.Q)(Ce),$e)}(Ce,$e)}throw(0,Me.z)(Ce)}(Ce,$e):(0,c.Xf)(Ce)}},8421:(mt,Te,k)=>{k.d(Te,{Xf:()=>je});var c=k(655),Q=k(1144),N=k(8239),se=k(9751),ie=k(3670),re=k(2206),ge=k(4532),ve=k(6495),le=k(3260),$=k(576),j=k(7849),q=k(8822);function je(Pe){if(Pe instanceof se.y)return Pe;if(null!=Pe){if((0,ie.c)(Pe))return function Ie(Pe){return new se.y(we=>{const Ce=Pe[q.L]();if((0,$.m)(Ce.subscribe))return Ce.subscribe(we);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Pe);if((0,Q.z)(Pe))return function Ze(Pe){return new se.y(we=>{for(let Ce=0;Ce<Pe.length&&!we.closed;Ce++)we.next(Pe[Ce]);we.complete()})}(Pe);if((0,N.t)(Pe))return function lt(Pe){return new se.y(we=>{Pe.then(Ce=>{we.closed||(we.next(Ce),we.complete())},Ce=>we.error(Ce)).then(null,j.h)})}(Pe);if((0,re.D)(Pe))return Me(Pe);if((0,ve.T)(Pe))return function he(Pe){return new se.y(we=>{for(const Ce of Pe)if(we.next(Ce),we.closed)return;we.complete()})}(Pe);if((0,le.L)(Pe))return function xe(Pe){return Me((0,le.Q)(Pe))}(Pe)}throw(0,ge.z)(Pe)}function Me(Pe){return new se.y(we=>{(function Ue(Pe,we){var Ce,$e,Re,it;return(0,c.mG)(this,void 0,void 0,function*(){try{for(Ce=(0,c.KL)(Pe);!($e=yield Ce.next()).done;)if(we.next($e.value),we.closed)return}catch(te){Re={error:te}}finally{try{$e&&!$e.done&&(it=Ce.return)&&(yield it.call(Ce))}finally{if(Re)throw Re.error}}we.complete()})})(Pe,we).catch(Ce=>we.error(Ce))})}},6451:(mt,Te,k)=>{k.d(Te,{T:()=>re});var c=k(8189),Q=k(8421),N=k(515),se=k(7669),ie=k(8996);function re(...ge){const ve=(0,se.yG)(ge),le=(0,se._6)(ge,1/0),$=ge;return $.length?1===$.length?(0,Q.Xf)($[0]):(0,c.J)(le)((0,ie.D)($,ve)):N.E}},5403:(mt,Te,k)=>{k.d(Te,{x:()=>Q});var c=k(2961);function Q(se,ie,re,ge,ve){return new N(se,ie,re,ge,ve)}class N extends c.Lv{constructor(ie,re,ge,ve,le,$){super(ie),this.onFinalize=le,this.shouldUnsubscribe=$,this._next=re?function(j){try{re(j)}catch(q){ie.error(q)}}:super._next,this._error=ve?function(j){try{ve(j)}catch(q){ie.error(q)}finally{this.unsubscribe()}}:super._error,this._complete=ge?function(){try{ge()}catch(j){ie.error(j)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ie;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:re}=this;super.unsubscribe(),!re&&(null===(ie=this.onFinalize)||void 0===ie||ie.call(this))}}}},4004:(mt,Te,k)=>{k.d(Te,{U:()=>N});var c=k(4482),Q=k(5403);function N(se,ie){return(0,c.e)((re,ge)=>{let ve=0;re.subscribe((0,Q.x)(ge,le=>{ge.next(se.call(ie,le,ve++))}))})}},8189:(mt,Te,k)=>{k.d(Te,{J:()=>N});var c=k(5577),Q=k(4671);function N(se=1/0){return(0,c.z)(Q.y,se)}},5577:(mt,Te,k)=>{k.d(Te,{z:()=>ve});var c=k(4004),Q=k(8421),N=k(4482),se=k(9672),ie=k(5403),ge=k(576);function ve(le,$,j=1/0){return(0,ge.m)($)?ve((q,je)=>(0,c.U)((Ie,Ze)=>$(q,Ie,je,Ze))((0,Q.Xf)(le(q,je))),j):("number"==typeof $&&(j=$),(0,N.e)((q,je)=>function re(le,$,j,q,je,Ie,Ze,lt){const he=[];let Me=0,xe=0,Ue=!1;const Pe=()=>{Ue&&!he.length&&!Me&&$.complete()},we=$e=>Me<q?Ce($e):he.push($e),Ce=$e=>{Ie&&$.next($e),Me++;let Re=!1;(0,Q.Xf)(j($e,xe++)).subscribe((0,ie.x)($,it=>{je?.(it),Ie?we(it):$.next(it)},()=>{Re=!0},void 0,()=>{if(Re)try{for(Me--;he.length&&Me<q;){const it=he.shift();Ze?(0,se.f)($,Ze,()=>Ce(it)):Ce(it)}Pe()}catch(it){$.error(it)}}))};return le.subscribe((0,ie.x)($,we,()=>{Ue=!0,Pe()})),()=>{lt?.()}}(q,je,le,j)))}},5363:(mt,Te,k)=>{k.d(Te,{Q:()=>se});var c=k(9672),Q=k(4482),N=k(5403);function se(ie,re=0){return(0,Q.e)((ge,ve)=>{ge.subscribe((0,N.x)(ve,le=>(0,c.f)(ve,ie,()=>ve.next(le),re),()=>(0,c.f)(ve,ie,()=>ve.complete(),re),le=>(0,c.f)(ve,ie,()=>ve.error(le),re)))})}},3099:(mt,Te,k)=>{k.d(Te,{B:()=>ie});var c=k(8421),Q=k(7579),N=k(2961),se=k(4482);function ie(ge={}){const{connector:ve=(()=>new Q.x),resetOnError:le=!0,resetOnComplete:$=!0,resetOnRefCountZero:j=!0}=ge;return q=>{let je,Ie,Ze,lt=0,he=!1,Me=!1;const xe=()=>{Ie?.unsubscribe(),Ie=void 0},Ue=()=>{xe(),je=Ze=void 0,he=Me=!1},Pe=()=>{const we=je;Ue(),we?.unsubscribe()};return(0,se.e)((we,Ce)=>{lt++,!Me&&!he&&xe();const $e=Ze=Ze??ve();Ce.add(()=>{lt--,0===lt&&!Me&&!he&&(Ie=re(Pe,j))}),$e.subscribe(Ce),!je&&lt>0&&(je=new N.Hp({next:Re=>$e.next(Re),error:Re=>{Me=!0,xe(),Ie=re(Ue,le,Re),$e.error(Re)},complete:()=>{he=!0,xe(),Ie=re(Ue,$),$e.complete()}}),(0,c.Xf)(we).subscribe(je))})(q)}}function re(ge,ve,...le){if(!0===ve)return void ge();if(!1===ve)return;const $=new N.Hp({next:()=>{$.unsubscribe(),ge()}});return(0,c.Xf)(ve(...le)).subscribe($)}},9468:(mt,Te,k)=>{k.d(Te,{R:()=>Q});var c=k(4482);function Q(N,se=0){return(0,c.e)((ie,re)=>{re.add(N.schedule(()=>ie.subscribe(re),se))})}},8505:(mt,Te,k)=>{k.d(Te,{b:()=>ie});var c=k(576),Q=k(4482),N=k(5403),se=k(4671);function ie(re,ge,ve){const le=(0,c.m)(re)||ge||ve?{next:re,error:ge,complete:ve}:re;return le?(0,Q.e)(($,j)=>{var q;null===(q=le.subscribe)||void 0===q||q.call(le);let je=!0;$.subscribe((0,N.x)(j,Ie=>{var Ze;null===(Ze=le.next)||void 0===Ze||Ze.call(le,Ie),j.next(Ie)},()=>{var Ie;je=!1,null===(Ie=le.complete)||void 0===Ie||Ie.call(le),j.complete()},Ie=>{var Ze;je=!1,null===(Ze=le.error)||void 0===Ze||Ze.call(le,Ie),j.error(Ie)},()=>{var Ie,Ze;je&&(null===(Ie=le.unsubscribe)||void 0===Ie||Ie.call(le)),null===(Ze=le.finalize)||void 0===Ze||Ze.call(le)}))}):se.y}},4408:(mt,Te,k)=>{k.d(Te,{o:()=>ie});var c=k(727);class Q extends c.w0{constructor(ge,ve){super()}schedule(ge,ve=0){return this}}const N={setInterval(re,ge,...ve){const{delegate:le}=N;return le?.setInterval?le.setInterval(re,ge,...ve):setInterval(re,ge,...ve)},clearInterval(re){const{delegate:ge}=N;return(ge?.clearInterval||clearInterval)(re)},delegate:void 0};var se=k(8737);class ie extends Q{constructor(ge,ve){super(ge,ve),this.scheduler=ge,this.work=ve,this.pending=!1}schedule(ge,ve=0){var le;if(this.closed)return this;this.state=ge;const $=this.id,j=this.scheduler;return null!=$&&(this.id=this.recycleAsyncId(j,$,ve)),this.pending=!0,this.delay=ve,this.id=null!==(le=this.id)&&void 0!==le?le:this.requestAsyncId(j,this.id,ve),this}requestAsyncId(ge,ve,le=0){return N.setInterval(ge.flush.bind(ge,this),le)}recycleAsyncId(ge,ve,le=0){if(null!=le&&this.delay===le&&!1===this.pending)return ve;null!=ve&&N.clearInterval(ve)}execute(ge,ve){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const le=this._execute(ge,ve);if(le)return le;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ge,ve){let $,le=!1;try{this.work(ge)}catch(j){le=!0,$=j||new Error("Scheduled action threw falsy error")}if(le)return this.unsubscribe(),$}unsubscribe(){if(!this.closed){const{id:ge,scheduler:ve}=this,{actions:le}=ve;this.work=this.state=this.scheduler=null,this.pending=!1,(0,se.P)(le,this),null!=ge&&(this.id=this.recycleAsyncId(ve,ge,null)),this.delay=null,super.unsubscribe()}}}},7565:(mt,Te,k)=>{k.d(Te,{v:()=>N});var c=k(6063);class Q{constructor(ie,re=Q.now){this.schedulerActionCtor=ie,this.now=re}schedule(ie,re=0,ge){return new this.schedulerActionCtor(this,ie).schedule(ge,re)}}Q.now=c.l.now;class N extends Q{constructor(ie,re=Q.now){super(ie,re),this.actions=[],this._active=!1}flush(ie){const{actions:re}=this;if(this._active)return void re.push(ie);let ge;this._active=!0;do{if(ge=ie.execute(ie.state,ie.delay))break}while(ie=re.shift());if(this._active=!1,ge){for(;ie=re.shift();)ie.unsubscribe();throw ge}}}},4986:(mt,Te,k)=>{k.d(Te,{z:()=>N});var c=k(4408);const N=new(k(7565).v)(c.o)},6063:(mt,Te,k)=>{k.d(Te,{l:()=>c});const c={now:()=>(c.delegate||Date).now(),delegate:void 0}},3410:(mt,Te,k)=>{k.d(Te,{z:()=>c});const c={setTimeout(Q,N,...se){const{delegate:ie}=c;return ie?.setTimeout?ie.setTimeout(Q,N,...se):setTimeout(Q,N,...se)},clearTimeout(Q){const{delegate:N}=c;return(N?.clearTimeout||clearTimeout)(Q)},delegate:void 0}},2202:(mt,Te,k)=>{k.d(Te,{h:()=>Q});const Q=function c(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(mt,Te,k)=>{k.d(Te,{L:()=>c});const c="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(mt,Te,k)=>{k.d(Te,{_6:()=>re,jO:()=>se,yG:()=>ie});var c=k(576);function N(ge){return ge[ge.length-1]}function se(ge){return(0,c.m)(N(ge))?ge.pop():void 0}function ie(ge){return function Q(ge){return ge&&(0,c.m)(ge.schedule)}(N(ge))?ge.pop():void 0}function re(ge,ve){return"number"==typeof N(ge)?ge.pop():ve}},8737:(mt,Te,k)=>{function c(Q,N){if(Q){const se=Q.indexOf(N);0<=se&&Q.splice(se,1)}}k.d(Te,{P:()=>c})},3888:(mt,Te,k)=>{function c(Q){const se=Q(ie=>{Error.call(ie),ie.stack=(new Error).stack});return se.prototype=Object.create(Error.prototype),se.prototype.constructor=se,se}k.d(Te,{d:()=>c})},2806:(mt,Te,k)=>{k.d(Te,{O:()=>se,x:()=>N});var c=k(2416);let Q=null;function N(ie){if(c.v.useDeprecatedSynchronousErrorHandling){const re=!Q;if(re&&(Q={errorThrown:!1,error:null}),ie(),re){const{errorThrown:ge,error:ve}=Q;if(Q=null,ge)throw ve}}else ie()}function se(ie){c.v.useDeprecatedSynchronousErrorHandling&&Q&&(Q.errorThrown=!0,Q.error=ie)}},9672:(mt,Te,k)=>{function c(Q,N,se,ie=0,re=!1){const ge=N.schedule(function(){se(),re?Q.add(this.schedule(null,ie)):this.unsubscribe()},ie);if(Q.add(ge),!re)return ge}k.d(Te,{f:()=>c})},4671:(mt,Te,k)=>{function c(Q){return Q}k.d(Te,{y:()=>c})},1144:(mt,Te,k)=>{k.d(Te,{z:()=>c});const c=Q=>Q&&"number"==typeof Q.length&&"function"!=typeof Q},2206:(mt,Te,k)=>{k.d(Te,{D:()=>Q});var c=k(576);function Q(N){return Symbol.asyncIterator&&(0,c.m)(N?.[Symbol.asyncIterator])}},576:(mt,Te,k)=>{function c(Q){return"function"==typeof Q}k.d(Te,{m:()=>c})},3670:(mt,Te,k)=>{k.d(Te,{c:()=>N});var c=k(8822),Q=k(576);function N(se){return(0,Q.m)(se[c.L])}},6495:(mt,Te,k)=>{k.d(Te,{T:()=>N});var c=k(2202),Q=k(576);function N(se){return(0,Q.m)(se?.[c.h])}},8239:(mt,Te,k)=>{k.d(Te,{t:()=>Q});var c=k(576);function Q(N){return(0,c.m)(N?.then)}},3260:(mt,Te,k)=>{k.d(Te,{L:()=>se,Q:()=>N});var c=k(655),Q=k(576);function N(ie){return(0,c.FC)(this,arguments,function*(){const ge=ie.getReader();try{for(;;){const{value:ve,done:le}=yield(0,c.qq)(ge.read());if(le)return yield(0,c.qq)(void 0);yield yield(0,c.qq)(ve)}}finally{ge.releaseLock()}})}function se(ie){return(0,Q.m)(ie?.getReader)}},4482:(mt,Te,k)=>{k.d(Te,{A:()=>Q,e:()=>N});var c=k(576);function Q(se){return(0,c.m)(se?.lift)}function N(se){return ie=>{if(Q(ie))return ie.lift(function(re){try{return se(re,this)}catch(ge){this.error(ge)}});throw new TypeError("Unable to lift unknown Observable type")}}},9635:(mt,Te,k)=>{k.d(Te,{U:()=>N,z:()=>Q});var c=k(4671);function Q(...se){return N(se)}function N(se){return 0===se.length?c.y:1===se.length?se[0]:function(re){return se.reduce((ge,ve)=>ve(ge),re)}}},7849:(mt,Te,k)=>{k.d(Te,{h:()=>N});var c=k(2416),Q=k(3410);function N(se){Q.z.setTimeout(()=>{const{onUnhandledError:ie}=c.v;if(!ie)throw se;ie(se)})}},4532:(mt,Te,k)=>{function c(Q){return new TypeError(`You provided ${null!==Q&&"object"==typeof Q?"an invalid object":`'${Q}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}k.d(Te,{z:()=>c})},655:(mt,Te,k)=>{function se(de,pe){var Ee={};for(var Se in de)Object.prototype.hasOwnProperty.call(de,Se)&&pe.indexOf(Se)<0&&(Ee[Se]=de[Se]);if(null!=de&&"function"==typeof Object.getOwnPropertySymbols){var He=0;for(Se=Object.getOwnPropertySymbols(de);He<Se.length;He++)pe.indexOf(Se[He])<0&&Object.prototype.propertyIsEnumerable.call(de,Se[He])&&(Ee[Se[He]]=de[Se[He]])}return Ee}function q(de,pe,Ee,Se){return new(Ee||(Ee=Promise))(function(Be,dt){function ut($t){try{Ye(Se.next($t))}catch(Et){dt(Et)}}function xt($t){try{Ye(Se.throw($t))}catch(Et){dt(Et)}}function Ye($t){$t.done?Be($t.value):function He(Be){return Be instanceof Ee?Be:new Ee(function(dt){dt(Be)})}($t.value).then(ut,xt)}Ye((Se=Se.apply(de,pe||[])).next())})}function Pe(de){return this instanceof Pe?(this.v=de,this):new Pe(de)}function we(de,pe,Ee){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var He,Se=Ee.apply(de,pe||[]),Be=[];return He={},dt("next"),dt("throw"),dt("return"),He[Symbol.asyncIterator]=function(){return this},He;function dt(tn){Se[tn]&&(He[tn]=function(yn){return new Promise(function(bn,Er){Be.push([tn,yn,bn,Er])>1||ut(tn,yn)})})}function ut(tn,yn){try{!function xt(tn){tn.value instanceof Pe?Promise.resolve(tn.value.v).then(Ye,$t):Et(Be[0][2],tn)}(Se[tn](yn))}catch(bn){Et(Be[0][3],bn)}}function Ye(tn){ut("next",tn)}function $t(tn){ut("throw",tn)}function Et(tn,yn){tn(yn),Be.shift(),Be.length&&ut(Be[0][0],Be[0][1])}}function $e(de){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ee,pe=de[Symbol.asyncIterator];return pe?pe.call(de):(de=function lt(de){var pe="function"==typeof Symbol&&Symbol.iterator,Ee=pe&&de[pe],Se=0;if(Ee)return Ee.call(de);if(de&&"number"==typeof de.length)return{next:function(){return de&&Se>=de.length&&(de=void 0),{value:de&&de[Se++],done:!de}}};throw new TypeError(pe?"Object is not iterable.":"Symbol.iterator is not defined.")}(de),Ee={},Se("next"),Se("throw"),Se("return"),Ee[Symbol.asyncIterator]=function(){return this},Ee);function Se(Be){Ee[Be]=de[Be]&&function(dt){return new Promise(function(ut,xt){!function He(Be,dt,ut,xt){Promise.resolve(xt).then(function(Ye){Be({value:Ye,done:ut})},dt)}(ut,xt,(dt=de[Be](dt)).done,dt.value)})}}}k.d(Te,{FC:()=>we,KL:()=>$e,_T:()=>se,mG:()=>q,qq:()=>Pe})},4650:(mt,Te,k)=>{k.d(Te,{$8M:()=>$o,$WT:()=>or,$Z:()=>Jw,AFp:()=>oI,ALo:()=>FE,AaK:()=>ve,CHM:()=>Ia,CRH:()=>Dp,CZH:()=>iy,CqO:()=>up,D6c:()=>S0,EJc:()=>l0,EpF:()=>IC,F4k:()=>bC,FYo:()=>Ut,FiY:()=>La,GfV:()=>Nw,Gpc:()=>j,JOm:()=>vi,KtG:()=>ba,LFG:()=>rn,LSH:()=>Hd,Lbi:()=>c0,Lck:()=>_h,MAs:()=>nv,MGl:()=>gm,MMx:()=>jv,MR2:()=>uc,NdJ:()=>sv,OlP:()=>Kt,Oqu:()=>fh,P3R:()=>Nf,PXZ:()=>_I,Q6J:()=>gc,QGY:()=>iv,Qsj:()=>jf,R0b:()=>ps,RDi:()=>Og,Rgc:()=>vh,SBq:()=>Bf,Sil:()=>lI,Suo:()=>bp,TTD:()=>Fc,TgZ:()=>ap,X6Q:()=>Vn,XFs:()=>ft,Xpm:()=>xi,Xts:()=>Sw,Y36:()=>Xd,YKP:()=>Uv,YNc:()=>ev,Yjl:()=>Vt,Yz7:()=>Et,Z0I:()=>Er,ZZ4:()=>D0,_Bn:()=>Vv,_UZ:()=>lh,_Vd:()=>ml,_c5:()=>kI,_uU:()=>Em,aQg:()=>yy,c2e:()=>uI,cJS:()=>yn,cg1:()=>sE,dDg:()=>Fp,dqk:()=>Xt,eFA:()=>Vp,eJc:()=>qm,ekj:()=>fv,eoX:()=>ay,f3M:()=>xn,g9A:()=>u0,h0i:()=>yh,hGG:()=>FI,hij:()=>dp,iGM:()=>Hm,ifc:()=>me,ip1:()=>ry,jDz:()=>TE,kL8:()=>iT,lG2:()=>Ct,lcZ:()=>GT,lqb:()=>dr,lri:()=>p0,n5z:()=>Vu,oAB:()=>X,oxw:()=>MC,q4F:()=>kw,qLn:()=>Wg,qOj:()=>q_,qZA:()=>Ml,rWj:()=>g0,s9C:()=>av,sBO:()=>DI,s_b:()=>vc,soG:()=>Ul,tb:()=>uy,tp0:()=>Ua,uIk:()=>fm,vHH:()=>he,vpe:()=>ua,wAp:()=>Dt,xp6:()=>Hf,z2F:()=>Gs,zSh:()=>m_,zs3:()=>dc});var c=k(7579),Q=k(727),N=k(9751),se=k(6451),ie=k(3099);function re(s){for(let o in s)if(s[o]===re)return o;throw Error("Could not find renamed property on target object.")}function ge(s,o){for(const a in o)o.hasOwnProperty(a)&&!s.hasOwnProperty(a)&&(s[a]=o[a])}function ve(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(ve).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const a=o.indexOf("\n");return-1===a?o:o.substring(0,a)}function le(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const $=re({__forward_ref__:re});function j(s){return s.__forward_ref__=j,s.toString=function(){return ve(this())},s}function q(s){return je(s)?s():s}function je(s){return"function"==typeof s&&s.hasOwnProperty($)&&s.__forward_ref__===j}function Ie(s){return s&&!!s.\u0275providers}const lt="https://g.co/ng/security#xss";class he extends Error{constructor(o,a){super(Me(o,a)),this.code=o}}function Me(s,o){return`NG0${Math.abs(s)}${o?": "+o.trim():""}`}function xe(s){return"string"==typeof s?s:null==s?"":String(s)}function $e(s,o){throw new he(-201,!1)}function dt(s,o){null==s&&function ut(s,o,a,l){throw new Error(`ASSERTION ERROR: ${s}`+(null==l?"":` [Expected=> ${a} ${l} ${o} <=Actual]`))}(o,s,null,"!=")}function Et(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function yn(s){return{providers:s.providers||[],imports:s.imports||[]}}function bn(s){return kr(s,ci)||kr(s,Zs)}function Er(s){return null!==bn(s)}function kr(s,o){return s.hasOwnProperty(o)?s[o]:null}function vs(s){return s&&(s.hasOwnProperty(Ao)||s.hasOwnProperty(br))?s[Ao]:null}const ci=re({\u0275prov:re}),Ao=re({\u0275inj:re}),Zs=re({ngInjectableDef:re}),br=re({ngInjectorDef:re});var ft=(()=>((ft=ft||{})[ft.Default=0]="Default",ft[ft.Host=1]="Host",ft[ft.Self=2]="Self",ft[ft.SkipSelf=4]="SkipSelf",ft[ft.Optional=8]="Optional",ft))();let Zr;function hr(s){const o=Zr;return Zr=s,o}function Fr(s,o,a){const l=bn(s);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:a&ft.Optional?null:void 0!==o?o:void $e(ve(s))}const Xt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),li={},Wr="__NG_DI_FLAG__",sr="ngTempTokenPath",Lr="ngTokenPath",An=/\n/gm,Kr="\u0275",fn="__source";let ws;function Wt(s){const o=ws;return ws=s,o}function Hi(s,o=ft.Default){if(void 0===ws)throw new he(-203,!1);return null===ws?Fr(s,void 0,o):ws.get(s,o&ft.Optional?null:void 0,o)}function rn(s,o=ft.Default){return(function Oc(){return Zr}()||Hi)(q(s),o)}function xn(s,o=ft.Default){return rn(s,Bn(o))}function Bn(s){return typeof s>"u"||"number"==typeof s?s:0|(s.optional&&8)|(s.host&&1)|(s.self&&2)|(s.skipSelf&&4)}function Ai(s){const o=[];for(let a=0;a<s.length;a++){const l=q(s[a]);if(Array.isArray(l)){if(0===l.length)throw new he(900,!1);let h,g=ft.Default;for(let _=0;_<l.length;_++){const E=l[_],b=Mi(E);"number"==typeof b?-1===b?h=E.token:g|=b:h=E}o.push(rn(h,g))}else o.push(rn(l))}return o}function Cn(s,o){return s[Wr]=o,s.prototype[Wr]=o,s}function Mi(s){return s[Wr]}function L(s){return{toString:s}.toString()}var z=(()=>((z=z||{})[z.OnPush=0]="OnPush",z[z.Default=1]="Default",z))(),me=(()=>{return(s=me||(me={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",me;var s})();const J={},Ne=[],bt=re({\u0275cmp:re}),Yt=re({\u0275dir:re}),Nn=re({\u0275pipe:re}),Dn=re({\u0275mod:re}),an=re({\u0275fac:re}),Gt=re({__NG_ELEMENT_ID__:re});let Dr=0;function xi(s){return L(()=>{const o=du(s),a={...o,decls:s.decls,vars:s.vars,template:s.template,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,onPush:s.changeDetection===z.OnPush,directiveDefs:null,pipeDefs:null,dependencies:o.standalone&&s.dependencies||null,getStandaloneInjector:null,data:s.data||{},encapsulation:s.encapsulation||me.Emulated,id:"c"+Dr++,styles:s.styles||Ne,_:null,schemas:s.schemas||null,tView:null};Zh(a);const l=s.dependencies;return a.directiveDefs=Ws(l,!1),a.pipeDefs=Ws(l,!0),a})}function fa(s){return pt(s)||en(s)}function ue(s){return null!==s}function X(s){return L(()=>({type:s.type,bootstrap:s.bootstrap||Ne,declarations:s.declarations||Ne,imports:s.imports||Ne,exports:s.exports||Ne,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null}))}function ht(s,o){if(null==s)return J;const a={};for(const l in s)if(s.hasOwnProperty(l)){let h=s[l],g=h;Array.isArray(h)&&(g=h[1],h=h[0]),a[h]=l,o&&(o[h]=g)}return a}function Ct(s){return L(()=>{const o=du(s);return Zh(o),o})}function Vt(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,standalone:!0===s.standalone,onDestroy:s.type.prototype.ngOnDestroy||null}}function pt(s){return s[bt]||null}function en(s){return s[Yt]||null}function Qt(s){return s[Nn]||null}function or(s){const o=pt(s)||en(s)||Qt(s);return null!==o&&o.standalone}function jn(s,o){const a=s[Dn]||null;if(!a&&!0===o)throw new Error(`Type ${ve(s)} does not have '\u0275mod' property.`);return a}function du(s){const o={};return{type:s.type,providersResolver:null,factory:null,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:o,exportAs:s.exportAs||null,standalone:!0===s.standalone,selectors:s.selectors||Ne,viewQuery:s.viewQuery||null,features:s.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:ht(s.inputs,o),outputs:ht(s.outputs)}}function Zh(s){s.features?.forEach(o=>o(s))}function Ws(s,o){if(!s)return null;const a=o?Qt:fa;return()=>("function"==typeof s?s():s).map(l=>a(l)).filter(ue)}const hi=0,qe=1,Rt=2,En=3,fi=4,cn=5,$n=6,Cs=7,Pn=8,pa=9,Yr=10,kt=11,ga=12,Ks=13,ns=14,Ys=15,kn=16,Mo=17,rs=18,zi=19,xo=20,fr=21,_n=22,ma=1,Rc=2,Po=7,Es=8,Is=9,ar=10;function Jr(s){return Array.isArray(s)&&"object"==typeof s[ma]}function Xr(s){return Array.isArray(s)&&!0===s[ma]}function ya(s){return 0!=(4&s.flags)}function Oo(s){return s.componentOffset>-1}function Nc(s){return 1==(1&s.flags)}function pi(s){return!!s.template}function fu(s){return 0!=(256&s[Rt])}function qi(s,o){return s.hasOwnProperty(an)?s[an]:null}class Qs{constructor(o,a,l){this.previousValue=o,this.currentValue=a,this.firstChange=l}isFirstChange(){return this.firstChange}}function Fc(){return _a}function _a(s){return s.type.prototype.ngOnChanges&&(s.setInput=Lc),nd}function nd(){const s=Jh(this),o=s?.current;if(o){const a=s.previous;if(a===J)s.previous=o;else for(let l in o)a[l]=o[l];s.current=null,this.ngOnChanges(o)}}function Lc(s,o,a,l){const h=this.declaredInputs[a],g=Jh(s)||function va(s,o){return s[bs]=o}(s,{previous:J,current:null}),_=g.current||(g.current={}),E=g.previous,b=E[h];_[h]=new Qs(b&&b.currentValue,o,E===J),s[l]=o}Fc.ngInherit=!0;const bs="__ngSimpleChanges__";function Jh(s){return s[bs]||null}const Ur=function(s,o,a){};function ur(s){for(;Array.isArray(s);)s=s[hi];return s}function os(s,o){return ur(o[s])}function cr(s,o){return ur(o[s.index])}function id(s,o){return s.data[o]}function Sr(s,o){return s[o]}function Yn(s,o){const a=o[s];return Jr(a)?a:a[hi]}function as(s){return 64==(64&s[Rt])}function Ts(s,o){return null==o?null:s[o]}function ko(s){s[rs]=0}function Ca(s,o){s[cn]+=o;let a=s,l=s[En];for(;null!==l&&(1===o&&1===a[cn]||-1===o&&0===a[cn]);)l[cn]+=o,a=l,l=l[En]}const Mt={lFrame:Bc(null),bindingsEnabled:!0};function vu(){return Mt.bindingsEnabled}function ce(){return Mt.lFrame.lView}function Nt(){return Mt.lFrame.tView}function Ia(s){return Mt.lFrame.contextLView=s,s[Pn]}function ba(s){return Mt.lFrame.contextLView=null,s}function Qn(){let s=Js();for(;null!==s&&64===s.type;)s=s.parent;return s}function Js(){return Mt.lFrame.currentTNode}function Br(s,o){const a=Mt.lFrame;a.currentTNode=s,a.isParent=o}function cd(){return Mt.lFrame.isParent}function Xs(){return Mt.lFrame.bindingIndex++}function Eu(s,o){const a=Mt.lFrame;a.bindingIndex=a.bindingRootIndex=s,Gn(o)}function Gn(s){Mt.lFrame.currentDirectiveIndex=s}function Uc(){return Mt.lFrame.currentQueryIndex}function Iu(s){Mt.lFrame.currentQueryIndex=s}function dd(s){const o=s[qe];return 2===o.type?o.declTNode:1===o.type?s[$n]:null}function bu(s,o,a){if(a&ft.SkipSelf){let h=o,g=s;for(;!(h=h.parent,null!==h||a&ft.Host||(h=dd(g),null===h||(g=g[Ys],10&h.type))););if(null===h)return!1;o=h,s=g}const l=Mt.lFrame=Sa();return l.currentTNode=o,l.lView=s,!0}function Du(s){const o=Sa(),a=s[qe];Mt.lFrame=o,o.currentTNode=a.firstChild,o.lView=s,o.tView=a,o.contextLView=s,o.bindingIndex=a.bindingStartIndex,o.inI18n=!1}function Sa(){const s=Mt.lFrame,o=null===s?null:s.child;return null===o?Bc(s):o}function Bc(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function Aa(){const s=Mt.lFrame;return Mt.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const hd=Aa;function Tu(){const s=Aa();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function pr(){return Mt.lFrame.selectedIndex}function cs(s){Mt.lFrame.selectedIndex=s}function Tn(){const s=Mt.lFrame;return id(s.tView,s.selectedIndex)}function Mu(s,o){for(let a=o.directiveStart,l=o.directiveEnd;a<l;a++){const g=s.data[a].type.prototype,{ngAfterContentInit:_,ngAfterContentChecked:E,ngAfterViewInit:b,ngAfterViewChecked:A,ngOnDestroy:P}=g;_&&(s.contentHooks??(s.contentHooks=[])).push(-a,_),E&&((s.contentHooks??(s.contentHooks=[])).push(a,E),(s.contentCheckHooks??(s.contentCheckHooks=[])).push(a,E)),b&&(s.viewHooks??(s.viewHooks=[])).push(-a,b),A&&((s.viewHooks??(s.viewHooks=[])).push(a,A),(s.viewCheckHooks??(s.viewCheckHooks=[])).push(a,A)),null!=P&&(s.destroyHooks??(s.destroyHooks=[])).push(a,P)}}function jc(s,o,a){Hc(s,o,3,a)}function $c(s,o,a,l){(3&s[Rt])===a&&Hc(s,o,a,l)}function pd(s,o){let a=s[Rt];(3&a)===o&&(a&=2047,a+=1,s[Rt]=a)}function Hc(s,o,a,l){const g=l??-1,_=o.length-1;let E=0;for(let b=void 0!==l?65535&s[rs]:0;b<_;b++)if("number"==typeof o[b+1]){if(E=o[b],null!=l&&E>=l)break}else o[b]<0&&(s[rs]+=65536),(E<g||-1==g)&&(Lo(s,a,o,b),s[rs]=(4294901760&s[rs])+b+2),b++}function Lo(s,o,a,l){const h=a[l]<0,g=a[l+1],E=s[h?-a[l]:a[l]];if(h){if(s[Rt]>>11<s[rs]>>16&&(3&s[Rt])===o){s[Rt]+=2048,Ur(4,E,g);try{g.call(E)}finally{Ur(5,E,g)}}}else{Ur(4,E,g);try{g.call(E)}finally{Ur(5,E,g)}}}const Vo=-1;class ls{constructor(o,a,l){this.factory=o,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=l}}function Uo(s,o,a){let l=0;for(;l<a.length;){const h=a[l];if("number"==typeof h){if(0!==h)break;l++;const g=a[l++],_=a[l++],E=a[l++];s.setAttribute(o,_,E,g)}else{const g=h,_=a[++l];ro(g)?s.setProperty(o,g,_):s.setAttribute(o,g,_),l++}}return l}function Gc(s){return 3===s||4===s||6===s}function ro(s){return 64===s.charCodeAt(0)}function io(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let a=-1;for(let l=0;l<o.length;l++){const h=o[l];"number"==typeof h?a=h:0===a||Ou(s,a,h,null,-1===a||2===a?o[++l]:null)}}return s}function Ou(s,o,a,l,h){let g=0,_=s.length;if(-1===o)_=-1;else for(;g<s.length;){const E=s[g++];if("number"==typeof E){if(E===o){_=-1;break}if(E>o){_=g-1;break}}}for(;g<s.length;){const E=s[g];if("number"==typeof E)break;if(E===a){if(null===l)return void(null!==h&&(s[g+1]=h));if(l===s[g+1])return void(s[g+2]=h)}g++,null!==l&&g++,null!==h&&g++}-1!==_&&(s.splice(_,0,o),g=_+1),s.splice(g++,0,a),null!==l&&s.splice(g++,0,l),null!==h&&s.splice(g++,0,h)}function so(s){return s!==Vo}function Ss(s){return 32767&s}function oo(s,o){let a=function gd(s){return s>>16}(s),l=o;for(;a>0;)l=l[Ys],a--;return l}let Ru=!0;function xa(s){const o=Ru;return Ru=s,o}const Nu=255,md=5;let ao=0;const Oi={};function zc(s,o){const a=jo(s,o);if(-1!==a)return a;const l=o[qe];l.firstCreatePass&&(s.injectorIndex=o.length,Bo(l.data,s),Bo(o,null),Bo(l.blueprint,null));const h=yd(s,o),g=s.injectorIndex;if(so(h)){const _=Ss(h),E=oo(h,o),b=E[qe].data;for(let A=0;A<8;A++)o[g+A]=E[_+A]|b[_+A]}return o[g+8]=h,g}function Bo(s,o){s.push(0,0,0,0,0,0,0,0,o)}function jo(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function yd(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let a=0,l=null,h=o;for(;null!==h;){if(l=Ra(h),null===l)return Vo;if(a++,h=h[Ys],-1!==l.injectorIndex)return l.injectorIndex|a<<16}return Vo}function pn(s,o,a){!function ds(s,o,a){let l;"string"==typeof a?l=a.charCodeAt(0)||0:a.hasOwnProperty(Gt)&&(l=a[Gt]),null==l&&(l=a[Gt]=ao++);const h=l&Nu;o.data[s+(h>>md)]|=1<<h}(s,o,a)}function ku(s,o,a){if(a&ft.Optional||void 0!==s)return s;$e()}function qc(s,o,a,l){if(a&ft.Optional&&void 0===l&&(l=null),!(a&(ft.Self|ft.Host))){const h=s[pa],g=hr(void 0);try{return h?h.get(o,l,a&ft.Optional):Fr(o,l,a&ft.Optional)}finally{hr(g)}}return ku(l,0,a)}function Fu(s,o,a,l=ft.Default,h){if(null!==s){if(1024&o[Rt]){const _=function Wc(s,o,a,l,h){let g=s,_=o;for(;null!==g&&null!==_&&1024&_[Rt]&&!(256&_[Rt]);){const E=Lu(g,_,a,l|ft.Self,Oi);if(E!==Oi)return E;let b=g.parent;if(!b){const A=_[fr];if(A){const P=A.get(a,Oi,l);if(P!==Oi)return P}b=Ra(_),_=_[Ys]}g=b}return h}(s,o,a,l,Oi);if(_!==Oi)return _}const g=Lu(s,o,a,l,Oi);if(g!==Oi)return g}return qc(o,a,l,h)}function Lu(s,o,a,l,h){const g=function Zc(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(Gt)?s[Gt]:void 0;return"number"==typeof o?o>=0?o&Nu:sf:o}(a);if("function"==typeof g){if(!bu(o,s,l))return l&ft.Host?ku(h,0,l):qc(o,a,l,h);try{const _=g(l);if(null!=_||l&ft.Optional)return _;$e()}finally{hd()}}else if("number"==typeof g){let _=null,E=jo(s,o),b=Vo,A=l&ft.Host?o[kn][$n]:null;for((-1===E||l&ft.SkipSelf)&&(b=-1===E?yd(s,o):o[E+8],b!==Vo&&Oa(l,!1)?(_=o[qe],E=Ss(b),o=oo(b,o)):E=-1);-1!==E;){const P=o[qe];if(Pa(g,E,P.data)){const F=Jn(E,o,a,_,l,A);if(F!==Oi)return F}b=o[E+8],b!==Vo&&Oa(l,o[qe].data[E+8]===A)&&Pa(g,E,o)?(_=P,E=Ss(b),o=oo(b,o)):E=-1}}return h}function Jn(s,o,a,l,h,g){const _=o[qe],E=_.data[s+8],P=uo(E,_,a,null==l?Oo(E)&&Ru:l!=_&&0!=(3&E.type),h&ft.Host&&g===E);return null!==P?Fn(o,_,P,E):Oi}function uo(s,o,a,l,h){const g=s.providerIndexes,_=o.data,E=1048575&g,b=s.directiveStart,P=g>>20,G=h?E+P:s.directiveEnd;for(let Y=l?E:E+P;Y<G;Y++){const ye=_[Y];if(Y<b&&a===ye||Y>=b&&ye.type===a)return Y}if(h){const Y=_[b];if(Y&&pi(Y)&&Y.type===a)return b}return null}function Fn(s,o,a,l){let h=s[a];const g=o.data;if(function vg(s){return s instanceof ls}(h)){const _=h;_.resolving&&function Pe(s,o){const a=o?`. Dependency path: ${o.join(" > ")} > ${s}`:"";throw new he(-200,`Circular dependency in DI detected for ${s}${a}`)}(function Ue(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():xe(s)}(g[a]));const E=xa(_.canSeeViewProviders);_.resolving=!0;const b=_.injectImpl?hr(_.injectImpl):null;bu(s,l,ft.Default);try{h=s[a]=_.factory(void 0,g,s,l),o.firstCreatePass&&a>=l.directiveStart&&function _g(s,o,a){const{ngOnChanges:l,ngOnInit:h,ngDoCheck:g}=o.type.prototype;if(l){const _=_a(o);(a.preOrderHooks??(a.preOrderHooks=[])).push(s,_),(a.preOrderCheckHooks??(a.preOrderCheckHooks=[])).push(s,_)}h&&(a.preOrderHooks??(a.preOrderHooks=[])).push(0-s,h),g&&((a.preOrderHooks??(a.preOrderHooks=[])).push(s,g),(a.preOrderCheckHooks??(a.preOrderCheckHooks=[])).push(s,g))}(a,g[a],o)}finally{null!==b&&hr(b),xa(E),_.resolving=!1,hd()}}return h}function Pa(s,o,a){return!!(a[o+(s>>md)]&1<<s)}function Oa(s,o){return!(s&ft.Self||s&ft.Host&&o)}class hs{constructor(o,a){this._tNode=o,this._lView=a}get(o,a,l){return Fu(this._tNode,this._lView,o,Bn(l),a)}}function sf(){return new hs(Qn(),ce())}function Vu(s){return L(()=>{const o=s.prototype.constructor,a=o[an]||co(o),l=Object.prototype;let h=Object.getPrototypeOf(s.prototype).constructor;for(;h&&h!==l;){const g=h[an]||co(h);if(g&&g!==a)return g;h=Object.getPrototypeOf(h)}return g=>new g})}function co(s){return je(s)?()=>{const o=co(q(s));return o&&o()}:qi(s)}function Ra(s){const o=s[qe],a=o.type;return 2===a?o.declTNode:1===a?s[$n]:null}function $o(s){return function _d(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const a=s.attrs;if(a){const l=a.length;let h=0;for(;h<l;){const g=a[h];if(Gc(g))break;if(0===g)h+=2;else if("number"==typeof g)for(h++;h<l&&"string"==typeof a[h];)h++;else{if(g===o)return a[h+1];h+=2}}}return null}(Qn(),s)}const Ho="__parameters__";function ho(s,o,a){return L(()=>{const l=function lo(s){return function(...a){if(s){const l=s(...a);for(const h in l)this[h]=l[h]}}}(o);function h(...g){if(this instanceof h)return l.apply(this,g),this;const _=new h(...g);return E.annotation=_,E;function E(b,A,P){const F=b.hasOwnProperty(Ho)?b[Ho]:Object.defineProperty(b,Ho,{value:[]})[Ho];for(;F.length<=P;)F.push(null);return(F[P]=F[P]||[]).push(_),b}}return a&&(h.prototype=Object.create(a.prototype)),h.prototype.ngMetadataName=s,h.annotationCls=h,h})}class Kt{constructor(o,a){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=Et({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Wi(s,o){s.forEach(a=>Array.isArray(a)?Wi(a,o):o(a))}function df(s,o,a){o>=s.length?s.push(a):s.splice(o,0,a)}function po(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function jr(s,o,a){let l=lr(s,o);return l>=0?s[1|l]=a:(l=~l,function Jc(s,o,a,l){let h=s.length;if(h==o)s.push(a,l);else if(1===h)s.push(l,s[0]),s[0]=a;else{for(h--,s.push(s[h-1],s[h]);h>o;)s[h]=s[h-2],h--;s[o]=a,s[o+1]=l}}(s,l,o,a)),l}function un(s,o){const a=lr(s,o);if(a>=0)return s[1|a]}function lr(s,o){return function Ms(s,o,a){let l=0,h=s.length>>a;for(;h!==l;){const g=l+(h-l>>1),_=s[g<<a];if(o===_)return g<<a;_>o?h=g:l=g+1}return~(h<<a)}(s,o,1)}const La=Cn(ho("Optional"),8),Ua=Cn(ho("SkipSelf"),4);var vi=(()=>((vi=vi||{})[vi.Important=1]="Important",vi[vi.DashCase=2]="DashCase",vi))();const cl=new Map;let pf=0;const W="__ngContext__";function ne(s,o){Jr(o)?(s[W]=o[xo],function Wa(s){cl.set(s[xo],s)}(o)):s[W]=o}let Ar;function wo(s,o){return Ar(s,o)}function Co(s){const o=s[En];return Xr(o)?o[En]:o}function Qu(s){return Xu(s[Ks])}function Ju(s){return Xu(s[fi])}function Xu(s){for(;null!==s&&!Xr(s);)s=s[fi];return s}function Yo(s,o,a,l,h){if(null!=l){let g,_=!1;Xr(l)?g=l:Jr(l)&&(_=!0,l=l[hi]);const E=ur(l);0===s&&null!==a?null==h?Od(o,a,E):Jo(o,a,E,h||null,!0):1===s&&null!==a?Jo(o,a,E,h||null,!0):2===s?function Ka(s,o,a){const l=Rd(s,o);l&&function s_(s,o,a,l){s.removeChild(o,a,l)}(s,l,o,a)}(o,E,_):3===s&&o.destroyNode(E),null!=g&&function bw(s,o,a,l,h){const g=a[Po];g!==ur(a)&&Yo(o,s,l,g,h);for(let E=ar;E<a.length;E++){const b=a[E];nc(b[qe],b,s,o,l,g)}}(o,s,g,a,h)}}function bg(s,o,a){return s.createElement(o,a)}function ec(s,o){const a=s[Is],l=a.indexOf(o),h=o[En];512&o[Rt]&&(o[Rt]&=-513,Ca(h,-1)),a.splice(l,1)}function Qo(s,o){if(s.length<=ar)return;const a=ar+o,l=s[a];if(l){const h=l[Mo];null!==h&&h!==s&&ec(h,l),o>0&&(s[a-1][fi]=l[fi]);const g=po(s,ar+o);!function Ew(s,o){nc(s,o,o[kt],2,null,null),o[hi]=null,o[$n]=null}(l[qe],l);const _=g[zi];null!==_&&_.detachView(g[qe]),l[En]=null,l[fi]=null,l[Rt]&=-65}return l}function dl(s,o){if(!(128&o[Rt])){const a=o[kt];a.destroyNode&&nc(s,o,a,3,null,null),function ll(s){let o=s[Ks];if(!o)return hl(s[qe],s);for(;o;){let a=null;if(Jr(o))a=o[Ks];else{const l=o[ar];l&&(a=l)}if(!a){for(;o&&!o[fi]&&o!==s;)Jr(o)&&hl(o[qe],o),o=o[En];null===o&&(o=s),Jr(o)&&hl(o[qe],o),a=o&&o[fi]}o=a}}(o)}}function hl(s,o){if(!(128&o[Rt])){o[Rt]&=-65,o[Rt]|=128,function xd(s,o){let a;if(null!=s&&null!=(a=s.destroyHooks))for(let l=0;l<a.length;l+=2){const h=o[a[l]];if(!(h instanceof ls)){const g=a[l+1];if(Array.isArray(g))for(let _=0;_<g.length;_+=2){const E=h[g[_]],b=g[_+1];Ur(4,E,b);try{b.call(E)}finally{Ur(5,E,b)}}else{Ur(4,h,g);try{g.call(h)}finally{Ur(5,h,g)}}}}}(s,o),function _f(s,o){const a=s.cleanup,l=o[Cs];let h=-1;if(null!==a)for(let g=0;g<a.length-1;g+=2)if("string"==typeof a[g]){const _=a[g+3];_>=0?l[h=_]():l[h=-_].unsubscribe(),g+=2}else{const _=l[h=a[g+1]];a[g].call(_)}if(null!==l){for(let g=h+1;g<l.length;g++)(0,l[g])();o[Cs]=null}}(s,o),1===o[qe].type&&o[kt].destroy();const a=o[Mo];if(null!==a&&Xr(o[En])){a!==o[En]&&ec(a,o);const l=o[zi];null!==l&&l.detachView(s)}!function C(s){cl.delete(s[xo])}(o)}}function Pd(s,o,a){return function Tg(s,o,a){let l=o;for(;null!==l&&40&l.type;)l=(o=l).parent;if(null===l)return a[hi];{const{componentOffset:h}=l;if(h>-1){const{encapsulation:g}=s.data[l.directiveStart+h];if(g===me.None||g===me.Emulated)return null}return cr(l,a)}}(s,o.parent,a)}function Jo(s,o,a,l,h){s.insertBefore(o,a,l,h)}function Od(s,o,a){s.appendChild(o,a)}function vf(s,o,a,l,h){null!==l?Jo(s,o,a,l,h):Od(s,o,a)}function Rd(s,o){return s.parentNode(o)}let Ef,na,ic,Nd=function Cf(s,o,a){return 40&s.type?cr(s,a):null};function Xo(s,o,a,l){const h=Pd(s,l,o),g=o[kt],E=function Sg(s,o,a){return Nd(s,o,a)}(l.parent||o[$n],l,o);if(null!=h)if(Array.isArray(a))for(let b=0;b<a.length;b++)vf(g,h,a[b],E,!1);else vf(g,h,a,E,!1);void 0!==Ef&&Ef(g,l,o,a,h)}function kd(s,o){if(null!==o){const a=o.type;if(3&a)return cr(o,s);if(4&a)return tc(-1,s[o.index]);if(8&a){const l=o.child;if(null!==l)return kd(s,l);{const h=s[o.index];return Xr(h)?tc(-1,h):ur(h)}}if(32&a)return wo(o,s)()||ur(s[o.index]);{const l=o_(s,o);return null!==l?Array.isArray(l)?l[0]:kd(Co(s[kn]),l):kd(s,o.next)}}return null}function o_(s,o){return null!==o?s[kn][$n].projection[o.projection]:null}function tc(s,o){const a=ar+s+1;if(a<o.length){const l=o[a],h=l[qe].firstChild;if(null!==h)return kd(l,h)}return o[Po]}function ea(s,o,a,l,h,g,_){for(;null!=a;){const E=l[a.index],b=a.type;if(_&&0===o&&(E&&ne(ur(E),l),a.flags|=2),32!=(32&a.flags))if(8&b)ea(s,o,a.child,l,h,g,!1),Yo(o,s,h,E,g);else if(32&b){const A=wo(a,l);let P;for(;P=A();)Yo(o,s,h,P,g);Yo(o,s,h,E,g)}else 16&b?bf(s,o,l,a,h,g):Yo(o,s,h,E,g);a=_?a.projectionNext:a.next}}function nc(s,o,a,l,h,g){ea(a,l,s.firstChild,o,h,g,!1)}function bf(s,o,a,l,h,g){const _=a[kn],b=_[$n].projection[l.projection];if(Array.isArray(b))for(let A=0;A<b.length;A++)Yo(o,s,h,b[A],g);else ea(s,o,b,_[En],h,g,!0)}function pl(s,o,a){""===a?s.removeAttribute(o,"class"):s.setAttribute(o,"class",a)}function u_(s,o,a){const{mergedAttrs:l,classes:h,styles:g}=a;null!==l&&Uo(s,o,l),null!==h&&pl(s,o,h),null!==g&&function Ag(s,o,a){s.setAttribute(o,"style",a)}(s,o,g)}function Og(s){na=s}function Ld(s){return function Rg(){if(void 0===ic&&(ic=null,Xt.trustedTypes))try{ic=Xt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return ic}()?.createScriptURL(s)||s}class Ng{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${lt})`}}function Mr(s){return s instanceof Ng?s.changingThisBreaksApplicationSecurity:s}function oc(s,o){const a=function Sf(s){return s instanceof Ng&&s.getTypeName()||null}(s);if(null!=a&&a!==o){if("ResourceURL"===a&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${a} (see ${lt})`)}return a===o}const Mf=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var Ln=(()=>((Ln=Ln||{})[Ln.NONE=0]="NONE",Ln[Ln.HTML=1]="HTML",Ln[Ln.STYLE=2]="STYLE",Ln[Ln.SCRIPT=3]="SCRIPT",Ln[Ln.URL=4]="URL",Ln[Ln.RESOURCE_URL=5]="RESOURCE_URL",Ln))();function Hd(s){const o=Bg();return o?o.sanitize(Ln.URL,s)||"":oc(s,"URL")?Mr(s):function jd(s){return(s=String(s)).match(Mf)?s:"unsafe:"+s}(xe(s))}function Vg(s){const o=Bg();if(o)return Ld(o.sanitize(Ln.RESOURCE_URL,s)||"");if(oc(s,"ResourceURL"))return Ld(Mr(s));throw new he(904,!1)}function Nf(s,o,a){return function Tw(s,o){return"src"===o&&("embed"===s||"frame"===s||"iframe"===s||"media"===s||"script"===s)||"href"===o&&("base"===s||"link"===s)?Vg:Hd}(o,a)(s)}function Bg(){const s=ce();return s&&s[ga]}const Sw=new Kt("ENVIRONMENT_INITIALIZER"),Aw=new Kt("INJECTOR",-1),qb=new Kt("INJECTOR_DEF_TYPES");class yt{get(o,a=li){if(a===li){const l=new Error(`NullInjectorError: No provider for ${ve(o)}!`);throw l.name="NullInjectorError",l}return a}}function uc(s){return{\u0275providers:s}}function Fs(...s){return{\u0275providers:Mw(0,s),\u0275fromNgModule:!0}}function Mw(s,...o){const a=[],l=new Set;let h;return Wi(o,g=>{const _=g;gl(_,a,[],l)&&(h||(h=[]),h.push(_))}),void 0!==h&&kf(h,a),a}function kf(s,o){for(let a=0;a<s.length;a++){const{providers:h}=s[a];jg(h,g=>{o.push(g)})}}function gl(s,o,a,l){if(!(s=q(s)))return!1;let h=null,g=vs(s);const _=!g&&pt(s);if(g||_){if(_&&!_.standalone)return!1;h=s}else{const b=s.ngModule;if(g=vs(b),!g)return!1;h=b}const E=l.has(h);if(_){if(E)return!1;if(l.add(h),_.dependencies){const b="function"==typeof _.dependencies?_.dependencies():_.dependencies;for(const A of b)gl(A,o,a,l)}}else{if(!g)return!1;{if(null!=g.imports&&!E){let A;l.add(h);try{Wi(g.imports,P=>{gl(P,o,a,l)&&(A||(A=[]),A.push(P))})}finally{}void 0!==A&&kf(A,o)}if(!E){const A=qi(h)||(()=>new h);o.push({provide:h,useFactory:A,deps:Ne},{provide:qb,useValue:h,multi:!0},{provide:Sw,useValue:()=>rn(h),multi:!0})}const b=g.providers;null==b||E||jg(b,P=>{o.push(P)})}}return h!==s&&void 0!==s.providers}function jg(s,o){for(let a of s)Ie(a)&&(a=a.\u0275providers),Array.isArray(a)?jg(a,o):o(a)}const Zb=re({provide:String,useValue:re});function $g(s){return null!==s&&"object"==typeof s&&Zb in s}function Ja(s){return"function"==typeof s}const m_=new Kt("Set Injector scope."),zd={},Ff={};let ra;function Lf(){return void 0===ra&&(ra=new yt),ra}class dr{}class Hg extends dr{get destroyed(){return this._destroyed}constructor(o,a,l,h){super(),this.parent=a,this.source=l,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,y_(o,_=>this.processProvider(_)),this.records.set(Aw,ri(void 0,this)),h.has("environment")&&this.records.set(dr,ri(void 0,this));const g=this.records.get(m_);null!=g&&"string"==typeof g.value&&this.scopes.add(g.value),this.injectorDefTypes=new Set(this.get(qb.multi,Ne,ft.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();for(const o of this._onDestroyHooks)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(o){this._onDestroyHooks.push(o)}runInContext(o){this.assertNotDestroyed();const a=Wt(this),l=hr(void 0);try{return o()}finally{Wt(a),hr(l)}}get(o,a=li,l=ft.Default){this.assertNotDestroyed(),l=Bn(l);const h=Wt(this),g=hr(void 0);try{if(!(l&ft.SkipSelf)){let E=this.records.get(o);if(void 0===E){const b=function Ow(s){return"function"==typeof s||"object"==typeof s&&s instanceof Kt}(o)&&bn(o);E=b&&this.injectableDefInScope(b)?ri(Gg(o),zd):null,this.records.set(o,E)}if(null!=E)return this.hydrate(o,E)}return(l&ft.Self?Lf():this.parent).get(o,a=l&ft.Optional&&a===li?null:a)}catch(_){if("NullInjectorError"===_.name){if((_[sr]=_[sr]||[]).unshift(ve(o)),h)throw _;return function Vr(s,o,a,l){const h=s[sr];throw o[fn]&&h.unshift(o[fn]),s.message=function V(s,o,a,l=null){s=s&&"\n"===s.charAt(0)&&s.charAt(1)==Kr?s.slice(2):s;let h=ve(o);if(Array.isArray(o))h=o.map(ve).join(" -> ");else if("object"==typeof o){let g=[];for(let _ in o)if(o.hasOwnProperty(_)){let E=o[_];g.push(_+":"+("string"==typeof E?JSON.stringify(E):ve(E)))}h=`{${g.join(", ")}}`}return`${a}${l?"("+l+")":""}[${h}]: ${s.replace(An,"\n  ")}`}("\n"+s.message,h,a,l),s[Lr]=h,s[sr]=null,s}(_,o,"R3InjectorError",this.source)}throw _}finally{hr(g),Wt(h)}}resolveInjectorInitializers(){const o=Wt(this),a=hr(void 0);try{const l=this.get(Sw.multi,Ne,ft.Self);for(const h of l)h()}finally{Wt(o),hr(a)}}toString(){const o=[],a=this.records;for(const l of a.keys())o.push(ve(l));return`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new he(205,!1)}processProvider(o){let a=Ja(o=q(o))?o:q(o&&o.provide);const l=function qd(s){return $g(s)?ri(void 0,s.useValue):ri(Vf(s),zd)}(o);if(Ja(o)||!0!==o.multi)this.records.get(a);else{let h=this.records.get(a);h||(h=ri(void 0,zd,!0),h.factory=()=>Ai(h.multi),this.records.set(a,h)),a=o,h.multi.push(o)}this.records.set(a,l)}hydrate(o,a){return a.value===zd&&(a.value=Ff,a.value=a.factory()),"object"==typeof a.value&&a.value&&function zg(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(a.value)&&this._ngOnDestroyHooks.add(a.value),a.value}injectableDefInScope(o){if(!o.providedIn)return!1;const a=q(o.providedIn);return"string"==typeof a?"any"===a||this.scopes.has(a):this.injectorDefTypes.has(a)}}function Gg(s){const o=bn(s),a=null!==o?o.factory:qi(s);if(null!==a)return a;if(s instanceof Kt)throw new he(204,!1);if(s instanceof Function)return function $r(s){const o=s.length;if(o>0)throw function Bu(s,o){const a=[];for(let l=0;l<s;l++)a.push(o);return a}(o,"?"),new he(204,!1);const a=function Ir(s){return s&&(s[ci]||s[Zs])||null}(s);return null!==a?()=>a.factory(s):()=>new s}(s);throw new he(204,!1)}function Vf(s,o,a){let l;if(Ja(s)){const h=q(s);return qi(h)||Gg(h)}if($g(s))l=()=>q(s.useValue);else if(function xw(s){return!(!s||!s.useFactory)}(s))l=()=>s.useFactory(...Ai(s.deps||[]));else if(function Gd(s){return!(!s||!s.useExisting)}(s))l=()=>rn(q(s.useExisting));else{const h=q(s&&(s.useClass||s.provide));if(!function ki(s){return!!s.deps}(s))return qi(h)||Gg(h);l=()=>new h(...Ai(s.deps))}return l}function ri(s,o,a=!1){return{factory:s,value:o,multi:a?[]:void 0}}function y_(s,o){for(const a of s)Array.isArray(a)?y_(a,o):a&&Ie(a)?y_(a.\u0275providers,o):o(a)}class Xa{}class eu{}class Uf{resolveComponentFactory(o){throw function Ei(s){const o=Error(`No component factory found for ${ve(s)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=s,o}(o)}}let ml=(()=>{class s{}return s.NULL=new Uf,s})();function Rw(){return Zd(Qn(),ce())}function Zd(s,o){return new Bf(cr(s,o))}let Bf=(()=>{class s{constructor(a){this.nativeElement=a}}return s.__NG_ELEMENT_ID__=Rw,s})();function __(s){return s instanceof Bf?s.nativeElement:s}class Ut{}let jf=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function Wb(){const s=ce(),a=Yn(Qn().index,s);return(Jr(a)?a:s)[kt]}(),s})(),Wd=(()=>{class s{}return s.\u0275prov=Et({token:s,providedIn:"root",factory:()=>null}),s})();class Nw{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const kw=new Nw("15.2.8"),Ls={},qg="ngOriginalError";function Zg(s){return s[qg]}class Wg{constructor(){this._console=console}handleError(o){const a=this._findOriginalError(o);this._console.error("ERROR",o),a&&this._console.error("ORIGINAL ERROR",a)}_findOriginalError(o){let a=o&&Zg(o);for(;a&&Zg(a);)a=Zg(a);return a||null}}function nu(s){return s instanceof Function?s():s}function jw(s,o,a){let l=s.length;for(;;){const h=s.indexOf(o,a);if(-1===h)return h;if(0===h||s.charCodeAt(h-1)<=32){const g=o.length;if(h+g===l||s.charCodeAt(h+g)<=32)return h}a=h+1}}const lc="ng-template";function Qb(s,o,a){let l=0,h=!0;for(;l<s.length;){let g=s[l++];if("string"==typeof g&&h){const _=s[l++];if(a&&"class"===g&&-1!==jw(_.toLowerCase(),o,0))return!0}else{if(1===g){for(;l<s.length&&"string"==typeof(g=s[l++]);)if(g.toLowerCase()===o)return!0;return!1}"number"==typeof g&&(h=!1)}}return!1}function Kd(s){return 4===s.type&&s.value!==lc}function w_(s,o,a){return o===(4!==s.type||a?s.value:lc)}function Jb(s,o,a){let l=4;const h=s.attrs||[],g=function Xb(s){for(let o=0;o<s.length;o++)if(Gc(s[o]))return o;return s.length}(h);let _=!1;for(let E=0;E<o.length;E++){const b=o[E];if("number"!=typeof b){if(!_)if(4&l){if(l=2|1&l,""!==b&&!w_(s,b,a)||""===b&&1===o.length){if(Yi(l))return!1;_=!0}}else{const A=8&l?b:o[++E];if(8&l&&null!==s.attrs){if(!Qb(s.attrs,A,a)){if(Yi(l))return!1;_=!0}continue}const F=$f(8&l?"class":b,h,Kd(s),a);if(-1===F){if(Yi(l))return!1;_=!0;continue}if(""!==A){let G;G=F>g?"":h[F+1].toLowerCase();const Y=8&l?G:null;if(Y&&-1!==jw(Y,A,0)||2&l&&A!==G){if(Yi(l))return!1;_=!0}}}}else{if(!_&&!Yi(l)&&!Yi(b))return!1;if(_&&Yi(b))continue;_=!1,l=b|1&l}}return Yi(l)||_}function Yi(s){return 0==(1&s)}function $f(s,o,a,l){if(null===o)return-1;let h=0;if(l||!a){let g=!1;for(;h<o.length;){const _=o[h];if(_===s)return h;if(3===_||6===_)g=!0;else{if(1===_||2===_){let E=o[++h];for(;"string"==typeof E;)E=o[++h];continue}if(4===_)break;if(0===_){h+=4;continue}}h+=g?1:2}return-1}return function E_(s,o){let a=s.indexOf(4);if(a>-1)for(a++;a<s.length;){const l=s[a];if("number"==typeof l)return-1;if(l===o)return a;a++}return-1}(o,s)}function C_(s,o,a=!1){for(let l=0;l<o.length;l++)if(Jb(s,o[l],a))return!0;return!1}function I_(s,o){return s?":not("+o.trim()+")":o}function $w(s){let o=s[0],a=1,l=2,h="",g=!1;for(;a<s.length;){let _=s[a];if("string"==typeof _)if(2&l){const E=s[++a];h+="["+_+(E.length>0?'="'+E+'"':"")+"]"}else 8&l?h+="."+_:4&l&&(h+=" "+_);else""!==h&&!Yi(_)&&(o+=I_(g,h),h=""),l=_,g=g||!Yi(l);a++}return""!==h&&(o+=I_(g,h)),o}const Bt={};function Hf(s){Hw(Nt(),ce(),pr()+s,!1)}function Hw(s,o,a,l){if(!l)if(3==(3&o[Rt])){const g=s.preOrderCheckHooks;null!==g&&jc(o,g,a)}else{const g=s.preOrderHooks;null!==g&&$c(o,g,0,a)}cs(a)}function sD(s,o=null,a=null,l){const h=D_(s,o,a,l);return h.resolveInjectorInitializers(),h}function D_(s,o=null,a=null,l,h=new Set){const g=[a||Ne,Fs(s)];return l=l||("object"==typeof s?void 0:ve(s)),new Hg(g,o||Lf(),l||null,h)}let dc=(()=>{class s{static create(a,l){if(Array.isArray(a))return sD({name:""},l,a,"");{const h=a.name??"";return sD({name:h},a.parent,a.providers,h)}}}return s.THROW_IF_NOT_FOUND=li,s.NULL=new yt,s.\u0275prov=Et({token:s,providedIn:"any",factory:()=>rn(Aw)}),s.__NG_ELEMENT_ID__=-1,s})();function Xd(s,o=ft.Default){const a=ce();return null===a?rn(s,o):Fu(Qn(),a,q(s),o)}function Jw(){throw new Error("invalid")}function Xw(s,o){const a=s.contentQueries;if(null!==a)for(let l=0;l<a.length;l+=2){const g=a[l+1];if(-1!==g){const _=s.data[g];Iu(a[l]),_.contentQueries(2,o[g],g)}}}function Zf(s,o,a,l,h,g,_,E,b,A,P){const F=o.blueprint.slice();return F[hi]=h,F[Rt]=76|l,(null!==P||s&&1024&s[Rt])&&(F[Rt]|=1024),ko(F),F[En]=F[Ys]=s,F[Pn]=a,F[Yr]=_||s&&s[Yr],F[kt]=E||s&&s[kt],F[ga]=b||s&&s[ga]||null,F[pa]=A||s&&s[pa]||null,F[$n]=g,F[xo]=function Eg(){return pf++}(),F[fr]=P,F[kn]=2==o.type?s[kn]:F,F}function eh(s,o,a,l,h){let g=s.data[o];if(null===g)g=function P_(s,o,a,l,h){const g=Js(),_=cd(),b=s.data[o]=function tC(s,o,a,l,h,g){return{type:a,index:l,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,_?g:g&&g.parent,a,o,l,h);return null===s.firstChild&&(s.firstChild=b),null!==g&&(_?null==g.child&&null!==b.parent&&(g.child=b):null===g.next&&(g.next=b,b.prev=g)),b}(s,o,a,l,h),function ld(){return Mt.lFrame.inI18n}()&&(g.flags|=32);else if(64&g.type){g.type=a,g.value=l,g.attrs=h;const _=function wu(){const s=Mt.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}();g.injectorIndex=null===_?-1:_.injectorIndex}return Br(g,!0),g}function Wf(s,o,a,l){if(0===a)return-1;const h=o.length;for(let g=0;g<a;g++)o.push(l),s.blueprint.push(l),s.data.push(null);return h}function O_(s,o,a){Du(o);try{const l=s.viewQuery;null!==l&&G_(1,l,a);const h=s.template;null!==h&&R_(s,o,h,1,a),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&Xw(s,o),s.staticViewQueries&&G_(2,s.viewQuery,a);const g=s.components;null!==g&&function fD(s,o){for(let a=0;a<o.length;a++)wD(s,o[a])}(o,g)}catch(l){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),l}finally{o[Rt]&=-5,Tu()}}function nm(s,o,a,l){const h=o[Rt];if(128!=(128&h)){Du(o);try{ko(o),function Zi(s){return Mt.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==a&&R_(s,o,a,2,l);const _=3==(3&h);if(_){const A=s.preOrderCheckHooks;null!==A&&jc(o,A,null)}else{const A=s.preOrderHooks;null!==A&&$c(o,A,0,null),pd(o,0)}if(function j_(s){for(let o=Qu(s);null!==o;o=Ju(o)){if(!o[Rc])continue;const a=o[Is];for(let l=0;l<a.length;l++){const h=a[l];512&h[Rt]||Ca(h[En],1),h[Rt]|=512}}}(o),function ex(s){for(let o=Qu(s);null!==o;o=Ju(o))for(let a=ar;a<o.length;a++){const l=o[a],h=l[qe];as(l)&&nm(h,l,h.template,l[Pn])}}(o),null!==s.contentQueries&&Xw(s,o),_){const A=s.contentCheckHooks;null!==A&&jc(o,A)}else{const A=s.contentHooks;null!==A&&$c(o,A,1),pd(o,1)}!function dD(s,o){const a=s.hostBindingOpCodes;if(null!==a)try{for(let l=0;l<a.length;l++){const h=a[l];if(h<0)cs(~h);else{const g=h,_=a[++l],E=a[++l];Eu(_,g),E(2,o[g])}}}finally{cs(-1)}}(s,o);const E=s.components;null!==E&&function hD(s,o){for(let a=0;a<o.length;a++)vD(s,o[a])}(o,E);const b=s.viewQuery;if(null!==b&&G_(2,b,l),_){const A=s.viewCheckHooks;null!==A&&jc(o,A)}else{const A=s.viewHooks;null!==A&&$c(o,A,2),pd(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),o[Rt]&=-41,512&o[Rt]&&(o[Rt]&=-513,Ca(o[En],-1))}finally{Tu()}}}function R_(s,o,a,l,h){const g=pr(),_=2&l;try{cs(-1),_&&o.length>_n&&Hw(s,o,_n,!1),Ur(_?2:0,h),a(l,h)}finally{cs(g),Ur(_?3:1,h)}}function Kf(s,o,a){if(ya(o)){const h=o.directiveEnd;for(let g=o.directiveStart;g<h;g++){const _=s.data[g];_.contentQueries&&_.contentQueries(1,a[g],g)}}}function Yf(s,o,a){vu()&&(function sC(s,o,a,l){const h=a.directiveStart,g=a.directiveEnd;Oo(a)&&function yD(s,o,a){const l=cr(o,s),h=Il(a),g=s[Yr],_=Fi(s,Zf(s,h,null,a.onPush?32:16,l,o,g,g.createRenderer(l,a),null,null,null));s[o.index]=_}(o,a,s.data[h+a.componentOffset]),s.firstCreatePass||zc(a,o),ne(l,o);const _=a.initialInputs;for(let E=h;E<g;E++){const b=s.data[E],A=Fn(o,s,E,a);ne(A,o),null!==_&&JM(0,E-h,A,b,0,_),pi(b)&&(Yn(a.index,o)[Pn]=Fn(o,s,E,a))}}(s,o,a,cr(a,o)),64==(64&a.flags)&&V_(s,o,a))}function Io(s,o,a=cr){const l=o.localNames;if(null!==l){let h=o.index+1;for(let g=0;g<l.length;g+=2){const _=l[g+1],E=-1===_?a(o,s):s[_];s[h++]=E}}}function Il(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=rm(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function rm(s,o,a,l,h,g,_,E,b,A){const P=_n+l,F=P+h,G=function eC(s,o){const a=[];for(let l=0;l<o;l++)a.push(l<s?null:Bt);return a}(P,F),Y="function"==typeof A?A():A;return G[qe]={type:s,blueprint:G,template:a,queries:null,viewQuery:E,declTNode:o,data:G.slice().fill(null,P),bindingStartIndex:P,expandoStartIndex:F,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof _?_():_,firstChild:null,schemas:b,consts:Y,incompleteFirstPass:!1}}function hc(s,o,a,l){const h=ep(o);null===a?h.push(l):(h.push(a),s.firstCreatePass&&uC(s).push(l,h.length-1))}function nC(s,o,a,l){for(let h in s)if(s.hasOwnProperty(h)){a=null===a?{}:a;const g=s[h];null===l?Qf(a,o,h,g):l.hasOwnProperty(h)&&Qf(a,o,l[h],g)}return a}function Qf(s,o,a,l){s.hasOwnProperty(a)?s[a].push(o,l):s[a]=[o,l]}function Qi(s,o,a,l,h,g,_,E){const b=cr(o,a);let P,A=o.inputs;!E&&null!=A&&(P=A[l])?(Tl(s,a,P,l,h),Oo(o)&&function k_(s,o){const a=Yn(o,s);16&a[Rt]||(a[Rt]|=32)}(a,o.index)):3&o.type&&(l=function N_(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(l),h=null!=_?_(h,o.value||"",l):h,g.setProperty(b,l,h))}function bl(s,o,a,l){if(vu()){const h=null===l?null:{"":-1},g=function aC(s,o){const a=s.directiveRegistry;let l=null,h=null;if(a)for(let g=0;g<a.length;g++){const _=a[g];if(C_(o,_.selectors,!1))if(l||(l=[]),pi(_))if(null!==_.findHostDirectiveDefs){const E=[];h=h||new Map,_.findHostDirectiveDefs(_,E,h),l.unshift(...E,_),U_(s,o,E.length)}else l.unshift(_),U_(s,o,0);else h=h||new Map,_.findHostDirectiveDefs?.(_,l,h),l.push(_)}return null===l?null:[l,h]}(s,a);let _,E;null===g?_=E=null:[_,E]=g,null!==_&&iC(s,o,a,_,h,E),h&&function Jf(s,o,a){if(o){const l=s.localNames=[];for(let h=0;h<o.length;h+=2){const g=a[o[h+1]];if(null==g)throw new he(-301,!1);l.push(o[h],g)}}}(a,l,h)}a.mergedAttrs=io(a.mergedAttrs,a.attrs)}function iC(s,o,a,l,h,g){for(let A=0;A<l.length;A++)pn(zc(a,o),s,l[A].type);!function B_(s,o,a){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+a,s.providerIndexes=o}(a,s.data.length,l.length);for(let A=0;A<l.length;A++){const P=l[A];P.providersResolver&&P.providersResolver(P)}let _=!1,E=!1,b=Wf(s,o,l.length,null);for(let A=0;A<l.length;A++){const P=l[A];a.mergedAttrs=io(a.mergedAttrs,P.hostAttrs),mD(s,a,o,b,P),im(b,P,h),null!==P.contentQueries&&(a.flags|=4),(null!==P.hostBindings||null!==P.hostAttrs||0!==P.hostVars)&&(a.flags|=64);const F=P.type.prototype;!_&&(F.ngOnChanges||F.ngOnInit||F.ngDoCheck)&&((s.preOrderHooks??(s.preOrderHooks=[])).push(a.index),_=!0),!E&&(F.ngOnChanges||F.ngDoCheck)&&((s.preOrderCheckHooks??(s.preOrderCheckHooks=[])).push(a.index),E=!0),b++}!function rC(s,o,a){const h=o.directiveEnd,g=s.data,_=o.attrs,E=[];let b=null,A=null;for(let P=o.directiveStart;P<h;P++){const F=g[P],G=a?a.get(F):null,ye=G?G.outputs:null;b=nC(F.inputs,P,b,G?G.inputs:null),A=nC(F.outputs,P,A,ye);const Fe=null===b||null===_||Kd(o)?null:XM(b,P,_);E.push(Fe)}null!==b&&(b.hasOwnProperty("class")&&(o.flags|=8),b.hasOwnProperty("style")&&(o.flags|=16)),o.initialInputs=E,o.inputs=b,o.outputs=A}(s,a,g)}function V_(s,o,a){const l=a.directiveStart,h=a.directiveEnd,g=a.index,_=function yg(){return Mt.lFrame.currentDirectiveIndex}();try{cs(g);for(let E=l;E<h;E++){const b=s.data[E],A=o[E];Gn(E),(null!==b.hostBindings||0!==b.hostVars||null!==b.hostAttrs)&&oC(b,A)}}finally{cs(-1),Gn(_)}}function oC(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function U_(s,o,a){o.componentOffset=a,(s.components??(s.components=[])).push(o.index)}function im(s,o,a){if(a){if(o.exportAs)for(let l=0;l<o.exportAs.length;l++)a[o.exportAs[l]]=s;pi(o)&&(a[""]=s)}}function mD(s,o,a,l,h){s.data[l]=h;const g=h.factory||(h.factory=qi(h.type)),_=new ls(g,pi(h),Xd);s.blueprint[l]=_,a[l]=_,function gD(s,o,a,l,h){const g=h.hostBindings;if(g){let _=s.hostBindingOpCodes;null===_&&(_=s.hostBindingOpCodes=[]);const E=~o.index;(function L_(s){let o=s.length;for(;o>0;){const a=s[--o];if("number"==typeof a&&a<0)return a}return 0})(_)!=E&&_.push(E),_.push(a,l,g)}}(s,o,l,Wf(s,a,h.hostVars,Bt),h)}function Vs(s,o,a,l,h,g){const _=cr(s,o);!function sm(s,o,a,l,h,g,_){if(null==g)s.removeAttribute(o,h,a);else{const E=null==_?xe(g):_(g,l||"",h);s.setAttribute(o,h,E,a)}}(o[kt],_,g,s.value,a,l,h)}function JM(s,o,a,l,h,g){const _=g[o];if(null!==_){const E=l.setInput;for(let b=0;b<_.length;){const A=_[b++],P=_[b++],F=_[b++];null!==E?l.setInput(a,F,A,P):a[P]=F}}}function XM(s,o,a){let l=null,h=0;for(;h<a.length;){const g=a[h];if(0!==g)if(5!==g){if("number"==typeof g)break;if(s.hasOwnProperty(g)){null===l&&(l=[]);const _=s[g];for(let E=0;E<_.length;E+=2)if(_[E]===o){l.push(g,_[E+1],a[h+1]);break}}h+=2}else h+=2;else h+=4}return l}function _D(s,o,a,l){return[s,!0,!1,o,null,0,l,a,null,null]}function vD(s,o){const a=Yn(o,s);if(as(a)){const l=a[qe];48&a[Rt]?nm(l,a,l.template,a[Pn]):a[cn]>0&&$_(a)}}function $_(s){for(let l=Qu(s);null!==l;l=Ju(l))for(let h=ar;h<l.length;h++){const g=l[h];if(as(g))if(512&g[Rt]){const _=g[qe];nm(_,g,_.template,g[Pn])}else g[cn]>0&&$_(g)}const a=s[qe].components;if(null!==a)for(let l=0;l<a.length;l++){const h=Yn(a[l],s);as(h)&&h[cn]>0&&$_(h)}}function wD(s,o){const a=Yn(o,s),l=a[qe];(function H_(s,o){for(let a=o.length;a<s.blueprint.length;a++)o.push(s.blueprint[a])})(l,a),O_(l,a,a[Pn])}function Fi(s,o){return s[Ks]?s[ns][fi]=o:s[Ks]=o,s[ns]=o,o}function Xf(s){for(;s;){s[Rt]|=32;const o=Co(s);if(fu(s)&&!o)return s;s=o}return null}function fc(s,o,a,l=!0){const h=o[Yr];h.begin&&h.begin();try{nm(s,o,s.template,a)}catch(_){throw l&&Dl(o,_),_}finally{h.end&&h.end()}}function G_(s,o,a){Iu(0),o(s,a)}function ep(s){return s[Cs]||(s[Cs]=[])}function uC(s){return s.cleanup||(s.cleanup=[])}function Dl(s,o){const a=s[pa],l=a?a.get(Wg,null):null;l&&l.handleError(o)}function Tl(s,o,a,l,h){for(let g=0;g<a.length;){const _=a[g++],E=a[g++],b=o[_],A=s.data[_];null!==A.setInput?A.setInput(b,h,l,E):b[E]=h}}function om(s,o,a){let l=a?s.styles:null,h=a?s.classes:null,g=0;if(null!==o)for(let _=0;_<o.length;_++){const E=o[_];"number"==typeof E?g=E:1==g?h=le(h,E):2==g&&(l=le(l,E+": "+o[++_]+";"))}a?s.styles=l:s.stylesWithoutHost=l,a?s.classes=h:s.classesWithoutHost=h}function pc(s,o,a,l,h=!1){for(;null!==a;){const g=o[a.index];if(null!==g&&l.push(ur(g)),Xr(g))for(let E=ar;E<g.length;E++){const b=g[E],A=b[qe].firstChild;null!==A&&pc(b[qe],b,A,l)}const _=a.type;if(8&_)pc(s,o,a.child,l);else if(32&_){const E=wo(a,o);let b;for(;b=E();)l.push(b)}else if(16&_){const E=o_(o,a);if(Array.isArray(E))l.push(...E);else{const b=Co(o[kn]);pc(b[qe],b,E,l,!0)}}a=h?a.projectionNext:a.next}return l}class su{get rootNodes(){const o=this._lView,a=o[qe];return pc(a,o,a.firstChild,[])}constructor(o,a){this._lView=o,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Pn]}set context(o){this._lView[Pn]=o}get destroyed(){return 128==(128&this._lView[Rt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[En];if(Xr(o)){const a=o[Es],l=a?a.indexOf(this):-1;l>-1&&(Qo(o,l),po(a,l))}this._attachedToViewContainer=!1}dl(this._lView[qe],this._lView)}onDestroy(o){hc(this._lView[qe],this._lView,null,o)}markForCheck(){Xf(this._cdRefInjectingView||this._lView)}detach(){this._lView[Rt]&=-65}reattach(){this._lView[Rt]|=64}detectChanges(){fc(this._lView[qe],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new he(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Iw(s,o){nc(s,o,o[kt],2,null,null)}(this._lView[qe],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new he(902,!1);this._appRef=o}}class ED extends su{constructor(o){super(o),this._view=o}detectChanges(){const o=this._view;fc(o[qe],o,o[Pn],!1)}checkNoChanges(){}get context(){return null}}class lC extends ml{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const a=pt(o);return new tp(a,this.ngModule)}}function dC(s){const o=[];for(let a in s)s.hasOwnProperty(a)&&o.push({propName:s[a],templateName:a});return o}class bD{constructor(o,a){this.injector=o,this.parentInjector=a}get(o,a,l){l=Bn(l);const h=this.injector.get(o,Ls,l);return h!==Ls||a===Ls?h:this.parentInjector.get(o,a,l)}}class tp extends eu{get inputs(){return dC(this.componentDef.inputs)}get outputs(){return dC(this.componentDef.outputs)}constructor(o,a){super(),this.componentDef=o,this.ngModule=a,this.componentType=o.type,this.selector=function eD(s){return s.map($w).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!a}create(o,a,l,h){let g=(h=h||this.ngModule)instanceof dr?h:h?.injector;g&&null!==this.componentDef.getStandaloneInjector&&(g=this.componentDef.getStandaloneInjector(g)||g);const _=g?new bD(o,g):o,E=_.get(Ut,null);if(null===E)throw new he(407,!1);const b=_.get(Wd,null),A=E.createRenderer(null,this.componentDef),P=this.componentDef.selectors[0][0]||"div",F=l?function pD(s,o,a){return s.selectRootElement(o,a===me.ShadowDom)}(A,l,this.componentDef.encapsulation):bg(A,P,function ID(s){const o=s.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(P)),G=this.componentDef.onPush?288:272,Y=rm(0,null,null,1,0,null,null,null,null,null),ye=Zf(null,Y,null,G,null,null,E,A,b,_,null);let Fe,We;Du(ye);try{const Qe=this.componentDef;let Tt,fe=null;Qe.findHostDirectiveDefs?(Tt=[],fe=new Map,Qe.findHostDirectiveDefs(Qe,Tt,fe),Tt.push(Qe)):Tt=[Qe];const Lt=function z_(s,o){const a=s[qe],l=_n;return s[l]=o,eh(a,l,2,"#host",null)}(ye,F),Mn=function am(s,o,a,l,h,g,_,E){const b=h[qe];!function th(s,o,a,l){for(const h of s)o.mergedAttrs=io(o.mergedAttrs,h.hostAttrs);null!==o.mergedAttrs&&(om(o,o.mergedAttrs,!0),null!==a&&u_(l,a,o))}(l,s,o,_);const A=g.createRenderer(o,a),P=Zf(h,Il(a),null,a.onPush?32:16,h[s.index],s,g,A,E||null,null,null);return b.firstCreatePass&&U_(b,s,l.length-1),Fi(h,P),h[s.index]=P}(Lt,F,Qe,Tt,ye,E,A);We=id(Y,_n),F&&function TD(s,o,a,l){if(l)Uo(s,a,["ng-version",kw.full]);else{const{attrs:h,classes:g}=function tD(s){const o=[],a=[];let l=1,h=2;for(;l<s.length;){let g=s[l];if("string"==typeof g)2===h?""!==g&&o.push(g,s[++l]):8===h&&a.push(g);else{if(!Yi(h))break;h=g}l++}return{attrs:o,classes:a}}(o.selectors[0]);h&&Uo(s,a,h),g&&g.length>0&&pl(s,a,g.join(" "))}}(A,Qe,F,l),void 0!==a&&function SD(s,o,a){const l=s.projection=[];for(let h=0;h<o.length;h++){const g=a[h];l.push(null!=g?Array.from(g):null)}}(We,this.ngContentSelectors,a),Fe=function DD(s,o,a,l,h,g){const _=Qn(),E=h[qe],b=cr(_,h);iC(E,h,_,a,null,l);for(let P=0;P<a.length;P++)ne(Fn(h,E,_.directiveStart+P,_),h);V_(E,h,_),b&&ne(b,h);const A=Fn(h,E,_.directiveStart+_.componentOffset,_);if(s[Pn]=h[Pn]=A,null!==g)for(const P of g)P(A,o);return Kf(E,_,s),A}(Mn,Qe,Tt,fe,ye,[AD]),O_(Y,ye,null)}finally{Tu()}return new nx(this.componentType,Fe,Zd(We,ye),ye,We)}}class nx extends Xa{constructor(o,a,l,h,g){super(),this.location=l,this._rootLView=h,this._tNode=g,this.instance=a,this.hostView=this.changeDetectorRef=new ED(h),this.componentType=o}setInput(o,a){const l=this._tNode.inputs;let h;if(null!==l&&(h=l[o])){const g=this._rootLView;Tl(g[qe],g,h,o,a),Xf(Yn(this._tNode.index,g))}}get injector(){return new hs(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}function AD(){const s=Qn();Mu(ce()[qe],s)}function q_(s){let o=function hC(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),a=!0;const l=[s];for(;o;){let h;if(pi(s))h=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new he(903,!1);h=o.\u0275dir}if(h){if(a){l.push(h);const _=s;_.inputs=Z_(s.inputs),_.declaredInputs=Z_(s.declaredInputs),_.outputs=Z_(s.outputs);const E=h.hostBindings;E&&PD(s,E);const b=h.viewQuery,A=h.contentQueries;if(b&&xD(s,b),A&&fC(s,A),ge(s.inputs,h.inputs),ge(s.declaredInputs,h.declaredInputs),ge(s.outputs,h.outputs),pi(h)&&h.data.animation){const P=s.data;P.animation=(P.animation||[]).concat(h.data.animation)}}const g=h.features;if(g)for(let _=0;_<g.length;_++){const E=g[_];E&&E.ngInherit&&E(s),E===q_&&(a=!1)}}o=Object.getPrototypeOf(o)}!function MD(s){let o=0,a=null;for(let l=s.length-1;l>=0;l--){const h=s[l];h.hostVars=o+=h.hostVars,h.hostAttrs=io(h.hostAttrs,a=io(a,h.hostAttrs))}}(l)}function Z_(s){return s===J?{}:s===Ne?[]:s}function xD(s,o){const a=s.viewQuery;s.viewQuery=a?(l,h)=>{o(l,h),a(l,h)}:o}function fC(s,o){const a=s.contentQueries;s.contentQueries=a?(l,h,g)=>{o(l,h,g),a(l,h,g)}:o}function PD(s,o){const a=s.hostBindings;s.hostBindings=a?(l,h)=>{o(l,h),a(l,h)}:o}function rp(s){return!!dm(s)&&(Array.isArray(s)||!(s instanceof Map)&&Symbol.iterator in s)}function dm(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function Ii(s,o,a){return!Object.is(s[o],a)&&(s[o]=a,!0)}function fm(s,o,a,l){const h=ce();return Ii(h,Xs(),o)&&(Nt(),Vs(Tn(),h,s,o,a,l)),fm}function rh(s,o,a,l){return Ii(s,Xs(),a)?o+xe(a)+l:Bt}function ev(s,o,a,l,h,g,_,E){const b=ce(),A=Nt(),P=s+_n,F=A.firstCreatePass?function FD(s,o,a,l,h,g,_,E,b){const A=o.consts,P=eh(o,s,4,_||null,Ts(A,E));bl(o,a,P,Ts(A,b)),Mu(o,P);const F=P.tView=rm(2,P,l,h,g,o.directiveRegistry,o.pipeRegistry,null,o.schemas,A);return null!==o.queries&&(o.queries.template(o,P),F.queries=o.queries.embeddedTView(P)),P}(P,A,b,o,a,l,h,g,_):A.data[P];Br(F,!1);const G=b[kt].createComment("");Xo(A,b,G,F),ne(G,b),Fi(b,b[P]=_D(G,b,G,F)),Nc(F)&&Yf(A,b,F),null!=_&&Io(b,F,E)}function nv(s){return Sr(function mg(){return Mt.lFrame.contextLView}(),_n+s)}function gc(s,o,a){const l=ce();return Ii(l,Xs(),o)&&Qi(Nt(),Tn(),l,s,o,l[kt],a,!1),gc}function op(s,o,a,l,h){const _=h?"class":"style";Tl(s,a,o.inputs[_],_,l)}function ap(s,o,a,l){const h=ce(),g=Nt(),_=_n+s,E=h[kt],b=g.firstCreatePass?function LD(s,o,a,l,h,g){const _=o.consts,b=eh(o,s,2,l,Ts(_,h));return bl(o,a,b,Ts(_,g)),null!==b.attrs&&om(b,b.attrs,!1),null!==b.mergedAttrs&&om(b,b.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,b),b}(_,g,h,o,a,l):g.data[_],A=h[_]=bg(E,o,function fd(){return Mt.lFrame.currentNamespace}()),P=Nc(b);return Br(b,!0),u_(E,A,b),32!=(32&b.flags)&&Xo(g,h,A,b),0===function od(){return Mt.lFrame.elementDepthCount}()&&ne(A,h),function _u(){Mt.lFrame.elementDepthCount++}(),P&&(Yf(g,h,b),Kf(g,b,h)),null!==l&&Io(h,b),ap}function Ml(){let s=Qn();cd()?function Cu(){Mt.lFrame.isParent=!1}():(s=s.parent,Br(s,!1));const o=s;!function ad(){Mt.lFrame.elementDepthCount--}();const a=Nt();return a.firstCreatePass&&(Mu(a,s),ya(s)&&a.queries.elementEnd(s)),null!=o.classesWithoutHost&&function Ma(s){return 0!=(8&s.flags)}(o)&&op(a,o,ce(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function to(s){return 0!=(16&s.flags)}(o)&&op(a,o,ce(),o.stylesWithoutHost,!1),Ml}function lh(s,o,a,l){return ap(s,o,a,l),Ml(),lh}function IC(){return ce()}function iv(s){return!!s&&"function"==typeof s.then}function bC(s){return!!s&&"function"==typeof s.subscribe}const up=bC;function sv(s,o,a,l){const h=ce(),g=Nt(),_=Qn();return function TC(s,o,a,l,h,g,_){const E=Nc(l),A=s.firstCreatePass&&uC(s),P=o[Pn],F=ep(o);let G=!0;if(3&l.type||_){const Fe=cr(l,o),We=_?_(Fe):Fe,Qe=F.length,Tt=_?Lt=>_(ur(Lt[l.index])):l.index;let fe=null;if(!_&&E&&(fe=function ov(s,o,a,l){const h=s.cleanup;if(null!=h)for(let g=0;g<h.length-1;g+=2){const _=h[g];if(_===a&&h[g+1]===l){const E=o[Cs],b=h[g+2];return E.length>b?E[b]:null}"string"==typeof _&&(g+=2)}return null}(s,o,h,l.index)),null!==fe)(fe.__ngLastListenerFn__||fe).__ngNextListenerFn__=g,fe.__ngLastListenerFn__=g,G=!1;else{g=AC(l,o,P,g,!1);const Lt=a.listen(We,h,g);F.push(g,Lt),A&&A.push(h,Tt,Qe,Qe+1)}}else g=AC(l,o,P,g,!1);const Y=l.outputs;let ye;if(G&&null!==Y&&(ye=Y[h])){const Fe=ye.length;if(Fe)for(let We=0;We<Fe;We+=2){const Mn=o[ye[We]][ye[We+1]].subscribe(g),wn=F.length;F.push(g,Mn),A&&A.push(h,l.index,wn,-(wn+1))}}}(g,h,h[kt],_,s,o,l),sv}function SC(s,o,a,l){try{return Ur(6,o,a),!1!==a(l)}catch(h){return Dl(s,h),!1}finally{Ur(7,o,a)}}function AC(s,o,a,l,h){return function g(_){if(_===Function)return l;Xf(s.componentOffset>-1?Yn(s.index,o):o);let b=SC(o,a,l,_),A=g.__ngNextListenerFn__;for(;A;)b=SC(o,a,A,_)&&b,A=A.__ngNextListenerFn__;return h&&!1===b&&(_.preventDefault(),_.returnValue=!1),b}}function MC(s=1){return function Xh(s){return(Mt.lFrame.contextLView=function Su(s,o){for(;s>0;)o=o[Ys],s--;return o}(s,Mt.lFrame.contextLView))[Pn]}(s)}function av(s,o,a){return gm(s,"",o,"",a),av}function gm(s,o,a,l,h){const g=ce(),_=rh(g,o,a,l);return _!==Bt&&Qi(Nt(),Tn(),g,s,_,g[kt],h,!1),gm}function ou(s,o){return s<<17|o<<2}function xl(s){return s>>17&32767}function cp(s){return 2|s}function Pl(s){return(131068&s)>>2}function RC(s,o){return-131069&s|o<<2}function ym(s){return 1|s}function kC(s,o,a,l,h){const g=s[a+1],_=null===o;let E=l?xl(g):Pl(g),b=!1;for(;0!==E&&(!1===b||_);){const P=s[E+1];FC(s[E],o)&&(b=!0,s[E+1]=l?ym(P):cp(P)),E=l?xl(P):Pl(P)}b&&(s[a+1]=l?cp(g):ym(g))}function FC(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&lr(s,o)>=0}function fv(s,o){return function Pr(s,o,a,l){const h=ce(),g=Nt(),_=function yi(s){const o=Mt.lFrame,a=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,a}(2);g.firstUpdatePass&&function jC(s,o,a,l){const h=s.data;if(null===h[a+1]){const g=h[pr()],_=function BC(s,o){return o>=s.expandoStartIndex}(s,a);(function Cm(s,o){return 0!=(s.flags&(o?8:16))})(g,l)&&null===o&&!_&&(o=!1),o=function ZD(s,o,a,l){const h=function Fo(s){const o=Mt.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}(s);let g=l?o.residualClasses:o.residualStyles;if(null===h)0===(l?o.classBindings:o.styleBindings)&&(a=wm(a=aa(null,s,o,a,l),o.attrs,l),g=null);else{const _=o.directiveStylingLast;if(-1===_||s[_]!==h)if(a=aa(h,s,o,a,l),null===g){let b=function WD(s,o,a){const l=a?o.classBindings:o.styleBindings;if(0!==Pl(l))return s[xl(l)]}(s,o,l);void 0!==b&&Array.isArray(b)&&(b=aa(null,s,o,b[1],l),b=wm(b,o.attrs,l),function $C(s,o,a,l){s[xl(a?o.classBindings:o.styleBindings)]=l}(s,o,l,b))}else g=function vm(s,o,a){let l;const h=o.directiveEnd;for(let g=1+o.directiveStylingLast;g<h;g++)l=wm(l,s[g].hostAttrs,a);return wm(l,o.attrs,a)}(s,o,l)}return void 0!==g&&(l?o.residualClasses=g:o.residualStyles=g),a}(h,g,o,l),function $D(s,o,a,l,h,g){let _=g?o.classBindings:o.styleBindings,E=xl(_),b=Pl(_);s[l]=a;let P,A=!1;if(Array.isArray(a)?(P=a[1],(null===P||lr(a,P)>0)&&(A=!0)):P=a,h)if(0!==b){const G=xl(s[E+1]);s[l+1]=ou(G,E),0!==G&&(s[G+1]=RC(s[G+1],l)),s[E+1]=function mc(s,o){return 131071&s|o<<17}(s[E+1],l)}else s[l+1]=ou(E,0),0!==E&&(s[E+1]=RC(s[E+1],l)),E=l;else s[l+1]=ou(b,0),0===E?E=l:s[b+1]=RC(s[b+1],l),b=l;A&&(s[l+1]=cp(s[l+1])),kC(s,P,l,!0),kC(s,P,l,!1),function HD(s,o,a,l,h){const g=h?s.residualClasses:s.residualStyles;null!=g&&"string"==typeof o&&lr(g,o)>=0&&(a[l+1]=ym(a[l+1]))}(o,P,s,l,g),_=ou(E,b),g?o.classBindings=_:o.styleBindings=_}(h,g,o,a,_,l)}}(g,s,_,l),o!==Bt&&Ii(h,_,o)&&function pv(s,o,a,l,h,g,_,E){if(!(3&o.type))return;const b=s.data,A=b[E+1],P=function sx(s){return 1==(1&s)}(A)?qC(b,o,a,h,Pl(A),_):void 0;yc(P)||(yc(g)||function OC(s){return 2==(2&s)}(A)&&(g=qC(b,null,a,h,E,_)),function a_(s,o,a,l,h){if(o)h?s.addClass(a,l):s.removeClass(a,l);else{let g=-1===l.indexOf("-")?void 0:vi.DashCase;null==h?s.removeStyle(a,l,g):("string"==typeof h&&h.endsWith("!important")&&(h=h.slice(0,-10),g|=vi.Important),s.setStyle(a,l,h,g))}}(l,_,os(pr(),a),h,g))}(g,g.data[pr()],h,h[kt],s,h[_+1]=function yr(s,o){return null==s||""===s||("string"==typeof o?s+=o:"object"==typeof s&&(s=ve(Mr(s)))),s}(o,a),l,_)}(s,o,null,!0),fv}function aa(s,o,a,l,h){let g=null;const _=a.directiveEnd;let E=a.directiveStylingLast;for(-1===E?E=a.directiveStart:E++;E<_&&(g=o[E],l=wm(l,g.hostAttrs,h),g!==s);)E++;return null!==s&&(a.directiveStylingLast=E),l}function wm(s,o,a){const l=a?1:2;let h=-1;if(null!==o)for(let g=0;g<o.length;g++){const _=o[g];"number"==typeof _?h=_:h===l&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),jr(s,_,!!a||o[++g]))}return void 0===s?null:s}function qC(s,o,a,l,h,g){const _=null===o;let E;for(;h>0;){const b=s[h],A=Array.isArray(b),P=A?b[1]:b,F=null===P;let G=a[h+1];G===Bt&&(G=F?Ne:void 0);let Y=F?un(G,l):P===l?G:void 0;if(A&&!yc(Y)&&(Y=un(b,l)),yc(Y)&&(E=Y,_))return E;const ye=s[h+1];h=_?xl(ye):Pl(ye)}if(null!==o){let b=g?o.residualClasses:o.residualStyles;null!=b&&(E=un(b,l))}return E}function yc(s){return void 0!==s}function Em(s,o=""){const a=ce(),l=Nt(),h=s+_n,g=l.firstCreatePass?eh(l,h,1,o,null):l.data[h],_=a[h]=function Ad(s,o){return s.createText(o)}(a[kt],o);Xo(l,a,_,g),Br(g,!1)}function fh(s){return dp("",s,""),fh}function dp(s,o,a){const l=ce(),h=rh(l,s,o,a);return h!==Bt&&function iu(s,o,a){const l=os(o,s);!function mf(s,o,a){s.setValue(o,a)}(s[kt],l,a)}(l,pr(),h),dp}const Rl=void 0;var _x=["en",[["a","p"],["AM","PM"],Rl],[["AM","PM"],Rl,Rl],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Rl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Rl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Rl,"{1} 'at' {0}",Rl],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function yx(s){const a=Math.floor(Math.abs(s)),l=s.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===l?1:5}];let hp={};function sE(s){const o=function oT(s){return s.toLowerCase().replace(/_/g,"-")}(s);let a=sT(o);if(a)return a;const l=o.split("-")[0];if(a=sT(l),a)return a;if("en"===l)return _x;throw new he(701,!1)}function iT(s){return sE(s)[Dt.PluralCase]}function sT(s){return s in hp||(hp[s]=Xt.ng&&Xt.ng.common&&Xt.ng.common.locales&&Xt.ng.common.locales[s]),hp[s]}var Dt=(()=>((Dt=Dt||{})[Dt.LocaleId=0]="LocaleId",Dt[Dt.DayPeriodsFormat=1]="DayPeriodsFormat",Dt[Dt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Dt[Dt.DaysFormat=3]="DaysFormat",Dt[Dt.DaysStandalone=4]="DaysStandalone",Dt[Dt.MonthsFormat=5]="MonthsFormat",Dt[Dt.MonthsStandalone=6]="MonthsStandalone",Dt[Dt.Eras=7]="Eras",Dt[Dt.FirstDayOfWeek=8]="FirstDayOfWeek",Dt[Dt.WeekendRange=9]="WeekendRange",Dt[Dt.DateFormat=10]="DateFormat",Dt[Dt.TimeFormat=11]="TimeFormat",Dt[Dt.DateTimeFormat=12]="DateTimeFormat",Dt[Dt.NumberSymbols=13]="NumberSymbols",Dt[Dt.NumberFormats=14]="NumberFormats",Dt[Dt.CurrencyCode=15]="CurrencyCode",Dt[Dt.CurrencySymbol=16]="CurrencySymbol",Dt[Dt.CurrencyName=17]="CurrencyName",Dt[Dt.Currencies=18]="Currencies",Dt[Dt.Directionality=19]="Directionality",Dt[Dt.PluralCase=20]="PluralCase",Dt[Dt.ExtraData=21]="ExtraData",Dt))();const gh="en-US";let oE=gh;function Nv(s,o,a,l,h){if(s=q(s),Array.isArray(s))for(let g=0;g<s.length;g++)Nv(s[g],o,a,l,h);else{const g=Nt(),_=ce();let E=Ja(s)?s:q(s.provide),b=Vf(s);const A=Qn(),P=1048575&A.providerIndexes,F=A.directiveStart,G=A.providerIndexes>>20;if(Ja(s)||!s.multi){const Y=new ls(b,h,Xd),ye=vp(E,o,h?P:P+G,F);-1===ye?(pn(zc(A,_),g,E),kv(g,s,o.length),o.push(E),A.directiveStart++,A.directiveEnd++,h&&(A.providerIndexes+=1048576),a.push(Y),_.push(Y)):(a[ye]=Y,_[ye]=Y)}else{const Y=vp(E,o,P+G,F),ye=vp(E,o,P,P+G),We=ye>=0&&a[ye];if(h&&!We||!h&&!(Y>=0&&a[Y])){pn(zc(A,_),g,E);const Qe=function Lv(s,o,a,l,h){const g=new ls(s,a,Xd);return g.multi=[],g.index=o,g.componentProviders=0,_p(g,h,l&&!a),g}(h?Fv:MT,a.length,h,l,b);!h&&We&&(a[ye].providerFactory=Qe),kv(g,s,o.length,0),o.push(E),A.directiveStart++,A.directiveEnd++,h&&(A.providerIndexes+=1048576),a.push(Qe),_.push(Qe)}else kv(g,s,Y>-1?Y:ye,_p(a[h?ye:Y],b,!h&&l));!h&&l&&We&&a[ye].componentProviders++}}}function kv(s,o,a,l){const h=Ja(o),g=function Pw(s){return!!s.useClass}(o);if(h||g){const b=(g?q(o.useClass):o).prototype.ngOnDestroy;if(b){const A=s.destroyHooks||(s.destroyHooks=[]);if(!h&&o.multi){const P=A.indexOf(a);-1===P?A.push(a,[l,b]):A[P+1].push(l,b)}else A.push(a,b)}}}function _p(s,o,a){return a&&s.componentProviders++,s.multi.push(o)-1}function vp(s,o,a,l){for(let h=a;h<l;h++)if(o[h]===s)return h;return-1}function MT(s,o,a,l){return wp(this.multi,[])}function Fv(s,o,a,l){const h=this.multi;let g;if(this.providerFactory){const _=this.providerFactory.componentProviders,E=Fn(a,a[qe],this.providerFactory.index,l);g=E.slice(0,_),wp(h,g);for(let b=_;b<E.length;b++)g.push(E[b])}else g=[],wp(h,g);return g}function wp(s,o){for(let a=0;a<s.length;a++)o.push((0,s[a])());return o}function Vv(s,o=[]){return a=>{a.providersResolver=(l,h)=>function AT(s,o,a){const l=Nt();if(l.firstCreatePass){const h=pi(s);Nv(a,l.data,l.blueprint,h,!0),Nv(o,l.data,l.blueprint,h,!1)}}(l,h?h(s):s,o)}}class yh{}class Uv{}function _h(s,o){return new DE(s,o??null)}class DE extends yh{constructor(o,a){super(),this._parent=a,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new lC(this);const l=jn(o);this._bootstrapComponents=nu(l.bootstrap),this._r3Injector=D_(o,a,[{provide:yh,useValue:this},{provide:ml,useValue:this.componentFactoryResolver}],ve(o),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(o)}get injector(){return this._r3Injector}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class Bv extends Uv{constructor(o){super(),this.moduleType=o}create(o){return new DE(this.moduleType,o)}}class PT extends yh{constructor(o,a,l){super(),this.componentFactoryResolver=new lC(this),this.instance=null;const h=new Hg([...o,{provide:yh,useValue:this},{provide:ml,useValue:this.componentFactoryResolver}],a||Lf(),l,new Set(["environment"]));this.injector=h,h.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(o){this.injector.onDestroy(o)}}function jv(s,o,a=null){return new PT(s,o,a).injector}let OT=(()=>{class s{constructor(a){this._injector=a,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(a){if(!a.standalone)return null;if(!this.cachedInjectors.has(a.id)){const l=Mw(0,a.type),h=l.length>0?jv([l],this._injector,`Standalone[${a.type.name}]`):null;this.cachedInjectors.set(a.id,h)}return this.cachedInjectors.get(a.id)}ngOnDestroy(){try{for(const a of this.cachedInjectors.values())null!==a&&a.destroy()}finally{this.cachedInjectors.clear()}}}return s.\u0275prov=Et({token:s,providedIn:"environment",factory:()=>new s(rn(dr))}),s})();function TE(s){s.getStandaloneInjector=o=>o.get(OT).getOrCreateStandaloneInjector(s)}function BT(s,o,a,l,h,g){const _=o+a;return Ii(s,_,h)?function bo(s,o,a){return s[o]=a}(s,_+1,g?l.call(g,h):l(h)):function Ll(s,o){const a=s[o];return a===Bt?void 0:a}(s,_+1)}function FE(s,o){const a=Nt();let l;const h=s+_n;a.firstCreatePass?(l=function HT(s,o){if(o)for(let a=o.length-1;a>=0;a--){const l=o[a];if(s===l.name)return l}}(o,a.pipeRegistry),a.data[h]=l,l.onDestroy&&(a.destroyHooks??(a.destroyHooks=[])).push(h,l.onDestroy)):l=a.data[h];const g=l.factory||(l.factory=qi(l.type)),_=hr(Xd);try{const E=xa(!1),b=g();return xa(E),function tv(s,o,a,l){a>=s.data.length&&(s.data[a]=null,s.blueprint[a]=null),o[a]=l}(a,ce(),h,b),b}finally{hr(_)}}function GT(s,o,a){const l=s+_n,h=ce(),g=Sr(h,l);return function Um(s,o){return s[qe].data[o].pure}(h,l)?BT(h,function Hn(){const s=Mt.lFrame;let o=s.bindingRootIndex;return-1===o&&(o=s.bindingRootIndex=s.tView.bindingStartIndex),o}(),o,g.transform,a,g):g.transform(a)}function Bm(s){return o=>{setTimeout(s,void 0,o)}}const ua=class kx extends c.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,a,l){let h=o,g=a||(()=>null),_=l;if(o&&"object"==typeof o){const b=o;h=b.next?.bind(b),g=b.error?.bind(b),_=b.complete?.bind(b)}this.__isAsync&&(g=Bm(g),h&&(h=Bm(h)),_&&(_=Bm(_)));const E=super.subscribe({next:h,error:g,complete:_});return o instanceof Q.w0&&o.add(E),E}};function LE(){return this._results[Symbol.iterator]()}class jm{get changes(){return this._changes||(this._changes=new ua)}constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=jm.prototype;a[Symbol.iterator]||(a[Symbol.iterator]=LE)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,a){return this._results.reduce(o,a)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,a){const l=this;l.dirty=!1;const h=function Ri(s){return s.flat(Number.POSITIVE_INFINITY)}(o);(this._changesDetected=!function Qc(s,o,a){if(s.length!==o.length)return!1;for(let l=0;l<s.length;l++){let h=s[l],g=o[l];if(a&&(h=a(h),g=a(g)),g!==h)return!1}return!0}(l._results,h,a))&&(l._results=h,l.length=h.length,l.last=h[this.length-1],l.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let vh=(()=>{class s{}return s.__NG_ELEMENT_ID__=BE,s})();const VE=vh,UE=class extends VE{constructor(o,a,l){super(),this._declarationLView=o,this._declarationTContainer=a,this.elementRef=l}createEmbeddedView(o,a){const l=this._declarationTContainer.tView,h=Zf(this._declarationLView,l,o,16,null,l.declTNode,null,null,null,null,a||null);h[Mo]=this._declarationLView[this._declarationTContainer.index];const _=this._declarationLView[zi];return null!==_&&(h[zi]=_.createEmbeddedView(l)),O_(l,h,o),new su(h)}};function BE(){return Ep(Qn(),ce())}function Ep(s,o){return 4&s.type?new UE(o,s,Zd(s,o)):null}let vc=(()=>{class s{}return s.__NG_ELEMENT_ID__=qT,s})();function qT(){return HE(Qn(),ce())}const $m=vc,jE=class extends $m{constructor(o,a,l){super(),this._lContainer=o,this._hostTNode=a,this._hostLView=l}get element(){return Zd(this._hostTNode,this._hostLView)}get injector(){return new hs(this._hostTNode,this._hostLView)}get parentInjector(){const o=yd(this._hostTNode,this._hostLView);if(so(o)){const a=oo(o,this._hostLView),l=Ss(o);return new hs(a[qe].data[l+8],a)}return new hs(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const a=$E(this._lContainer);return null!==a&&a[o]||null}get length(){return this._lContainer.length-ar}createEmbeddedView(o,a,l){let h,g;"number"==typeof l?h=l:null!=l&&(h=l.index,g=l.injector);const _=o.createEmbeddedView(a||{},g);return this.insert(_,h),_}createComponent(o,a,l,h,g){const _=o&&!function Uu(s){return"function"==typeof s}(o);let E;if(_)E=a;else{const F=a||{};E=F.index,l=F.injector,h=F.projectableNodes,g=F.environmentInjector||F.ngModuleRef}const b=_?o:new tp(pt(o)),A=l||this.parentInjector;if(!g&&null==b.ngModule){const G=(_?A:this.parentInjector).get(dr,null);G&&(g=G)}const P=b.create(A,h,void 0,g);return this.insert(P.hostView,E),P}insert(o,a){const l=o._lView,h=l[qe];if(function Vc(s){return Xr(s[En])}(l)){const P=this.indexOf(o);if(-1!==P)this.detach(P);else{const F=l[En],G=new jE(F,F[$n],F[En]);G.detach(G.indexOf(o))}}const g=this._adjustIndex(a),_=this._lContainer;!function Ns(s,o,a,l){const h=ar+l,g=a.length;l>0&&(a[h-1][fi]=o),l<g-ar?(o[fi]=a[h],df(a,ar+l,o)):(a.push(o),o[fi]=null),o[En]=a;const _=o[Mo];null!==_&&a!==_&&function Md(s,o){const a=s[Is];o[kn]!==o[En][En][kn]&&(s[Rc]=!0),null===a?s[Is]=[o]:a.push(o)}(_,o);const E=o[zi];null!==E&&E.insertView(s),o[Rt]|=64}(h,l,_,g);const E=tc(g,_),b=l[kt],A=Rd(b,_[Po]);return null!==A&&function Dg(s,o,a,l,h,g){l[hi]=h,l[$n]=o,nc(s,l,a,1,h,g)}(h,_[$n],b,l,A,E),o.attachToViewContainerRef(),df(Wv(_),g,o),o}move(o,a){return this.insert(o,a)}indexOf(o){const a=$E(this._lContainer);return null!==a?a.indexOf(o):-1}remove(o){const a=this._adjustIndex(o,-1),l=Qo(this._lContainer,a);l&&(po(Wv(this._lContainer),a),dl(l[qe],l))}detach(o){const a=this._adjustIndex(o,-1),l=Qo(this._lContainer,a);return l&&null!=po(Wv(this._lContainer),a)?new su(l):null}_adjustIndex(o,a=0){return o??this.length+a}};function $E(s){return s[Es]}function Wv(s){return s[Es]||(s[Es]=[])}function HE(s,o){let a;const l=o[s.index];if(Xr(l))a=l;else{let h;if(8&s.type)h=ur(l);else{const g=o[kt];h=g.createComment("");const _=cr(s,o);Jo(g,Rd(g,_),h,function wf(s,o){return s.nextSibling(o)}(g,_),!1)}o[s.index]=a=_D(l,o,h,s),Fi(o,a)}return new jE(a,s,o)}class Kv{constructor(o){this.queryList=o,this.matches=null}clone(){return new Kv(this.queryList)}setDirty(){this.queryList.setDirty()}}class Yv{constructor(o=[]){this.queries=o}createEmbeddedView(o){const a=o.queries;if(null!==a){const l=null!==o.contentQueries?o.contentQueries[0]:a.length,h=[];for(let g=0;g<l;g++){const _=a.getByIndex(g);h.push(this.queries[_.indexInDeclarationView].clone())}return new Yv(h)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let a=0;a<this.queries.length;a++)null!==qE(o,a).matches&&this.queries[a].setDirty()}}class GE{constructor(o,a,l=null){this.predicate=o,this.flags=a,this.read=l}}class Ip{constructor(o=[]){this.queries=o}elementStart(o,a){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(o,a)}elementEnd(o){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(o)}embeddedTView(o){let a=null;for(let l=0;l<this.length;l++){const h=null!==a?a.length:0,g=this.getByIndex(l).embeddedTView(o,h);g&&(g.indexInDeclarationView=l,null!==a?a.push(g):a=[g])}return null!==a?new Ip(a):null}template(o,a){for(let l=0;l<this.queries.length;l++)this.queries[l].template(o,a)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class Qv{constructor(o,a=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(o,a){this.isApplyingToNode(a)&&this.matchTNode(o,a)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,a){this.elementStart(o,a)}embeddedTView(o,a){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,a),new Qv(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let l=o.parent;for(;null!==l&&8&l.type&&l.index!==a;)l=l.parent;return a===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(o,a){const l=this.metadata.predicate;if(Array.isArray(l))for(let h=0;h<l.length;h++){const g=l[h];this.matchTNodeWithReadOption(o,a,ZT(a,g)),this.matchTNodeWithReadOption(o,a,uo(a,o,g,!1,!1))}else l===vh?4&a.type&&this.matchTNodeWithReadOption(o,a,-1):this.matchTNodeWithReadOption(o,a,uo(a,o,l,!1,!1))}matchTNodeWithReadOption(o,a,l){if(null!==l){const h=this.metadata.read;if(null!==h)if(h===Bf||h===vc||h===vh&&4&a.type)this.addMatch(a.index,-2);else{const g=uo(a,o,h,!1,!1);null!==g&&this.addMatch(a.index,g)}else this.addMatch(a.index,l)}}addMatch(o,a){null===this.matches?this.matches=[o,a]:this.matches.push(o,a)}}function ZT(s,o){const a=s.localNames;if(null!==a)for(let l=0;l<a.length;l+=2)if(a[l]===o)return a[l+1];return null}function WT(s,o,a,l){return-1===a?function Fx(s,o){return 11&s.type?Zd(s,o):4&s.type?Ep(s,o):null}(o,s):-2===a?function KT(s,o,a){return a===Bf?Zd(o,s):a===vh?Ep(o,s):a===vc?HE(o,s):void 0}(s,o,l):Fn(s,s[qe],a,o)}function js(s,o,a,l){const h=o[zi].queries[l];if(null===h.matches){const g=s.data,_=a.matches,E=[];for(let b=0;b<_.length;b+=2){const A=_[b];E.push(A<0?null:WT(o,g[A],_[b+1],a.metadata.read))}h.matches=E}return h.matches}function et(s,o,a,l){const h=s.queries.getByIndex(a),g=h.matches;if(null!==g){const _=js(s,o,h,a);for(let E=0;E<g.length;E+=2){const b=g[E];if(b>0)l.push(_[E/2]);else{const A=g[E+1],P=o[-b];for(let F=ar;F<P.length;F++){const G=P[F];G[Mo]===G[En]&&et(G[qe],G,A,l)}if(null!==P[Is]){const F=P[Is];for(let G=0;G<F.length;G++){const Y=F[G];et(Y[qe],Y,A,l)}}}}}return l}function Hm(s){const o=ce(),a=Nt(),l=Uc();Iu(l+1);const h=qE(a,l);if(s.dirty&&function yu(s){return 4==(4&s[Rt])}(o)===(2==(2&h.metadata.flags))){if(null===h.matches)s.reset([]);else{const g=h.crossesNgTemplate?et(a,o,l,[]):js(a,o,h,l);s.reset(g,__),s.notifyOnChanges()}return!0}return!1}function bp(s,o,a,l){const h=Nt();if(h.firstCreatePass){const g=Qn();(function Gm(s,o,a){null===s.queries&&(s.queries=new Ip),s.queries.track(new Qv(o,a))})(h,new GE(o,a,l),g.index),function YT(s,o){const a=s.contentQueries||(s.contentQueries=[]);o!==(a.length?a[a.length-1]:-1)&&a.push(s.queries.length-1,o)}(h,s),2==(2&a)&&(h.staticContentQueries=!0)}!function zE(s,o,a){const l=new jm(4==(4&a));hc(s,o,l,l.destroy),null===o[zi]&&(o[zi]=new Yv),o[zi].queries.push(new Kv(l))}(h,ce(),a)}function Dp(){return function Tp(s,o){return s[zi].queries[o].queryList}(ce(),Uc())}function qE(s,o){return s.queries.getByIndex(o)}function qm(s){return!!jn(s)}function vr(...s){}const ry=new Kt("Application Initializer");let iy=(()=>{class s{constructor(a){this.appInits=a,this.resolve=vr,this.reject=vr,this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,h)=>{this.resolve=l,this.reject=h})}runInitializers(){if(this.initialized)return;const a=[],l=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const g=this.appInits[h]();if(iv(g))a.push(g);else if(up(g)){const _=new Promise((E,b)=>{g.subscribe({complete:E,error:b})});a.push(_)}}Promise.all(a).then(()=>{l()}).catch(h=>{this.reject(h)}),0===a.length&&l(),this.initialized=!0}}return s.\u0275fac=function(a){return new(a||s)(rn(ry,8))},s.\u0275prov=Et({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const oI=new Kt("AppId",{providedIn:"root",factory:function o0(){return`${a0()}${a0()}${a0()}`}});function a0(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const u0=new Kt("Platform Initializer"),c0=new Kt("Platform ID",{providedIn:"platform",factory:()=>"unknown"});let uI=(()=>{class s{log(a){console.log(a)}warn(a){console.warn(a)}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=Et({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const Ul=new Kt("LocaleId",{providedIn:"root",factory:()=>xn(Ul,ft.Optional|ft.SkipSelf)||function aS(){return typeof $localize<"u"&&$localize.locale||gh}()}),l0=new Kt("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class Op{constructor(o,a){this.ngModuleFactory=o,this.componentFactories=a}}let lI=(()=>{class s{compileModuleSync(a){return new Bv(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const l=this.compileModuleSync(a),g=nu(jn(a).declarations).reduce((_,E)=>{const b=pt(E);return b&&_.push(new tp(b)),_},[]);return new Op(l,g)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=Et({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const lS=(()=>Promise.resolve(0))();function cu(s){typeof Zone>"u"?lS.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class ps{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ua(!1),this.onMicrotaskEmpty=new ua(!1),this.onStable=new ua(!1),this.onError=new ua(!1),typeof Zone>"u")throw new he(908,!1);Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!l&&a,h.shouldCoalesceRunChangeDetection=l,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function pI(){let s=Xt.requestAnimationFrame,o=Xt.cancelAnimationFrame;if(typeof Zone<"u"&&s&&o){const a=s[Zone.__symbol__("OriginalDelegate")];a&&(s=a);const l=o[Zone.__symbol__("OriginalDelegate")];l&&(o=l)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function gI(s){const o=()=>{!function Li(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(Xt,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,Bl(s),s.isCheckStableRunning=!0,oy(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),Bl(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,l,h,g,_,E)=>{try{return kp(s),a.invokeTask(h,g,_,E)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||s.shouldCoalesceRunChangeDetection)&&o(),h0(s)}},onInvoke:(a,l,h,g,_,E,b)=>{try{return kp(s),a.invoke(h,g,_,E,b)}finally{s.shouldCoalesceRunChangeDetection&&o(),h0(s)}},onHasTask:(a,l,h,g)=>{a.hasTask(h,g),l===h&&("microTask"==g.change?(s._hasPendingMicrotasks=g.microTask,Bl(s),oy(s)):"macroTask"==g.change&&(s.hasPendingMacrotasks=g.macroTask))},onHandleError:(a,l,h,g)=>(a.handleError(h,g),s.runOutsideAngular(()=>s.onError.emit(g)),!1)})}(h)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ps.isInAngularZone())throw new he(909,!1)}static assertNotInAngularZone(){if(ps.isInAngularZone())throw new he(909,!1)}run(o,a,l){return this._inner.run(o,a,l)}runTask(o,a,l,h){const g=this._inner,_=g.scheduleEventTask("NgZoneEvent: "+h,o,Np,vr,vr);try{return g.runTask(_,a,l)}finally{g.cancelTask(_)}}runGuarded(o,a,l){return this._inner.runGuarded(o,a,l)}runOutsideAngular(o){return this._outer.run(o)}}const Np={};function oy(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function Bl(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function kp(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function h0(s){s._nesting--,oy(s)}class f0{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ua,this.onMicrotaskEmpty=new ua,this.onStable=new ua,this.onError=new ua}run(o,a,l){return o.apply(a,l)}runGuarded(o,a,l){return o.apply(a,l)}runOutsideAngular(o){return o()}runTask(o,a,l,h){return o.apply(a,l)}}const p0=new Kt(""),g0=new Kt("");let Lp,Fp=(()=>{class s{constructor(a,l,h){this._ngZone=a,this.registry=l,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Lp||(function m0(s){Lp=s}(h),h.addToWindow(l)),this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ps.assertNotInAngularZone(),cu(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())cu(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(a)||(clearTimeout(l.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,l,h){let g=-1;l&&l>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(_=>_.timeoutId!==g),a(this._didWork,this.getPendingTasks())},l)),this._callbacks.push({doneCb:a,timeoutId:g,updateCb:h})}whenStable(a,l,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,l,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(a){this.registry.registerApplication(a,this)}unregisterApplication(a){this.registry.unregisterApplication(a)}findProviders(a,l,h){return[]}}return s.\u0275fac=function(a){return new(a||s)(rn(ps),rn(ay),rn(g0))},s.\u0275prov=Et({token:s,factory:s.\u0275fac}),s})(),ay=(()=>{class s{constructor(){this._applications=new Map}registerApplication(a,l){this._applications.set(a,l)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,l=!0){return Lp?.findTestabilityInTree(this,a,l)??null}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=Et({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const $s=!1;let Hs=null;const y0=new Kt("AllowMultipleToken"),_0=new Kt("PlatformDestroyListeners"),uy=new Kt("appBootstrapListener");class _I{constructor(o,a){this.name=o,this.token=a}}function Vp(s,o,a=[]){const l=`Platform: ${o}`,h=new Kt(l);return(g=[])=>{let _=v0();if(!_||_.injector.get(y0,!1)){const E=[...a,...g,{provide:h,useValue:!0}];s?s(E):function vI(s){if(Hs&&!Hs.get(y0,!1))throw new he(400,!1);Hs=s;const o=s.get(CI);(function Eh(s){const o=s.get(u0,null);o&&o.forEach(a=>a())})(s)}(function Ec(s=[],o){return dc.create({name:o,providers:[{provide:m_,useValue:"platform"},{provide:_0,useValue:new Set([()=>Hs=null])},...s]})}(E,l))}return function Up(s){const o=v0();if(!o)throw new he(401,!1);return o}()}}function v0(){return Hs?.get(CI)??null}let CI=(()=>{class s{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,l){const h=function C0(s,o){let a;return a="noop"===s?new f0:("zone.js"===s?void 0:s)||new ps(o),a}(l?.ngZone,function w0(s){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!s||!s.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!s||!s.ngZoneRunCoalescing)||!1}}(l)),g=[{provide:ps,useValue:h}];return h.run(()=>{const _=dc.create({providers:g,parent:this.injector,name:a.moduleType.name}),E=a.create(_),b=E.injector.get(Wg,null);if(!b)throw new he(402,!1);return h.runOutsideAngular(()=>{const A=h.onError.subscribe({next:P=>{b.handleError(P)}});E.onDestroy(()=>{jl(this._modules,E),A.unsubscribe()})}),function EI(s,o,a){try{const l=a();return iv(l)?l.catch(h=>{throw o.runOutsideAngular(()=>s.handleError(h)),h}):l}catch(l){throw o.runOutsideAngular(()=>s.handleError(l)),l}}(b,h,()=>{const A=E.injector.get(iy);return A.runInitializers(),A.donePromise.then(()=>(function aE(s){dt(s,"Expected localeId to be defined"),"string"==typeof s&&(oE=s.toLowerCase().replace(/_/g,"-"))}(E.injector.get(Ul,gh)||gh),this._moduleDoBootstrap(E),E))})})}bootstrapModule(a,l=[]){const h=Ic({},l);return function cy(s,o,a){const l=new Bv(a);return Promise.resolve(l)}(0,0,a).then(g=>this.bootstrapModuleFactory(g,h))}_moduleDoBootstrap(a){const l=a.injector.get(Gs);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(h=>l.bootstrap(h));else{if(!a.instance.ngDoBootstrap)throw new he(-403,!1);a.instance.ngDoBootstrap(l)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new he(404,!1);this._modules.slice().forEach(l=>l.destroy()),this._destroyListeners.forEach(l=>l());const a=this._injector.get(_0,null);a&&(a.forEach(l=>l()),a.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(a){return new(a||s)(rn(dc))},s.\u0275prov=Et({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();function Ic(s,o){return Array.isArray(o)?o.reduce(Ic,s):{...s,...o}}let Gs=(()=>{class s{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(a,l,h){this._zone=a,this._injector=l,this._exceptionHandler=h,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const g=new N.y(E=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{E.next(this._stable),E.complete()})}),_=new N.y(E=>{let b;this._zone.runOutsideAngular(()=>{b=this._zone.onStable.subscribe(()=>{ps.assertNotInAngularZone(),cu(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,E.next(!0))})})});const A=this._zone.onUnstable.subscribe(()=>{ps.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{E.next(!1)}))});return()=>{b.unsubscribe(),A.unsubscribe()}});this.isStable=(0,se.T)(g,_.pipe((0,ie.B)()))}bootstrap(a,l){const h=a instanceof eu;if(!this._injector.get(iy).done){!h&&or(a);throw new he(405,$s)}let _;_=h?a:this._injector.get(ml).resolveComponentFactory(a),this.componentTypes.push(_.componentType);const E=function yI(s){return s.isBoundToModule}(_)?void 0:this._injector.get(yh),A=_.create(dc.NULL,[],l||_.selector,E),P=A.location.nativeElement,F=A.injector.get(p0,null);return F?.registerApplication(P),A.onDestroy(()=>{this.detachView(A.hostView),jl(this.components,A),F?.unregisterApplication(P)}),this._loadComponent(A),A}tick(){if(this._runningTick)throw new he(101,!1);try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const l=a;this._views.push(l),l.attachToAppRef(this)}detachView(a){const l=a;jl(this._views,l),l.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a);const l=this._injector.get(uy,[]);l.push(...this._bootstrapListeners),l.forEach(h=>h(a))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(a=>a()),this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(a){return this._destroyListeners.push(a),()=>jl(this._destroyListeners,a)}destroy(){if(this._destroyed)throw new he(406,!1);const a=this._injector;a.destroy&&!a.destroyed&&a.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return s.\u0275fac=function(a){return new(a||s)(rn(ps),rn(dr),rn(Wg))},s.\u0275prov=Et({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function jl(s,o){const a=s.indexOf(o);a>-1&&s.splice(a,1)}function Vn(){return!1}let DI=(()=>{class s{}return s.__NG_ELEMENT_ID__=fS,s})();function fS(s){return function pS(s,o,a){if(Oo(s)&&!a){const l=Yn(s.index,o);return new su(l,l)}return 47&s.type?new su(o[kn],o):null}(Qn(),ce(),16==(16&s))}class Gp{constructor(){}supports(o){return rp(o)}create(o){return new my(o)}}const zp=(s,o)=>o;class my{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||zp}forEachItem(o){let a;for(a=this._itHead;null!==a;a=a._next)o(a)}forEachOperation(o){let a=this._itHead,l=this._removalsHead,h=0,g=null;for(;a||l;){const _=!l||a&&a.currentIndex<Dh(l,h,g)?a:l,E=Dh(_,h,g),b=_.currentIndex;if(_===l)h--,l=l._nextRemoved;else if(a=a._next,null==_.previousIndex)h++;else{g||(g=[]);const A=E-h,P=b-h;if(A!=P){for(let G=0;G<A;G++){const Y=G<g.length?g[G]:g[G]=0,ye=Y+G;P<=ye&&ye<A&&(g[G]=Y+1)}g[_.previousIndex]=P-A}}E!==b&&o(_,E,b)}}forEachPreviousItem(o){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachMovedItem(o){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}forEachIdentityChange(o){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)o(a)}diff(o){if(null==o&&(o=[]),!rp(o))throw new he(900,!1);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let h,g,_,a=this._itHead,l=!1;if(Array.isArray(o)){this.length=o.length;for(let E=0;E<this.length;E++)g=o[E],_=this._trackByFn(E,g),null!==a&&Object.is(a.trackById,_)?(l&&(a=this._verifyReinsertion(a,g,_,E)),Object.is(a.item,g)||this._addIdentityChange(a,g)):(a=this._mismatch(a,g,_,E),l=!0),a=a._next}else h=0,function lm(s,o){if(Array.isArray(s))for(let a=0;a<s.length;a++)o(s[a]);else{const a=s[Symbol.iterator]();let l;for(;!(l=a.next()).done;)o(l.value)}}(o,E=>{_=this._trackByFn(h,E),null!==a&&Object.is(a.trackById,_)?(l&&(a=this._verifyReinsertion(a,E,_,h)),Object.is(a.item,E)||this._addIdentityChange(a,E)):(a=this._mismatch(a,E,_,h),l=!0),a=a._next,h++}),this.length=h;return this._truncate(a),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,a,l,h){let g;return null===o?g=this._itTail:(g=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._reinsertAfter(o,g,h)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(l,h))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._moveAfter(o,g,h)):o=this._addAfter(new b0(a,l),g,h),o}_verifyReinsertion(o,a,l,h){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==g?o=this._reinsertAfter(g,o._prev,h):o.currentIndex!=h&&(o.currentIndex=h,this._addToMoves(o,h)),o}_truncate(o){for(;null!==o;){const a=o._next;this._addToRemovals(this._unlink(o)),o=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,a,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const h=o._prevRemoved,g=o._nextRemoved;return null===h?this._removalsHead=g:h._nextRemoved=g,null===g?this._removalsTail=h:g._prevRemoved=h,this._insertAfter(o,a,l),this._addToMoves(o,l),o}_moveAfter(o,a,l){return this._unlink(o),this._insertAfter(o,a,l),this._addToMoves(o,l),o}_addAfter(o,a,l){return this._insertAfter(o,a,l),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,a,l){const h=null===a?this._itHead:a._next;return o._next=h,o._prev=a,null===h?this._itTail=o:h._prev=o,null===a?this._itHead=o:a._next=o,null===this._linkedRecords&&(this._linkedRecords=new bh),this._linkedRecords.put(o),o.currentIndex=l,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const a=o._prev,l=o._next;return null===a?this._itHead=l:a._next=l,null===l?this._itTail=a:l._prev=a,o}_addToMoves(o,a){return o.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new bh),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,a){return o.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class b0{constructor(o,a){this.item=o,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class xI{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,a){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===a||a<=l.currentIndex)&&Object.is(l.trackById,o))return l;return null}remove(o){const a=o._prevDup,l=o._nextDup;return null===a?this._head=l:a._nextDup=l,null===l?this._tail=a:l._prevDup=a,null===this._head}}class bh{constructor(){this.map=new Map}put(o){const a=o.trackById;let l=this.map.get(a);l||(l=new xI,this.map.set(a,l)),l.add(o)}get(o,a){const h=this.map.get(o);return h?h.get(o,a):null}remove(o){const a=o.trackById;return this.map.get(a).remove(o)&&this.map.delete(a),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Dh(s,o,a){const l=s.previousIndex;if(null===l)return l;let h=0;return a&&l<a.length&&(h=a[l]),l+o+h}class PI{constructor(){}supports(o){return o instanceof Map||dm(o)}create(){return new nr}}class nr{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let a;for(a=this._mapHead;null!==a;a=a._next)o(a)}forEachPreviousItem(o){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)o(a)}forEachChangedItem(o){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}diff(o){if(o){if(!(o instanceof Map||dm(o)))throw new he(900,!1)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(o,(l,h)=>{if(a&&a.key===h)this._maybeAddToChanges(a,l),this._appendAfter=a,a=a._next;else{const g=this._getOrCreateRecordForKey(h,l);a=this._insertBeforeOrAppend(a,g)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let l=a;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,a){if(o){const l=o._prev;return a._next=o,a._prev=l,o._prev=a,l&&(l._next=a),o===this._mapHead&&(this._mapHead=a),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(o,a){if(this._records.has(o)){const h=this._records.get(o);this._maybeAddToChanges(h,a);const g=h._prev,_=h._next;return g&&(g._next=_),_&&(_._prev=g),h._next=null,h._prev=null,h}const l=new OI(o);return this._records.set(o,l),l.currentValue=a,this._addToAdditions(l),l}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,a){Object.is(a,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=a,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,a){o instanceof Map?o.forEach(a):Object.keys(o).forEach(l=>a(o[l],l))}}class OI{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function RI(){return new D0([new Gp])}let D0=(()=>{class s{constructor(a){this.factories=a}static create(a,l){if(null!=l){const h=l.factories.slice();a=a.concat(h)}return new s(a)}static extend(a){return{provide:s,useFactory:l=>s.create(a,l||RI()),deps:[[s,new Ua,new La]]}}find(a){const l=this.factories.find(h=>h.supports(a));if(null!=l)return l;throw new he(901,!1)}}return s.\u0275prov=Et({token:s,providedIn:"root",factory:RI}),s})();function T0(){return new yy([new PI])}let yy=(()=>{class s{constructor(a){this.factories=a}static create(a,l){if(l){const h=l.factories.slice();a=a.concat(h)}return new s(a)}static extend(a){return{provide:s,useFactory:l=>s.create(a,l||T0()),deps:[[s,new Ua,new La]]}}find(a){const l=this.factories.find(h=>h.supports(a));if(l)return l;throw new he(901,!1)}}return s.\u0275prov=Et({token:s,providedIn:"root",factory:T0}),s})();const kI=Vp(null,"core",[]);let FI=(()=>{class s{constructor(a){}}return s.\u0275fac=function(a){return new(a||s)(rn(Gs))},s.\u0275mod=X({type:s}),s.\u0275inj=yn({}),s})();function S0(s){return"boolean"==typeof s?s:null!=s&&"false"!==s}},3942:(mt,Te,k)=>{k.d(Te,{Z:()=>Ze});var c=k(2090),Q=k(4859),N=k(6881),se=k(1877);class ie{constructor(he,Me){this._delegate=he,this.firebase=Me,(0,N._addComponent)(he,new Q.wA("app-compat",()=>this,"PUBLIC")),this.container=he.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(he){this._delegate.automaticDataCollectionEnabled=he}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(he=>{this._delegate.checkDestroyed(),he()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,N.deleteApp)(this._delegate)))}_getService(he,Me=N._DEFAULT_ENTRY_NAME){var xe;this._delegate.checkDestroyed();const Ue=this._delegate.container.getProvider(he);return!Ue.isInitialized()&&"EXPLICIT"===(null===(xe=Ue.getComponent())||void 0===xe?void 0:xe.instantiationMode)&&Ue.initialize(),Ue.getImmediate({identifier:Me})}_removeServiceInstance(he,Me=N._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(he).clearInstance(Me)}_addComponent(he){(0,N._addComponent)(this._delegate,he)}_addOrOverwriteComponent(he){(0,N._addOrOverwriteComponent)(this._delegate,he)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ge=new c.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),$=function le(){const lt=function ve(lt){const he={},Me={__esModule:!0,initializeApp:function Pe(Re,it={}){const te=N.initializeApp(Re,it);if((0,c.r3)(he,te.name))return he[te.name];const It=new lt(te,Me);return he[te.name]=It,It},app:Ue,registerVersion:N.registerVersion,setLogLevel:N.setLogLevel,onLog:N.onLog,apps:null,SDK_VERSION:N.SDK_VERSION,INTERNAL:{registerComponent:function Ce(Re){const it=Re.name,te=it.replace("-compat","");if(N._registerComponent(Re)&&"PUBLIC"===Re.type){const It=(tt=Ue())=>{if("function"!=typeof tt[te])throw ge.create("invalid-app-argument",{appName:it});return tt[te]()};void 0!==Re.serviceProps&&(0,c.ZB)(It,Re.serviceProps),Me[te]=It,lt.prototype[te]=function(...tt){return this._getService.bind(this,it).apply(this,Re.multipleInstances?tt:[])}}return"PUBLIC"===Re.type?Me[te]:null},removeApp:function xe(Re){delete he[Re]},useAsService:function $e(Re,it){return"serverAuth"===it?null:it},modularAPIs:N}};function Ue(Re){if(!(0,c.r3)(he,Re=Re||N._DEFAULT_ENTRY_NAME))throw ge.create("no-app",{appName:Re});return he[Re]}return Me.default=Me,Object.defineProperty(Me,"apps",{get:function we(){return Object.keys(he).map(Re=>he[Re])}}),Ue.App=lt,Me}(ie);return lt.INTERNAL=Object.assign(Object.assign({},lt.INTERNAL),{createFirebaseNamespace:le,extendNamespace:function he(Me){(0,c.ZB)(lt,Me)},createSubscribe:c.ne,ErrorFactory:c.LL,deepExtend:c.ZB}),lt}(),j=new se.Yd("@firebase/app-compat");if((0,c.jU)()&&void 0!==self.firebase){j.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const lt=self.firebase.SDK_VERSION;lt&&lt.indexOf("LITE")>=0&&j.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ze=$;!function Ie(lt){(0,N.registerVersion)("@firebase/app-compat","0.2.9",lt)}()},6881:(mt,Te,k)=>{k.r(Te),k.d(Te,{FirebaseError:()=>se.ZR,SDK_VERSION:()=>ws,_DEFAULT_ENTRY_NAME:()=>Fr,_addComponent:()=>st,_addOrOverwriteComponent:()=>At,_apps:()=>Xt,_clearComponents:()=>Lr,_components:()=>nn,_getProvider:()=>Wr,_registerComponent:()=>li,_removeServiceInstance:()=>sr,deleteApp:()=>di,getApp:()=>Hi,getApps:()=>rn,initializeApp:()=>Wt,onLog:()=>Ai,registerVersion:()=>Bn,setLogLevel:()=>Cn});var c=k(5861),Q=k(4859),N=k(1877),se=k(2090);const ie=(ue,X)=>X.some(Oe=>ue instanceof Oe);let re,ge;const $=new WeakMap,j=new WeakMap,q=new WeakMap,je=new WeakMap,Ie=new WeakMap;let he={get(ue,X,Oe){if(ue instanceof IDBTransaction){if("done"===X)return j.get(ue);if("objectStoreNames"===X)return ue.objectStoreNames||q.get(ue);if("store"===X)return Oe.objectStoreNames[1]?void 0:Oe.objectStore(Oe.objectStoreNames[0])}return Pe(ue[X])},set:(ue,X,Oe)=>(ue[X]=Oe,!0),has:(ue,X)=>ue instanceof IDBTransaction&&("done"===X||"store"===X)||X in ue};function Ue(ue){return"function"==typeof ue?function xe(ue){return ue!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function le(){return ge||(ge=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ue)?function(...X){return ue.apply(we(this),X),Pe($.get(this))}:function(...X){return Pe(ue.apply(we(this),X))}:function(X,...Oe){const ht=ue.call(we(this),X,...Oe);return q.set(ht,X.sort?X.sort():[X]),Pe(ht)}}(ue):(ue instanceof IDBTransaction&&function lt(ue){if(j.has(ue))return;const X=new Promise((Oe,ht)=>{const Ct=()=>{ue.removeEventListener("complete",Vt),ue.removeEventListener("error",pt),ue.removeEventListener("abort",pt)},Vt=()=>{Oe(),Ct()},pt=()=>{ht(ue.error||new DOMException("AbortError","AbortError")),Ct()};ue.addEventListener("complete",Vt),ue.addEventListener("error",pt),ue.addEventListener("abort",pt)});j.set(ue,X)}(ue),ie(ue,function ve(){return re||(re=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ue,he):ue)}function Pe(ue){if(ue instanceof IDBRequest)return function Ze(ue){const X=new Promise((Oe,ht)=>{const Ct=()=>{ue.removeEventListener("success",Vt),ue.removeEventListener("error",pt)},Vt=()=>{Oe(Pe(ue.result)),Ct()},pt=()=>{ht(ue.error),Ct()};ue.addEventListener("success",Vt),ue.addEventListener("error",pt)});return X.then(Oe=>{Oe instanceof IDBCursor&&$.set(Oe,ue)}).catch(()=>{}),Ie.set(X,ue),X}(ue);if(je.has(ue))return je.get(ue);const X=Ue(ue);return X!==ue&&(je.set(ue,X),Ie.set(X,ue)),X}const we=ue=>Ie.get(ue),Re=["get","getKey","getAll","getAllKeys","count"],it=["put","add","delete","clear"],te=new Map;function It(ue,X){if(!(ue instanceof IDBDatabase)||X in ue||"string"!=typeof X)return;if(te.get(X))return te.get(X);const Oe=X.replace(/FromIndex$/,""),ht=X!==Oe,Ct=it.includes(Oe);if(!(Oe in(ht?IDBIndex:IDBObjectStore).prototype)||!Ct&&!Re.includes(Oe))return;const Vt=function(){var pt=(0,c.Z)(function*(en,...Qt){const or=this.transaction(en,Ct?"readwrite":"readonly");let jn=or.store;return ht&&(jn=jn.index(Qt.shift())),(yield Promise.all([jn[Oe](...Qt),Ct&&or.done]))[0]});return function(Qt){return pt.apply(this,arguments)}}();return te.set(X,Vt),Vt}!function Me(ue){he=ue(he)}(ue=>({...ue,get:(X,Oe,ht)=>It(X,Oe)||ue.get(X,Oe,ht),has:(X,Oe)=>!!It(X,Oe)||ue.has(X,Oe)}));class tt{constructor(X){this.container=X}getPlatformInfoString(){return this.container.getProviders().map(Oe=>{if(function Ht(ue){return"VERSION"===ue.getComponent()?.type}(Oe)){const ht=Oe.getImmediate();return`${ht.library}/${ht.version}`}return null}).filter(Oe=>Oe).join(" ")}}const at="@firebase/app",pe=new N.Yd("@firebase/app"),Fr="[DEFAULT]",$i={[at]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Xt=new Map,nn=new Map;function st(ue,X){try{ue.container.addComponent(X)}catch(Oe){pe.debug(`Component ${X.name} failed to register with FirebaseApp ${ue.name}`,Oe)}}function At(ue,X){ue.container.addOrOverwriteComponent(X)}function li(ue){const X=ue.name;if(nn.has(X))return pe.debug(`There were multiple attempts to register component ${X}.`),!1;nn.set(X,ue);for(const Oe of Xt.values())st(Oe,ue);return!0}function Wr(ue,X){const Oe=ue.container.getProvider("heartbeat").getImmediate({optional:!0});return Oe&&Oe.triggerHeartbeat(),ue.container.getProvider(X)}function sr(ue,X,Oe=Fr){Wr(ue,X).clearInstance(Oe)}function Lr(){nn.clear()}const Kr=new se.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class fn{constructor(X,Oe,ht){this._isDeleted=!1,this._options=Object.assign({},X),this._config=Object.assign({},Oe),this._name=Oe.name,this._automaticDataCollectionEnabled=Oe.automaticDataCollectionEnabled,this._container=ht,this.container.addComponent(new Q.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(X){this.checkDestroyed(),this._automaticDataCollectionEnabled=X}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(X){this._isDeleted=X}checkDestroyed(){if(this.isDeleted)throw Kr.create("app-deleted",{appName:this._name})}}const ws="9.21.0";function Wt(ue,X={}){let Oe=ue;"object"!=typeof X&&(X={name:X});const ht=Object.assign({name:Fr,automaticDataCollectionEnabled:!1},X),Ct=ht.name;if("string"!=typeof Ct||!Ct)throw Kr.create("bad-app-name",{appName:String(Ct)});if(Oe||(Oe=(0,se.aH)()),!Oe)throw Kr.create("no-options");const Vt=Xt.get(Ct);if(Vt){if((0,se.vZ)(Oe,Vt.options)&&(0,se.vZ)(ht,Vt.config))return Vt;throw Kr.create("duplicate-app",{appName:Ct})}const pt=new Q.H0(Ct);for(const Qt of nn.values())pt.addComponent(Qt);const en=new fn(Oe,ht,pt);return Xt.set(Ct,en),en}function Hi(ue=Fr){const X=Xt.get(ue);if(!X&&ue===Fr)return Wt();if(!X)throw Kr.create("no-app",{appName:ue});return X}function rn(){return Array.from(Xt.values())}function di(ue){return xn.apply(this,arguments)}function xn(){return(xn=(0,c.Z)(function*(ue){const X=ue.name;Xt.has(X)&&(Xt.delete(X),yield Promise.all(ue.container.getProviders().map(Oe=>Oe.delete())),ue.isDeleted=!0)})).apply(this,arguments)}function Bn(ue,X,Oe){var ht;let Ct=null!==(ht=$i[ue])&&void 0!==ht?ht:ue;Oe&&(Ct+=`-${Oe}`);const Vt=Ct.match(/\s|\//),pt=X.match(/\s|\//);if(Vt||pt){const en=[`Unable to register library "${Ct}" with version "${X}":`];return Vt&&en.push(`library name "${Ct}" contains illegal characters (whitespace or "/")`),Vt&&pt&&en.push("and"),pt&&en.push(`version name "${X}" contains illegal characters (whitespace or "/")`),void pe.warn(en.join(" "))}li(new Q.wA(`${Ct}-version`,()=>({library:Ct,version:X}),"VERSION"))}function Ai(ue,X){if(null!==ue&&"function"!=typeof ue)throw Kr.create("invalid-log-argument");(0,N.Am)(ue,X)}function Cn(ue){(0,N.Ub)(ue)}const Mi="firebase-heartbeat-database",Vr=1,V="firebase-heartbeat-store";let L=null;function z(){return L||(L=function Ce(ue,X,{blocked:Oe,upgrade:ht,blocking:Ct,terminated:Vt}={}){const pt=indexedDB.open(ue,X),en=Pe(pt);return ht&&pt.addEventListener("upgradeneeded",Qt=>{ht(Pe(pt.result),Qt.oldVersion,Qt.newVersion,Pe(pt.transaction),Qt)}),Oe&&pt.addEventListener("blocked",Qt=>Oe(Qt.oldVersion,Qt.newVersion,Qt)),en.then(Qt=>{Vt&&Qt.addEventListener("close",()=>Vt()),Ct&&Qt.addEventListener("versionchange",or=>Ct(or.oldVersion,or.newVersion,or))}).catch(()=>{}),en}(Mi,Vr,{upgrade:(ue,X)=>{0===X&&ue.createObjectStore(V)}}).catch(ue=>{throw Kr.create("idb-open",{originalErrorMessage:ue.message})})),L}function J(){return(J=(0,c.Z)(function*(ue){try{return(yield z()).transaction(V).objectStore(V).get(Yt(ue))}catch(X){if(X instanceof se.ZR)pe.warn(X.message);else{const Oe=Kr.create("idb-get",{originalErrorMessage:X?.message});pe.warn(Oe.message)}}})).apply(this,arguments)}function Ne(ue,X){return bt.apply(this,arguments)}function bt(){return(bt=(0,c.Z)(function*(ue,X){try{const ht=(yield z()).transaction(V,"readwrite");return yield ht.objectStore(V).put(X,Yt(ue)),ht.done}catch(Oe){if(Oe instanceof se.ZR)pe.warn(Oe.message);else{const ht=Kr.create("idb-set",{originalErrorMessage:Oe?.message});pe.warn(ht.message)}}})).apply(this,arguments)}function Yt(ue){return`${ue.name}!${ue.options.appId}`}class an{constructor(X){this.container=X,this._heartbeatsCache=null;const Oe=this.container.getProvider("app").getImmediate();this._storage=new xi(Oe),this._heartbeatsCachePromise=this._storage.read().then(ht=>(this._heartbeatsCache=ht,ht))}triggerHeartbeat(){var X=this;return(0,c.Z)(function*(){const ht=X.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Ct=Gt();if(null===X._heartbeatsCache&&(X._heartbeatsCache=yield X._heartbeatsCachePromise),X._heartbeatsCache.lastSentHeartbeatDate!==Ct&&!X._heartbeatsCache.heartbeats.some(Vt=>Vt.date===Ct))return X._heartbeatsCache.heartbeats.push({date:Ct,agent:ht}),X._heartbeatsCache.heartbeats=X._heartbeatsCache.heartbeats.filter(Vt=>{const pt=new Date(Vt.date).valueOf();return Date.now()-pt<=2592e6}),X._storage.overwrite(X._heartbeatsCache)})()}getHeartbeatsHeader(){var X=this;return(0,c.Z)(function*(){if(null===X._heartbeatsCache&&(yield X._heartbeatsCachePromise),null===X._heartbeatsCache||0===X._heartbeatsCache.heartbeats.length)return"";const Oe=Gt(),{heartbeatsToSend:ht,unsentEntries:Ct}=function Dr(ue,X=1024){const Oe=[];let ht=ue.slice();for(const Ct of ue){const Vt=Oe.find(pt=>pt.agent===Ct.agent);if(Vt){if(Vt.dates.push(Ct.date),Gi(Oe)>X){Vt.dates.pop();break}}else if(Oe.push({agent:Ct.agent,dates:[Ct.date]}),Gi(Oe)>X){Oe.pop();break}ht=ht.slice(1)}return{heartbeatsToSend:Oe,unsentEntries:ht}}(X._heartbeatsCache.heartbeats),Vt=(0,se.L)(JSON.stringify({version:2,heartbeats:ht}));return X._heartbeatsCache.lastSentHeartbeatDate=Oe,Ct.length>0?(X._heartbeatsCache.heartbeats=Ct,yield X._storage.overwrite(X._heartbeatsCache)):(X._heartbeatsCache.heartbeats=[],X._storage.overwrite(X._heartbeatsCache)),Vt})()}}function Gt(){return(new Date).toISOString().substring(0,10)}class xi{constructor(X){this.app=X,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,c.Z)(function*(){return!!(0,se.hl)()&&(0,se.eu)().then(()=>!0).catch(()=>!1)})()}read(){var X=this;return(0,c.Z)(function*(){return(yield X._canUseIndexedDBPromise)&&(yield function me(ue){return J.apply(this,arguments)}(X.app))||{heartbeats:[]}})()}overwrite(X){var Oe=this;return(0,c.Z)(function*(){var ht;if(yield Oe._canUseIndexedDBPromise){const Vt=yield Oe.read();return Ne(Oe.app,{lastSentHeartbeatDate:null!==(ht=X.lastSentHeartbeatDate)&&void 0!==ht?ht:Vt.lastSentHeartbeatDate,heartbeats:X.heartbeats})}})()}add(X){var Oe=this;return(0,c.Z)(function*(){var ht;if(yield Oe._canUseIndexedDBPromise){const Vt=yield Oe.read();return Ne(Oe.app,{lastSentHeartbeatDate:null!==(ht=X.lastSentHeartbeatDate)&&void 0!==ht?ht:Vt.lastSentHeartbeatDate,heartbeats:[...Vt.heartbeats,...X.heartbeats]})}})()}}function Gi(ue){return(0,se.L)(JSON.stringify({version:2,heartbeats:ue})).length}!function fa(ue){li(new Q.wA("platform-logger",X=>new tt(X),"PRIVATE")),li(new Q.wA("heartbeat",X=>new an(X),"PRIVATE")),Bn(at,"0.9.9",ue),Bn(at,"0.9.9","esm2017"),Bn("fire-js","")}("")},4859:(mt,Te,k)=>{k.d(Te,{H0:()=>ve,wA:()=>N});var c=k(5861),Q=k(2090);class N{constructor($,j,q){this.name=$,this.instanceFactory=j,this.type=q,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode($){return this.instantiationMode=$,this}setMultipleInstances($){return this.multipleInstances=$,this}setServiceProps($){return this.serviceProps=$,this}setInstanceCreatedCallback($){return this.onInstanceCreated=$,this}}const se="[DEFAULT]";class ie{constructor($,j){this.name=$,this.container=j,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get($){const j=this.normalizeInstanceIdentifier($);if(!this.instancesDeferred.has(j)){const q=new Q.BH;if(this.instancesDeferred.set(j,q),this.isInitialized(j)||this.shouldAutoInitialize())try{const je=this.getOrInitializeService({instanceIdentifier:j});je&&q.resolve(je)}catch{}}return this.instancesDeferred.get(j).promise}getImmediate($){var j;const q=this.normalizeInstanceIdentifier($?.identifier),je=null!==(j=$?.optional)&&void 0!==j&&j;if(!this.isInitialized(q)&&!this.shouldAutoInitialize()){if(je)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:q})}catch(Ie){if(je)return null;throw Ie}}getComponent(){return this.component}setComponent($){if($.name!==this.name)throw Error(`Mismatching Component ${$.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=$,this.shouldAutoInitialize()){if(function ge(le){return"EAGER"===le.instantiationMode}($))try{this.getOrInitializeService({instanceIdentifier:se})}catch{}for(const[j,q]of this.instancesDeferred.entries()){const je=this.normalizeInstanceIdentifier(j);try{const Ie=this.getOrInitializeService({instanceIdentifier:je});q.resolve(Ie)}catch{}}}}clearInstance($=se){this.instancesDeferred.delete($),this.instancesOptions.delete($),this.instances.delete($)}delete(){var $=this;return(0,c.Z)(function*(){const j=Array.from($.instances.values());yield Promise.all([...j.filter(q=>"INTERNAL"in q).map(q=>q.INTERNAL.delete()),...j.filter(q=>"_delete"in q).map(q=>q._delete())])})()}isComponentSet(){return null!=this.component}isInitialized($=se){return this.instances.has($)}getOptions($=se){return this.instancesOptions.get($)||{}}initialize($={}){const{options:j={}}=$,q=this.normalizeInstanceIdentifier($.instanceIdentifier);if(this.isInitialized(q))throw Error(`${this.name}(${q}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const je=this.getOrInitializeService({instanceIdentifier:q,options:j});for(const[Ie,Ze]of this.instancesDeferred.entries())q===this.normalizeInstanceIdentifier(Ie)&&Ze.resolve(je);return je}onInit($,j){var q;const je=this.normalizeInstanceIdentifier(j),Ie=null!==(q=this.onInitCallbacks.get(je))&&void 0!==q?q:new Set;Ie.add($),this.onInitCallbacks.set(je,Ie);const Ze=this.instances.get(je);return Ze&&$(Ze,je),()=>{Ie.delete($)}}invokeOnInitCallbacks($,j){const q=this.onInitCallbacks.get(j);if(q)for(const je of q)try{je($,j)}catch{}}getOrInitializeService({instanceIdentifier:$,options:j={}}){let q=this.instances.get($);if(!q&&this.component&&(q=this.component.instanceFactory(this.container,{instanceIdentifier:(le=$,le===se?void 0:le),options:j}),this.instances.set($,q),this.instancesOptions.set($,j),this.invokeOnInitCallbacks(q,$),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,$,q)}catch{}var le;return q||null}normalizeInstanceIdentifier($=se){return this.component?this.component.multipleInstances?$:se:$}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ve{constructor($){this.name=$,this.providers=new Map}addComponent($){const j=this.getProvider($.name);if(j.isComponentSet())throw new Error(`Component ${$.name} has already been registered with ${this.name}`);j.setComponent($)}addOrOverwriteComponent($){this.getProvider($.name).isComponentSet()&&this.providers.delete($.name),this.addComponent($)}getProvider($){if(this.providers.has($))return this.providers.get($);const j=new ie($,this);return this.providers.set($,j),j}getProviders(){return Array.from(this.providers.values())}}},1877:(mt,Te,k)=>{k.d(Te,{Am:()=>le,Ub:()=>ve,Yd:()=>ge,in:()=>Q});const c=[];var Q=(()=>{return($=Q||(Q={}))[$.DEBUG=0]="DEBUG",$[$.VERBOSE=1]="VERBOSE",$[$.INFO=2]="INFO",$[$.WARN=3]="WARN",$[$.ERROR=4]="ERROR",$[$.SILENT=5]="SILENT",Q;var $})();const N={debug:Q.DEBUG,verbose:Q.VERBOSE,info:Q.INFO,warn:Q.WARN,error:Q.ERROR,silent:Q.SILENT},se=Q.INFO,ie={[Q.DEBUG]:"log",[Q.VERBOSE]:"log",[Q.INFO]:"info",[Q.WARN]:"warn",[Q.ERROR]:"error"},re=($,j,...q)=>{if(j<$.logLevel)return;const je=(new Date).toISOString(),Ie=ie[j];if(!Ie)throw new Error(`Attempted to log a message with an invalid logType (value: ${j})`);console[Ie](`[${je}]  ${$.name}:`,...q)};class ge{constructor(j){this.name=j,this._logLevel=se,this._logHandler=re,this._userLogHandler=null,c.push(this)}get logLevel(){return this._logLevel}set logLevel(j){if(!(j in Q))throw new TypeError(`Invalid value "${j}" assigned to \`logLevel\``);this._logLevel=j}setLogLevel(j){this._logLevel="string"==typeof j?N[j]:j}get logHandler(){return this._logHandler}set logHandler(j){if("function"!=typeof j)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=j}get userLogHandler(){return this._userLogHandler}set userLogHandler(j){this._userLogHandler=j}debug(...j){this._userLogHandler&&this._userLogHandler(this,Q.DEBUG,...j),this._logHandler(this,Q.DEBUG,...j)}log(...j){this._userLogHandler&&this._userLogHandler(this,Q.VERBOSE,...j),this._logHandler(this,Q.VERBOSE,...j)}info(...j){this._userLogHandler&&this._userLogHandler(this,Q.INFO,...j),this._logHandler(this,Q.INFO,...j)}warn(...j){this._userLogHandler&&this._userLogHandler(this,Q.WARN,...j),this._logHandler(this,Q.WARN,...j)}error(...j){this._userLogHandler&&this._userLogHandler(this,Q.ERROR,...j),this._logHandler(this,Q.ERROR,...j)}}function ve($){c.forEach(j=>{j.setLogLevel($)})}function le($,j){for(const q of c){let je=null;j&&j.level&&(je=N[j.level]),q.userLogHandler=null===$?null:(Ie,Ze,...lt)=>{const he=lt.map(Me=>{if(null==Me)return null;if("string"==typeof Me)return Me;if("number"==typeof Me||"boolean"==typeof Me)return Me.toString();if(Me instanceof Error)return Me.message;try{return JSON.stringify(Me)}catch{return null}}).filter(Me=>Me).join(" ");Ze>=(je??Ie.logLevel)&&$({level:Q[Ze].toLowerCase(),message:he,args:lt,type:Ie.name})}}}},259:(mt,Te,k)=>{k.d(Te,{C6:()=>c.getApps,Mq:()=>c.getApp});var c=k(6881);(0,c.registerVersion)("firebase","9.21.0","app")},9260:(mt,Te,k)=>{k.d(Te,{Z:()=>c.Z});var c=k(3942);c.Z.registerVersion("firebase","9.21.0","app-compat")},3042:(mt,Te,k)=>{k.r(Te);var c=k(5861),Q=k(3942),N=k(2090),se=k(6881),ie=k(655),re=k(1877),ge=k(4859);const le={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},q_EMAIL_SIGNIN="EMAIL_SIGNIN",q_PASSWORD_RESET="PASSWORD_RESET",q_RECOVER_EMAIL="RECOVER_EMAIL",q_REVERT_SECOND_FACTOR_ADDITION="REVERT_SECOND_FACTOR_ADDITION",q_VERIFY_AND_CHANGE_EMAIL="VERIFY_AND_CHANGE_EMAIL",q_VERIFY_EMAIL="VERIFY_EMAIL";const Ze=function je(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},lt=function Ie(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},he=new N.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),xe=new re.Yd("@firebase/auth");function Pe(y,...f){xe.logLevel<=re.in.ERROR&&xe.error(`Auth (${se.SDK_VERSION}): ${y}`,...f)}function we(y,...f){throw it(y,...f)}function Ce(y,...f){return it(y,...f)}function $e(y,f,p){const v=Object.assign(Object.assign({},lt()),{[f]:p});return new N.LL("auth","Firebase",v).create(f,{appName:y.name})}function Re(y,f,p){if(!(f instanceof p))throw p.name!==f.constructor.name&&we(y,"argument-error"),$e(y,"argument-error",`Type of ${f.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function it(y,...f){if("string"!=typeof y){const p=f[0],v=[...f.slice(1)];return v[0]&&(v[0].appName=y.name),y._errorFactory.create(p,...v)}return he.create(y,...f)}function te(y,f,...p){if(!y)throw it(f,...p)}function It(y){const f="INTERNAL ASSERTION FAILED: "+y;throw Pe(f),new Error(f)}function tt(y,f){y||It(f)}function Ht(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function at(){return"http:"===de()||"https:"===de()}function de(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class Se{constructor(f,p){this.shortDelay=f,this.longDelay=p,tt(p>f,"Short delay should be less than long delay!"),this.isMobile=(0,N.uI)()||(0,N.b$)()}get(){return function pe(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(at()||(0,N.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function He(y,f){tt(y.emulator,"Emulator should always be set here");const{url:p}=y.emulator;return f?`${p}${f.startsWith("/")?f.slice(1):f}`:p}class Be{static initialize(f,p,v){this.fetchImpl=f,p&&(this.headersImpl=p),v&&(this.responseImpl=v)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void It("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void It("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void It("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const dt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},ut=new Se(3e4,6e4);function xt(y,f){return y.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:y.tenantId}):f}function Ye(y,f,p,v){return $t.apply(this,arguments)}function $t(){return($t=(0,c.Z)(function*(y,f,p,v,T={}){return Et(y,T,(0,c.Z)(function*(){let x={},B={};v&&("GET"===f?B=v:x={body:JSON.stringify(v)});const K=(0,N.xO)(Object.assign({key:y.config.apiKey},B)).slice(1),be=yield y._getAdditionalHeaders();return be["Content-Type"]="application/json",y.languageCode&&(be["X-Firebase-Locale"]=y.languageCode),Be.fetch()(Er(y,y.config.apiHost,p,K),Object.assign({method:f,headers:be,referrerPolicy:"no-referrer"},x))}))})).apply(this,arguments)}function Et(y,f,p){return tn.apply(this,arguments)}function tn(){return(tn=(0,c.Z)(function*(y,f,p){y._canInitEmulator=!1;const v=Object.assign(Object.assign({},dt),f);try{const T=new kr(y),x=yield Promise.race([p(),T.promise]);T.clearNetworkTimeout();const B=yield x.json();if("needConfirmation"in B)throw Ir(y,"account-exists-with-different-credential",B);if(x.ok&&!("errorMessage"in B))return B;{const K=x.ok?B.errorMessage:B.error.message,[be,Ve]=K.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===be)throw Ir(y,"credential-already-in-use",B);if("EMAIL_EXISTS"===be)throw Ir(y,"email-already-in-use",B);if("USER_DISABLED"===be)throw Ir(y,"user-disabled",B);const nt=v[be]||be.toLowerCase().replace(/[_\s]+/g,"-");if(Ve)throw $e(y,nt,Ve);we(y,nt)}}catch(T){if(T instanceof N.ZR)throw T;we(y,"network-request-failed",{message:String(T)})}})).apply(this,arguments)}function yn(y,f,p,v){return bn.apply(this,arguments)}function bn(){return(bn=(0,c.Z)(function*(y,f,p,v,T={}){const x=yield Ye(y,f,p,v,T);return"mfaPendingCredential"in x&&we(y,"multi-factor-auth-required",{_serverResponse:x}),x})).apply(this,arguments)}function Er(y,f,p,v){const T=`${f}${p}?${v}`;return y.config.emulator?He(y.config,T):`${y.config.apiScheme}://${T}`}class kr{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((p,v)=>{this.timer=setTimeout(()=>v(Ce(this.auth,"network-request-failed")),ut.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ir(y,f,p){const v={appName:y.name};p.email&&(v.email=p.email),p.phoneNumber&&(v.phoneNumber=p.phoneNumber);const T=Ce(y,f,v);return T.customData._tokenResponse=p,T}function ci(){return(ci=(0,c.Z)(function*(y,f){return Ye(y,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function Zs(){return(Zs=(0,c.Z)(function*(y,f){return Ye(y,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function ft(){return(ft=(0,c.Z)(function*(y,f){return Ye(y,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function Zr(y){if(y)try{const f=new Date(Number(y));if(!isNaN(f.getTime()))return f.toUTCString()}catch{}}function Fr(){return(Fr=(0,c.Z)(function*(y,f=!1){const p=(0,N.m9)(y),v=yield p.getIdToken(f),T=Xt(v);te(T&&T.exp&&T.auth_time&&T.iat,p.auth,"internal-error");const x="object"==typeof T.firebase?T.firebase:void 0,B=x?.sign_in_provider;return{claims:T,token:v,authTime:Zr($i(T.auth_time)),issuedAtTime:Zr($i(T.iat)),expirationTime:Zr($i(T.exp)),signInProvider:B||null,signInSecondFactor:x?.sign_in_second_factor||null}})).apply(this,arguments)}function $i(y){return 1e3*Number(y)}function Xt(y){const[f,p,v]=y.split(".");if(void 0===f||void 0===p||void 0===v)return Pe("JWT malformed, contained fewer than 3 sections"),null;try{const T=(0,N.tV)(p);return T?JSON.parse(T):(Pe("Failed to decode base64 JWT payload"),null)}catch(T){return Pe("Caught error parsing JWT payload as JSON",T?.toString()),null}}function st(y,f){return At.apply(this,arguments)}function At(){return(At=(0,c.Z)(function*(y,f,p=!1){if(p)return f;try{return yield f}catch(v){throw v instanceof N.ZR&&function li({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}(v)&&y.auth.currentUser===y&&(yield y.auth.signOut()),v}})).apply(this,arguments)}class Wr{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var p;if(f){const v=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),v}{this.errorBackoff=3e4;const T=(null!==(p=this.user.stsTokenManager.expirationTime)&&void 0!==p?p:0)-Date.now()-3e5;return Math.max(0,T)}}schedule(f=!1){var p=this;if(!this.isRunning)return;const v=this.getInterval(f);this.timerId=setTimeout((0,c.Z)(function*(){yield p.iteration()}),v)}iteration(){var f=this;return(0,c.Z)(function*(){try{yield f.user.getIdToken(!0)}catch(p){return void("auth/network-request-failed"===p?.code&&f.schedule(!0))}f.schedule()})()}}class sr{constructor(f,p){this.createdAt=f,this.lastLoginAt=p,this._initializeTime()}_initializeTime(){this.lastSignInTime=Zr(this.lastLoginAt),this.creationTime=Zr(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Lr(y){return An.apply(this,arguments)}function An(){return An=(0,c.Z)(function*(y){var f;const p=y.auth,v=yield y.getIdToken(),T=yield st(y,function br(y,f){return ft.apply(this,arguments)}(p,{idToken:v}));te(T?.users.length,p,"internal-error");const x=T.users[0];y._notifyReloadListener(x);const B=null!==(f=x.providerUserInfo)&&void 0!==f&&f.length?function Wt(y){return y.map(f=>{var{providerId:p}=f,v=(0,ie._T)(f,["providerId"]);return{providerId:p,uid:v.rawId||"",displayName:v.displayName||null,email:v.email||null,phoneNumber:v.phoneNumber||null,photoURL:v.photoUrl||null}})}(x.providerUserInfo):[],K=function ws(y,f){return[...y.filter(v=>!f.some(T=>T.providerId===v.providerId)),...f]}(y.providerData,B),nt=!!y.isAnonymous&&!(y.email&&x.passwordHash||K?.length),Xe={uid:x.localId,displayName:x.displayName||null,photoURL:x.photoUrl||null,email:x.email||null,emailVerified:x.emailVerified||!1,phoneNumber:x.phoneNumber||null,tenantId:x.tenantId||null,providerData:K,metadata:new sr(x.createdAt,x.lastLoginAt),isAnonymous:nt};Object.assign(y,Xe)}),An.apply(this,arguments)}function fn(){return(fn=(0,c.Z)(function*(y){const f=(0,N.m9)(y);yield Lr(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function rn(){return(rn=(0,c.Z)(function*(y,f){const p=yield Et(y,{},(0,c.Z)(function*(){const v=(0,N.xO)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:T,apiKey:x}=y.config,B=Er(y,T,"/v1/token",`key=${x}`),K=yield y._getAdditionalHeaders();return K["Content-Type"]="application/x-www-form-urlencoded",Be.fetch()(B,{method:"POST",headers:K,body:v})}));return{accessToken:p.access_token,expiresIn:p.expires_in,refreshToken:p.refresh_token}})).apply(this,arguments)}class di{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){te(f.idToken,"internal-error"),te(typeof f.idToken<"u","internal-error"),te(typeof f.refreshToken<"u","internal-error");const p="expiresIn"in f&&typeof f.expiresIn<"u"?Number(f.expiresIn):function nn(y){const f=Xt(y);return te(f,"internal-error"),te(typeof f.exp<"u","internal-error"),te(typeof f.iat<"u","internal-error"),Number(f.exp)-Number(f.iat)}(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,p)}getToken(f,p=!1){var v=this;return(0,c.Z)(function*(){return te(!v.accessToken||v.refreshToken,f,"user-token-expired"),p||!v.accessToken||v.isExpired?v.refreshToken?(yield v.refresh(f,v.refreshToken),v.accessToken):null:v.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(f,p){var v=this;return(0,c.Z)(function*(){const{accessToken:T,refreshToken:x,expiresIn:B}=yield function Hi(y,f){return rn.apply(this,arguments)}(f,p);v.updateTokensAndExpiration(T,x,Number(B))})()}updateTokensAndExpiration(f,p,v){this.refreshToken=p||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*v}static fromJSON(f,p){const{refreshToken:v,accessToken:T,expirationTime:x}=p,B=new di;return v&&(te("string"==typeof v,"internal-error",{appName:f}),B.refreshToken=v),T&&(te("string"==typeof T,"internal-error",{appName:f}),B.accessToken=T),x&&(te("number"==typeof x,"internal-error",{appName:f}),B.expirationTime=x),B}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new di,this.toJSON())}_performRefresh(){return It("not implemented")}}function xn(y,f){te("string"==typeof y||typeof y>"u","internal-error",{appName:f})}class Bn{constructor(f){var{uid:p,auth:v,stsTokenManager:T}=f,x=(0,ie._T)(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Wr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=p,this.auth=v,this.stsTokenManager=T,this.accessToken=T.accessToken,this.displayName=x.displayName||null,this.email=x.email||null,this.emailVerified=x.emailVerified||!1,this.phoneNumber=x.phoneNumber||null,this.photoURL=x.photoURL||null,this.isAnonymous=x.isAnonymous||!1,this.tenantId=x.tenantId||null,this.providerData=x.providerData?[...x.providerData]:[],this.metadata=new sr(x.createdAt||void 0,x.lastLoginAt||void 0)}getIdToken(f){var p=this;return(0,c.Z)(function*(){const v=yield st(p,p.stsTokenManager.getToken(p.auth,f));return te(v,p.auth,"internal-error"),p.accessToken!==v&&(p.accessToken=v,yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)),v})()}getIdTokenResult(f){return function hr(y){return Fr.apply(this,arguments)}(this,f)}reload(){return function Kr(y){return fn.apply(this,arguments)}(this)}_assign(f){this!==f&&(te(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(p=>Object.assign({},p)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){const p=new Bn(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}));return p.metadata._copy(this.metadata),p}_onReload(f){te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f,p=!1){var v=this;return(0,c.Z)(function*(){let T=!1;f.idToken&&f.idToken!==v.stsTokenManager.accessToken&&(v.stsTokenManager.updateFromServerResponse(f),T=!0),p&&(yield Lr(v)),yield v.auth._persistUserIfCurrent(v),T&&v.auth._notifyListenersIfCurrent(v)})()}delete(){var f=this;return(0,c.Z)(function*(){const p=yield f.getIdToken();return yield st(f,function vs(y,f){return ci.apply(this,arguments)}(f.auth,{idToken:p})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,p){var v,T,x,B,K,be,Ve,nt;const Xe=null!==(v=p.displayName)&&void 0!==v?v:void 0,In=null!==(T=p.email)&&void 0!==T?T:void 0,Ci=null!==(x=p.phoneNumber)&&void 0!==x?x:void 0,ac=null!==(B=p.photoURL)&&void 0!==B?B:void 0,Pf=null!==(K=p.tenantId)&&void 0!==K?K:void 0,Ln=null!==(be=p._redirectEventId)&&void 0!==be?be:void 0,Of=null!==(Ve=p.createdAt)&&void 0!==Ve?Ve:void 0,p_=null!==(nt=p.lastLoginAt)&&void 0!==nt?nt:void 0,{uid:Hd,emailVerified:Vg,isAnonymous:Ug,providerData:Rf,stsTokenManager:g_}=p;te(Hd&&g_,f,"internal-error");const Tw=di.fromJSON(this.name,g_);te("string"==typeof Hd,f,"internal-error"),xn(Xe,f.name),xn(In,f.name),te("boolean"==typeof Vg,f,"internal-error"),te("boolean"==typeof Ug,f,"internal-error"),xn(Ci,f.name),xn(ac,f.name),xn(Pf,f.name),xn(Ln,f.name),xn(Of,f.name),xn(p_,f.name);const Nf=new Bn({uid:Hd,auth:f,email:In,emailVerified:Vg,displayName:Xe,isAnonymous:Ug,photoURL:ac,phoneNumber:Ci,tenantId:Pf,stsTokenManager:Tw,createdAt:Of,lastLoginAt:p_});return Rf&&Array.isArray(Rf)&&(Nf.providerData=Rf.map(zb=>Object.assign({},zb))),Ln&&(Nf._redirectEventId=Ln),Nf}static _fromIdTokenResponse(f,p,v=!1){return(0,c.Z)(function*(){const T=new di;T.updateFromServerResponse(p);const x=new Bn({uid:p.localId,auth:f,stsTokenManager:T,isAnonymous:v});return yield Lr(x),x})()}}const Ai=new Map;function Cn(y){tt(y instanceof Function,"Expected a class definition");let f=Ai.get(y);return f?(tt(f instanceof y,"Instance stored in cache mismatched with class"),f):(f=new y,Ai.set(y,f),f)}const Vr=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,c.Z)(function*(){return!0})()}_set(p,v){var T=this;return(0,c.Z)(function*(){T.storage[p]=v})()}_get(p){var v=this;return(0,c.Z)(function*(){const T=v.storage[p];return void 0===T?null:T})()}_remove(p){var v=this;return(0,c.Z)(function*(){delete v.storage[p]})()}_addListener(p,v){}_removeListener(p,v){}}return y.type="NONE",y})();function V(y,f,p){return`firebase:${y}:${f}:${p}`}class L{constructor(f,p,v){this.persistence=f,this.auth=p,this.userKey=v;const{config:T,name:x}=this.auth;this.fullUserKey=V(this.userKey,T.apiKey,x),this.fullPersistenceKey=V("persistence",T.apiKey,x),this.boundEventHandler=p._onStorageEvent.bind(p),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,c.Z)(function*(){const p=yield f.persistence._get(f.fullUserKey);return p?Bn._fromJSON(f.auth,p):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var p=this;return(0,c.Z)(function*(){if(p.persistence===f)return;const v=yield p.getCurrentUser();return yield p.removeCurrentUser(),p.persistence=f,v?p.setCurrentUser(v):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,p,v="authUser"){return(0,c.Z)(function*(){if(!p.length)return new L(Cn(Vr),f,v);const T=(yield Promise.all(p.map(function(){var Ve=(0,c.Z)(function*(nt){if(yield nt._isAvailable())return nt});return function(nt){return Ve.apply(this,arguments)}}()))).filter(Ve=>Ve);let x=T[0]||Cn(Vr);const B=V(v,f.config.apiKey,f.name);let K=null;for(const Ve of p)try{const nt=yield Ve._get(B);if(nt){const Xe=Bn._fromJSON(f,nt);Ve!==x&&(K=Xe),x=Ve;break}}catch{}const be=T.filter(Ve=>Ve._shouldAllowMigration);return x._shouldAllowMigration&&be.length?(x=be[0],K&&(yield x._set(B,K.toJSON())),yield Promise.all(p.map(function(){var Ve=(0,c.Z)(function*(nt){if(nt!==x)try{yield nt._remove(B)}catch{}});return function(nt){return Ve.apply(this,arguments)}}())),new L(x,f,v)):new L(x,f,v)})()}}function z(y){const f=y.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if(bt(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if(me(f))return"Firefox";if(f.includes("silk/"))return"Silk";if(Nn(f))return"Blackberry";if(Dn(f))return"Webos";if(J(f))return"Safari";if((f.includes("chrome/")||Ne(f))&&!f.includes("edge/"))return"Chrome";if(Yt(f))return"Android";{const v=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===v?.length)return v[1]}return"Other"}function me(y=(0,N.z$)()){return/firefox\//i.test(y)}function J(y=(0,N.z$)()){const f=y.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function Ne(y=(0,N.z$)()){return/crios\//i.test(y)}function bt(y=(0,N.z$)()){return/iemobile/i.test(y)}function Yt(y=(0,N.z$)()){return/android/i.test(y)}function Nn(y=(0,N.z$)()){return/blackberry/i.test(y)}function Dn(y=(0,N.z$)()){return/webos/i.test(y)}function an(y=(0,N.z$)()){return/iphone|ipad|ipod/i.test(y)||/macintosh/i.test(y)&&/mobile/i.test(y)}function Gi(y=(0,N.z$)()){return an(y)||Yt(y)||Dn(y)||Nn(y)||/windows phone/i.test(y)||bt(y)}function ue(y,f=[]){let p;switch(y){case"Browser":p=z((0,N.z$)());break;case"Worker":p=`${z((0,N.z$)())}-${y}`;break;default:p=y}const v=f.length?f.join(","):"FirebaseCore-web";return`${p}/JsCore/${se.SDK_VERSION}/${v}`}function Oe(){return(Oe=(0,c.Z)(function*(y){return(yield Ye(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function ht(y,f){return Ct.apply(this,arguments)}function Ct(){return(Ct=(0,c.Z)(function*(y,f){return Ye(y,"GET","/v2/recaptchaConfig",xt(y,f))})).apply(this,arguments)}function Vt(y){return void 0!==y&&void 0!==y.getResponse}function pt(y){return void 0!==y&&void 0!==y.enterprise}class en{constructor(f){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===f.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=f.recaptchaKey.split("/")[3],this.emailPasswordEnabled=f.recaptchaEnforcementState.some(p=>"EMAIL_PASSWORD_PROVIDER"===p.provider&&"OFF"!==p.enforcementState)}}function or(y){return new Promise((f,p)=>{const v=document.createElement("script");v.setAttribute("src",y),v.onload=f,v.onerror=T=>{const x=Ce("internal-error");x.customData=T,p(x)},v.type="text/javascript",v.charset="UTF-8",function Qt(){var y,f;return null!==(f=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==f?f:document}().appendChild(v)})}function jn(y){return`__${y}${Math.floor(1e6*Math.random())}`}const Ws="NO_RECAPTCHA";class hi{constructor(f){this.type="recaptcha-enterprise",this.auth=cn(f)}verify(f="verify",p=!1){var v=this;return(0,c.Z)(function*(){function x(){return x=(0,c.Z)(function*(K){if(!p){if(null==K.tenantId&&null!=K._agentRecaptchaConfig)return K._agentRecaptchaConfig.siteKey;if(null!=K.tenantId&&void 0!==K._tenantRecaptchaConfigs[K.tenantId])return K._tenantRecaptchaConfigs[K.tenantId].siteKey}return new Promise(function(){var be=(0,c.Z)(function*(Ve,nt){ht(K,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Xe=>{if(void 0!==Xe.recaptchaKey){const In=new en(Xe);return null==K.tenantId?K._agentRecaptchaConfig=In:K._tenantRecaptchaConfigs[K.tenantId]=In,Ve(In.siteKey)}nt(new Error("recaptcha Enterprise site key undefined"))}).catch(Xe=>{nt(Xe)})});return function(Ve,nt){return be.apply(this,arguments)}}())}),x.apply(this,arguments)}function B(K,be,Ve){const nt=window.grecaptcha;pt(nt)?nt.enterprise.ready(()=>{nt.enterprise.execute(K,{action:f}).then(Xe=>{be(Xe)}).catch(()=>{be(Ws)})}):Ve(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((K,be)=>{(function T(K){return x.apply(this,arguments)})(v.auth).then(Ve=>{if(!p&&pt(window.grecaptcha))B(Ve,K,be);else{if(typeof window>"u")return void be(new Error("RecaptchaVerifier is only supported in browser"));or("https://www.google.com/recaptcha/enterprise.js?render="+Ve).then(()=>{B(Ve,K,be)}).catch(nt=>{be(nt)})}}).catch(Ve=>{be(Ve)})})})()}}function qe(y,f,p){return Rt.apply(this,arguments)}function Rt(){return(Rt=(0,c.Z)(function*(y,f,p,v=!1){const T=new hi(y);let x;try{x=yield T.verify(p)}catch{x=yield T.verify(p,!0)}const B=Object.assign({},f);return Object.assign(B,v?{captchaResp:x}:{captchaResponse:x}),Object.assign(B,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(B,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),B})).apply(this,arguments)}class En{constructor(f){this.auth=f,this.queue=[]}pushCallback(f,p){const v=x=>new Promise((B,K)=>{try{B(f(x))}catch(be){K(be)}});v.onAbort=p,this.queue.push(v);const T=this.queue.length-1;return()=>{this.queue[T]=()=>Promise.resolve()}}runMiddleware(f){var p=this;return(0,c.Z)(function*(){if(p.auth.currentUser===f)return;const v=[];try{for(const T of p.queue)yield T(f),T.onAbort&&v.push(T.onAbort)}catch(T){v.reverse();for(const x of v)try{x()}catch{}throw p.auth._errorFactory.create("login-blocked",{originalMessage:T?.message})}})()}}class fi{constructor(f,p,v,T){this.app=f,this.heartbeatServiceProvider=p,this.appCheckServiceProvider=v,this.config=T,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new $n(this),this.idTokenSubscription=new $n(this),this.beforeStateQueue=new En(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=he,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=T.sdkClientVersion}_initializeWithPersistence(f,p){var v=this;return p&&(this._popupRedirectResolver=Cn(p)),this._initializationPromise=this.queue((0,c.Z)(function*(){var T,x;if(!v._deleted&&(v.persistenceManager=yield L.create(v,f),!v._deleted)){if(null!==(T=v._popupRedirectResolver)&&void 0!==T&&T._shouldInitProactively)try{yield v._popupRedirectResolver._initialize(v)}catch{}yield v.initializeCurrentUser(p),v.lastNotifiedUid=(null===(x=v.currentUser)||void 0===x?void 0:x.uid)||null,!v._deleted&&(v._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,c.Z)(function*(){if(f._deleted)return;const p=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||p){if(f.currentUser&&p&&f.currentUser.uid===p.uid)return f._currentUser._assign(p),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(p,!0)}})()}initializeCurrentUser(f){var p=this;return(0,c.Z)(function*(){var v;const T=yield p.assertedPersistence.getCurrentUser();let x=T,B=!1;if(f&&p.config.authDomain){yield p.getOrInitRedirectPersistenceManager();const K=null===(v=p.redirectUser)||void 0===v?void 0:v._redirectEventId,be=x?._redirectEventId,Ve=yield p.tryRedirectSignIn(f);(!K||K===be)&&Ve?.user&&(x=Ve.user,B=!0)}if(!x)return p.directlySetCurrentUser(null);if(!x._redirectEventId){if(B)try{yield p.beforeStateQueue.runMiddleware(x)}catch(K){x=T,p._popupRedirectResolver._overrideRedirectResult(p,()=>Promise.reject(K))}return x?p.reloadAndSetCurrentUserOrClear(x):p.directlySetCurrentUser(null)}return te(p._popupRedirectResolver,p,"argument-error"),yield p.getOrInitRedirectPersistenceManager(),p.redirectUser&&p.redirectUser._redirectEventId===x._redirectEventId?p.directlySetCurrentUser(x):p.reloadAndSetCurrentUserOrClear(x)})()}tryRedirectSignIn(f){var p=this;return(0,c.Z)(function*(){let v=null;try{v=yield p._popupRedirectResolver._completeRedirectFn(p,f,!0)}catch{yield p._setRedirectUser(null)}return v})()}reloadAndSetCurrentUserOrClear(f){var p=this;return(0,c.Z)(function*(){try{yield Lr(f)}catch(v){if("auth/network-request-failed"!==v?.code)return p.directlySetCurrentUser(null)}return p.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function Ee(){if(typeof navigator>"u")return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var f=this;return(0,c.Z)(function*(){f._deleted=!0})()}updateCurrentUser(f){var p=this;return(0,c.Z)(function*(){const v=f?(0,N.m9)(f):null;return v&&te(v.auth.config.apiKey===p.config.apiKey,p,"invalid-user-token"),p._updateCurrentUser(v&&v._clone(p))})()}_updateCurrentUser(f,p=!1){var v=this;return(0,c.Z)(function*(){if(!v._deleted)return f&&te(v.tenantId===f.tenantId,v,"tenant-id-mismatch"),p||(yield v.beforeStateQueue.runMiddleware(f)),v.queue((0,c.Z)(function*(){yield v.directlySetCurrentUser(f),v.notifyAuthListeners()}))})()}signOut(){var f=this;return(0,c.Z)(function*(){return yield f.beforeStateQueue.runMiddleware(null),(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null,!0)})()}setPersistence(f){var p=this;return this.queue((0,c.Z)(function*(){yield p.assertedPersistence.setPersistence(Cn(f))}))}initializeRecaptchaConfig(){var f=this;return(0,c.Z)(function*(){const p=yield ht(f,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),v=new en(p);null==f.tenantId?f._agentRecaptchaConfig=v:f._tenantRecaptchaConfigs[f.tenantId]=v,v.emailPasswordEnabled&&new hi(f).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(f){this._errorFactory=new N.LL("auth","Firebase",f())}onAuthStateChanged(f,p,v){return this.registerStateListener(this.authStateSubscription,f,p,v)}beforeAuthStateChanged(f,p){return this.beforeStateQueue.pushCallback(f,p)}onIdTokenChanged(f,p,v){return this.registerStateListener(this.idTokenSubscription,f,p,v)}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,p){var v=this;return(0,c.Z)(function*(){const T=yield v.getOrInitRedirectPersistenceManager(p);return null===f?T.removeCurrentUser():T.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var p=this;return(0,c.Z)(function*(){if(!p.redirectPersistenceManager){const v=f&&Cn(f)||p._popupRedirectResolver;te(v,p,"argument-error"),p.redirectPersistenceManager=yield L.create(p,[Cn(v._redirectPersistence)],"redirectUser"),p.redirectUser=yield p.redirectPersistenceManager.getCurrentUser()}return p.redirectPersistenceManager})()}_redirectUserForId(f){var p=this;return(0,c.Z)(function*(){var v,T;return p._isInitialized&&(yield p.queue((0,c.Z)(function*(){}))),(null===(v=p._currentUser)||void 0===v?void 0:v._redirectEventId)===f?p._currentUser:(null===(T=p.redirectUser)||void 0===T?void 0:T._redirectEventId)===f?p.redirectUser:null})()}_persistUserIfCurrent(f){var p=this;return(0,c.Z)(function*(){if(f===p.currentUser)return p.queue((0,c.Z)(function*(){return p.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,p;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const v=null!==(p=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==p?p:null;this.lastNotifiedUid!==v&&(this.lastNotifiedUid=v,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,p,v,T){if(this._deleted)return()=>{};const x="function"==typeof p?p:p.next.bind(p),B=this._isInitialized?Promise.resolve():this._initializationPromise;return te(B,this,"internal-error"),B.then(()=>x(this.currentUser)),"function"==typeof p?f.addObserver(p,v,T):f.addObserver(p)}directlySetCurrentUser(f){var p=this;return(0,c.Z)(function*(){p.currentUser&&p.currentUser!==f&&p._currentUser._stopProactiveRefresh(),f&&p.isProactiveRefreshEnabled&&f._startProactiveRefresh(),p.currentUser=f,f?yield p.assertedPersistence.setCurrentUser(f):yield p.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=ue(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var f=this;return(0,c.Z)(function*(){var p;const v={"X-Client-Version":f.clientVersion};f.app.options.appId&&(v["X-Firebase-gmpid"]=f.app.options.appId);const T=yield null===(p=f.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===p?void 0:p.getHeartbeatsHeader();T&&(v["X-Firebase-Client"]=T);const x=yield f._getAppCheckToken();return x&&(v["X-Firebase-AppCheck"]=x),v})()}_getAppCheckToken(){var f=this;return(0,c.Z)(function*(){var p;const v=yield null===(p=f.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===p?void 0:p.getToken();return v?.error&&function Ue(y,...f){xe.logLevel<=re.in.WARN&&xe.warn(`Auth (${se.SDK_VERSION}): ${y}`,...f)}(`Error while retrieving App Check token: ${v.error}`),v?.token})()}}function cn(y){return(0,N.m9)(y)}class $n{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,N.ne)(p=>this.observer=p)}get next(){return te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Yr(y){const f=y.indexOf(":");return f<0?"":y.substr(0,f+1)}function ga(y){if(!y)return null;const f=Number(y);return isNaN(f)?null:f}class ns{constructor(f,p){this.providerId=f,this.signInMethod=p}toJSON(){return It("not implemented")}_getIdTokenResponse(f){return It("not implemented")}_linkToIdToken(f,p){return It("not implemented")}_getReauthenticationResolver(f){return It("not implemented")}}function Ys(y,f){return kn.apply(this,arguments)}function kn(){return(kn=(0,c.Z)(function*(y,f){return Ye(y,"POST","/v1/accounts:resetPassword",xt(y,f))})).apply(this,arguments)}function Mo(y,f){return rs.apply(this,arguments)}function rs(){return(rs=(0,c.Z)(function*(y,f){return Ye(y,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function xo(){return(xo=(0,c.Z)(function*(y,f){return Ye(y,"POST","/v1/accounts:update",xt(y,f))})).apply(this,arguments)}function fr(y,f){return _n.apply(this,arguments)}function _n(){return(_n=(0,c.Z)(function*(y,f){return yn(y,"POST","/v1/accounts:signInWithPassword",xt(y,f))})).apply(this,arguments)}function Qr(y,f){return ma.apply(this,arguments)}function ma(){return(ma=(0,c.Z)(function*(y,f){return Ye(y,"POST","/v1/accounts:sendOobCode",xt(y,f))})).apply(this,arguments)}function Po(){return(Po=(0,c.Z)(function*(y,f){return Qr(y,f)})).apply(this,arguments)}function Es(y,f){return Is.apply(this,arguments)}function Is(){return(Is=(0,c.Z)(function*(y,f){return Qr(y,f)})).apply(this,arguments)}function ar(y,f){return hu.apply(this,arguments)}function hu(){return(hu=(0,c.Z)(function*(y,f){return Qr(y,f)})).apply(this,arguments)}function Xr(){return(Xr=(0,c.Z)(function*(y,f){return Qr(y,f)})).apply(this,arguments)}function Oo(){return(Oo=(0,c.Z)(function*(y,f){return yn(y,"POST","/v1/accounts:signInWithEmailLink",xt(y,f))})).apply(this,arguments)}function pi(){return(pi=(0,c.Z)(function*(y,f){return yn(y,"POST","/v1/accounts:signInWithEmailLink",xt(y,f))})).apply(this,arguments)}class fu extends ns{constructor(f,p,v,T=null){super("password",v),this._email=f,this._password=p,this._tenantId=T}static _fromEmailAndPassword(f,p){return new fu(f,p,"password")}static _fromEmailAndCode(f,p,v=null){return new fu(f,p,"emailLink",v)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(f){const p="string"==typeof f?JSON.parse(f):f;if(p?.email&&p?.password){if("password"===p.signInMethod)return this._fromEmailAndPassword(p.email,p.password);if("emailLink"===p.signInMethod)return this._fromEmailAndCode(p.email,p.password,p.tenantId)}return null}_getIdTokenResponse(f){var p=this;return(0,c.Z)(function*(){var v;switch(p.signInMethod){case"password":const T={returnSecureToken:!0,email:p._email,password:p._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(v=f._getRecaptchaConfig())&&void 0!==v&&v.emailPasswordEnabled){const x=yield qe(f,T,"signInWithPassword");return fr(f,x)}return fr(f,T).catch(function(){var x=(0,c.Z)(function*(B){if("auth/missing-recaptcha-token"===B.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const K=yield qe(f,T,"signInWithPassword");return fr(f,K)}return Promise.reject(B)});return function(B){return x.apply(this,arguments)}}());case"emailLink":return function ya(y,f){return Oo.apply(this,arguments)}(f,{email:p._email,oobCode:p._password});default:we(f,"internal-error")}})()}_linkToIdToken(f,p){var v=this;return(0,c.Z)(function*(){switch(v.signInMethod){case"password":return Mo(f,{idToken:p,returnSecureToken:!0,email:v._email,password:v._password});case"emailLink":return function Nc(y,f){return pi.apply(this,arguments)}(f,{idToken:p,email:v._email,oobCode:v._password});default:we(f,"internal-error")}})()}_getReauthenticationResolver(f){return this._getIdTokenResponse(f)}}function Pi(y,f){return Jl.apply(this,arguments)}function Jl(){return(Jl=(0,c.Z)(function*(y,f){return yn(y,"POST","/v1/accounts:signInWithIdp",xt(y,f))})).apply(this,arguments)}class is extends ns{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(f){const p=new is(f.providerId,f.signInMethod);return f.idToken||f.accessToken?(f.idToken&&(p.idToken=f.idToken),f.accessToken&&(p.accessToken=f.accessToken),f.nonce&&!f.pendingToken&&(p.nonce=f.nonce),f.pendingToken&&(p.pendingToken=f.pendingToken)):f.oauthToken&&f.oauthTokenSecret?(p.accessToken=f.oauthToken,p.secret=f.oauthTokenSecret):we("argument-error"),p}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(f){const p="string"==typeof f?JSON.parse(f):f,{providerId:v,signInMethod:T}=p,x=(0,ie._T)(p,["providerId","signInMethod"]);if(!v||!T)return null;const B=new is(v,T);return B.idToken=x.idToken||void 0,B.accessToken=x.accessToken||void 0,B.secret=x.secret,B.nonce=x.nonce,B.pendingToken=x.pendingToken||null,B}_getIdTokenResponse(f){return Pi(f,this.buildRequest())}_linkToIdToken(f,p){const v=this.buildRequest();return v.idToken=p,Pi(f,v)}_getReauthenticationResolver(f){const p=this.buildRequest();return p.autoCreate=!1,Pi(f,p)}buildRequest(){const f={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)f.pendingToken=this.pendingToken;else{const p={};this.idToken&&(p.id_token=this.idToken),this.accessToken&&(p.access_token=this.accessToken),this.secret&&(p.oauth_token_secret=this.secret),p.providerId=this.providerId,this.nonce&&!this.pendingToken&&(p.nonce=this.nonce),f.postBody=(0,N.xO)(p)}return f}}function kc(){return(kc=(0,c.Z)(function*(y,f){return Ye(y,"POST","/v1/accounts:sendVerificationCode",xt(y,f))})).apply(this,arguments)}function Xl(){return(Xl=(0,c.Z)(function*(y,f){return yn(y,"POST","/v1/accounts:signInWithPhoneNumber",xt(y,f))})).apply(this,arguments)}function pu(){return(pu=(0,c.Z)(function*(y,f){const p=yield yn(y,"POST","/v1/accounts:signInWithPhoneNumber",xt(y,f));if(p.temporaryProof)throw Ir(y,"account-exists-with-different-credential",p);return p})).apply(this,arguments)}const ed={USER_NOT_FOUND:"user-not-found"};function gu(){return(gu=(0,c.Z)(function*(y,f){return yn(y,"POST","/v1/accounts:signInWithPhoneNumber",xt(y,Object.assign(Object.assign({},f),{operation:"REAUTH"})),ed)})).apply(this,arguments)}class gi extends ns{constructor(f){super("phone","phone"),this.params=f}static _fromVerification(f,p){return new gi({verificationId:f,verificationCode:p})}static _fromTokenResponse(f,p){return new gi({phoneNumber:f,temporaryProof:p})}_getIdTokenResponse(f){return function pg(y,f){return Xl.apply(this,arguments)}(f,this._makeVerificationRequest())}_linkToIdToken(f,p){return function Kh(y,f){return pu.apply(this,arguments)}(f,Object.assign({idToken:p},this._makeVerificationRequest()))}_getReauthenticationResolver(f){return function Xy(y,f){return gu.apply(this,arguments)}(f,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:f,phoneNumber:p,verificationId:v,verificationCode:T}=this.params;return f&&p?{temporaryProof:f,phoneNumber:p}:{sessionInfo:v,code:T}}toJSON(){const f={providerId:this.providerId};return this.params.phoneNumber&&(f.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(f.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(f.verificationCode=this.params.verificationCode),this.params.verificationId&&(f.verificationId=this.params.verificationId),f}static fromJSON(f){"string"==typeof f&&(f=JSON.parse(f));const{verificationId:p,verificationCode:v,phoneNumber:T,temporaryProof:x}=f;return v||p||T||x?new gi({verificationId:p,verificationCode:v,phoneNumber:T,temporaryProof:x}):null}}class Ro{constructor(f){var p,v,T,x,B,K;const be=(0,N.zd)((0,N.pd)(f)),Ve=null!==(p=be.apiKey)&&void 0!==p?p:null,nt=null!==(v=be.oobCode)&&void 0!==v?v:null,Xe=function Yh(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(T=be.mode)&&void 0!==T?T:null);te(Ve&&nt&&Xe,"argument-error"),this.apiKey=Ve,this.operation=Xe,this.code=nt,this.continueUrl=null!==(x=be.continueUrl)&&void 0!==x?x:null,this.languageCode=null!==(B=be.languageCode)&&void 0!==B?B:null,this.tenantId=null!==(K=be.tenantId)&&void 0!==K?K:null}static parseLink(f){const p=function td(y){const f=(0,N.zd)((0,N.pd)(y)).link,p=f?(0,N.zd)((0,N.pd)(f)).deep_link_id:null,v=(0,N.zd)((0,N.pd)(y)).deep_link_id;return(v?(0,N.zd)((0,N.pd)(v)).link:null)||v||p||f||y}(f);try{return new Ro(p)}catch{return null}}}let Qh=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(p,v){return fu._fromEmailAndPassword(p,v)}static credentialWithLink(p,v){const T=Ro.parseLink(v);return te(T,"argument-error"),fu._fromEmailAndCode(p,T.code,T.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class ss{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class qi extends ss{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}class Qs extends qi{static credentialFromJSON(f){const p="string"==typeof f?JSON.parse(f):f;return te("providerId"in p&&"signInMethod"in p,"argument-error"),is._fromParams(p)}credential(f){return this._credential(Object.assign(Object.assign({},f),{nonce:f.rawNonce}))}_credential(f){return te(f.idToken||f.accessToken,"argument-error"),is._fromParams(Object.assign(Object.assign({},f),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(f){return Qs.oauthCredentialFromTaggedObject(f)}static credentialFromError(f){return Qs.oauthCredentialFromTaggedObject(f.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:p,oauthAccessToken:v,oauthTokenSecret:T,pendingToken:x,nonce:B,providerId:K}=f;if(!v&&!T&&!p&&!x||!K)return null;try{return new Qs(K)._credential({idToken:p,accessToken:v,nonce:B,pendingToken:x})}catch{return null}}}let Fc=(()=>{class y extends qi{constructor(){super("facebook.com")}static credential(p){return is._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:p})}static credentialFromResult(p){return y.credentialFromTaggedObject(p)}static credentialFromError(p){return y.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p||!("oauthAccessToken"in p)||!p.oauthAccessToken)return null;try{return y.credential(p.oauthAccessToken)}catch{return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),_a=(()=>{class y extends qi{constructor(){super("google.com"),this.addScope("profile")}static credential(p,v){return is._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:p,accessToken:v})}static credentialFromResult(p){return y.credentialFromTaggedObject(p)}static credentialFromError(p){return y.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:v,oauthAccessToken:T}=p;if(!v&&!T)return null;try{return y.credential(v,T)}catch{return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),nd=(()=>{class y extends qi{constructor(){super("github.com")}static credential(p){return is._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:p})}static credentialFromResult(p){return y.credentialFromTaggedObject(p)}static credentialFromError(p){return y.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p||!("oauthAccessToken"in p)||!p.oauthAccessToken)return null;try{return y.credential(p.oauthAccessToken)}catch{return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class bs extends ns{constructor(f,p){super(f,f),this.pendingToken=p}_getIdTokenResponse(f){return Pi(f,this.buildRequest())}_linkToIdToken(f,p){const v=this.buildRequest();return v.idToken=p,Pi(f,v)}_getReauthenticationResolver(f){const p=this.buildRequest();return p.autoCreate=!1,Pi(f,p)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(f){const p="string"==typeof f?JSON.parse(f):f,{providerId:v,signInMethod:T,pendingToken:x}=p;return v&&T&&x&&v===T?new bs(v,x):null}static _create(f,p){return new bs(f,p)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class va extends ss{constructor(f){te(f.startsWith("saml."),"argument-error"),super(f)}static credentialFromResult(f){return va.samlCredentialFromTaggedObject(f)}static credentialFromError(f){return va.samlCredentialFromTaggedObject(f.customData||{})}static credentialFromJSON(f){const p=bs.fromJSON(f);return te(p,"argument-error"),p}static samlCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{pendingToken:p,providerId:v}=f;if(!p||!v)return null;try{return bs._create(v,p)}catch{return null}}}let mu=(()=>{class y extends qi{constructor(){super("twitter.com")}static credential(p,v){return is._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:p,oauthTokenSecret:v})}static credentialFromResult(p){return y.credentialFromTaggedObject(p)}static credentialFromError(p){return y.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthAccessToken:v,oauthTokenSecret:T}=p;if(!v||!T)return null;try{return y.credential(v,T)}catch{return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function Ds(y,f){return Ur.apply(this,arguments)}function Ur(){return(Ur=(0,c.Z)(function*(y,f){return yn(y,"POST","/v1/accounts:signUp",xt(y,f))})).apply(this,arguments)}class Tr{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,p,v,T=!1){return(0,c.Z)(function*(){const x=yield Bn._fromIdTokenResponse(f,v,T),B=wa(v);return new Tr({user:x,providerId:B,_tokenResponse:v,operationType:p})})()}static _forOperation(f,p,v){return(0,c.Z)(function*(){yield f._updateTokensIfNecessary(v,!0);const T=wa(v);return new Tr({user:f,providerId:T,_tokenResponse:v,operationType:p})})()}}function wa(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function No(){return(No=(0,c.Z)(function*(y){var f;const p=cn(y);if(yield p._initializationPromise,null!==(f=p.currentUser)&&void 0!==f&&f.isAnonymous)return new Tr({user:p.currentUser,providerId:null,operationType:"signIn"});const v=yield Ds(p,{returnSecureToken:!0}),T=yield Tr._fromIdTokenResponse(p,"signIn",v,!0);return yield p._updateCurrentUser(T.user),T})).apply(this,arguments)}class os extends N.ZR{constructor(f,p,v,T){var x;super(p.code,p.message),this.operationType=v,this.user=T,Object.setPrototypeOf(this,os.prototype),this.customData={appName:f.name,tenantId:null!==(x=f.tenantId)&&void 0!==x?x:void 0,_serverResponse:p.customData._serverResponse,operationType:v}}static _fromErrorAndOperation(f,p,v,T){return new os(f,p,v,T)}}function cr(y,f,p,v){return("reauthenticate"===f?p._getReauthenticationResolver(y):p._getIdTokenResponse(y)).catch(x=>{throw"auth/multi-factor-auth-required"===x.code?os._fromErrorAndOperation(y,x,f,v):x})}function rd(y){return new Set(y.map(({providerId:f})=>f).filter(f=>!!f))}function Sr(){return Sr=(0,c.Z)(function*(y,f){const p=(0,N.m9)(y);yield as(!0,p,f);const{providerUserInfo:v}=yield function Ao(y,f){return Zs.apply(this,arguments)}(p.auth,{idToken:yield p.getIdToken(),deleteProvider:[f]}),T=rd(v||[]);return p.providerData=p.providerData.filter(x=>T.has(x.providerId)),T.has("phone")||(p.phoneNumber=null),yield p.auth._persistUserIfCurrent(p),p}),Sr.apply(this,arguments)}function Yn(y,f){return yu.apply(this,arguments)}function yu(){return(yu=(0,c.Z)(function*(y,f,p=!1){const v=yield st(y,f._linkToIdToken(y.auth,yield y.getIdToken()),p);return Tr._forOperation(y,"link",v)})).apply(this,arguments)}function as(y,f,p){return Vc.apply(this,arguments)}function Vc(){return(Vc=(0,c.Z)(function*(y,f,p){yield Lr(f);const T=!1===y?"provider-already-linked":"no-such-provider";te(rd(f.providerData).has(p)===y,f.auth,T)})).apply(this,arguments)}function Ts(y,f){return ko.apply(this,arguments)}function ko(){return(ko=(0,c.Z)(function*(y,f,p=!1){const{auth:v}=y,T="reauthenticate";try{const x=yield st(y,cr(v,T,f,y),p);te(x.idToken,v,"internal-error");const B=Xt(x.idToken);te(B,v,"internal-error");const{sub:K}=B;return te(y.uid===K,v,"user-mismatch"),Tr._forOperation(y,T,x)}catch(x){throw"auth/user-not-found"===x?.code&&we(v,"user-mismatch"),x}})).apply(this,arguments)}function Ca(y,f){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,c.Z)(function*(y,f,p=!1){const v="signIn",T=yield cr(y,v,f),x=yield Tr._fromIdTokenResponse(y,v,T);return p||(yield y._updateCurrentUser(x.user)),x})).apply(this,arguments)}function Ea(y,f){return sd.apply(this,arguments)}function sd(){return(sd=(0,c.Z)(function*(y,f){return Ca(cn(y),f)})).apply(this,arguments)}function od(y,f){return _u.apply(this,arguments)}function _u(){return(_u=(0,c.Z)(function*(y,f){const p=(0,N.m9)(y);return yield as(!1,p,f.providerId),Yn(p,f)})).apply(this,arguments)}function ad(y,f){return vu.apply(this,arguments)}function vu(){return(vu=(0,c.Z)(function*(y,f){return Ts((0,N.m9)(y),f)})).apply(this,arguments)}function ud(){return(ud=(0,c.Z)(function*(y,f){return yn(y,"POST","/v1/accounts:signInWithCustomToken",xt(y,f))})).apply(this,arguments)}function Nt(){return Nt=(0,c.Z)(function*(y,f){const p=cn(y),v=yield function gg(y,f){return ud.apply(this,arguments)}(p,{token:f,returnSecureToken:!0}),T=yield Tr._fromIdTokenResponse(p,"signIn",v);return yield p._updateCurrentUser(T.user),T}),Nt.apply(this,arguments)}class Ia{constructor(f,p){this.factorId=f,this.uid=p.mfaEnrollmentId,this.enrollmentTime=new Date(p.enrolledAt).toUTCString(),this.displayName=p.displayName}static _fromServerResponse(f,p){return"phoneInfo"in p?ba._fromServerResponse(f,p):"totpInfo"in p?Qn._fromServerResponse(f,p):we(f,"internal-error")}}class ba extends Ia{constructor(f){super("phone",f),this.phoneNumber=f.phoneInfo}static _fromServerResponse(f,p){return new ba(p)}}class Qn extends Ia{constructor(f){super("totp",f)}static _fromServerResponse(f,p){return new Qn(p)}}function Js(y,f,p){var v;te((null===(v=p.url)||void 0===v?void 0:v.length)>0,y,"invalid-continue-uri"),te(typeof p.dynamicLinkDomain>"u"||p.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),f.continueUrl=p.url,f.dynamicLinkDomain=p.dynamicLinkDomain,f.canHandleCodeInApp=p.handleCodeInApp,p.iOS&&(te(p.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),f.iOSBundleId=p.iOS.bundleId),p.android&&(te(p.android.packageName.length>0,y,"missing-android-pkg-name"),f.androidInstallApp=p.android.installApp,f.androidMinimumVersionCode=p.android.minimumVersion,f.androidPackageName=p.android.packageName)}function Br(){return Br=(0,c.Z)(function*(y,f,p){var v;const T=cn(y),x={requestType:"PASSWORD_RESET",email:f,clientType:"CLIENT_TYPE_WEB"};if(null!==(v=T._getRecaptchaConfig())&&void 0!==v&&v.emailPasswordEnabled){const B=yield qe(T,x,"getOobCode",!0);p&&Js(T,B,p),yield Es(T,B)}else p&&Js(T,x,p),yield Es(T,x).catch(function(){var B=(0,c.Z)(function*(K){if("auth/missing-recaptcha-token"!==K.code)return Promise.reject(K);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const be=yield qe(T,x,"getOobCode",!0);p&&Js(T,be,p),yield Es(T,be)}});return function(K){return B.apply(this,arguments)}}())}),Br.apply(this,arguments)}function Cu(){return(Cu=(0,c.Z)(function*(y,f,p){yield Ys((0,N.m9)(y),{oobCode:f,newPassword:p})})).apply(this,arguments)}function us(){return us=(0,c.Z)(function*(y,f){yield function zi(y,f){return xo.apply(this,arguments)}((0,N.m9)(y),{oobCode:f})}),us.apply(this,arguments)}function Da(y,f){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,c.Z)(function*(y,f){const p=(0,N.m9)(y),v=yield Ys(p,{oobCode:f}),T=v.requestType;switch(te(T,p,"internal-error"),T){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":te(v.newEmail,p,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":te(v.mfaInfo,p,"internal-error");default:te(v.email,p,"internal-error")}let x=null;return v.mfaInfo&&(x=Ia._fromServerResponse(cn(p),v.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===v.requestType?v.newEmail:v.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===v.requestType?v.email:v.newEmail)||null,multiFactorInfo:x},operation:T}})).apply(this,arguments)}function Zi(){return(Zi=(0,c.Z)(function*(y,f){const{data:p}=yield Da((0,N.m9)(y),f);return p.email})).apply(this,arguments)}function yi(){return yi=(0,c.Z)(function*(y,f,p){var v;const T=cn(y),x={returnSecureToken:!0,email:f,password:p,clientType:"CLIENT_TYPE_WEB"};let B;if(null!==(v=T._getRecaptchaConfig())&&void 0!==v&&v.emailPasswordEnabled){const Ve=yield qe(T,x,"signUpPassword");B=Ds(T,Ve)}else B=Ds(T,x).catch(function(){var Ve=(0,c.Z)(function*(nt){if("auth/missing-recaptcha-token"===nt.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const Xe=yield qe(T,x,"signUpPassword");return Ds(T,Xe)}return Promise.reject(nt)});return function(nt){return Ve.apply(this,arguments)}}());const K=yield B.catch(Ve=>Promise.reject(Ve)),be=yield Tr._fromIdTokenResponse(T,"signIn",K);return yield T._updateCurrentUser(be.user),be}),yi.apply(this,arguments)}function Eu(){return Eu=(0,c.Z)(function*(y,f,p){var v;const T=cn(y),x={requestType:"EMAIL_SIGNIN",email:f,clientType:"CLIENT_TYPE_WEB"};function B(K,be){te(be.handleCodeInApp,T,"argument-error"),be&&Js(T,K,be)}if(null!==(v=T._getRecaptchaConfig())&&void 0!==v&&v.emailPasswordEnabled){const K=yield qe(T,x,"getOobCode",!0);B(K,p),yield ar(T,K)}else B(x,p),yield ar(T,x).catch(function(){var K=(0,c.Z)(function*(be){if("auth/missing-recaptcha-token"!==be.code)return Promise.reject(be);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Ve=yield qe(T,x,"getOobCode",!0);B(Ve,p),yield ar(T,Ve)}});return function(be){return K.apply(this,arguments)}}())}),Eu.apply(this,arguments)}function Fo(){return(Fo=(0,c.Z)(function*(y,f,p){const v=(0,N.m9)(y),T=Qh.credentialWithLink(f,p||Ht());return te(T._tenantId===(v.tenantId||null),v,"tenant-id-mismatch"),Ea(v,T)})).apply(this,arguments)}function Iu(){return(Iu=(0,c.Z)(function*(y,f){return Ye(y,"POST","/v1/accounts:createAuthUri",xt(y,f))})).apply(this,arguments)}function bu(){return bu=(0,c.Z)(function*(y,f){const v={identifier:f,continueUri:at()?Ht():"http://localhost"},{signinMethods:T}=yield function Uc(y,f){return Iu.apply(this,arguments)}((0,N.m9)(y),v);return T||[]}),bu.apply(this,arguments)}function Sa(){return Sa=(0,c.Z)(function*(y,f){const p=(0,N.m9)(y),T={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};f&&Js(p.auth,T,f);const{email:x}=yield function Rc(y,f){return Po.apply(this,arguments)}(p.auth,T);x!==y.email&&(yield y.reload())}),Sa.apply(this,arguments)}function Aa(){return Aa=(0,c.Z)(function*(y,f,p){const v=(0,N.m9)(y),x={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:f};p&&Js(v.auth,x,p);const{email:B}=yield function Jr(y,f){return Xr.apply(this,arguments)}(v.auth,x);B!==y.email&&(yield y.reload())}),Aa.apply(this,arguments)}function Tu(){return(Tu=(0,c.Z)(function*(y,f){return Ye(y,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Su(){return Su=(0,c.Z)(function*(y,{displayName:f,photoURL:p}){if(void 0===f&&void 0===p)return;const v=(0,N.m9)(y),x={idToken:yield v.getIdToken(),displayName:f,photoUrl:p,returnSecureToken:!0},B=yield st(v,function hd(y,f){return Tu.apply(this,arguments)}(v.auth,x));v.displayName=B.displayName||null,v.photoURL=B.photoUrl||null;const K=v.providerData.find(({providerId:be})=>"password"===be);K&&(K.displayName=v.displayName,K.photoURL=v.photoURL),yield v._updateTokensIfNecessary(B)}),Su.apply(this,arguments)}function Tn(y,f,p){return Au.apply(this,arguments)}function Au(){return(Au=(0,c.Z)(function*(y,f,p){const{auth:v}=y,x={idToken:yield y.getIdToken(),returnSecureToken:!0};f&&(x.email=f),p&&(x.password=p);const B=yield st(y,Mo(v,x));yield y._updateTokensIfNecessary(B,!0)})).apply(this,arguments)}class eo{constructor(f,p,v={}){this.isNewUser=f,this.providerId=p,this.profile=v}}class tf extends eo{constructor(f,p,v,T){super(f,p,v),this.username=T}}class fd extends eo{constructor(f,p){super(f,"facebook.com",p)}}class _g extends tf{constructor(f,p){super(f,"github.com",p,"string"==typeof p?.login?p?.login:null)}}class Mu extends eo{constructor(f,p){super(f,"google.com",p)}}class jc extends tf{constructor(f,p,v){super(f,"twitter.com",p,v)}}function $c(y){const{user:f,_tokenResponse:p}=y;return f.isAnonymous&&!p?{providerId:null,isNewUser:!1,profile:null}:function ef(y){var f,p;if(!y)return null;const{providerId:v}=y,T=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},x=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!v&&y?.idToken){const B=null===(p=null===(f=Xt(y.idToken))||void 0===f?void 0:f.firebase)||void 0===p?void 0:p.sign_in_provider;if(B)return new eo(x,"anonymous"!==B&&"custom"!==B?B:null)}if(!v)return null;switch(v){case"facebook.com":return new fd(x,T);case"github.com":return new _g(x,T);case"google.com":return new Mu(x,T);case"twitter.com":return new jc(x,T,y.screenName||null);case"custom":case"anonymous":return new eo(x,null);default:return new eo(x,v,T)}}(p)}class to{constructor(f,p,v){this.type=f,this.credential=p,this.auth=v}static _fromIdtoken(f,p){return new to("enroll",f,p)}static _fromMfaPendingCredential(f){return new to("signin",f)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(f){var p,v;if(f?.multiFactorSession){if(null!==(p=f.multiFactorSession)&&void 0!==p&&p.pendingCredential)return to._fromMfaPendingCredential(f.multiFactorSession.pendingCredential);if(null!==(v=f.multiFactorSession)&&void 0!==v&&v.idToken)return to._fromIdtoken(f.multiFactorSession.idToken)}return null}}class no{constructor(f,p,v){this.session=f,this.hints=p,this.signInResolver=v}static _fromError(f,p){const v=cn(f),T=p.customData._serverResponse,x=(T.mfaInfo||[]).map(K=>Ia._fromServerResponse(v,K));te(T.mfaPendingCredential,v,"internal-error");const B=to._fromMfaPendingCredential(T.mfaPendingCredential);return new no(B,x,function(){var K=(0,c.Z)(function*(be){const Ve=yield be._process(v,B);delete T.mfaInfo,delete T.mfaPendingCredential;const nt=Object.assign(Object.assign({},T),{idToken:Ve.idToken,refreshToken:Ve.refreshToken});switch(p.operationType){case"signIn":const Xe=yield Tr._fromIdTokenResponse(v,p.operationType,nt);return yield v._updateCurrentUser(Xe.user),Xe;case"reauthenticate":return te(p.user,v,"internal-error"),Tr._forOperation(p.user,p.operationType,nt);default:we(v,"internal-error")}});return function(be){return K.apply(this,arguments)}}())}resolveSignIn(f){var p=this;return(0,c.Z)(function*(){return p.signInResolver(f)})()}}class so{constructor(f){this.user=f,this.enrolledFactors=[],f._onReload(p=>{p.mfaInfo&&(this.enrolledFactors=p.mfaInfo.map(v=>Ia._fromServerResponse(f.auth,v)))})}static _fromUser(f){return new so(f)}getSession(){var f=this;return(0,c.Z)(function*(){return to._fromIdtoken(yield f.user.getIdToken(),f.user.auth)})()}enroll(f,p){var v=this;return(0,c.Z)(function*(){const T=f,x=yield v.getSession(),B=yield st(v.user,T._process(v.user.auth,x,p));return yield v.user._updateTokensIfNecessary(B),v.user.reload()})()}unenroll(f){var p=this;return(0,c.Z)(function*(){const v="string"==typeof f?f:f.uid,T=yield p.user.getIdToken();try{const x=yield st(p.user,function Ou(y,f){return Ye(y,"POST","/v2/accounts/mfaEnrollment:withdraw",xt(y,f))}(p.user.auth,{idToken:T,mfaEnrollmentId:v}));p.enrolledFactors=p.enrolledFactors.filter(({uid:B})=>B!==v),yield p.user._updateTokensIfNecessary(x),yield p.user.reload()}catch(x){throw x}})()}}const Ss=new WeakMap,oo="__sak";class Ru{constructor(f,p){this.storageRetriever=f,this.type=p}_isAvailable(){try{return this.storage?(this.storage.setItem(oo,"1"),this.storage.removeItem(oo),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(f,p){return this.storage.setItem(f,JSON.stringify(p)),Promise.resolve()}_get(f){const p=this.storage.getItem(f);return Promise.resolve(p?JSON.parse(p):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}get storage(){return this.storageRetriever()}}const ao=(()=>{class y extends Ru{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(p,v)=>this.onStorageEvent(p,v),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function xa(){const y=(0,N.z$)();return J(y)||an(y)}()&&function fa(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Gi(),this._shouldAllowMigration=!0}forAllChangedKeys(p){for(const v of Object.keys(this.listeners)){const T=this.storage.getItem(v),x=this.localCache[v];T!==x&&p(v,x,T)}}onStorageEvent(p,v=!1){if(!p.key)return void this.forAllChangedKeys((K,be,Ve)=>{this.notifyListeners(K,Ve)});const T=p.key;if(v?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const K=this.storage.getItem(T);if(p.newValue!==K)null!==p.newValue?this.storage.setItem(T,p.newValue):this.storage.removeItem(T);else if(this.localCache[T]===p.newValue&&!v)return}const x=()=>{const K=this.storage.getItem(T);!v&&this.localCache[T]===K||this.notifyListeners(T,K)},B=this.storage.getItem(T);!function xi(){return(0,N.w1)()&&10===document.documentMode}()||B===p.newValue||p.newValue===p.oldValue?x():setTimeout(x,10)}notifyListeners(p,v){this.localCache[p]=v;const T=this.listeners[p];if(T)for(const x of Array.from(T))x(v&&JSON.parse(v))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((p,v,T)=>{this.onStorageEvent(new StorageEvent("storage",{key:p,oldValue:v,newValue:T}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(p,v){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[p]||(this.listeners[p]=new Set,this.localCache[p]=this.storage.getItem(p)),this.listeners[p].add(v)}_removeListener(p,v){this.listeners[p]&&(this.listeners[p].delete(v),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(p,v){var T=()=>super._set,x=this;return(0,c.Z)(function*(){yield T().call(x,p,v),x.localCache[p]=JSON.stringify(v)})()}_get(p){var v=()=>super._get,T=this;return(0,c.Z)(function*(){const x=yield v().call(T,p);return T.localCache[p]=JSON.stringify(x),x})()}_remove(p){var v=()=>super._remove,T=this;return(0,c.Z)(function*(){yield v().call(T,p),delete T.localCache[p]})()}}return y.type="LOCAL",y})(),ds=(()=>{class y extends Ru{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(p,v){}_removeListener(p,v){}}return y.type="SESSION",y})();let Bo=(()=>{class y{constructor(p){this.eventTarget=p,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(p){const v=this.receivers.find(x=>x.isListeningto(p));if(v)return v;const T=new y(p);return this.receivers.push(T),T}isListeningto(p){return this.eventTarget===p}handleEvent(p){var v=this;return(0,c.Z)(function*(){const T=p,{eventId:x,eventType:B,data:K}=T.data,be=v.handlersMap[B];if(!be?.size)return;T.ports[0].postMessage({status:"ack",eventId:x,eventType:B});const Ve=Array.from(be).map(function(){var Xe=(0,c.Z)(function*(In){return In(T.origin,K)});return function(In){return Xe.apply(this,arguments)}}()),nt=yield function zc(y){return Promise.all(y.map(function(){var f=(0,c.Z)(function*(p){try{return{fulfilled:!0,value:yield p}}catch(v){return{fulfilled:!1,reason:v}}});return function(p){return f.apply(this,arguments)}}()))}(Ve);T.ports[0].postMessage({status:"done",eventId:x,eventType:B,response:nt})})()}_subscribe(p,v){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[p]||(this.handlersMap[p]=new Set),this.handlersMap[p].add(v)}_unsubscribe(p,v){this.handlersMap[p]&&v&&this.handlersMap[p].delete(v),(!v||0===this.handlersMap[p].size)&&delete this.handlersMap[p],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function jo(y="",f=10){let p="";for(let v=0;v<f;v++)p+=Math.floor(10*Math.random());return y+p}class yd{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,p,v=50){var T=this;return(0,c.Z)(function*(){const x=typeof MessageChannel<"u"?new MessageChannel:null;if(!x)throw new Error("connection_unavailable");let B,K;return new Promise((be,Ve)=>{const nt=jo("",20);x.port1.start();const Xe=setTimeout(()=>{Ve(new Error("unsupported_event"))},v);K={messageChannel:x,onMessage(In){const Ci=In;if(Ci.data.eventId===nt)switch(Ci.data.status){case"ack":clearTimeout(Xe),B=setTimeout(()=>{Ve(new Error("timeout"))},3e3);break;case"done":clearTimeout(B),be(Ci.data.response);break;default:clearTimeout(Xe),clearTimeout(B),Ve(new Error("invalid_response"))}}},T.handlers.add(K),x.port1.addEventListener("message",K.onMessage),T.target.postMessage({eventType:f,eventId:nt,data:p},[x.port2])}).finally(()=>{K&&T.removeMessageHandler(K)})})()}}function pn(){return window}function ku(){return typeof pn().WorkerGlobalScope<"u"&&"function"==typeof pn().importScripts}function Fu(){return(Fu=(0,c.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const uo="firebaseLocalStorageDb",Fn=1,Zc="firebaseLocalStorage",Pa="fbase_key";class Oa{constructor(f){this.request=f}toPromise(){return new Promise((f,p)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{p(this.request.error)})})}}function hs(y,f){return y.transaction([Zc],f?"readwrite":"readonly").objectStore(Zc)}function Vu(){const y=indexedDB.open(uo,Fn);return new Promise((f,p)=>{y.addEventListener("error",()=>{p(y.error)}),y.addEventListener("upgradeneeded",()=>{const v=y.result;try{v.createObjectStore(Zc,{keyPath:Pa})}catch(T){p(T)}}),y.addEventListener("success",(0,c.Z)(function*(){const v=y.result;v.objectStoreNames.contains(Zc)?f(v):(v.close(),yield function sf(){const y=indexedDB.deleteDatabase(uo);return new Oa(y).toPromise()}(),f(yield Vu()))}))})}function co(y,f,p){return Wc.apply(this,arguments)}function Wc(){return(Wc=(0,c.Z)(function*(y,f,p){const v=hs(y,!0).put({[Pa]:f,value:p});return new Oa(v).toPromise()})).apply(this,arguments)}function $o(){return($o=(0,c.Z)(function*(y,f){const p=hs(y,!1).get(f),v=yield new Oa(p).toPromise();return void 0===v?null:v.value})).apply(this,arguments)}function As(y,f){const p=hs(y,!0).delete(f);return new Oa(p).toPromise()}const lo=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var p=this;return(0,c.Z)(function*(){return p.db||(p.db=yield Vu()),p.db})()}_withRetries(p){var v=this;return(0,c.Z)(function*(){let T=0;for(;;)try{const x=yield v._openDb();return yield p(x)}catch(x){if(T++>3)throw x;v.db&&(v.db.close(),v.db=void 0)}})()}initializeServiceWorkerMessaging(){var p=this;return(0,c.Z)(function*(){return ku()?p.initializeReceiver():p.initializeSender()})()}initializeReceiver(){var p=this;return(0,c.Z)(function*(){p.receiver=Bo._getInstance(function Jn(){return ku()?self:null}()),p.receiver._subscribe("keyChanged",function(){var v=(0,c.Z)(function*(T,x){return{keyProcessed:(yield p._poll()).includes(x.key)}});return function(T,x){return v.apply(this,arguments)}}()),p.receiver._subscribe("ping",function(){var v=(0,c.Z)(function*(T,x){return["keyChanged"]});return function(T,x){return v.apply(this,arguments)}}())})()}initializeSender(){var p=this;return(0,c.Z)(function*(){var v,T;if(p.activeServiceWorker=yield function qc(){return Fu.apply(this,arguments)}(),!p.activeServiceWorker)return;p.sender=new yd(p.activeServiceWorker);const x=yield p.sender._send("ping",{},800);x&&null!==(v=x[0])&&void 0!==v&&v.fulfilled&&null!==(T=x[0])&&void 0!==T&&T.value.includes("keyChanged")&&(p.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(p){var v=this;return(0,c.Z)(function*(){if(v.sender&&v.activeServiceWorker&&function Lu(){var y;return(null===(y=navigator?.serviceWorker)||void 0===y?void 0:y.controller)||null}()===v.activeServiceWorker)try{yield v.sender._send("keyChanged",{key:p},v.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,c.Z)(function*(){try{if(!indexedDB)return!1;const p=yield Vu();return yield co(p,oo,"1"),yield As(p,oo),!0}catch{}return!1})()}_withPendingWrite(p){var v=this;return(0,c.Z)(function*(){v.pendingWrites++;try{yield p()}finally{v.pendingWrites--}})()}_set(p,v){var T=this;return(0,c.Z)(function*(){return T._withPendingWrite((0,c.Z)(function*(){return yield T._withRetries(x=>co(x,p,v)),T.localCache[p]=v,T.notifyServiceWorker(p)}))})()}_get(p){var v=this;return(0,c.Z)(function*(){const T=yield v._withRetries(x=>function Ra(y,f){return $o.apply(this,arguments)}(x,p));return v.localCache[p]=T,T})()}_remove(p){var v=this;return(0,c.Z)(function*(){return v._withPendingWrite((0,c.Z)(function*(){return yield v._withRetries(T=>As(T,p)),delete v.localCache[p],v.notifyServiceWorker(p)}))})()}_poll(){var p=this;return(0,c.Z)(function*(){const v=yield p._withRetries(B=>{const K=hs(B,!1).getAll();return new Oa(K).toPromise()});if(!v)return[];if(0!==p.pendingWrites)return[];const T=[],x=new Set;for(const{fbase_key:B,value:K}of v)x.add(B),JSON.stringify(p.localCache[B])!==JSON.stringify(K)&&(p.notifyListeners(B,K),T.push(B));for(const B of Object.keys(p.localCache))p.localCache[B]&&!x.has(B)&&(p.notifyListeners(B,null),T.push(B));return T})()}notifyListeners(p,v){this.localCache[p]=v;const T=this.listeners[p];if(T)for(const x of Array.from(T))x(v)}startPolling(){var p=this;this.stopPolling(),this.pollTimer=setInterval((0,c.Z)(function*(){return p._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(p,v){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[p]||(this.listeners[p]=new Set,this._get(p)),this.listeners[p].add(v)}_removeListener(p,v){this.listeners[p]&&(this.listeners[p].delete(v),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})(),ka=1e12;class Kc{constructor(f){this.auth=f,this.counter=ka,this._widgets=new Map}render(f,p){const v=this.counter;return this._widgets.set(v,new Yc(f,this.auth.name,p||{})),this.counter++,v}reset(f){var p;const v=f||ka;null===(p=this._widgets.get(v))||void 0===p||p.delete(),this._widgets.delete(v)}getResponse(f){var p;return(null===(p=this._widgets.get(f||ka))||void 0===p?void 0:p.getResponse())||""}execute(f){var p=this;return(0,c.Z)(function*(){var v;return null===(v=p._widgets.get(f||ka))||void 0===v||v.execute(),""})()}}class Yc{constructor(f,p,v){this.params=v,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const T="string"==typeof f?document.getElementById(f):f;te(T,"argument-error",{appName:p}),this.container=T,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function n_(y){const f=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let v=0;v<y;v++)f.push(p.charAt(Math.floor(Math.random()*p.length)));return f.join("")}(50);const{callback:f,"expired-callback":p}=this.params;if(f)try{f(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,p)try{p()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const cf=jn("rcb"),r_=new Se(3e4,6e4);class i_{constructor(){var f;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(f=pn().grecaptcha)||void 0===f||!f.render)}load(f,p=""){return te(function lf(y){return y.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y)}(p),f,"argument-error"),this.shouldResolveImmediately(p)&&Vt(pn().grecaptcha)?Promise.resolve(pn().grecaptcha):new Promise((v,T)=>{const x=pn().setTimeout(()=>{T(Ce(f,"network-request-failed"))},r_.get());pn()[cf]=()=>{pn().clearTimeout(x),delete pn()[cf];const K=pn().grecaptcha;if(!K||!Vt(K))return void T(Ce(f,"internal-error"));const be=K.render;K.render=(Ve,nt)=>{const Xe=be(Ve,nt);return this.counter++,Xe},this.hostLanguage=p,v(K)},or(`https://www.google.com/recaptcha/api.js??${(0,N.xO)({onload:cf,render:"explicit",hl:p})}`).catch(()=>{clearTimeout(x),T(Ce(f,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(f){var p;return!(null===(p=pn().grecaptcha)||void 0===p||!p.render)&&(f===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Xn{load(f){return(0,c.Z)(function*(){return new Kc(f)})()}clearedOneInstance(){}}const Fa="recaptcha",Uu={theme:"light",type:"image"};class Qc{constructor(f,p=Object.assign({},Uu),v){this.parameters=p,this.type=Fa,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=cn(v),this.isInvisible="invisible"===this.parameters.size,te(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const T="string"==typeof f?document.getElementById(f):f;te(T,this.auth,"argument-error"),this.container=T,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Xn:new i_,this.validateStartingState()}verify(){var f=this;return(0,c.Z)(function*(){f.assertNotDestroyed();const p=yield f.render(),v=f.getAssertedRecaptcha();return v.getResponse(p)||new Promise(x=>{const B=K=>{K&&(f.tokenChangeListeners.delete(B),x(K))};f.tokenChangeListeners.add(B),f.isInvisible&&v.execute(p)})})()}render(){try{this.assertNotDestroyed()}catch(f){return Promise.reject(f)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(f=>{throw this.renderPromise=null,f})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(f=>{this.container.removeChild(f)})}validateStartingState(){te(!this.parameters.sitekey,this.auth,"argument-error"),te(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),te(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(f){return p=>{if(this.tokenChangeListeners.forEach(v=>v(p)),"function"==typeof f)f(p);else if("string"==typeof f){const v=pn()[f];"function"==typeof v&&v(p)}}}assertNotDestroyed(){te(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var f=this;return(0,c.Z)(function*(){if(yield f.init(),!f.widgetId){let p=f.container;if(!f.isInvisible){const v=document.createElement("div");p.appendChild(v),p=v}f.widgetId=f.getAssertedRecaptcha().render(p,f.parameters)}return f.widgetId})()}init(){var f=this;return(0,c.Z)(function*(){te(at()&&!ku(),f.auth,"internal-error"),yield function Ri(){let y=null;return new Promise(f=>{"complete"!==document.readyState?(y=()=>f(),window.addEventListener("load",y)):f()}).catch(f=>{throw y&&window.removeEventListener("load",y),f})}(),f.recaptcha=yield f._recaptchaLoader.load(f.auth,f.auth.languageCode||void 0);const p=yield function X(y){return Oe.apply(this,arguments)}(f.auth);te(p,f.auth,"internal-error"),f.parameters.sitekey=p})()}getAssertedRecaptcha(){return te(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Wi{constructor(f,p){this.verificationId=f,this.onConfirmation=p}confirm(f){const p=gi._fromVerification(this.verificationId,f);return this.onConfirmation(p)}}function po(){return(po=(0,c.Z)(function*(y,f,p){const v=cn(y),T=yield $u(v,f,(0,N.m9)(p));return new Wi(T,x=>Ea(v,x))})).apply(this,arguments)}function ju(){return(ju=(0,c.Z)(function*(y,f,p){const v=(0,N.m9)(y);yield as(!1,v,"phone");const T=yield $u(v.auth,f,(0,N.m9)(p));return new Wi(T,x=>od(v,x))})).apply(this,arguments)}function Jc(){return(Jc=(0,c.Z)(function*(y,f,p){const v=(0,N.m9)(y),T=yield $u(v.auth,f,(0,N.m9)(p));return new Wi(T,x=>ad(v,x))})).apply(this,arguments)}function $u(y,f,p){return jr.apply(this,arguments)}function jr(){return jr=(0,c.Z)(function*(y,f,p){var v;const T=yield p.verify();try{let x;if(te("string"==typeof T,y,"argument-error"),te(p.type===Fa,y,"argument-error"),x="string"==typeof f?{phoneNumber:f}:f,"session"in x){const B=x.session;if("phoneNumber"in x)return te("enroll"===B.type,y,"internal-error"),(yield function Uo(y,f){return Ye(y,"POST","/v2/accounts/mfaEnrollment:start",xt(y,f))}(y,{idToken:B.credential,phoneEnrollmentInfo:{phoneNumber:x.phoneNumber,recaptchaToken:T}})).phoneSessionInfo.sessionInfo;{te("signin"===B.type,y,"internal-error");const K=(null===(v=x.multiFactorHint)||void 0===v?void 0:v.uid)||x.multiFactorUid;return te(K,y,"missing-multi-factor-info"),(yield function ho(y,f){return Ye(y,"POST","/v2/accounts/mfaSignIn:start",xt(y,f))}(y,{mfaPendingCredential:B.credential,mfaEnrollmentId:K,phoneSignInInfo:{recaptchaToken:T}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:B}=yield function fg(y,f){return kc.apply(this,arguments)}(y,{phoneNumber:x.phoneNumber,recaptchaToken:T});return B}}finally{p._reset()}}),jr.apply(this,arguments)}function lr(){return(lr=(0,c.Z)(function*(y,f){yield Yn((0,N.m9)(y),f)})).apply(this,arguments)}let Go=(()=>{class y{constructor(p){this.providerId=y.PROVIDER_ID,this.auth=cn(p)}verifyPhoneNumber(p,v){return $u(this.auth,p,(0,N.m9)(v))}static credential(p,v){return gi._fromVerification(p,v)}static credentialFromResult(p){return y.credentialFromTaggedObject(p)}static credentialFromError(p){return y.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{phoneNumber:v,temporaryProof:T}=p;return v&&T?gi._fromTokenResponse(v,T):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function Ms(y,f){return f?Cn(f):(te(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class _i extends ns{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return Pi(f,this._buildIdpRequest())}_linkToIdToken(f,p){return Pi(f,this._buildIdpRequest(p))}_getReauthenticationResolver(f){return Pi(f,this._buildIdpRequest())}_buildIdpRequest(f){const p={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(p.idToken=f),p}}function wd(y){return Ca(y.auth,new _i(y),y.bypassAuthState)}function Xc(y){const{auth:f,user:p}=y;return te(p,f,"internal-error"),Ts(p,new _i(y),y.bypassAuthState)}function Hu(y){return go.apply(this,arguments)}function go(){return(go=(0,c.Z)(function*(y){const{auth:f,user:p}=y;return te(p,f,"internal-error"),Yn(p,new _i(y),y.bypassAuthState)})).apply(this,arguments)}class xs{constructor(f,p,v,T,x=!1){this.auth=f,this.resolver=v,this.user=T,this.bypassAuthState=x,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(p)?p:[p]}execute(){var f=this;return new Promise(function(){var p=(0,c.Z)(function*(v,T){f.pendingPromise={resolve:v,reject:T};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(x){f.reject(x)}});return function(v,T){return p.apply(this,arguments)}}())}onAuthEvent(f){var p=this;return(0,c.Z)(function*(){const{urlResponse:v,sessionId:T,postBody:x,tenantId:B,error:K,type:be}=f;if(K)return void p.reject(K);const Ve={auth:p.auth,requestUri:v,sessionId:T,tenantId:B||void 0,postBody:x||void 0,user:p.user,bypassAuthState:p.bypassAuthState};try{p.resolve(yield p.getIdpTask(be)(Ve))}catch(nt){p.reject(nt)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return wd;case"linkViaPopup":case"linkViaRedirect":return Hu;case"reauthViaPopup":case"reauthViaRedirect":return Xc;default:we(this.auth,"internal-error")}}resolve(f){tt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){tt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const gn=new Se(2e3,1e4);function Gu(){return(Gu=(0,c.Z)(function*(y,f,p){const v=cn(y);Re(y,f,ss);const T=Ms(v,p);return new Ba(v,"signInViaPopup",f,T).executeNotNull()})).apply(this,arguments)}function Va(){return(Va=(0,c.Z)(function*(y,f,p){const v=(0,N.m9)(y);Re(v.auth,f,ss);const T=Ms(v.auth,p);return new Ba(v.auth,"reauthViaPopup",f,T,v).executeNotNull()})).apply(this,arguments)}function el(){return(el=(0,c.Z)(function*(y,f,p){const v=(0,N.m9)(y);Re(v.auth,f,ss);const T=Ms(v.auth,p);return new Ba(v.auth,"linkViaPopup",f,T,v).executeNotNull()})).apply(this,arguments)}let Ba=(()=>{class y extends xs{constructor(p,v,T,x,B){super(p,v,x,B),this.provider=T,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var p=this;return(0,c.Z)(function*(){const v=yield p.execute();return te(v,p.auth,"internal-error"),v})()}onExecution(){var p=this;return(0,c.Z)(function*(){tt(1===p.filter.length,"Popup operations only handle one event");const v=jo();p.authWindow=yield p.resolver._openPopup(p.auth,p.provider,p.filter[0],v),p.authWindow.associatedEvent=v,p.resolver._originValidation(p.auth).catch(T=>{p.reject(T)}),p.resolver._isIframeWebStorageSupported(p.auth,T=>{T||p.reject(Ce(p.auth,"web-storage-unsupported"))}),p.pollUserCancellation()})()}get eventId(){var p;return(null===(p=this.authWindow)||void 0===p?void 0:p.associatedEvent)||null}cancel(){this.reject(Ce(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const p=()=>{var v,T;this.pollId=null!==(T=null===(v=this.authWindow)||void 0===v?void 0:v.window)&&void 0!==T&&T.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Ce(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(p,gn.get())};p()}}return y.currentPopupAction=null,y})();const ei="pendingRedirect",gr=new Map;class ff extends xs{constructor(f,p,v=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],p,void 0,v),this.eventId=null}execute(){var f=()=>super.execute,p=this;return(0,c.Z)(function*(){let v=gr.get(p.auth._key());if(!v){try{const x=(yield function zu(y,f){return Cd.apply(this,arguments)}(p.resolver,p.auth))?yield f().call(p):null;v=()=>Promise.resolve(x)}catch(T){v=()=>Promise.reject(T)}gr.set(p.auth._key(),v)}return p.bypassAuthState||gr.set(p.auth._key(),()=>Promise.resolve(null)),v()})()}onAuthEvent(f){var p=()=>super.onAuthEvent,v=this;return(0,c.Z)(function*(){if("signInViaRedirect"===f.type)return p().call(v,f);if("unknown"!==f.type){if(f.eventId){const T=yield v.auth._redirectUserForId(f.eventId);if(T)return v.user=T,p().call(v,f);v.resolve(null)}}else v.resolve(null)})()}onExecution(){return(0,c.Z)(function*(){})()}cleanUp(){}}function Cd(){return(Cd=(0,c.Z)(function*(y,f){const p=qu(f),v=fs(y);if(!(yield v._isAvailable()))return!1;const T="true"===(yield v._get(p));return yield v._remove(p),T})).apply(this,arguments)}function mo(y,f){return zo.apply(this,arguments)}function zo(){return(zo=(0,c.Z)(function*(y,f){return fs(y)._set(qu(f),"true")})).apply(this,arguments)}function Ed(y,f){gr.set(y._key(),f)}function fs(y){return Cn(y._redirectPersistence)}function qu(y){return V(ei,y.config.apiKey,y.name)}function mr(y,f,p){return function Ps(y,f,p){return tl.apply(this,arguments)}(y,f,p)}function tl(){return(tl=(0,c.Z)(function*(y,f,p){const v=cn(y);Re(y,f,ss),yield v._initializationPromise;const T=Ms(v,p);return yield mo(T,v),T._openRedirect(v,f,"signInViaRedirect")})).apply(this,arguments)}function Cg(y,f,p){return function ja(y,f,p){return $a.apply(this,arguments)}(y,f,p)}function $a(){return($a=(0,c.Z)(function*(y,f,p){const v=(0,N.m9)(y);Re(v.auth,f,ss),yield v.auth._initializationPromise;const T=Ms(v.auth,p);yield mo(T,v.auth);const x=yield yo(v);return T._openRedirect(v.auth,f,"reauthViaRedirect",x)})).apply(this,arguments)}function Id(y,f,p){return function bd(y,f,p){return nl.apply(this,arguments)}(y,f,p)}function nl(){return(nl=(0,c.Z)(function*(y,f,p){const v=(0,N.m9)(y);Re(v.auth,f,ss),yield v.auth._initializationPromise;const T=Ms(v.auth,p);yield as(!1,v,f.providerId),yield mo(T,v.auth);const x=yield yo(v);return T._openRedirect(v.auth,f,"linkViaRedirect",x)})).apply(this,arguments)}function il(){return(il=(0,c.Z)(function*(y,f){return yield cn(y)._initializationPromise,Ha(y,f,!1)})).apply(this,arguments)}function Ha(y,f){return Zo.apply(this,arguments)}function Zo(){return(Zo=(0,c.Z)(function*(y,f,p=!1){const v=cn(y),T=Ms(v,f),B=yield new ff(v,T,p).execute();return B&&!p&&(delete B.user._redirectEventId,yield v._persistUserIfCurrent(B.user),yield v._setRedirectUser(null,f)),B})).apply(this,arguments)}function yo(y){return Ga.apply(this,arguments)}function Ga(){return(Ga=(0,c.Z)(function*(y){const f=jo(`${y.uid}:::`);return y._redirectEventId=f,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),f})).apply(this,arguments)}class _o{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let p=!1;return this.consumers.forEach(v=>{this.isEventForConsumer(f,v)&&(p=!0,this.sendToConsumer(f,v),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function al(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Zu(y);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,p||(this.queuedRedirectEvent=f,p=!0)),p}sendToConsumer(f,p){var v;if(f.error&&!Zu(f)){const T=(null===(v=f.error.code)||void 0===v?void 0:v.split("auth/")[1])||"internal-error";p.onError(Ce(this.auth,T))}else p.onAuthEvent(f)}isEventForConsumer(f,p){const v=null===p.eventId||!!f.eventId&&f.eventId===p.eventId;return p.filter.includes(f.type)&&v}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ol(f))}saveEventToCache(f){this.cachedEventUids.add(ol(f)),this.lastProcessedEventTime=Date.now()}}function ol(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(f=>f).join("-")}function Zu({type:y,error:f}){return"unknown"===y&&"auth/no-auth-event"===f?.code}function Dd(y){return Td.apply(this,arguments)}function Td(){return(Td=(0,c.Z)(function*(y,f={}){return Ye(y,"GET","/v1/projects",f)})).apply(this,arguments)}const Sd=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ul=/^https?/;function Ki(){return(Ki=(0,c.Z)(function*(y){if(y.config.emulator)return;const{authorizedDomains:f}=yield Dd(y);for(const p of f)try{if(za(p))return}catch{}we(y,"unauthorized-domain")})).apply(this,arguments)}function za(y){const f=Ht(),{protocol:p,hostname:v}=new URL(f);if(y.startsWith("chrome-extension://")){const B=new URL(y);return""===B.hostname&&""===v?"chrome-extension:"===p&&y.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===p&&B.hostname===v}if(!ul.test(p))return!1;if(Sd.test(y))return v===y;const T=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+T+"|"+T+")$","i").test(v)}const qa=new Se(3e4,6e4);function vi(){const y=pn().___jsl;if(y?.H)for(const f of Object.keys(y.H))if(y.H[f].r=y.H[f].r||[],y.H[f].L=y.H[f].L||[],y.H[f].r=[...y.H[f].L],y.CP)for(let p=0;p<y.CP.length;p++)y.CP[p]=null}let Za=null;const Rs=new Se(5e3,15e3),cl="__/auth/iframe",pf="emulator/auth/iframe",Eg={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Wa=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ku(y){const f=y.config;te(f.authDomain,y,"auth-domain-config-required");const p=f.emulator?He(f,pf):`https://${y.config.authDomain}/${cl}`,v={apiKey:f.apiKey,appName:y.name,v:se.SDK_VERSION},T=Wa.get(y.config.apiHost);T&&(v.eid=T);const x=y._getFrameworks();return x.length&&(v.fw=x.join(",")),`${p}?${(0,N.xO)(v).slice(1)}`}function I(){return I=(0,c.Z)(function*(y){const f=yield function On(y){return Za=Za||function Os(y){return new Promise((f,p)=>{var v,T,x;function B(){vi(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{vi(),p(Ce(y,"network-request-failed"))},timeout:qa.get()})}if(null!==(T=null===(v=pn().gapi)||void 0===v?void 0:v.iframes)&&void 0!==T&&T.Iframe)f(gapi.iframes.getContext());else{if(null===(x=pn().gapi)||void 0===x||!x.load){const K=jn("iframefcb");return pn()[K]=()=>{gapi.load?B():p(Ce(y,"network-request-failed"))},or(`https://apis.google.com/js/api.js?onload=${K}`).catch(be=>p(be))}B()}}).catch(f=>{throw Za=null,f})}(y),Za}(y),p=pn().gapi;return te(p,y,"internal-error"),f.open({where:document.body,url:Ku(y),messageHandlersFilter:p.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Eg,dontclear:!0},v=>new Promise(function(){var T=(0,c.Z)(function*(x,B){yield v.restyle({setHideOnLeave:!1});const K=Ce(y,"network-request-failed"),be=pn().setTimeout(()=>{B(K)},Rs.get());function Ve(){pn().clearTimeout(be),x(v)}v.ping(Ve).then(Ve,()=>{B(K)})});return function(x,B){return T.apply(this,arguments)}}()))}),I.apply(this,arguments)}const M={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},R=500,H=600,W="_blank",ne="http://localhost";class ze{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Pt="__/auth/handler",Ot="emulator/auth/handler",wi=encodeURIComponent("fac");function Rn(y,f,p,v,T,x){return Wo.apply(this,arguments)}function Wo(){return(Wo=(0,c.Z)(function*(y,f,p,v,T,x){te(y.config.authDomain,y,"auth-domain-config-required"),te(y.config.apiKey,y,"invalid-api-key");const B={apiKey:y.config.apiKey,appName:y.name,authType:p,redirectUrl:v,v:se.SDK_VERSION,eventId:T};if(f instanceof ss){f.setDefaultLanguage(y.languageCode),B.providerId=f.providerId||"",(0,N.xb)(f.getCustomParameters())||(B.customParameters=JSON.stringify(f.getCustomParameters()));for(const[nt,Xe]of Object.entries(x||{}))B[nt]=Xe}if(f instanceof qi){const nt=f.getScopes().filter(Xe=>""!==Xe);nt.length>0&&(B.scopes=nt.join(","))}y.tenantId&&(B.tid=y.tenantId);const K=B;for(const nt of Object.keys(K))void 0===K[nt]&&delete K[nt];const be=yield y._getAppCheckToken(),Ve=be?`#${wi}=${encodeURIComponent(be)}`:"";return`${function Yu({config:y}){return y.emulator?He(y,Ot):`https://${y.authDomain}/${Pt}`}(y)}?${(0,N.xO)(K).slice(1)}${Ve}`})).apply(this,arguments)}const vo="webStorageSupport",Ar=class ti{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ds,this._completeRedirectFn=Ha,this._overrideRedirectResult=Ed}_openPopup(f,p,v,T){var x=this;return(0,c.Z)(function*(){var B;tt(null===(B=x.eventManagers[f._key()])||void 0===B?void 0:B.manager,"_initialize() not called before _openPopup()");const K=yield Rn(f,p,v,Ht(),T);return function Ge(y,f,p,v=R,T=H){const x=Math.max((window.screen.availHeight-T)/2,0).toString(),B=Math.max((window.screen.availWidth-v)/2,0).toString();let K="";const be=Object.assign(Object.assign({},M),{width:v.toString(),height:T.toString(),top:x,left:B}),Ve=(0,N.z$)().toLowerCase();p&&(K=Ne(Ve)?W:p),me(Ve)&&(f=f||ne,be.scrollbars="yes");const nt=Object.entries(be).reduce((In,[Ci,ac])=>`${In}${Ci}=${ac},`,"");if(function Dr(y=(0,N.z$)()){var f;return an(y)&&!(null===(f=window.navigator)||void 0===f||!f.standalone)}(Ve)&&"_self"!==K)return function ct(y,f){const p=document.createElement("a");p.href=y,p.target=f;const v=document.createEvent("MouseEvent");v.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),p.dispatchEvent(v)}(f||"",K),new ze(null);const Xe=window.open(f||"",K,nt);te(Xe,y,"popup-blocked");try{Xe.focus()}catch{}return new ze(Xe)}(f,K,jo())})()}_openRedirect(f,p,v,T){var x=this;return(0,c.Z)(function*(){return yield x._originValidation(f),function _d(y){pn().location.href=y}(yield Rn(f,p,v,Ht(),T)),new Promise(()=>{})})()}_initialize(f){const p=f._key();if(this.eventManagers[p]){const{manager:T,promise:x}=this.eventManagers[p];return T?Promise.resolve(T):(tt(x,"If manager is not set, promise should be"),x)}const v=this.initAndGetManager(f);return this.eventManagers[p]={promise:v},v.catch(()=>{delete this.eventManagers[p]}),v}initAndGetManager(f){var p=this;return(0,c.Z)(function*(){const v=yield function C(y){return I.apply(this,arguments)}(f),T=new _o(f);return v.register("authEvent",x=>(te(x?.authEvent,f,"invalid-auth-event"),{status:T.onEvent(x.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),p.eventManagers[f._key()]={manager:T},p.iframes[f._key()]=v,T})()}_isIframeWebStorageSupported(f,p){this.iframes[f._key()].send(vo,{type:vo},T=>{var x;const B=null===(x=T?.[0])||void 0===x?void 0:x[vo];void 0!==B&&p(!!B),we(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const p=f._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function Wu(y){return Ki.apply(this,arguments)}(f)),this.originValidationPromises[p]}get _shouldInitProactively(){return Gi()||J()||an()}};class wo{constructor(f){this.factorId=f}_process(f,p,v){switch(p.type){case"enroll":return this._finalizeEnroll(f,p.credential,v);case"signin":return this._finalizeSignIn(f,p.credential);default:return It("unexpected MultiFactorSessionType")}}}class Ko extends wo{constructor(f){super("phone"),this.credential=f}static _fromCredential(f){return new Ko(f)}_finalizeEnroll(f,p,v){return function Gc(y,f){return Ye(y,"POST","/v2/accounts/mfaEnrollment:finalize",xt(y,f))}(f,{idToken:p,displayName:v,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(f,p){return function uf(y,f){return Ye(y,"POST","/v2/accounts/mfaSignIn:finalize",xt(y,f))}(f,{mfaPendingCredential:p,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Co=(()=>{class y{constructor(){}static assertion(p){return Ko._fromCredential(p)}}return y.FACTOR_ID="phone",y})();var Xu="@firebase/auth";class Ad{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var p=this;return(0,c.Z)(function*(){return p.assertAuthConfigured(),yield p.auth._initializationPromise,p.auth.currentUser?{accessToken:yield p.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const p=this.auth.onIdTokenChanged(v=>{f(v?.stsTokenManager.accessToken||null)});this.internalListeners.set(f,p),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const p=this.internalListeners.get(f);p&&(this.internalListeners.delete(f),p(),this.updateProactiveRefresh())}assertAuthConfigured(){te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Ns(){return window}(0,N.Pz)("authIdTokenMaxAge"),function yf(y){(0,se._registerComponent)(new ge.wA("auth",(f,{options:p})=>{const v=f.getProvider("app").getImmediate(),T=f.getProvider("heartbeat"),x=f.getProvider("app-check-internal"),{apiKey:B,authDomain:K}=v.options;te(B&&!B.includes(":"),"invalid-api-key",{appName:v.name}),te(!K?.includes(":"),"argument-error",{appName:v.name});const be={apiKey:B,authDomain:K,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ue(y)},Ve=new fi(v,T,x,be);return function Pn(y,f){const p=f?.persistence||[],v=(Array.isArray(p)?p:[p]).map(Cn);f?.errorMap&&y._updateErrorMap(f.errorMap),y._initializeWithPersistence(v,f?.popupRedirectResolver)}(Ve,p),Ve},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,p,v)=>{f.getProvider("auth-internal").initialize()})),(0,se._registerComponent)(new ge.wA("auth-internal",f=>{const p=cn(f.getProvider("auth").getImmediate());return new Ad(p)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,se.registerVersion)(Xu,"0.23.1",function mf(y){switch(y){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(y)),(0,se.registerVersion)(Xu,"0.23.1","esm2017")}("Browser");const Md=2e3;function Qo(){return Qo=(0,c.Z)(function*(y,f,p){var v;const{BuildInfo:T}=Ns();tt(f.sessionId,"AuthEvent did not contain a session ID");const x=yield function Jo(y){return Od.apply(this,arguments)}(f.sessionId),B={};return an()?B.ibi=T.packageName:Yt()?B.apn=T.packageName:we(y,"operation-not-supported-in-this-environment"),T.displayName&&(B.appDisplayName=T.displayName),B.sessionId=x,Rn(y,p,f.type,void 0,null!==(v=f.eventId)&&void 0!==v?v:void 0,B)}),Qo.apply(this,arguments)}function hl(){return(hl=(0,c.Z)(function*(y){const{BuildInfo:f}=Ns(),p={};an()?p.iosBundleId=f.packageName:Yt()?p.androidPackageName=f.packageName:we(y,"operation-not-supported-in-this-environment"),yield Dd(y,p)})).apply(this,arguments)}function Pd(){return(Pd=(0,c.Z)(function*(y,f,p){const{cordova:v}=Ns();let T=()=>{};try{yield new Promise((x,B)=>{let K=null;function be(){var Xe;x();const In=null===(Xe=v.plugins.browsertab)||void 0===Xe?void 0:Xe.close;"function"==typeof In&&In(),"function"==typeof p?.close&&p.close()}function Ve(){K||(K=window.setTimeout(()=>{B(Ce(y,"redirect-cancelled-by-user"))},Md))}function nt(){"visible"===document?.visibilityState&&Ve()}f.addPassiveListener(be),document.addEventListener("resume",Ve,!1),Yt()&&document.addEventListener("visibilitychange",nt,!1),T=()=>{f.removePassiveListener(be),document.removeEventListener("resume",Ve,!1),document.removeEventListener("visibilitychange",nt,!1),K&&window.clearTimeout(K)}})}finally{T()}})).apply(this,arguments)}function Od(){return(Od=(0,c.Z)(function*(y){const f=function vf(y){if(tt(/[0-9a-zA-Z]+/.test(y),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(y);const f=new ArrayBuffer(y.length),p=new Uint8Array(f);for(let v=0;v<y.length;v++)p[v]=y.charCodeAt(v);return p}(y),p=yield crypto.subtle.digest("SHA-256",f);return Array.from(new Uint8Array(p)).map(T=>T.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}const s_=20;class Gb extends _o{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(f=>{this.resolveInialized=f})}addPassiveListener(f){this.passiveListeners.add(f)}removePassiveListener(f){this.passiveListeners.delete(f)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(f){return this.resolveInialized(),this.passiveListeners.forEach(p=>p(f)),super.onEvent(f)}initialized(){var f=this;return(0,c.Z)(function*(){yield f.initPromise})()}}function Sg(y){return Cf.apply(this,arguments)}function Cf(){return(Cf=(0,c.Z)(function*(y){const f=yield fl()._get(Xo(y));return f&&(yield fl()._remove(Xo(y))),f})).apply(this,arguments)}function Ef(){const y=[],f="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let p=0;p<s_;p++){const v=Math.floor(Math.random()*f.length);y.push(f.charAt(v))}return y.join("")}function fl(){return Cn(ao)}function Xo(y){return V("authEvent",y.config.apiKey,y.name)}function tc(y){if(!y?.includes("?"))return{};const[f,...p]=y.split("?");return(0,N.zd)(p.join("?"))}const nc=class ea{constructor(){this._redirectPersistence=ds,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Ha,this._overrideRedirectResult=Ed}_initialize(f){var p=this;return(0,c.Z)(function*(){const v=f._key();let T=p.eventManagers.get(v);return T||(T=new Gb(f),p.eventManagers.set(v,T),p.attachCallbackListeners(f,T)),T})()}_openPopup(f){we(f,"operation-not-supported-in-this-environment")}_openRedirect(f,p,v,T){var x=this;return(0,c.Z)(function*(){!function Tg(y){var f,p,v,T,x,B,K,be,Ve,nt;const Xe=Ns();te("function"==typeof(null===(f=Xe?.universalLinks)||void 0===f?void 0:f.subscribe),y,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),te(typeof(null===(p=Xe?.BuildInfo)||void 0===p?void 0:p.packageName)<"u",y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),te("function"==typeof(null===(x=null===(T=null===(v=Xe?.cordova)||void 0===v?void 0:v.plugins)||void 0===T?void 0:T.browsertab)||void 0===x?void 0:x.openUrl),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),te("function"==typeof(null===(be=null===(K=null===(B=Xe?.cordova)||void 0===B?void 0:B.plugins)||void 0===K?void 0:K.browsertab)||void 0===be?void 0:be.isAvailable),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),te("function"==typeof(null===(nt=null===(Ve=Xe?.cordova)||void 0===Ve?void 0:Ve.InAppBrowser)||void 0===nt?void 0:nt.open),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(f);const B=yield x._initialize(f);yield B.initialized(),B.resetRedirect(),function qo(){gr.clear()}(),yield x._originValidation(f);const K=function Rd(y,f,p=null){return{type:f,eventId:p,urlResponse:null,sessionId:Ef(),postBody:null,tenantId:y.tenantId,error:Ce(y,"no-auth-event")}}(f,v,T);yield function wf(y,f){return fl()._set(Xo(y),f)}(f,K);const be=yield function ec(y,f,p){return Qo.apply(this,arguments)}(f,K,p),Ve=yield function _f(y){const{cordova:f}=Ns();return new Promise(p=>{f.plugins.browsertab.isAvailable(v=>{let T=null;v?f.plugins.browsertab.openUrl(y):T=f.InAppBrowser.open(y,function Gt(y=(0,N.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}()?"_blank":"_system","location=yes"),p(T)})})}(be);return function xd(y,f,p){return Pd.apply(this,arguments)}(f,B,Ve)})()}_isIframeWebStorageSupported(f,p){throw new Error("Method not implemented.")}_originValidation(f){const p=f._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function dl(y){return hl.apply(this,arguments)}(f)),this.originValidationPromises[p]}attachCallbackListeners(f,p){const{universalLinks:v,handleOpenURL:T,BuildInfo:x}=Ns(),B=setTimeout((0,c.Z)(function*(){yield Sg(f),p.onEvent(If())}),500),K=function(){var nt=(0,c.Z)(function*(Xe){clearTimeout(B);const In=yield Sg(f);let Ci=null;In&&Xe?.url&&(Ci=function Nd(y,f){var p,v;const T=function o_(y){const f=tc(y),p=f.link?decodeURIComponent(f.link):void 0,v=tc(p).link,T=f.deep_link_id?decodeURIComponent(f.deep_link_id):void 0;return tc(T).link||T||v||p||y}(f);if(T.includes("/__/auth/callback")){const x=tc(T),B=x.firebaseError?function kd(y){try{return JSON.parse(y)}catch{return null}}(decodeURIComponent(x.firebaseError)):null,K=null===(v=null===(p=B?.code)||void 0===p?void 0:p.split("auth/"))||void 0===v?void 0:v[1],be=K?Ce(K):null;return be?{type:y.type,eventId:y.eventId,tenantId:y.tenantId,error:be,urlResponse:null,sessionId:null,postBody:null}:{type:y.type,eventId:y.eventId,tenantId:y.tenantId,sessionId:y.sessionId,urlResponse:T,postBody:null}}return null}(In,Xe.url)),p.onEvent(Ci||If())});return function(In){return nt.apply(this,arguments)}}();typeof v<"u"&&"function"==typeof v.subscribe&&v.subscribe(null,K);const be=T,Ve=`${x.packageName.toLowerCase()}://`;Ns().handleOpenURL=function(){var nt=(0,c.Z)(function*(Xe){if(Xe.toLowerCase().startsWith(Ve)&&K({url:Xe}),"function"==typeof be)try{be(Xe)}catch(In){console.error(In)}});return function(Xe){return nt.apply(this,arguments)}}()}};function If(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Ce("no-auth-event")}}const Ag=1e3;function pl(){var y;return(null===(y=self?.location)||void 0===y?void 0:y.protocol)||null}function Fd(y=(0,N.z$)()){return!("file:"!==pl()&&"ionic:"!==pl()&&"capacitor:"!==pl()||!y.toLowerCase().match(/iphone|ipad|ipod|android/))}function Pg(){try{const y=self.localStorage,f=jo();if(y)return y.setItem(f,"1"),y.removeItem(f),!function c_(y=(0,N.z$)()){return function rc(){return(0,N.w1)()&&11===document?.documentMode}()||function xg(y=(0,N.z$)()){return/Edge\/\d+/.test(y)}(y)}()||(0,N.hl)()}catch{return ta()&&(0,N.hl)()}return!1}function ta(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function na(){return(function u_(){return"http:"===pl()||"https:"===pl()}()||(0,N.ru)()||Fd())&&!function Mg(){return(0,N.b$)()||(0,N.UG)()}()&&Pg()&&!ta()}function Og(){return Fd()&&typeof document<"u"}function ic(){return(ic=(0,c.Z)(function*(){return!!Og()&&new Promise(y=>{const f=setTimeout(()=>{y(!1)},Ag);document.addEventListener("deviceready",()=>{clearTimeout(f),y(!0)})})})).apply(this,arguments)}const ni={LOCAL:"local",NONE:"none",SESSION:"session"},sc=te,Ld="persistence";function Vd(y){return Ud.apply(this,arguments)}function Ud(){return(Ud=(0,c.Z)(function*(y){yield y._initializationPromise;const f=Tf(),p=V(Ld,y.config.apiKey,y.name);f&&f.setItem(p,y._getPersistence())})).apply(this,arguments)}function Tf(){var y;try{return(null===(y=function Rg(){return typeof window<"u"?window:null}())||void 0===y?void 0:y.sessionStorage)||null}catch{return null}}const d_=te;class Mr{constructor(){this.browserResolver=Cn(Ar),this.cordovaResolver=Cn(nc),this.underlyingResolver=null,this._redirectPersistence=ds,this._completeRedirectFn=Ha,this._overrideRedirectResult=Ed}_initialize(f){var p=this;return(0,c.Z)(function*(){return yield p.selectUnderlyingResolver(),p.assertedUnderlyingResolver._initialize(f)})()}_openPopup(f,p,v,T){var x=this;return(0,c.Z)(function*(){return yield x.selectUnderlyingResolver(),x.assertedUnderlyingResolver._openPopup(f,p,v,T)})()}_openRedirect(f,p,v,T){var x=this;return(0,c.Z)(function*(){return yield x.selectUnderlyingResolver(),x.assertedUnderlyingResolver._openRedirect(f,p,v,T)})()}_isIframeWebStorageSupported(f,p){this.assertedUnderlyingResolver._isIframeWebStorageSupported(f,p)}_originValidation(f){return this.assertedUnderlyingResolver._originValidation(f)}get _shouldInitProactively(){return Og()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return d_(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var f=this;return(0,c.Z)(function*(){if(f.underlyingResolver)return;const p=yield function Df(){return ic.apply(this,arguments)}();f.underlyingResolver=p?f.cordovaResolver:f.browserResolver})()}}function oc(y){return y.unwrap()}function Dw(y){return Fg(y)}function Fg(y){const{_tokenResponse:f}=y instanceof N.ZR?y.customData:y;if(!f)return null;if(!(y instanceof N.ZR)&&"temporaryProof"in f&&"phoneNumber"in f)return Go.credentialFromResult(y);const p=f.providerId;if(!p||p===le.PASSWORD)return null;let v;switch(p){case le.GOOGLE:v=_a;break;case le.FACEBOOK:v=Fc;break;case le.GITHUB:v=nd;break;case le.TWITTER:v=mu;break;default:const{oauthIdToken:T,oauthAccessToken:x,oauthTokenSecret:B,pendingToken:K,nonce:be}=f;return x||B||T||K?K?p.startsWith("saml.")?bs._create(p,K):is._fromParams({providerId:p,signInMethod:p,pendingToken:K,idToken:T,accessToken:x}):new Qs(p).credential({idToken:T,accessToken:x,rawNonce:be}):null}return y instanceof N.ZR?v.credentialFromError(y):v.credentialFromResult(y)}function Ni(y,f){return f.catch(p=>{throw p instanceof N.ZR&&function kg(y,f){var p;const v=null===(p=f.customData)||void 0===p?void 0:p._tokenResponse;if("auth/multi-factor-auth-required"===f?.code)f.resolver=new Lg(y,function Pu(y,f){var p;const v=(0,N.m9)(y),T=f;return te(f.customData.operationType,v,"argument-error"),te(null===(p=T.customData._serverResponse)||void 0===p?void 0:p.mfaPendingCredential,v,"argument-error"),no._fromError(v,T)}(y,f));else if(v){const T=Fg(f),x=f;T&&(x.credential=T,x.tenantId=v.tenantId||void 0,x.email=v.email||void 0,x.phoneNumber=v.phoneNumber||void 0)}}(y,p),p}).then(p=>{const T=p.user;return{operationType:p.operationType,credential:Dw(p),additionalUserInfo:$c(p),user:Eo.getOrCreate(T)}})}function Af(y,f){return Bd.apply(this,arguments)}function Bd(){return(Bd=(0,c.Z)(function*(y,f){const p=yield f;return{verificationId:p.verificationId,confirm:v=>Ni(y,p.confirm(v))}})).apply(this,arguments)}class Lg{constructor(f,p){this.resolver=p,this.auth=function Sf(y){return y.wrapped()}(f)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(f){return Ni(oc(this.auth),this.resolver.resolveSignIn(f))}}class Eo{constructor(f){this._delegate=f,this.multiFactor=function gd(y){const f=(0,N.m9)(y);return Ss.has(f)||Ss.set(f,so._fromUser(f)),Ss.get(f)}(f)}static getOrCreate(f){return Eo.USER_MAP.has(f)||Eo.USER_MAP.set(f,new Eo(f)),Eo.USER_MAP.get(f)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(f){return this._delegate.getIdTokenResult(f)}getIdToken(f){return this._delegate.getIdToken(f)}linkAndRetrieveDataWithCredential(f){return this.linkWithCredential(f)}linkWithCredential(f){var p=this;return(0,c.Z)(function*(){return Ni(p.auth,od(p._delegate,f))})()}linkWithPhoneNumber(f,p){var v=this;return(0,c.Z)(function*(){return Af(v.auth,function Bu(y,f,p){return ju.apply(this,arguments)}(v._delegate,f,p))})()}linkWithPopup(f){var p=this;return(0,c.Z)(function*(){return Ni(p.auth,function Ua(y,f,p){return el.apply(this,arguments)}(p._delegate,f,Mr))})()}linkWithRedirect(f){var p=this;return(0,c.Z)(function*(){return yield Vd(cn(p.auth)),Id(p._delegate,f,Mr)})()}reauthenticateAndRetrieveDataWithCredential(f){return this.reauthenticateWithCredential(f)}reauthenticateWithCredential(f){var p=this;return(0,c.Z)(function*(){return Ni(p.auth,ad(p._delegate,f))})()}reauthenticateWithPhoneNumber(f,p){return Af(this.auth,function hf(y,f,p){return Jc.apply(this,arguments)}(this._delegate,f,p))}reauthenticateWithPopup(f){return Ni(this.auth,function La(y,f,p){return Va.apply(this,arguments)}(this._delegate,f,Mr))}reauthenticateWithRedirect(f){var p=this;return(0,c.Z)(function*(){return yield Vd(cn(p.auth)),Cg(p._delegate,f,Mr)})()}sendEmailVerification(f){return function Du(y,f){return Sa.apply(this,arguments)}(this._delegate,f)}unlink(f){var p=this;return(0,c.Z)(function*(){return yield function id(y,f){return Sr.apply(this,arguments)}(p._delegate,f),p})()}updateEmail(f){return function pr(y,f){return Tn((0,N.m9)(y),f,null)}(this._delegate,f)}updatePassword(f){return function cs(y,f){return Tn((0,N.m9)(y),null,f)}(this._delegate,f)}updatePhoneNumber(f){return function un(y,f){return lr.apply(this,arguments)}(this._delegate,f)}updateProfile(f){return function Xh(y,f){return Su.apply(this,arguments)}(this._delegate,f)}verifyBeforeUpdateEmail(f,p){return function Bc(y,f,p){return Aa.apply(this,arguments)}(this._delegate,f,p)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Eo.USER_MAP=new WeakMap;const Ya=te;let Mf=(()=>{class y{constructor(p,v){if(this.app=p,v.isInitialized())return this._delegate=v.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:T}=p.options;Ya(T,"invalid-api-key",{appName:p.name}),Ya(T,"invalid-api-key",{appName:p.name});const x=typeof window<"u"?Mr:void 0;this._delegate=v.initialize({options:{persistence:ks(T,p.name),popupRedirectResolver:x}}),this._delegate._updateErrorMap(Ze),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Eo.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(p){this._delegate.languageCode=p}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(p){this._delegate.tenantId=p}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(p,v){!function pa(y,f,p){const v=cn(y);te(v._canInitEmulator,v,"emulator-config-failed"),te(/^https?:\/\//.test(f),v,"invalid-emulator-scheme");const T=!!p?.disableWarnings,x=Yr(f),{host:B,port:K}=function kt(y){const f=Yr(y),p=/(\/\/)?([^?#/]+)/.exec(y.substr(f.length));if(!p)return{host:"",port:null};const v=p[2].split("@").pop()||"",T=/^(\[[^\]]+\])(:|$)/.exec(v);if(T){const x=T[1];return{host:x,port:ga(v.substr(x.length+1))}}{const[x,B]=v.split(":");return{host:x,port:ga(B)}}}(f);v.config.emulator={url:`${x}//${B}${null===K?"":`:${K}`}/`},v.settings.appVerificationDisabledForTesting=!0,v.emulatorConfig=Object.freeze({host:B,port:K,protocol:x.replace(":",""),options:Object.freeze({disableWarnings:T})}),T||function Ks(){function y(){const f=document.createElement("p"),p=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",p.position="fixed",p.width="100%",p.backgroundColor="#ffffff",p.border=".1em solid #000000",p.color="#b50000",p.bottom="0px",p.left="0px",p.margin="0px",p.zIndex="10000",p.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}()}(this._delegate,p,v)}applyActionCode(p){return function mg(y,f){return us.apply(this,arguments)}(this._delegate,p)}checkActionCode(p){return Da(this._delegate,p)}confirmPasswordReset(p,v){return function cd(y,f,p){return Cu.apply(this,arguments)}(this._delegate,p,v)}createUserWithEmailAndPassword(p,v){var T=this;return(0,c.Z)(function*(){return Ni(T._delegate,function Xs(y,f,p){return yi.apply(this,arguments)}(T._delegate,p,v))})()}fetchProvidersForEmail(p){return this.fetchSignInMethodsForEmail(p)}fetchSignInMethodsForEmail(p){return function dd(y,f){return bu.apply(this,arguments)}(this._delegate,p)}isSignInWithEmailLink(p){return function yg(y,f){return"EMAIL_SIGNIN"===Ro.parseLink(f)?.operation}(0,p)}getRedirectResult(){var p=this;return(0,c.Z)(function*(){Ya(na(),p._delegate,"operation-not-supported-in-this-environment");const v=yield function rl(y,f){return il.apply(this,arguments)}(p._delegate,Mr);return v?Ni(p._delegate,Promise.resolve(v)):{credential:null,user:null}})()}addFrameworkForLogging(p){!function bf(y,f){cn(y)._logFramework(f)}(this._delegate,p)}onAuthStateChanged(p,v,T){const{next:x,error:B,complete:K}=jd(p,v,T);return this._delegate.onAuthStateChanged(x,B,K)}onIdTokenChanged(p,v,T){const{next:x,error:B,complete:K}=jd(p,v,T);return this._delegate.onIdTokenChanged(x,B,K)}sendSignInLinkToEmail(p,v){return function Ta(y,f,p){return Eu.apply(this,arguments)}(this._delegate,p,v)}sendPasswordResetEmail(p,v){return function wu(y,f,p){return Br.apply(this,arguments)}(this._delegate,p,v||void 0)}setPersistence(p){var v=this;return(0,c.Z)(function*(){let T;switch(function Ng(y,f){sc(Object.values(ni).includes(f),y,"invalid-persistence-type"),(0,N.b$)()?sc(f!==ni.SESSION,y,"unsupported-persistence-type"):(0,N.UG)()?sc(f===ni.NONE,y,"unsupported-persistence-type"):ta()?sc(f===ni.NONE||f===ni.LOCAL&&(0,N.hl)(),y,"unsupported-persistence-type"):sc(f===ni.NONE||Pg(),y,"unsupported-persistence-type")}(v._delegate,p),p){case ni.SESSION:T=ds;break;case ni.LOCAL:T=(yield Cn(lo)._isAvailable())?lo:ao;break;case ni.NONE:T=Vr;break;default:return we("argument-error",{appName:v._delegate.name})}return v._delegate.setPersistence(T)})()}signInAndRetrieveDataWithCredential(p){return this.signInWithCredential(p)}signInAnonymously(){return Ni(this._delegate,function ur(y){return No.apply(this,arguments)}(this._delegate))}signInWithCredential(p){return Ni(this._delegate,Ea(this._delegate,p))}signInWithCustomToken(p){return Ni(this._delegate,function ce(y,f){return Nt.apply(this,arguments)}(this._delegate,p))}signInWithEmailAndPassword(p,v){return Ni(this._delegate,function ld(y,f,p){return Ea((0,N.m9)(y),Qh.credential(f,p))}(this._delegate,p,v))}signInWithEmailLink(p,v){return Ni(this._delegate,function Gn(y,f,p){return Fo.apply(this,arguments)}(this._delegate,p,v))}signInWithPhoneNumber(p,v){return Af(this._delegate,function df(y,f,p){return po.apply(this,arguments)}(this._delegate,p,v))}signInWithPopup(p){var v=this;return(0,c.Z)(function*(){return Ya(na(),v._delegate,"operation-not-supported-in-this-environment"),Ni(v._delegate,function gt(y,f,p){return Gu.apply(this,arguments)}(v._delegate,p,Mr))})()}signInWithRedirect(p){var v=this;return(0,c.Z)(function*(){return Ya(na(),v._delegate,"operation-not-supported-in-this-environment"),yield Vd(v._delegate),mr(v._delegate,p,Mr)})()}updateCurrentUser(p){return this._delegate.updateCurrentUser(p)}verifyPasswordResetCode(p){return function mi(y,f){return Zi.apply(this,arguments)}(this._delegate,p)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return y.Persistence=ni,y})();function jd(y,f,p){let v=y;"function"!=typeof y&&({next:v,error:f,complete:p}=y);const T=v;return{next:B=>T(B&&Eo.getOrCreate(B)),error:f,complete:p}}function ks(y,f){const p=function l_(y,f){const p=Tf();if(!p)return[];const v=V(Ld,y,f);switch(p.getItem(v)){case ni.NONE:return[Vr];case ni.LOCAL:return[lo,ds];case ni.SESSION:return[ds];default:return[]}}(y,f);if(typeof self<"u"&&!p.includes(lo)&&p.push(lo),typeof window<"u")for(const v of[ao,ds])p.includes(v)||p.push(v);return p.includes(Vr)||p.push(Vr),p}class Qa{constructor(){this.providerId="phone",this._delegate=new Go(oc(Q.Z.auth()))}static credential(f,p){return Go.credential(f,p)}verifyPhoneNumber(f,p){return this._delegate.verifyPhoneNumber(f,p)}unwrap(){return this._delegate}}Qa.PHONE_SIGN_IN_METHOD=Go.PHONE_SIGN_IN_METHOD,Qa.PROVIDER_ID=Go.PROVIDER_ID;const h_=te;class $d{constructor(f,p,v=Q.Z.app()){var T;h_(null===(T=v.options)||void 0===T?void 0:T.apiKey,"invalid-api-key",{appName:v.name}),this._delegate=new Qc(f,p,v.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function f_(y){y.INTERNAL.registerComponent(new ge.wA("auth-compat",f=>{const p=f.getProvider("app-compat").getImmediate(),v=f.getProvider("auth");return new Mf(p,v)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:q_EMAIL_SIGNIN,PASSWORD_RESET:q_PASSWORD_RESET,RECOVER_EMAIL:q_RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:q_REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:q_VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:q_VERIFY_EMAIL}},EmailAuthProvider:Qh,FacebookAuthProvider:Fc,GithubAuthProvider:nd,GoogleAuthProvider:_a,OAuthProvider:Qs,SAMLAuthProvider:va,PhoneAuthProvider:Qa,PhoneMultiFactorGenerator:Co,RecaptchaVerifier:$d,TwitterAuthProvider:mu,Auth:Mf,AuthCredential:ns,Error:N.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),y.registerVersion("@firebase/auth-compat","0.4.1")}(Q.Z)},5861:(mt,Te,k)=>{function c(N,se,ie,re,ge,ve,le){try{var $=N[ve](le),j=$.value}catch(q){return void ie(q)}$.done?se(j):Promise.resolve(j).then(re,ge)}function Q(N){return function(){var se=this,ie=arguments;return new Promise(function(re,ge){var ve=N.apply(se,ie);function le(j){c(ve,re,ge,le,$,"next",j)}function $(j){c(ve,re,ge,le,$,"throw",j)}le(void 0)})}}k.d(Te,{Z:()=>Q})}},mt=>{mt(mt.s=6716)}]);