"use strict";(self.webpackChunkecommerce=self.webpackChunkecommerce||[]).push([[179],{2011:(_t,De,k)=>{k.d(De,{Dh:()=>_e,GT:()=>re,cc:()=>be,hO:()=>je,on:()=>$,pX:()=>ie,xv:()=>le});var c=k(4650),Q=k(9260),N=k(4976);_t=k.hmd(_t);const oe=["ngOnDestroy"],ie=(Ae,Me,Ue,Pe={})=>new Proxy(Ae,{get:(ve,we)=>Ue.runOutsideAngular(()=>{var $e;if(Ae[we])return!(null===($e=Pe?.spy)||void 0===$e)&&$e.get&&Pe.spy.get(we,Ae[we]),Ae[we];if(oe.indexOf(we)>-1)return()=>{};const Re=Me.toPromise().then(it=>{const te=it&&it[we];return"function"==typeof te?te.bind(it):te&&te.then?te.then(xt=>Ue.run(()=>xt)):Ue.run(()=>te)});return new Proxy(()=>{},{get:(it,te)=>Re[te],apply:(it,te,xt)=>Re.then(Xe=>{var Ht;const at=Xe&&Xe(...xt);return!(null===(Ht=Pe?.spy)||void 0===Ht)&&Ht.apply&&Pe.spy.apply(we,xt,at),at})})})}),re=(Ae,Me)=>{Me.forEach(Ue=>{Object.getOwnPropertyNames(Ue.prototype||Ue).forEach(Pe=>{Object.defineProperty(Ae.prototype,Pe,Object.getOwnPropertyDescriptor(Ue.prototype||Ue,Pe))})})};class pe{constructor(Me){return Me}}const _e=new c.OlP("angularfire2.app.options"),le=new c.OlP("angularfire2.app.name");function $(Ae,Me,Ue){const ve="object"==typeof Ue&&Ue||{};ve.name=ve.name||"string"==typeof Ue&&Ue||"[DEFAULT]";const $e=Q.Z.apps.filter(Re=>Re&&Re.name===ve.name)[0]||Me.runOutsideAngular(()=>Q.Z.initializeApp(Ae,ve));try{JSON.stringify(Ae)!==JSON.stringify($e.options)&&j("error",`${$e.name} Firebase App already initialized with different options${_t.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new pe($e)}const j=(Ae,...Me)=>{(0,c.X6Q)()&&typeof console<"u"&&console[Ae](...Me)},q={provide:pe,useFactory:$,deps:[_e,c.R0b,[new c.FiY,le]]};let je=(()=>{class Ae{constructor(Ue){Q.Z.registerVersion("angularfire",N.q4.full,"core"),Q.Z.registerVersion("angularfire",N.q4.full,"app-compat"),Q.Z.registerVersion("angular",c.q4F.full,Ue.toString())}static initializeApp(Ue,Pe){return{ngModule:Ae,providers:[{provide:_e,useValue:Ue},{provide:le,useValue:Pe}]}}}return Ae.\u0275fac=function(Ue){return new(Ue||Ae)(c.LFG(c.Lbi))},Ae.\u0275mod=c.oAB({type:Ae}),Ae.\u0275inj=c.cJS({providers:[q]}),Ae})();function be(Ae,Me,Ue,Pe,ve){const[,we,$e]=globalThis.\u0275AngularfireInstanceCache.find(Re=>Re[0]===Ae)||[];if(we)return function We(Ae,Me){try{return Ae.toString()===Me.toString()}catch{return Ae===Me}}(ve,$e)||(he("error",`${Me} was already initialized on the ${Ue} Firebase App with different settings.${lt?" You may need to reload as Firebase is not HMR aware.":""}`),he("warn",{is:ve,was:$e})),we;{const Re=Pe();return globalThis.\u0275AngularfireInstanceCache.push([Ae,Re,ve]),Re}}const lt=!!_t.hot,he=(Ae,...Me)=>{(0,c.X6Q)()&&typeof console<"u"&&console[Ae](...Me)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},4976:(_t,De,k)=>{k.d(De,{q4:()=>Js,iC:()=>mf,HU:()=>yi,vb:()=>Qu,JM:()=>ol});var c=k(4650),Q=k(259),N=k(5861),oe=k(6881),ie=k(2090),re=k(4859),pe=k(1877);const _e=(C,E)=>E.some(A=>C instanceof A);let le,$;const je=new WeakMap,be=new WeakMap,We=new WeakMap,lt=new WeakMap,he=new WeakMap;let Ue={get(C,E,A){if(C instanceof IDBTransaction){if("done"===E)return be.get(C);if("objectStoreNames"===E)return C.objectStoreNames||We.get(C);if("store"===E)return A.objectStoreNames[1]?void 0:A.objectStore(A.objectStoreNames[0])}return $e(C[E])},set:(C,E,A)=>(C[E]=A,!0),has:(C,E)=>C instanceof IDBTransaction&&("done"===E||"store"===E)||E in C};function we(C){return"function"==typeof C?function ve(C){return C!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function q(){return $||($=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(C)?function(...E){return C.apply(Re(this),E),$e(je.get(this))}:function(...E){return $e(C.apply(Re(this),E))}:function(E,...A){const R=C.call(Re(this),E,...A);return We.set(R,E.sort?E.sort():[E]),$e(R)}}(C):(C instanceof IDBTransaction&&function Me(C){if(be.has(C))return;const E=new Promise((A,R)=>{const H=()=>{C.removeEventListener("complete",W),C.removeEventListener("error",ne),C.removeEventListener("abort",ne)},W=()=>{A(),H()},ne=()=>{R(C.error||new DOMException("AbortError","AbortError")),H()};C.addEventListener("complete",W),C.addEventListener("error",ne),C.addEventListener("abort",ne)});be.set(C,E)}(C),_e(C,function j(){return le||(le=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(C,Ue):C)}function $e(C){if(C instanceof IDBRequest)return function Ae(C){const E=new Promise((A,R)=>{const H=()=>{C.removeEventListener("success",W),C.removeEventListener("error",ne)},W=()=>{A($e(C.result)),H()},ne=()=>{R(C.error),H()};C.addEventListener("success",W),C.addEventListener("error",ne)});return E.then(A=>{A instanceof IDBCursor&&je.set(A,C)}).catch(()=>{}),he.set(E,C),E}(C);if(lt.has(C))return lt.get(C);const E=we(C);return E!==C&&(lt.set(C,E),he.set(E,C)),E}const Re=C=>he.get(C),xt=["get","getKey","getAll","getAllKeys","count"],Xe=["put","add","delete","clear"],Ht=new Map;function at(C,E){if(!(C instanceof IDBDatabase)||E in C||"string"!=typeof E)return;if(Ht.get(E))return Ht.get(E);const A=E.replace(/FromIndex$/,""),R=E!==A,H=Xe.includes(A);if(!(A in(R?IDBIndex:IDBObjectStore).prototype)||!H&&!xt.includes(A))return;const W=function(){var ne=(0,N.Z)(function*(Ge,...ze){const ct=this.transaction(Ge,H?"readwrite":"readonly");let Ot=ct.store;return R&&(Ot=Ot.index(ze.shift())),(yield Promise.all([Ot[A](...ze),H&&ct.done]))[0]});return function(ze){return ne.apply(this,arguments)}}();return Ht.set(E,W),W}!function Pe(C){Ue=C(Ue)}(C=>({...C,get:(E,A,R)=>at(E,A)||C.get(E,A,R),has:(E,A)=>!!at(E,A)||C.has(E,A)}));const de="@firebase/installations",fe="0.6.4",Ce=1e4,xe=`w:${fe}`,He="FIS_v2",Be="https://firebaseinstallations.googleapis.com/v1",ht=36e5,$t=new ie.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Dt(C){return C instanceof ie.ZR&&C.code.includes("request-failed")}function tn({projectId:C}){return`${Be}/projects/${C}/installations`}function yn(C){return{token:C.token,requestStatus:2,expiresIn:Rs(C.expiresIn),creationTime:Date.now()}}function bn(C,E){return Er.apply(this,arguments)}function Er(){return(Er=(0,N.Z)(function*(C,E){const R=(yield E.json()).error;return $t.create("request-failed",{requestName:C,serverCode:R.code,serverMessage:R.message,serverStatus:R.status})})).apply(this,arguments)}function Fr({apiKey:C}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C})}function Io(C){return ai.apply(this,arguments)}function ai(){return(ai=(0,N.Z)(function*(C){const E=yield C();return E.status>=500&&E.status<600?C():E})).apply(this,arguments)}function Rs(C){return Number(C.replace("s","000"))}function pt(){return(pt=(0,N.Z)(function*({appConfig:C,heartbeatServiceProvider:E},{fid:A}){const R=tn(C),H=Fr(C),W=E.getImmediate({optional:!0});if(W){const ct=yield W.getHeartbeatsHeader();ct&&H.append("x-firebase-client",ct)}const Ge={method:"POST",headers:H,body:JSON.stringify({fid:A,authVersion:He,appId:C.appId,sdkVersion:xe})},ze=yield Io(()=>fetch(R,Ge));if(ze.ok){const ct=yield ze.json();return{fid:ct.fid||A,registrationStatus:2,refreshToken:ct.refreshToken,authToken:yn(ct.authToken)}}throw yield bn("Create Installation",ze)})).apply(this,arguments)}function qr(C){return new Promise(E=>{setTimeout(E,C)})}const mr=/^[cdef][\w-]{21}$/,Lr="";function zi(){try{const C=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(C),C[0]=112+C[0]%16;const A=function Xt(C){return function Ac(C){return btoa(String.fromCharCode(...C)).replace(/\+/g,"-").replace(/\//g,"_")}(C).substr(0,22)}(C);return mr.test(A)?A:Lr}catch{return Lr}}function nn(C){return`${C.appName}!${C.appId}`}const ot=new Map;function At(C,E){const A=nn(C);or(A,E),function Vr(C,E){const A=function Wr(){return!xn&&"BroadcastChannel"in self&&(xn=new BroadcastChannel("[Firebase] FID Change"),xn.onmessage=C=>{or(C.data.key,C.data.fid)}),xn}();A&&A.postMessage({key:C,fid:E}),function fn(){0===ot.size&&xn&&(xn.close(),xn=null)}()}(A,E)}function or(C,E){const A=ot.get(C);if(A)for(const R of A)R(E)}let xn=null;const Do="firebase-installations-database",Wt=1,Gi="firebase-installations-store";let rn=null;function ci(){return rn||(rn=function it(C,E,{blocked:A,upgrade:R,blocking:H,terminated:W}={}){const ne=indexedDB.open(C,E),Ge=$e(ne);return R&&ne.addEventListener("upgradeneeded",ze=>{R($e(ne.result),ze.oldVersion,ze.newVersion,$e(ne.transaction))}),A&&ne.addEventListener("blocked",()=>A()),Ge.then(ze=>{W&&ze.addEventListener("close",()=>W()),H&&ze.addEventListener("versionchange",()=>H())}).catch(()=>{}),Ge}(Do,Wt,{upgrade:(C,E)=>{0===E&&C.createObjectStore(Gi)}})),rn}function Tn(C,E){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,N.Z)(function*(C,E){const A=nn(C),H=(yield ci()).transaction(Gi,"readwrite"),W=H.objectStore(Gi),ne=yield W.get(A);return yield W.put(E,A),yield H.done,(!ne||ne.fid!==E.fid)&&At(C,E.fid),E})).apply(this,arguments)}function Si(C){return vn.apply(this,arguments)}function vn(){return(vn=(0,N.Z)(function*(C){const E=nn(C),R=(yield ci()).transaction(Gi,"readwrite");yield R.objectStore(Gi).delete(E),yield R.done})).apply(this,arguments)}function Ai(C,E){return Ur.apply(this,arguments)}function Ur(){return(Ur=(0,N.Z)(function*(C,E){const A=nn(C),H=(yield ci()).transaction(Gi,"readwrite"),W=H.objectStore(Gi),ne=yield W.get(A),Ge=E(ne);return void 0===Ge?yield W.delete(A):yield W.put(Ge,A),yield H.done,Ge&&(!ne||ne.fid!==Ge.fid)&&At(C,Ge.fid),Ge})).apply(this,arguments)}function V(C){return L.apply(this,arguments)}function L(){return L=(0,N.Z)(function*(C){let E;const A=yield Ai(C.appConfig,R=>{const H=function G(C){return En(C||{fid:zi(),registrationStatus:0})}(R),W=function ge(C,E){if(0===E.registrationStatus){if(!navigator.onLine)return{installationEntry:E,registrationPromise:Promise.reject($t.create("app-offline"))};const A={fid:E.fid,registrationStatus:1,registrationTime:Date.now()},R=function J(C,E){return Ne.apply(this,arguments)}(C,A);return{installationEntry:A,registrationPromise:R}}return 1===E.registrationStatus?{installationEntry:E,registrationPromise:Tt(C)}:{installationEntry:E}}(C,H);return E=W.registrationPromise,W.installationEntry});return A.fid===Lr?{installationEntry:yield E}:{installationEntry:A,registrationPromise:E}}),L.apply(this,arguments)}function Ne(){return Ne=(0,N.Z)(function*(C,E){try{const A=yield function Dr(C,E){return pt.apply(this,arguments)}(C,E);return Tn(C.appConfig,A)}catch(A){throw Dt(A)&&409===A.customData.serverCode?yield Si(C.appConfig):yield Tn(C.appConfig,{fid:E.fid,registrationStatus:0}),A}}),Ne.apply(this,arguments)}function Tt(C){return Yt.apply(this,arguments)}function Yt(){return(Yt=(0,N.Z)(function*(C){let E=yield Pn(C.appConfig);for(;1===E.registrationStatus;)yield qr(100),E=yield Pn(C.appConfig);if(0===E.registrationStatus){const{installationEntry:A,registrationPromise:R}=yield V(C);return R||A}return E})).apply(this,arguments)}function Pn(C){return Ai(C,E=>{if(!E)throw $t.create("installation-not-found");return En(E)})}function En(C){return function an(C){return 1===C.registrationStatus&&C.registrationTime+Ce<Date.now()}(C)?{fid:C.fid,registrationStatus:0}:C}function xr(){return(xr=(0,N.Z)(function*({appConfig:C,heartbeatServiceProvider:E},A){const R=function Mi(C,{fid:E}){return`${tn(C)}/${E}/authTokens:generate`}(C,A),H=function Ir(C,{refreshToken:E}){const A=Fr(C);return A.append("Authorization",function Yo(C){return`${He} ${C}`}(E)),A}(C,A),W=E.getImmediate({optional:!0});if(W){const ct=yield W.getHeartbeatsHeader();ct&&H.append("x-firebase-client",ct)}const Ge={method:"POST",headers:H,body:JSON.stringify({installation:{sdkVersion:xe,appId:C.appId}})},ze=yield Io(()=>fetch(R,Ge));if(ze.ok)return yn(yield ze.json());throw yield bn("Generate Auth Token",ze)})).apply(this,arguments)}function qi(C){return ga.apply(this,arguments)}function ga(){return ga=(0,N.Z)(function*(C,E=!1){let A;const R=yield Ai(C.appConfig,W=>{if(!Vt(W))throw $t.create("not-registered");const ne=W.authToken;if(!E&&function gt(C){return 2===C.requestStatus&&!function en(C){const E=Date.now();return E<C.creationTime||C.creationTime+C.expiresIn<E+ht}(C)}(ne))return W;if(1===ne.requestStatus)return A=function ue(C,E){return X.apply(this,arguments)}(C,E),W;{if(!navigator.onLine)throw $t.create("app-offline");const Ge=function Qt(C){const E={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},C),{authToken:E})}(W);return A=function ft(C,E){return Et.apply(this,arguments)}(C,Ge),Ge}});return A?yield A:R.authToken}),ga.apply(this,arguments)}function X(){return(X=(0,N.Z)(function*(C,E){let A=yield Oe(C.appConfig);for(;1===A.authToken.requestStatus;)yield qr(100),A=yield Oe(C.appConfig);const R=A.authToken;return 0===R.requestStatus?qi(C,E):R})).apply(this,arguments)}function Oe(C){return Ai(C,E=>{if(!Vt(E))throw $t.create("not-registered");return function sr(C){return 1===C.requestStatus&&C.requestTime+Ce<Date.now()}(E.authToken)?Object.assign(Object.assign({},E),{authToken:{requestStatus:0}}):E})}function Et(){return Et=(0,N.Z)(function*(C,E){try{const A=yield function zt(C,E){return xr.apply(this,arguments)}(C,E),R=Object.assign(Object.assign({},E),{authToken:A});return yield Tn(C.appConfig,R),A}catch(A){if(!Dt(A)||401!==A.customData.serverCode&&404!==A.customData.serverCode){const R=Object.assign(Object.assign({},E),{authToken:{requestStatus:0}});yield Tn(C.appConfig,R)}else yield Si(C.appConfig);throw A}}),Et.apply(this,arguments)}function Vt(C){return void 0!==C&&2===C.registrationStatus}function pu(){return(pu=(0,N.Z)(function*(C){const E=C,{installationEntry:A,registrationPromise:R}=yield V(E);return R?R.catch(console.error):qi(E).catch(console.error),A.fid})).apply(this,arguments)}function Qo(){return Qo=(0,N.Z)(function*(C,E=!1){const A=C;return yield function li(C){return qe.apply(this,arguments)}(A),(yield qi(A,E)).token}),Qo.apply(this,arguments)}function qe(){return(qe=(0,N.Z)(function*(C){const{registrationPromise:E}=yield V(C);E&&(yield E)})).apply(this,arguments)}function Kr(C){return $t.create("missing-app-config-values",{valueName:C})}const Lt="installations",Jo=C=>{const E=C.getProvider("app").getImmediate(),A=function ma(C){if(!C||!C.options)throw Kr("App Configuration");if(!C.name)throw Kr("App Name");const E=["projectId","apiKey","appId"];for(const A of E)if(!C.options[A])throw Kr(A);return{appName:C.name,projectId:C.options.projectId,apiKey:C.options.apiKey,appId:C.options.appId}}(E);return{app:E,appConfig:A,heartbeatServiceProvider:(0,oe._getProvider)(E,"heartbeat"),_delete:()=>Promise.resolve()}},io=C=>{const E=C.getProvider("app").getImmediate(),A=(0,oe._getProvider)(E,Lt).getImmediate();return{getId:()=>function Vn(C){return pu.apply(this,arguments)}(A),getToken:H=>function Kh(C){return Qo.apply(this,arguments)}(A,H)}};(function Xo(){(0,oe._registerComponent)(new re.wA(Lt,Jo,"PUBLIC")),(0,oe._registerComponent)(new re.wA("installations-internal",io,"PRIVATE"))})(),(0,oe.registerVersion)(de,fe),(0,oe.registerVersion)(de,fe,"esm2017");const On="@firebase/remote-config",yr=new ie.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class so{constructor(E,A,R,H){this.client=E,this.storage=A,this.storageCache=R,this.logger=H}isCachedDataFresh(E,A){if(!A)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const R=Date.now()-A,H=R<=E;return this.logger.debug(`Config fetch cache check. Cache age millis: ${R}. Cache max age millis (minimumFetchIntervalMillis setting): ${E}. Is cache hit: ${H}.`),H}fetch(E){var A=this;return(0,N.Z)(function*(){const[R,H]=yield Promise.all([A.storage.getLastSuccessfulFetchTimestampMillis(),A.storage.getLastSuccessfulFetchResponse()]);if(H&&A.isCachedDataFresh(E.cacheMaxAgeMillis,R))return H;E.eTag=H&&H.eTag;const W=yield A.client.fetch(E),ne=[A.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===W.status&&ne.push(A.storage.setLastSuccessfulFetchResponse(W)),yield Promise.all(ne),W})()}}function mg(C=navigator){return C.languages&&C.languages[0]||C.language}class Oc{constructor(E,A,R,H,W,ne){this.firebaseInstallations=E,this.sdkVersion=A,this.namespace=R,this.projectId=H,this.apiKey=W,this.appId=ne}fetch(E){var A=this;return(0,N.Z)(function*(){const[R,H]=yield Promise.all([A.firebaseInstallations.getId(),A.firebaseInstallations.getToken()]),ne=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${A.projectId}/namespaces/${A.namespace}:fetch?key=${A.apiKey}`,Ge={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":E.eTag||"*"},ze={sdk_version:A.sdkVersion,app_instance_id:R,app_instance_id_token:H,app_id:A.appId,language_code:mg()},ct={method:"POST",headers:Ge,body:JSON.stringify(ze)},Ot=fetch(ne,ct),Rt=new Promise((ei,Ar)=>{E.signal.addEventListener(()=>{const bs=new Error("The operation was aborted.");bs.name="AbortError",Ar(bs)})});let _i;try{yield Promise.race([Ot,Rt]),_i=yield Ot}catch(ei){let Ar="fetch-client-network";throw"AbortError"===ei?.name&&(Ar="fetch-timeout"),yr.create(Ar,{originalErrorMessage:ei?.message})}let Mn=_i.status;const Xs=_i.headers.get("ETag")||void 0;let Xu,Cs;if(200===_i.status){let ei;try{ei=yield _i.json()}catch(Ar){throw yr.create("fetch-client-parse",{originalErrorMessage:Ar?.message})}Xu=ei.entries,Cs=ei.state}if("INSTANCE_STATE_UNSPECIFIED"===Cs?Mn=500:"NO_CHANGE"===Cs?Mn=304:("NO_TEMPLATE"===Cs||"EMPTY_CONFIG"===Cs)&&(Xu={}),304!==Mn&&200!==Mn)throw yr.create("fetch-status",{httpStatus:Mn});return{status:Mn,eTag:Xs,config:Xu}})()}}class Qh{constructor(E,A){this.client=E,this.storage=A}fetch(E){var A=this;return(0,N.Z)(function*(){const R=(yield A.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return A.attemptFetch(E,R)})()}attemptFetch(E,{throttleEndTimeMillis:A,backoffCount:R}){var H=this;return(0,N.Z)(function*(){yield function yg(C,E){return new Promise((A,R)=>{const H=Math.max(E-Date.now(),0),W=setTimeout(A,H);C.addEventListener(()=>{clearTimeout(W),R(yr.create("fetch-throttle",{throttleEndTimeMillis:E}))})})}(E.signal,A);try{const W=yield H.client.fetch(E);return yield H.storage.deleteThrottleMetadata(),W}catch(W){if(!function Kl(C){if(!(C instanceof ie.ZR&&C.customData))return!1;const E=Number(C.customData.httpStatus);return 429===E||500===E||503===E||504===E}(W))throw W;const ne={throttleEndTimeMillis:Date.now()+(0,ie.$s)(R),backoffCount:R+1};return yield H.storage.setThrottleMetadata(ne),H.attemptFetch(E,ne)}})()}}class Ky{constructor(E,A,R,H,W){this.app=E,this._client=A,this._storageCache=R,this._storage=H,this._logger=W,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function _u(C,E){const A=C.target.error||void 0;return yr.create(E,{originalErrorMessage:A&&A?.message})}const fi="app_namespace_store";class Yy{constructor(E,A,R,H=function Vs(){return new Promise((C,E)=>{try{const A=indexedDB.open("firebase_remote_config",1);A.onerror=R=>{E(_u(R,"storage-open"))},A.onsuccess=R=>{C(R.target.result)},A.onupgradeneeded=R=>{0===R.oldVersion&&R.target.result.createObjectStore(fi,{keyPath:"compositeKey"})}}catch(A){E(yr.create("storage-open",{originalErrorMessage:A?.message}))}})}()){this.appId=E,this.appName=A,this.namespace=R,this.openDbPromise=H}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(E){return this.set("last_fetch_status",E)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(E){return this.set("last_successful_fetch_timestamp_millis",E)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(E){return this.set("last_successful_fetch_response",E)}getActiveConfig(){return this.get("active_config")}setActiveConfig(E){return this.set("active_config",E)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(E){return this.set("active_config_etag",E)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(E){return this.set("throttle_metadata",E)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(E){var A=this;return(0,N.Z)(function*(){const R=yield A.openDbPromise;return new Promise((H,W)=>{const Ge=R.transaction([fi],"readonly").objectStore(fi),ze=A.createCompositeKey(E);try{const ct=Ge.get(ze);ct.onerror=Ot=>{W(_u(Ot,"storage-get"))},ct.onsuccess=Ot=>{const Rt=Ot.target.result;H(Rt?Rt.value:void 0)}}catch(ct){W(yr.create("storage-get",{originalErrorMessage:ct?.message}))}})})()}set(E,A){var R=this;return(0,N.Z)(function*(){const H=yield R.openDbPromise;return new Promise((W,ne)=>{const ze=H.transaction([fi],"readwrite").objectStore(fi),ct=R.createCompositeKey(E);try{const Ot=ze.put({compositeKey:ct,value:A});Ot.onerror=Rt=>{ne(_u(Rt,"storage-set"))},Ot.onsuccess=()=>{W()}}catch(Ot){ne(yr.create("storage-set",{originalErrorMessage:Ot?.message}))}})})()}delete(E){var A=this;return(0,N.Z)(function*(){const R=yield A.openDbPromise;return new Promise((H,W)=>{const Ge=R.transaction([fi],"readwrite").objectStore(fi),ze=A.createCompositeKey(E);try{const ct=Ge.delete(ze);ct.onerror=Ot=>{W(_u(Ot,"storage-delete"))},ct.onsuccess=()=>{H()}}catch(ct){W(yr.create("storage-delete",{originalErrorMessage:ct?.message}))}})})()}createCompositeKey(E){return[this.appId,this.appName,this.namespace,E].join()}}class Xh{constructor(E){this.storage=E}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var E=this;return(0,N.Z)(function*(){const A=E.storage.getLastFetchStatus(),R=E.storage.getLastSuccessfulFetchTimestampMillis(),H=E.storage.getActiveConfig(),W=yield A;W&&(E.lastFetchStatus=W);const ne=yield R;ne&&(E.lastSuccessfulFetchTimestampMillis=ne);const Ge=yield H;Ge&&(E.activeConfig=Ge)})()}setLastFetchStatus(E){return this.lastFetchStatus=E,this.storage.setLastFetchStatus(E)}setLastSuccessfulFetchTimestampMillis(E){return this.lastSuccessfulFetchTimestampMillis=E,this.storage.setLastSuccessfulFetchTimestampMillis(E)}setActiveConfig(E){return this.activeConfig=E,this.storage.setActiveConfig(E)}}function Rc(){return wa.apply(this,arguments)}function wa(){return(wa=(0,N.Z)(function*(){if(!(0,ie.hl)())return!1;try{return yield(0,ie.eu)()}catch{return!1}})).apply(this,arguments)}!function ao(){(0,oe._registerComponent)(new re.wA("remote-config",function C(E,{instanceIdentifier:A}){const R=E.getProvider("app").getImmediate(),H=E.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw yr.create("registration-window");if(!(0,ie.hl)())throw yr.create("indexed-db-unavailable");const{projectId:W,apiKey:ne,appId:Ge}=R.options;if(!W)throw yr.create("registration-project-id");if(!ne)throw yr.create("registration-api-key");if(!Ge)throw yr.create("registration-app-id");const ze=new Yy(Ge,R.name,A=A||"firebase"),ct=new Xh(ze),Ot=new pe.Yd(On);Ot.logLevel=pe.in.ERROR;const Rt=new Oc(H,oe.SDK_VERSION,A,W,ne,Ge),_i=new Qh(Rt,ze),Mn=new so(_i,ze,ct,Ot),Xs=new Ky(R,Mn,ct,ze,Ot);return function Qr(C){const E=(0,ie.m9)(C);E._initializePromise||(E._initializePromise=E._storageCache.loadFromStorage().then(()=>{E._isInitializationComplete=!0}))}(Xs),Xs},"PUBLIC").setMultipleInstances(!0)),(0,oe.registerVersion)(On,"0.4.4"),(0,oe.registerVersion)(On,"0.4.4","esm2017")}();const Jl=(C,E)=>E.some(A=>C instanceof A);let Nc,Ao;const vu=new WeakMap,Mo=new WeakMap,Br=new WeakMap,Tr=new WeakMap,ba=new WeakMap;let uo={get(C,E,A){if(C instanceof IDBTransaction){if("done"===E)return Mo.get(C);if("objectStoreNames"===E)return C.objectStoreNames||Br.get(C);if("store"===E)return A.objectStoreNames[1]?void 0:A.objectStore(A.objectStoreNames[0])}return Sr(C[E])},set:(C,E,A)=>(C[E]=A,!0),has:(C,E)=>C instanceof IDBTransaction&&("done"===E||"store"===E)||E in C};function ed(C){return"function"==typeof C?function Xl(C){return C!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ca(){return Ao||(Ao=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(C)?function(...E){return C.apply(Wn(this),E),Sr(vu.get(this))}:function(...E){return Sr(C.apply(Wn(this),E))}:function(E,...A){const R=C.call(Wn(this),E,...A);return Br.set(R,E.sort?E.sort():[E]),Sr(R)}}(C):(C instanceof IDBTransaction&&function Us(C){if(Mo.has(C))return;const E=new Promise((A,R)=>{const H=()=>{C.removeEventListener("complete",W),C.removeEventListener("error",ne),C.removeEventListener("abort",ne)},W=()=>{A(),H()},ne=()=>{R(C.error||new DOMException("AbortError","AbortError")),H()};C.addEventListener("complete",W),C.addEventListener("error",ne),C.addEventListener("abort",ne)});Mo.set(C,E)}(C),Jl(C,function ef(){return Nc||(Nc=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(C,uo):C)}function Sr(C){if(C instanceof IDBRequest)return function ur(C){const E=new Promise((A,R)=>{const H=()=>{C.removeEventListener("success",W),C.removeEventListener("error",ne)},W=()=>{A(Sr(C.result)),H()},ne=()=>{R(C.error),H()};C.addEventListener("success",W),C.addEventListener("error",ne)});return E.then(A=>{A instanceof IDBCursor&&vu.set(A,C)}).catch(()=>{}),ba.set(E,C),E}(C);if(Tr.has(C))return Tr.get(C);const E=ed(C);return E!==C&&(Tr.set(C,E),ba.set(E,C)),E}const Wn=C=>ba.get(C);function wu(C,E,{blocked:A,upgrade:R,blocking:H,terminated:W}={}){const ne=indexedDB.open(C,E),Ge=Sr(ne);return R&&ne.addEventListener("upgradeneeded",ze=>{R(Sr(ne.result),ze.oldVersion,ze.newVersion,Sr(ne.transaction))}),A&&ne.addEventListener("blocked",()=>A()),Ge.then(ze=>{W&&ze.addEventListener("close",()=>W()),H&&ze.addEventListener("versionchange",()=>H())}).catch(()=>{}),Ge}function co(C,{blocked:E}={}){const A=indexedDB.deleteDatabase(C);return E&&A.addEventListener("blocked",()=>E()),Sr(A).then(()=>{})}const kc=["get","getKey","getAll","getAllKeys","count"],Po=["put","add","delete","clear"],Bs=new Map;function Ea(C,E){if(!(C instanceof IDBDatabase)||E in C||"string"!=typeof E)return;if(Bs.get(E))return Bs.get(E);const A=E.replace(/FromIndex$/,""),R=E!==A,H=Po.includes(A);if(!(A in(R?IDBIndex:IDBObjectStore).prototype)||!H&&!kc.includes(A))return;const W=function(){var ne=(0,N.Z)(function*(Ge,...ze){const ct=this.transaction(Ge,H?"readwrite":"readonly");let Ot=ct.store;return R&&(Ot=Ot.index(ze.shift())),(yield Promise.all([Ot[A](...ze),H&&ct.done]))[0]});return function(ze){return ne.apply(this,arguments)}}();return Bs.set(E,W),W}!function cr(C){uo=C(uo)}(C=>({...C,get:(E,A,R)=>Ea(E,A)||C.get(E,A,R),has:(E,A)=>!!Ea(E,A)||C.has(E,A)}));const Mt="/firebase-messaging-sw.js",Ia="/firebase-cloud-messaging-push-scope",td="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",nd="https://fcmregistrations.googleapis.com/v1",Cu="google.c.a.c_id",rd="google.c.a.c_l",bu="google.c.a.ts",_g="google.c.a.e";var ce=(()=>{return(C=ce||(ce={})).PUSH_RECEIVED="push-received",C.NOTIFICATION_CLICKED="notification-clicked",ce;var C})();function kt(C){const E=new Uint8Array(C);return btoa(String.fromCharCode(...E)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Da(C){const A=(C+"=".repeat((4-C.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),R=atob(A),H=new Uint8Array(R.length);for(let W=0;W<R.length;++W)H[W]=R.charCodeAt(W);return H}const xa="fcm_token_details_db",Kn=5,ts="fcm_token_object_Store";function jr(){return jr=(0,N.Z)(function*(C){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(W=>W.name).includes(xa))return null;let E=null;return(yield wu(xa,Kn,{upgrade:(R=(0,N.Z)(function*(H,W,ne,Ge){var ze;if(W<2||!H.objectStoreNames.contains(ts))return;const ct=Ge.objectStore(ts),Ot=yield ct.index("fcmSenderId").get(C);if(yield ct.clear(),Ot)if(2===W){const Rt=Ot;if(!Rt.auth||!Rt.p256dh||!Rt.endpoint)return;E={token:Rt.fcmToken,createTime:null!==(ze=Rt.createTime)&&void 0!==ze?ze:Date.now(),subscriptionOptions:{auth:Rt.auth,p256dh:Rt.p256dh,endpoint:Rt.endpoint,swScope:Rt.swScope,vapidKey:"string"==typeof Rt.vapidKey?Rt.vapidKey:kt(Rt.vapidKey)}}}else if(3===W){const Rt=Ot;E={token:Rt.fcmToken,createTime:Rt.createTime,subscriptionOptions:{auth:kt(Rt.auth),p256dh:kt(Rt.p256dh),endpoint:Rt.endpoint,swScope:Rt.swScope,vapidKey:kt(Rt.vapidKey)}}}else if(4===W){const Rt=Ot;E={token:Rt.fcmToken,createTime:Rt.createTime,subscriptionOptions:{auth:kt(Rt.auth),p256dh:kt(Rt.p256dh),endpoint:Rt.endpoint,swScope:Rt.swScope,vapidKey:kt(Rt.vapidKey)}}}}),function(W,ne,Ge,ze){return R.apply(this,arguments)})})).close(),yield co(xa),yield co("fcm_vapid_details_db"),yield co("undefined"),function od(C){if(!C||!C.subscriptionOptions)return!1;const{subscriptionOptions:E}=C;return"number"==typeof C.createTime&&C.createTime>0&&"string"==typeof C.token&&C.token.length>0&&"string"==typeof E.auth&&E.auth.length>0&&"string"==typeof E.p256dh&&E.p256dh.length>0&&"string"==typeof E.endpoint&&E.endpoint.length>0&&"string"==typeof E.swScope&&E.swScope.length>0&&"string"==typeof E.vapidKey&&E.vapidKey.length>0}(E)?E:null;var R}),jr.apply(this,arguments)}const Iu="firebase-messaging-database",vg=1,lo="firebase-messaging-store";let Ta=null;function Bn(){return Ta||(Ta=wu(Iu,vg,{upgrade:(C,E)=>{0===E&&C.createObjectStore(lo)}})),Ta}function pi(C){return Ki.apply(this,arguments)}function Ki(){return Ki=(0,N.Z)(function*(C){const E=Du(C),R=yield(yield Bn()).transaction(lo).objectStore(lo).get(E);if(R)return R;{const H=yield function Eu(C){return jr.apply(this,arguments)}(C.appConfig.senderId);if(H)return yield ns(C,H),H}}),Ki.apply(this,arguments)}function ns(C,E){return gi.apply(this,arguments)}function gi(){return(gi=(0,N.Z)(function*(C,E){const A=Du(C),H=(yield Bn()).transaction(lo,"readwrite");return yield H.objectStore(lo).put(E,A),yield H.done,E})).apply(this,arguments)}function Sa(){return(Sa=(0,N.Z)(function*(C){const E=Du(C),R=(yield Bn()).transaction(lo,"readwrite");yield R.objectStore(lo).delete(E),yield R.done})).apply(this,arguments)}function Du({appConfig:C}){return C.appId}const jn=new ie.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function js(C,E){return Fc.apply(this,arguments)}function Fc(){return(Fc=(0,N.Z)(function*(C,E){const A=yield Lc(C),R=ud(E),H={method:"POST",headers:A,body:JSON.stringify(R)};let W;try{W=yield(yield fetch(Aa(C.appConfig),H)).json()}catch(ne){throw jn.create("token-subscribe-failed",{errorInfo:ne?.toString()})}if(W.error)throw jn.create("token-subscribe-failed",{errorInfo:W.error.message});if(!W.token)throw jn.create("token-subscribe-no-token");return W.token})).apply(this,arguments)}function ad(){return(ad=(0,N.Z)(function*(C,E){const A=yield Lc(C),R=ud(E.subscriptionOptions),H={method:"PATCH",headers:A,body:JSON.stringify(R)};let W;try{W=yield(yield fetch(`${Aa(C.appConfig)}/${E.token}`,H)).json()}catch(ne){throw jn.create("token-update-failed",{errorInfo:ne?.toString()})}if(W.error)throw jn.create("token-update-failed",{errorInfo:W.error.message});if(!W.token)throw jn.create("token-update-no-token");return W.token})).apply(this,arguments)}function Tu(C,E){return Su.apply(this,arguments)}function Su(){return(Su=(0,N.Z)(function*(C,E){const R={method:"DELETE",headers:yield Lc(C)};try{const W=yield(yield fetch(`${Aa(C.appConfig)}/${E}`,R)).json();if(W.error)throw jn.create("token-unsubscribe-failed",{errorInfo:W.error.message})}catch(H){throw jn.create("token-unsubscribe-failed",{errorInfo:H?.toString()})}})).apply(this,arguments)}function Aa({projectId:C}){return`${nd}/projects/${C}/registrations`}function Lc(C){return Ma.apply(this,arguments)}function Ma(){return(Ma=(0,N.Z)(function*({appConfig:C,installations:E}){const A=yield E.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C.apiKey,"x-goog-firebase-installations-auth":`FIS ${A}`})})).apply(this,arguments)}function ud({p256dh:C,auth:E,endpoint:A,vapidKey:R}){const H={web:{endpoint:A,auth:E,p256dh:C}};return R!==td&&(H.web.applicationPubKey=R),H}const Au=6048e5;function Mu(){return Mu=(0,N.Z)(function*(C){const E=yield function rf(C,E){return cd.apply(this,arguments)}(C.swRegistration,C.vapidKey),A={vapidKey:C.vapidKey,swScope:C.swRegistration.scope,endpoint:E.endpoint,auth:kt(E.getKey("auth")),p256dh:kt(E.getKey("p256dh"))},R=yield pi(C.firebaseDependencies);if(R){if(function Cg(C,E){return E.vapidKey===C.vapidKey&&E.endpoint===C.endpoint&&E.auth===C.auth&&E.p256dh===C.p256dh}(R.subscriptionOptions,A))return Date.now()>=R.createTime+Au?function In(C,E){return Pu.apply(this,arguments)}(C,{token:R.token,createTime:Date.now(),subscriptionOptions:A}):R.token;try{yield Tu(C.firebaseDependencies,R.token)}catch(H){console.warn(H)}return nf(C.firebaseDependencies,A)}return nf(C.firebaseDependencies,A)}),Mu.apply(this,arguments)}function ho(){return ho=(0,N.Z)(function*(C){const E=yield pi(C.firebaseDependencies);E&&(yield Tu(C.firebaseDependencies,E.token),yield function sd(C){return Sa.apply(this,arguments)}(C.firebaseDependencies));const A=yield C.swRegistration.pushManager.getSubscription();return!A||A.unsubscribe()}),ho.apply(this,arguments)}function Pu(){return Pu=(0,N.Z)(function*(C,E){try{const A=yield function xu(C,E){return ad.apply(this,arguments)}(C.firebaseDependencies,E),R=Object.assign(Object.assign({},E),{token:A,createTime:Date.now()});return yield ns(C.firebaseDependencies,R),A}catch(A){throw yield function _r(C){return ho.apply(this,arguments)}(C),A}}),Pu.apply(this,arguments)}function nf(C,E){return rs.apply(this,arguments)}function rs(){return(rs=(0,N.Z)(function*(C,E){const R={token:yield js(C,E),createTime:Date.now(),subscriptionOptions:E};return yield ns(C,R),R.token})).apply(this,arguments)}function cd(){return(cd=(0,N.Z)(function*(C,E){return(yield C.pushManager.getSubscription())||C.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Da(E)})})).apply(this,arguments)}function Ou(C){const E={from:C.from,collapseKey:C.collapse_key,messageId:C.fcmMessageId};return function Vc(C,E){if(!E.notification)return;C.notification={};const A=E.notification.title;A&&(C.notification.title=A);const R=E.notification.body;R&&(C.notification.body=R);const H=E.notification.image;H&&(C.notification.image=H);const W=E.notification.icon;W&&(C.notification.icon=W)}(E,C),function Uc(C,E){E.data&&(C.data=E.data)}(E,C),function ld(C,E){var A,R,H,W,ne;if(!(E.fcmOptions||null!==(A=E.notification)&&void 0!==A&&A.click_action))return;C.fcmOptions={};const Ge=null!==(H=null===(R=E.fcmOptions)||void 0===R?void 0:R.link)&&void 0!==H?H:null===(W=E.notification)||void 0===W?void 0:W.click_action;Ge&&(C.fcmOptions.link=Ge);const ze=null===(ne=E.fcmOptions)||void 0===ne?void 0:ne.analytics_label;ze&&(C.fcmOptions.analyticsLabel=ze)}(E,C),E}function $s(C,E){const A=[];for(let R=0;R<C.length;R++)A.push(C.charAt(R)),R<E.length&&A.push(E.charAt(R));return A.join("")}function fo(C){return jn.create("missing-app-config-values",{valueName:C})}$s("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),$s("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class bg{constructor(E,A,R){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const H=function Hs(C){if(!C||!C.options)throw fo("App Configuration Object");if(!C.name)throw fo("App Name");const E=["projectId","apiKey","appId","messagingSenderId"],{options:A}=C;for(const R of E)if(!A[R])throw fo(R);return{appName:C.name,projectId:A.projectId,apiKey:A.apiKey,appId:A.appId,senderId:A.messagingSenderId}}(E);this.firebaseDependencies={app:E,appConfig:H,installations:A,analyticsProvider:R}}_delete(){return Promise.resolve()}}function sf(C){return Ru.apply(this,arguments)}function Ru(){return(Ru=(0,N.Z)(function*(C){try{C.swRegistration=yield navigator.serviceWorker.register(Mt,{scope:Ia}),C.swRegistration.update().catch(()=>{})}catch(E){throw jn.create("failed-service-worker-registration",{browserErrorMessage:E?.message})}})).apply(this,arguments)}function Pa(){return(Pa=(0,N.Z)(function*(C,E){if(!E&&!C.swRegistration&&(yield sf(C)),E||!C.swRegistration){if(!(E instanceof ServiceWorkerRegistration))throw jn.create("invalid-sw-registration");C.swRegistration=E}})).apply(this,arguments)}function os(){return(os=(0,N.Z)(function*(C,E){E?C.vapidKey=E:C.vapidKey||(C.vapidKey=td)})).apply(this,arguments)}function zs(){return zs=(0,N.Z)(function*(C,E){if(!navigator)throw jn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw jn.create("permission-blocked");return yield function is(C,E){return os.apply(this,arguments)}(C,E?.vapidKey),yield function Qy(C,E){return Pa.apply(this,arguments)}(C,E?.serviceWorkerRegistration),function tf(C){return Mu.apply(this,arguments)}(C)}),zs.apply(this,arguments)}function ss(){return(ss=(0,N.Z)(function*(C,E,A){const R=function as(C){switch(C){case ce.NOTIFICATION_CLICKED:return"notification_open";case ce.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(E);(yield C.firebaseDependencies.analyticsProvider.get()).logEvent(R,{message_id:A[Cu],message_name:A[rd],message_time:A[bu],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function us(){return us=(0,N.Z)(function*(C,E){const A=E.data;if(!A.isFirebaseMessaging)return;C.onMessageHandler&&A.messageType===ce.PUSH_RECEIVED&&("function"==typeof C.onMessageHandler?C.onMessageHandler(Ou(A)):C.onMessageHandler.next(Ou(A)));const R=A.data;(function Bc(C){return"object"==typeof C&&!!C&&Cu in C})(R)&&"1"===R[_g]&&(yield function jc(C,E,A){return ss.apply(this,arguments)}(C,A.messageType,R))}),us.apply(this,arguments)}const Oo="@firebase/messaging",cs=C=>{const E=new bg(C.getProvider("app").getImmediate(),C.getProvider("installations-internal").getImmediate(),C.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",A=>function ku(C,E){return us.apply(this,arguments)}(E,A)),E},Fu=C=>{const E=C.getProvider("messaging").getImmediate();return{getToken:R=>function Nu(C,E){return zs.apply(this,arguments)}(E,R)}};function af(){return Lu.apply(this,arguments)}function Lu(){return(Lu=(0,N.Z)(function*(){try{yield(0,ie.eu)()}catch{return!1}return typeof window<"u"&&(0,ie.hl)()&&(0,ie.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Oa(){(0,oe._registerComponent)(new re.wA("messaging",cs,"PUBLIC")),(0,oe._registerComponent)(new re.wA("messaging-internal",Fu,"PRIVATE")),(0,oe.registerVersion)(Oo,"0.12.4"),(0,oe.registerVersion)(Oo,"0.12.4","esm2017")}();const pn="analytics",pd="firebase_id",Vu="origin",Hc=6e4,Uu="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Bu="https://www.googletagmanager.com/gtag/js",Yn=new pe.Yd("@firebase/analytics"),Rn=new ie.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function zc(C){if(!C.startsWith(Bu)){const E=Rn.create("invalid-gtag-resource",{gtagURL:C});return Yn.warn(E.message),""}return C}function Ra(C){return Promise.all(C.map(E=>E.catch(A=>A)))}function hs(){return(hs=(0,N.Z)(function*(C,E,A,R,H,W){const ne=R[H];try{if(ne)yield E[ne];else{const ze=(yield Ra(A)).find(ct=>ct.measurementId===H);ze&&(yield E[ze.appId])}}catch(Ge){Yn.error(Ge)}C("config",H,W)})).apply(this,arguments)}function ka(){return(ka=(0,N.Z)(function*(C,E,A,R,H){try{let W=[];if(H&&H.send_to){let ne=H.send_to;Array.isArray(ne)||(ne=[ne]);const Ge=yield Ra(A);for(const ze of ne){const ct=Ge.find(Rt=>Rt.measurementId===ze),Ot=ct&&E[ct.appId];if(!Ot){W=[];break}W.push(Ot)}}0===W.length&&(W=Object.values(E)),yield Promise.all(W),C("event",R,H||{})}catch(W){Yn.error(W)}})).apply(this,arguments)}const Fa=30,ps=new class fs{constructor(E={},A=1e3){this.throttleMetadata=E,this.intervalMillis=A}getThrottleMetadata(E){return this.throttleMetadata[E]}setThrottleMetadata(E,A){this.throttleMetadata[E]=A}deleteThrottleMetadata(E){delete this.throttleMetadata[E]}};function lf(C){return new Headers({Accept:"application/json","x-goog-api-key":C})}function Kt(){return(Kt=(0,N.Z)(function*(C){var E;const{appId:A,apiKey:R}=C,H={method:"GET",headers:lf(R)},W=Uu.replace("{app-id}",A),ne=yield fetch(W,H);if(200!==ne.status&&304!==ne.status){let Ge="";try{const ze=yield ne.json();null!==(E=ze.error)&&void 0!==E&&E.message&&(Ge=ze.error.message)}catch{}throw Rn.create("config-fetch-failed",{httpStatus:ne.status,responseMessage:Ge})}return ne.json()})).apply(this,arguments)}function La(){return(La=(0,N.Z)(function*(C,E=ps,A){const{appId:R,apiKey:H,measurementId:W}=C.options;if(!R)throw Rn.create("no-app-id");if(!H){if(W)return{measurementId:W,appId:R};throw Rn.create("no-api-key")}const ne=E.getThrottleMetadata(R)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Ge=new Xy;return setTimeout((0,N.Z)(function*(){Ge.abort()}),void 0!==A?A:Hc),qc({appId:R,apiKey:H,measurementId:W},ne,Ge,E)})).apply(this,arguments)}function qc(C,E,A){return Zc.apply(this,arguments)}function Zc(){return Zc=(0,N.Z)(function*(C,{throttleEndTimeMillis:E,backoffCount:A},R,H=ps){var W;const{appId:ne,measurementId:Ge}=C;try{yield function Jy(C,E){return new Promise((A,R)=>{const H=Math.max(E-Date.now(),0),W=setTimeout(A,H);C.addEventListener(()=>{clearTimeout(W),R(Rn.create("fetch-throttle",{throttleEndTimeMillis:E}))})})}(R,E)}catch(ze){if(Ge)return Yn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ge} provided in the "measurementId" field in the local Firebase config. [${ze?.message}]`),{appId:ne,measurementId:Ge};throw ze}try{const ze=yield function gd(C){return Kt.apply(this,arguments)}(C);return H.deleteThrottleMetadata(ne),ze}catch(ze){const ct=ze;if(!function df(C){if(!(C instanceof ie.ZR&&C.customData))return!1;const E=Number(C.customData.httpStatus);return 429===E||500===E||503===E||504===E}(ct)){if(H.deleteThrottleMetadata(ne),Ge)return Yn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ge} provided in the "measurementId" field in the local Firebase config. [${ct?.message}]`),{appId:ne,measurementId:Ge};throw ze}const Ot=503===Number(null===(W=ct?.customData)||void 0===W?void 0:W.httpStatus)?(0,ie.$s)(A,H.intervalMillis,Fa):(0,ie.$s)(A,H.intervalMillis),Rt={throttleEndTimeMillis:Date.now()+Ot,backoffCount:A+1};return H.setThrottleMetadata(ne,Rt),Yn.debug(`Calling attemptFetch again in ${Ot} millis`),qc(C,Rt,R,H)}}),Zc.apply(this,arguments)}class Xy{constructor(){this.listeners=[]}addEventListener(E){this.listeners.push(E)}abort(){this.listeners.forEach(E=>E())}}let gs,pf;function hf(){return(hf=(0,N.Z)(function*(C,E,A,R,H){if(H&&H.global)C("event",A,R);else{const W=yield E;C("event",A,Object.assign(Object.assign({},R),{send_to:W}))}})).apply(this,arguments)}function un(){return(un=(0,N.Z)(function*(){if(!(0,ie.hl)())return Yn.warn(Rn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ie.eu)()}catch(C){return Yn.warn(Rn.create("indexeddb-unavailable",{errorInfo:C?.toString()}).message),!1}return!0})).apply(this,arguments)}function Ks(){return Ks=(0,N.Z)(function*(C,E,A,R,H,W,ne){var Ge;const ze=function Eg(C){return La.apply(this,arguments)}(C);ze.then(Mn=>{A[Mn.measurementId]=Mn.appId,C.options.measurementId&&Mn.measurementId!==C.options.measurementId&&Yn.warn(`The measurement ID in the local Firebase config (${C.options.measurementId}) does not match the measurement ID fetched from the server (${Mn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Mn=>Yn.error(Mn)),E.push(ze);const ct=function $r(){return un.apply(this,arguments)}().then(Mn=>{if(Mn)return R.getId()}),[Ot,Rt]=yield Promise.all([ze,ct]);(function Ws(C){const E=window.document.getElementsByTagName("script");for(const A of Object.values(E))if(A.src&&A.src.includes(Bu)&&A.src.includes(C))return A;return null})(W)||function go(C,E){const A=function Na(C,E){let A;return window.trustedTypes&&(A=window.trustedTypes.createPolicy(C,E)),A}("firebase-js-sdk-policy",{createScriptURL:zc}),R=document.createElement("script"),H=`${Bu}?l=${C}&id=${E}`;R.src=A?A?.createScriptURL(H):H,R.async=!0,document.head.appendChild(R)}(W,Ot.measurementId),pf&&(H("consent","default",pf),function Kc(C){pf=C}(void 0)),H("js",new Date);const _i=null!==(Ge=ne?.config)&&void 0!==Ge?Ge:{};return _i[Vu]="firebase",_i.update=!0,null!=Rt&&(_i[pd]=Rt),H("config",Ot.measurementId,_i),gs&&(H("set",gs),function Gu(C){gs=C}(void 0)),Ot.measurementId}),Ks.apply(this,arguments)}class No{constructor(E){this.app=E}_delete(){return delete mi[this.app.options.appId],Promise.resolve()}}let mi={},md=[];const Yc={};let ko,gn,qu="dataLayer",ys="gtag",mt=!1;function Ba(C,E,A){!function Ua(){const C=[];if((0,ie.ru)()&&C.push("This is a browser extension environment."),(0,ie.zI)()||C.push("Cookies are not available."),C.length>0){const E=C.map((R,H)=>`(${H+1}) ${R}`).join(" "),A=Rn.create("invalid-analytics-context",{errorInfo:E});Yn.warn(A.message)}}();const R=C.options.appId;if(!R)throw Rn.create("no-app-id");if(!C.options.apiKey){if(!C.options.measurementId)throw Rn.create("no-api-key");Yn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${C.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=mi[R])throw Rn.create("already-exists",{id:R});if(!mt){!function uf(C){let E=[];Array.isArray(window[C])?E=window[C]:window[C]=E}(qu);const{wrappedGtag:W,gtagCore:ne}=function Ro(C,E,A,R,H){let W=function(...ne){window[R].push(arguments)};return window[H]&&"function"==typeof window[H]&&(W=window[H]),window[H]=function Zs(C,E,A,R){function W(){return W=(0,N.Z)(function*(ne,...Ge){try{if("event"===ne){const[ze,ct]=Ge;yield function Gc(C,E,A,R,H){return ka.apply(this,arguments)}(C,E,A,ze,ct)}else if("config"===ne){const[ze,ct]=Ge;yield function ju(C,E,A,R,H,W){return hs.apply(this,arguments)}(C,E,A,R,ze,ct)}else if("consent"===ne){const[ze]=Ge;C("consent","update",ze)}else if("get"===ne){const[ze,ct,Ot]=Ge;C("get",ze,ct,Ot)}else if("set"===ne){const[ze]=Ge;C("set",ze)}else C(ne,...Ge)}catch(ze){Yn.error(ze)}}),W.apply(this,arguments)}return function H(ne){return W.apply(this,arguments)}}(W,C,E,A),{gtagCore:W,wrappedGtag:window[H]}}(mi,md,Yc,qu,ys);gn=W,ko=ne,mt=!0}return mi[R]=function lr(C,E,A,R,H,W,ne){return Ks.apply(this,arguments)}(C,md,Yc,E,ko,qu,A),new No(C)}function $a(){return Xr.apply(this,arguments)}function Xr(){return(Xr=(0,N.Z)(function*(){if((0,ie.ru)()||!(0,ie.zI)()||!(0,ie.hl)())return!1;try{return yield(0,ie.eu)()}catch{return!1}})).apply(this,arguments)}const Ku="@firebase/analytics";!function Fo(){(0,oe._registerComponent)(new re.wA(pn,(E,{options:A})=>Ba(E.getProvider("app").getImmediate(),E.getProvider("installations-internal").getImmediate(),A),"PUBLIC")),(0,oe._registerComponent)(new re.wA("analytics-internal",function C(E){try{const A=E.getProvider(pn).getImmediate();return{logEvent:(R,H,W)=>function _d(C,E,A,R){C=(0,ie.m9)(C),function e_(C,E,A,R,H){return hf.apply(this,arguments)}(gn,mi[C.app.options.appId],E,A,R).catch(H=>Yn.error(H))}(A,R,H,W)}}catch(A){throw Rn.create("interop-component-reg-failed",{reason:A})}},"PRIVATE")),(0,oe.registerVersion)(Ku,"0.10.0"),(0,oe.registerVersion)(Ku,"0.10.0","esm2017")}();var Jc=k(4408),Ha=k(7565);const vd=new class za extends Ha.v{}(class Ig extends Jc.o{constructor(E,A){super(E,A),this.scheduler=E,this.work=A}schedule(E,A=0){return A>0?super.schedule(E,A):(this.delay=A,this.state=E,this.scheduler.flush(this),this)}execute(E,A){return A>0||this.closed?super.execute(E,A):this._execute(E,A)}requestAsyncId(E,A,R=0){return null!=R&&R>0||null==R&&this.delay>0?super.requestAsyncId(E,A,R):(E.flush(this),0)}});var Xc=k(4986),el=k(8505),tl=k(9468),Ga=k(5363);const Js=new c.GfV("7.5.0"),vs="__angularfire_symbol__analyticsIsSupportedValue",qa="__angularfire_symbol__analyticsIsSupported",nl="__angularfire_symbol__remoteConfigIsSupportedValue",ws="__angularfire_symbol__remoteConfigIsSupported",rl="__angularfire_symbol__messagingIsSupportedValue",Yu="__angularfire_symbol__messagingIsSupported";function ol(C,E,A){if(E){if(1===E.length)return E[0];const W=E.filter(ne=>ne.app===A);if(1===W.length)return W[0]}return A.container.getProvider(C).getImmediate({optional:!0})}globalThis[qa]||(globalThis[qa]=$a().then(C=>globalThis[vs]=C).catch(()=>globalThis[vs]=!1)),globalThis[Yu]||(globalThis[Yu]=af().then(C=>globalThis[rl]=C).catch(()=>globalThis[rl]=!1)),globalThis[ws]||(globalThis[ws]=Rc().then(C=>globalThis[nl]=C).catch(()=>globalThis[nl]=!1));const Qu=(C,E)=>{const A=E?[E]:(0,Q.C6)(),R=[];return A.forEach(H=>{H.container.getProvider(C).instances.forEach(ne=>{R.includes(ne)||R.push(ne)})}),R};function Qi(){}class Za{constructor(E,A=vd){this.zone=E,this.delegate=A}now(){return this.delegate.now()}schedule(E,A,R){const H=this.zone;return this.delegate.schedule(function(ne){H.runGuarded(()=>{E.apply(this,[ne])})},A,R)}}class Wa{constructor(E){this.zone=E,this.task=null}call(E,A){const R=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Qi,{},Qi,Qi)),A.pipe((0,el.b)({next:R,complete:R,error:R})).subscribe(E).add(R)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let yi=(()=>{class C{constructor(A){this.ngZone=A,this.outsideAngular=A.runOutsideAngular(()=>new Za(Zone.current)),this.insideAngular=A.run(()=>new Za(Zone.current,Xc.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return C.\u0275fac=function(A){return new(A||C)(c.LFG(c.R0b))},C.\u0275prov=c.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})();function Lo(){const C=globalThis.\u0275AngularFireScheduler;if(!C)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return C}function mf(C){return Lo(),function Dg(C){return function(A){return(A=A.lift(new Wa(C.ngZone))).pipe((0,tl.R)(C.outsideAngular),(0,Ga.Q)(C.insideAngular))}}(Lo())(C)}},2090:(_t,De,k)=>{k.d(De,{$s:()=>Si,BH:()=>we,G6:()=>xe,L:()=>le,LL:()=>Ye,Pz:()=>ve,Sg:()=>$e,UG:()=>te,US:()=>re,ZB:()=>q,ZR:()=>Pt,aH:()=>Pe,b$:()=>Ht,eu:()=>Be,hl:()=>He,jU:()=>xt,m9:()=>Ur,ne:()=>nn,pd:()=>zi,r3:()=>ai,ru:()=>Xe,tV:()=>$,uI:()=>it,vZ:()=>pt,w1:()=>de,xO:()=>mr,xb:()=>Yo,z$:()=>Re,zI:()=>ht,zd:()=>Lr});const oe=function(V){const L=[];let G=0;for(let ge=0;ge<V.length;ge++){let J=V.charCodeAt(ge);J<128?L[G++]=J:J<2048?(L[G++]=J>>6|192,L[G++]=63&J|128):55296==(64512&J)&&ge+1<V.length&&56320==(64512&V.charCodeAt(ge+1))?(J=65536+((1023&J)<<10)+(1023&V.charCodeAt(++ge)),L[G++]=J>>18|240,L[G++]=J>>12&63|128,L[G++]=J>>6&63|128,L[G++]=63&J|128):(L[G++]=J>>12|224,L[G++]=J>>6&63|128,L[G++]=63&J|128)}return L},re={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(V,L){if(!Array.isArray(V))throw Error("encodeByteArray takes an array as a parameter");this.init_();const G=L?this.byteToCharMapWebSafe_:this.byteToCharMap_,ge=[];for(let J=0;J<V.length;J+=3){const Ne=V[J],Tt=J+1<V.length,Yt=Tt?V[J+1]:0,Pn=J+2<V.length,En=Pn?V[J+2]:0;let xr=(15&Yt)<<2|En>>6,Mi=63&En;Pn||(Mi=64,Tt||(xr=64)),ge.push(G[Ne>>2],G[(3&Ne)<<4|Yt>>4],G[xr],G[Mi])}return ge.join("")},encodeString(V,L){return this.HAS_NATIVE_SUPPORT&&!L?btoa(V):this.encodeByteArray(oe(V),L)},decodeString(V,L){return this.HAS_NATIVE_SUPPORT&&!L?atob(V):function(V){const L=[];let G=0,ge=0;for(;G<V.length;){const J=V[G++];if(J<128)L[ge++]=String.fromCharCode(J);else if(J>191&&J<224){const Ne=V[G++];L[ge++]=String.fromCharCode((31&J)<<6|63&Ne)}else if(J>239&&J<365){const Pn=((7&J)<<18|(63&V[G++])<<12|(63&V[G++])<<6|63&V[G++])-65536;L[ge++]=String.fromCharCode(55296+(Pn>>10)),L[ge++]=String.fromCharCode(56320+(1023&Pn))}else{const Ne=V[G++],Tt=V[G++];L[ge++]=String.fromCharCode((15&J)<<12|(63&Ne)<<6|63&Tt)}}return L.join("")}(this.decodeStringToByteArray(V,L))},decodeStringToByteArray(V,L){this.init_();const G=L?this.charToByteMapWebSafe_:this.charToByteMap_,ge=[];for(let J=0;J<V.length;){const Ne=G[V.charAt(J++)],Yt=J<V.length?G[V.charAt(J)]:0;++J;const En=J<V.length?G[V.charAt(J)]:64;++J;const zt=J<V.length?G[V.charAt(J)]:64;if(++J,null==Ne||null==Yt||null==En||null==zt)throw new pe;ge.push(Ne<<2|Yt>>4),64!==En&&(ge.push(Yt<<4&240|En>>2),64!==zt&&ge.push(En<<6&192|zt))}return ge},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let V=0;V<this.ENCODED_VALS.length;V++)this.byteToCharMap_[V]=this.ENCODED_VALS.charAt(V),this.charToByteMap_[this.byteToCharMap_[V]]=V,this.byteToCharMapWebSafe_[V]=this.ENCODED_VALS_WEBSAFE.charAt(V),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[V]]=V,V>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(V)]=V,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(V)]=V)}}};class pe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const le=function(V){return function(V){const L=oe(V);return re.encodeByteArray(L,!0)}(V).replace(/\./g,"")},$=function(V){try{return re.decodeString(V,!0)}catch(L){console.error("base64Decode failed: ",L)}return null};function q(V,L){if(!(L instanceof Object))return L;switch(L.constructor){case Date:return new Date(L.getTime());case Object:void 0===V&&(V={});break;case Array:V=[];break;default:return L}for(const G in L)!L.hasOwnProperty(G)||!je(G)||(V[G]=q(V[G],L[G]));return V}function je(V){return"__proto__"!==V}const Ae=()=>{try{return function be(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const V=process.env.__FIREBASE_DEFAULTS__;return V?JSON.parse(V):void 0})()||(()=>{if(typeof document>"u")return;let V;try{V=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const L=V&&$(V[1]);return L&&JSON.parse(L)})()}catch(V){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${V}`)}},Pe=()=>{var V;return null===(V=Ae())||void 0===V?void 0:V.config},ve=V=>{var L;return null===(L=Ae())||void 0===L?void 0:L[`_${V}`]};class we{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((L,G)=>{this.resolve=L,this.reject=G})}wrapCallback(L){return(G,ge)=>{G?this.reject(G):this.resolve(ge),"function"==typeof L&&(this.promise.catch(()=>{}),1===L.length?L(G):L(G,ge))}}}function $e(V,L){if(V.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const ge=L||"demo-project",J=V.iat||0,Ne=V.sub||V.user_id;if(!Ne)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Tt=Object.assign({iss:`https://securetoken.google.com/${ge}`,aud:ge,iat:J,exp:J+3600,auth_time:J,sub:Ne,user_id:Ne,firebase:{sign_in_provider:"custom",identities:{}}},V);return[le(JSON.stringify({alg:"none",type:"JWT"})),le(JSON.stringify(Tt)),""].join(".")}function Re(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function it(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Re())}function te(){var V;const L=null===(V=Ae())||void 0===V?void 0:V.forceEnvironment;if("node"===L)return!0;if("browser"===L)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function xt(){return"object"==typeof self&&self.self===self}function Xe(){const V="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof V&&void 0!==V.id}function Ht(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function de(){const V=Re();return V.indexOf("MSIE ")>=0||V.indexOf("Trident/")>=0}function xe(){return!te()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function He(){try{return"object"==typeof indexedDB}catch{return!1}}function Be(){return new Promise((V,L)=>{try{let G=!0;const ge="validate-browser-context-for-indexeddb-analytics-module",J=self.indexedDB.open(ge);J.onsuccess=()=>{J.result.close(),G||self.indexedDB.deleteDatabase(ge),V(!0)},J.onupgradeneeded=()=>{G=!1},J.onerror=()=>{var Ne;L((null===(Ne=J.error)||void 0===Ne?void 0:Ne.message)||"")}}catch(G){L(G)}})}function ht(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Pt extends Error{constructor(L,G,ge){super(G),this.code=L,this.customData=ge,this.name="FirebaseError",Object.setPrototypeOf(this,Pt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ye.prototype.create)}}class Ye{constructor(L,G,ge){this.service=L,this.serviceName=G,this.errors=ge}create(L,...G){const ge=G[0]||{},J=`${this.service}/${L}`,Ne=this.errors[L],Tt=Ne?function $t(V,L){return V.replace(Dt,(G,ge)=>{const J=L[ge];return null!=J?String(J):`<${ge}?>`})}(Ne,ge):"Error";return new Pt(J,`${this.serviceName}: ${Tt} (${J}).`,ge)}}const Dt=/\{\$([^}]+)}/g;function ai(V,L){return Object.prototype.hasOwnProperty.call(V,L)}function Yo(V){for(const L in V)if(Object.prototype.hasOwnProperty.call(V,L))return!1;return!0}function pt(V,L){if(V===L)return!0;const G=Object.keys(V),ge=Object.keys(L);for(const J of G){if(!ge.includes(J))return!1;const Ne=V[J],Tt=L[J];if(qr(Ne)&&qr(Tt)){if(!pt(Ne,Tt))return!1}else if(Ne!==Tt)return!1}for(const J of ge)if(!G.includes(J))return!1;return!0}function qr(V){return null!==V&&"object"==typeof V}function mr(V){const L=[];for(const[G,ge]of Object.entries(V))Array.isArray(ge)?ge.forEach(J=>{L.push(encodeURIComponent(G)+"="+encodeURIComponent(J))}):L.push(encodeURIComponent(G)+"="+encodeURIComponent(ge));return L.length?"&"+L.join("&"):""}function Lr(V){const L={};return V.replace(/^\?/,"").split("&").forEach(ge=>{if(ge){const[J,Ne]=ge.split("=");L[decodeURIComponent(J)]=decodeURIComponent(Ne)}}),L}function zi(V){const L=V.indexOf("?");if(!L)return"";const G=V.indexOf("#",L);return V.substring(L,G>0?G:void 0)}function nn(V,L){const G=new ot(V,L);return G.subscribe.bind(G)}class ot{constructor(L,G){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=G,this.task.then(()=>{L(this)}).catch(ge=>{this.error(ge)})}next(L){this.forEachObserver(G=>{G.next(L)})}error(L){this.forEachObserver(G=>{G.error(L)}),this.close(L)}complete(){this.forEachObserver(L=>{L.complete()}),this.close()}subscribe(L,G,ge){let J;if(void 0===L&&void 0===G&&void 0===ge)throw new Error("Missing Observer.");J=function ui(V,L){if("object"!=typeof V||null===V)return!1;for(const G of L)if(G in V&&"function"==typeof V[G])return!0;return!1}(L,["next","error","complete"])?L:{next:L,error:G,complete:ge},void 0===J.next&&(J.next=Zr),void 0===J.error&&(J.error=Zr),void 0===J.complete&&(J.complete=Zr);const Ne=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?J.error(this.finalError):J.complete()}catch{}}),this.observers.push(J),Ne}unsubscribeOne(L){void 0===this.observers||void 0===this.observers[L]||(delete this.observers[L],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(L){if(!this.finalized)for(let G=0;G<this.observers.length;G++)this.sendOne(G,L)}sendOne(L,G){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[L])try{G(this.observers[L])}catch(ge){typeof console<"u"&&console.error&&console.error(ge)}})}close(L){this.finalized||(this.finalized=!0,void 0!==L&&(this.finalError=L),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Zr(){}const rn=1e3,ci=2,Tn=144e5,Ln=.5;function Si(V,L=rn,G=ci){const ge=L*Math.pow(G,V),J=Math.round(Ln*ge*(Math.random()-.5)*2);return Math.min(Tn,ge+J)}function Ur(V){return V&&V._delegate?V._delegate:V}},6986:(_t,De,k)=>{var c=k(4650);let Q=null;function N(){return Q}class ie{}const re=new c.OlP("DocumentToken");let pe=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return function _e(){return(0,c.LFG)($)}()},providedIn:"platform"}),n})();const le=new c.OlP("Location Initialized");let $=(()=>{class n extends pe{constructor(t){super(),this._doc=t,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return N().getBaseHref(this._doc)}onPopState(t){const r=N().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=N().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){j()?this._history.pushState(t,r,i):this._location.hash=i}replaceState(t,r,i){j()?this._history.replaceState(t,r,i):this._location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(re))},n.\u0275prov=c.Yz7({token:n,factory:function(){return function q(){return new $((0,c.LFG)(re))}()},providedIn:"platform"}),n})();function j(){return!!window.history.pushState}function je(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function be(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function We(n){return n&&"?"!==n[0]?"?"+n:n}let lt=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return(0,c.f3M)(Ae)},providedIn:"root"}),n})();const he=new c.OlP("appBaseHref");let Ae=(()=>{class n extends lt{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,c.f3M)(re).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return je(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+We(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,u){const d=this.prepareExternalUrl(i+We(u));this._platformLocation.pushState(t,r,d)}replaceState(t,r,i,u){const d=this.prepareExternalUrl(i+We(u));this._platformLocation.replaceState(t,r,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(pe),c.LFG(he,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Me=(()=>{class n extends lt{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=je(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,u){let d=this.prepareExternalUrl(i+We(u));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.pushState(t,r,d)}replaceState(t,r,i,u){let d=this.prepareExternalUrl(i+We(u));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(pe),c.LFG(he,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),Ue=(()=>{class n{constructor(t){this._subject=new c.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function $e(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(be(we(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+We(r))}normalize(t){return n.stripTrailingSlash(function ve(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,we(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+We(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+We(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=We,n.joinWithSlash=je,n.stripTrailingSlash=be,n.\u0275fac=function(t){return new(t||n)(c.LFG(lt))},n.\u0275prov=c.Yz7({token:n,factory:function(){return function Pe(){return new Ue((0,c.LFG)(lt))}()},providedIn:"root"}),n})();function we(n){return n.replace(/\/index.html$/,"")}const Re={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var it=(()=>((it=it||{})[it.Decimal=0]="Decimal",it[it.Percent=1]="Percent",it[it.Currency=2]="Currency",it[it.Scientific=3]="Scientific",it))(),at=(()=>((at=at||{})[at.Decimal=0]="Decimal",at[at.Group=1]="Group",at[at.List=2]="List",at[at.PercentSign=3]="PercentSign",at[at.PlusSign=4]="PlusSign",at[at.MinusSign=5]="MinusSign",at[at.Exponential=6]="Exponential",at[at.SuperscriptingExponent=7]="SuperscriptingExponent",at[at.PerMille=8]="PerMille",at[at.Infinity=9]="Infinity",at[at.NaN=10]="NaN",at[at.TimeSeparator=11]="TimeSeparator",at[at.CurrencyDecimal=12]="CurrencyDecimal",at[at.CurrencyGroup=13]="CurrencyGroup",at))();function Dt(n,e){const t=(0,c.cg1)(n),r=t[c.wAp.NumberSymbols][e];if(typeof r>"u"){if(e===at.CurrencyDecimal)return t[c.wAp.NumberSymbols][at.Decimal];if(e===at.CurrencyGroup)return t[c.wAp.NumberSymbols][at.Group]}return r}const Ac=2,Yt=/^(\d+)?\.((\d+)(-(\d+))?)?$/,Pn=22,En=".",an="0",zt=";",xr=",",Mi="#",qi="\xa4";function X(n,e,t,r,i){const d=function Et(n,e="-"){const t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=n.split(zt),i=r[0],u=r[1],d=-1!==i.indexOf(En)?i.split(En):[i.substring(0,i.lastIndexOf(an)+1),i.substring(i.lastIndexOf(an)+1)],m=d[0],w=d[1]||"";t.posPre=m.substring(0,m.indexOf(Mi));for(let T=0;T<w.length;T++){const O=w.charAt(T);O===an?t.minFrac=t.maxFrac=T+1:O===Mi?t.maxFrac=T+1:t.posSuf+=O}const D=m.split(xr);if(t.gSize=D[1]?D[1].length:0,t.lgSize=D[2]||D[1]?(D[2]||D[1]).length:0,u){const T=i.length-t.posPre.length-t.posSuf.length,O=u.indexOf(Mi);t.negPre=u.substring(0,O).replace(/'/g,""),t.negSuf=u.slice(O+T).replace(/'/g,"")}else t.negPre=e+t.posPre,t.negSuf=t.posSuf;return t}(function tn(n,e){return(0,c.cg1)(n)[c.wAp.NumberFormats][e]}(e,it.Currency),Dt(e,at.MinusSign));return d.minFrac=function mr(n){let e;const t=Re[n];return t&&(e=t[2]),"number"==typeof e?e:Ac}(r),d.maxFrac=d.minFrac,function ue(n,e,t,r,i,u,d=!1){let m="",w=!1;if(isFinite(n)){let D=function gt(n){let r,i,u,d,m,e=Math.abs(n)+"",t=0;for((i=e.indexOf(En))>-1&&(e=e.replace(En,"")),(u=e.search(/e/i))>0?(i<0&&(i=u),i+=+e.slice(u+1),e=e.substring(0,u)):i<0&&(i=e.length),u=0;e.charAt(u)===an;u++);if(u===(m=e.length))r=[0],i=1;else{for(m--;e.charAt(m)===an;)m--;for(i-=u,r=[],d=0;u<=m;u++,d++)r[d]=Number(e.charAt(u))}return i>Pn&&(r=r.splice(0,Pn-1),t=i-1,i=1),{digits:r,exponent:t,integerLen:i}}(n);d&&(D=function Vt(n){if(0===n.digits[0])return n;const e=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(0===e?n.digits.push(0,0):1===e&&n.digits.push(0),n.integerLen+=2),n}(D));let T=e.minInt,O=e.minFrac,U=e.maxFrac;if(u){const St=u.match(Yt);if(null===St)throw new Error(`${u} is not a valid digit info`);const Ct=St[1],Gt=St[3],Jt=St[5];null!=Ct&&(T=Qt(Ct)),null!=Gt&&(O=Qt(Gt)),null!=Jt?U=Qt(Jt):null!=Gt&&O>U&&(U=O)}!function en(n,e,t){if(e>t)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${t}).`);let r=n.digits,i=r.length-n.integerLen;const u=Math.min(Math.max(e,i),t);let d=u+n.integerLen,m=r[d];if(d>0){r.splice(Math.max(n.integerLen,d));for(let O=d;O<r.length;O++)r[O]=0}else{i=Math.max(0,i),n.integerLen=1,r.length=Math.max(1,d=u+1),r[0]=0;for(let O=1;O<d;O++)r[O]=0}if(m>=5)if(d-1<0){for(let O=0;O>d;O--)r.unshift(0),n.integerLen++;r.unshift(1),n.integerLen++}else r[d-1]++;for(;i<Math.max(0,u);i++)r.push(0);let w=0!==u;const D=e+n.integerLen,T=r.reduceRight(function(O,U,Z,se){return se[Z]=(U+=O)<10?U:U-10,w&&(0===se[Z]&&Z>=D?se.pop():w=!1),U>=10?1:0},0);T&&(r.unshift(T),n.integerLen++)}(D,O,U);let Z=D.digits,se=D.integerLen;const Ie=D.exponent;let Fe=[];for(w=Z.every(St=>!St);se<T;se++)Z.unshift(0);for(;se<0;se++)Z.unshift(0);se>0?Fe=Z.splice(se,Z.length):(Fe=Z,Z=[0]);const rt=[];for(Z.length>=e.lgSize&&rt.unshift(Z.splice(-e.lgSize,Z.length).join(""));Z.length>e.gSize;)rt.unshift(Z.splice(-e.gSize,Z.length).join(""));Z.length&&rt.unshift(Z.join("")),m=rt.join(Dt(t,r)),Fe.length&&(m+=Dt(t,i)+Fe.join("")),Ie&&(m+=Dt(t,at.Exponential)+"+"+Ie)}else m=Dt(t,at.Infinity);return m=n<0&&!w?e.negPre+m+e.negSuf:e.posPre+m+e.posSuf,m}(n,d,e,at.CurrencyGroup,at.CurrencyDecimal,i).replace(qi,t).replace(qi,"").trim()}function Qt(n){const e=parseInt(n);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+n);return e}function Qo(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,u]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(u)}return null}class Un{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let xo=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,u,d)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new Un(i.item,this._ngForOf,-1,-1),null===d?void 0:d);else if(null==d)r.remove(null===u?void 0:u);else if(null!==u){const m=r.get(u);r.move(m,d),Sn(m,i)}});for(let i=0,u=r.length;i<u;i++){const m=r.get(i).context;m.index=i,m.count=u,m.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{Sn(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(c.ZZ4))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function Sn(n,e){n.context.$implicit=e.item}let Kr=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new Lt,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){ya("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){ya("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b),c.Y36(c.Rgc))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class Lt{constructor(){this.$implicit=null,this.ngIf=null}}function ya(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,c.AaK)(e)}'.`)}function Yr(n,e){return new c.vHH(2100,!1)}class _a{createSubscription(e,t){return e.subscribe({next:t,error:r=>{throw r}})}dispose(e){e.unsubscribe()}}class Mc{createSubscription(e,t){return e.then(t,r=>{throw r})}dispose(e){}}const Fs=new Mc,To=new _a;let So=(()=>{class n{constructor(t){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if((0,c.QGY)(t))return Fs;if((0,c.F4k)(t))return To;throw Yr()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.sBO,16))},n.\u0275pipe=c.Yjl({name:"async",type:n,pure:!1,standalone:!0}),n})(),Qh=(()=>{class n{constructor(t,r="USD"){this._locale=t,this._defaultCurrencyCode=r}transform(t,r=this._defaultCurrencyCode,i="symbol",u,d){if(!function yu(n){return!(null==n||""===n||n!=n)}(t))return null;d=d||this._locale,"boolean"==typeof i&&(i=i?"symbol":"code");let m=r||this._defaultCurrencyCode;"code"!==i&&(m="symbol"===i||"symbol-narrow"===i?function qr(n,e,t="en"){const r=function Fr(n){return(0,c.cg1)(n)[c.wAp.Currencies]}(t)[n]||Re[n]||[],i=r[1];return"narrow"===e&&"string"==typeof i?i:r[0]||n}(m,"symbol"===i?"wide":"narrow",d):i);try{return X(function Yl(n){if("string"==typeof n&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if("number"!=typeof n)throw new Error(`${n} is not a number`);return n}(t),d,m,r,u)}catch(w){throw Yr()}}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.soG,16),c.Y36(c.EJc,16))},n.\u0275pipe=c.Yjl({name:"currency",type:n,pure:!0,standalone:!0}),n})();let fi=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const Ql="server";function ao(n){return n===Ql}let wa=(()=>{class n{}return n.\u0275prov=(0,c.Yz7)({token:n,providedIn:"root",factory:()=>new Jl((0,c.LFG)(re),window)}),n})();class Jl{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function Ao(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const u=i.shadowRoot;if(u){const d=u.getElementById(e)||u.querySelector(`[name="${e}"]`);if(d)return d}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,u=this.offset();this.window.scrollTo(r-u[0],i-u[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Nc(this.window.history)||Nc(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Nc(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Ca{}class ld extends ie{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Bc extends ld{static makeCurrent(){!function oe(n){Q||(Q=n)}(new Bc)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Hs(){return $s=$s||document.querySelector("base"),$s?$s.getAttribute("href"):null}();return null==t?null:function bg(n){fo=fo||document.createElement("a"),fo.setAttribute("href",n);const e=fo.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){$s=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Qo(document.cookie,e)}}let fo,$s=null;const sf=new c.OlP("TRANSITION_ID"),Qy=[{provide:c.ip1,useFactory:function Ru(n,e,t){return()=>{t.get(c.CZH).donePromise.then(()=>{const r=N(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let u=0;u<i.length;u++)r.remove(i[u])})}},deps:[sf,re,c.zs3],multi:!0}];let is=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const os=new c.OlP("EventManagerPlugins");let Nu=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let u=0;u<i.length;u++){const d=i[u];if(d.supports(t))return this._eventNameToPlugin.set(t,d),d}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(os),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class zs{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=N().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let jc=(()=>{class n{constructor(){this.usageCount=new Map}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)0===this.changeUsageCount(r,-1)&&this.onStyleRemoved(r)}onStyleRemoved(t){}onStyleAdded(t){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(t,r){const i=this.usageCount;let u=i.get(t)??0;return u+=r,u>0?i.set(t,u):i.delete(t),u}ngOnDestroy(){for(const t of this.getAllStyles())this.onStyleRemoved(t);this.usageCount.clear()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),ss=(()=>{class n extends jc{constructor(t){super(),this.doc=t,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef;r.get(t)?.forEach(u=>u.remove()),r.delete(t)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}addStyleToHost(t,r){const i=this.doc.createElement("style");i.textContent=r,t.appendChild(i);const u=this.styleRef.get(r);u?u.push(i):this.styleRef.set(r,[i])}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(re))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const as={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ku=/%COMP%/g,Oa=new c.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function hd(n,e){return e.flat(100).map(t=>t.replace(ku,n))}function ls(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Oi=(()=>{class n{constructor(t,r,i,u){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestory=u,this.rendererByCompId=new Map,this.defaultRenderer=new po(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;const i=this.getOrCreateRenderer(t,r);return i instanceof pd?i.applyToHost(t):i instanceof pn&&i.applyStyles(),i}getOrCreateRenderer(t,r){const i=this.rendererByCompId;let u=i.get(r.id);if(!u){const d=this.eventManager,m=this.sharedStylesHost,w=this.removeStylesOnCompDestory;switch(r.encapsulation){case c.ifc.Emulated:u=new pd(d,m,r,this.appId,w);break;case c.ifc.ShadowDom:return new fd(d,m,t,r);default:u=new pn(d,m,r,w)}u.onDestroy=()=>i.delete(r.id),i.set(r.id,u)}return u}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Nu),c.LFG(ss),c.LFG(c.AFp),c.LFG(Oa))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class po{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(as[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(qs(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(qs(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const u=as[i];u?e.setAttributeNS(u,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=as[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(c.JOm.DashCase|c.JOm.Important)?e.style.setProperty(t,r,i&c.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&c.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,ls(r)):this.eventManager.addEventListener(e,t,ls(r))}}function qs(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class fd extends po{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const u=hd(i.id,i.styles);for(const d of u){const m=document.createElement("style");m.textContent=d,this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class pn extends po{constructor(e,t,r,i,u=r.id){super(e),this.sharedStylesHost=t,this.removeStylesOnCompDestory=i,this.rendererUsageCount=0,this.styles=hd(u,r.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class pd extends pn{constructor(e,t,r,i,u){const d=i+"-"+r.id;super(e,t,r,u,d),this.contentAttr=function af(n){return"_ngcontent-%COMP%".replace(ku,n)}(d),this.hostAttr=function Lu(n){return"_nghost-%COMP%".replace(ku,n)}(d)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}let Vu=(()=>{class n extends zs{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(re))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const Hc=["alt","control","meta","shift"],Uu={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Bu={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Yn=(()=>{class n extends zs{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const u=n.parseEventName(r),d=n.eventCallback(u.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>N().onAndCancel(t,u.domEventName,d))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const u=n._normalizeKey(r.pop());let d="",m=r.indexOf("code");if(m>-1&&(r.splice(m,1),d="code."),Hc.forEach(D=>{const T=r.indexOf(D);T>-1&&(r.splice(T,1),d+=D+".")}),d+=u,0!=r.length||0===u.length)return null;const w={};return w.domEventName=i,w.fullKey=d,w}static matchEventFullKeyCode(t,r){let i=Uu[t.key]||t.key,u="";return r.indexOf("code.")>-1&&(i=t.code,u="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),Hc.forEach(d=>{d!==i&&(0,Bu[d])(t)&&(u+=d+".")}),u+=i,u===r)}static eventCallback(t,r,i){return u=>{n.matchEventFullKeyCode(u,t)&&i.runGuarded(()=>r(u))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(re))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const Gc=(0,c.eFA)(c._c5,"browser",[{provide:c.Lbi,useValue:"browser"},{provide:c.g9A,useValue:function go(){Bc.makeCurrent()},multi:!0},{provide:re,useFactory:function ju(){return(0,c.RDi)(document),document},deps:[]}]),ka=new c.OlP(""),Zs=[{provide:c.rWj,useClass:class Pa{addToWindow(e){c.dqk.getAngularTestability=(r,i=!0)=>{const u=e.findTestabilityInTree(r,i);if(null==u)throw new Error("Could not find testability for element.");return u},c.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),c.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),c.dqk.frameworkStabilizers||(c.dqk.frameworkStabilizers=[]),c.dqk.frameworkStabilizers.push(r=>{const i=c.dqk.getAllAngularTestabilities();let u=i.length,d=!1;const m=function(w){d=d||w,u--,0==u&&r(d)};i.forEach(function(w){w.whenStable(m)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?N().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:c.lri,useClass:c.dDg,deps:[c.R0b,c.eoX,c.rWj]},{provide:c.dDg,useClass:c.dDg,deps:[c.R0b,c.eoX,c.rWj]}],Ro=[{provide:c.zSh,useValue:"root"},{provide:c.qLn,useFactory:function uf(){return new c.qLn},deps:[]},{provide:os,useClass:Vu,multi:!0,deps:[re,c.R0b,c.Lbi]},{provide:os,useClass:Yn,multi:!0,deps:[re]},{provide:Oi,useClass:Oi,deps:[Nu,ss,c.AFp,Oa]},{provide:c.FYo,useExisting:Oi},{provide:jc,useExisting:ss},{provide:ss,useClass:ss,deps:[re]},{provide:Nu,useClass:Nu,deps:[os,c.R0b]},{provide:Ca,useClass:is,deps:[]},[]];let Ws=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:c.AFp,useValue:t.appId},{provide:sf,useExisting:c.AFp},Qy]}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ka,12))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[...Ro,...Zs],imports:[fi,c.hGG]}),n})(),lf=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(re))},n.\u0275prov=c.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function ps(){return new lf((0,c.LFG)(re))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;var un=k(8996),lr=k(9751);const{isArray:Ks}=Array,{getPrototypeOf:No,prototype:mi,keys:md}=Object;function Yc(n){if(1===n.length){const e=n[0];if(Ks(e))return{args:e,keys:null};if(function qu(n){return n&&"object"==typeof n&&No(n)===mi}(e)){const t=md(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var ys=k(8421),ko=k(7669),gn=k(5403),mt=k(4004);const{isArray:Zu}=Array;function Ba(n){return(0,mt.U)(e=>function Ua(n,e){return Zu(e)?n(...e):n(e)}(n,e))}function ja(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}let $a=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Qsj),c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n}),n})(),Xr=(()=>{class n extends $a{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(n)))(r||n)}}(),n.\u0275dir=c.lG2({type:n,features:[c.qOj]}),n})();const vr=new c.OlP("NgValueAccessor"),yd={provide:vr,useExisting:(0,c.Gpc)(()=>Qs),multi:!0},Ys=new c.OlP("CompositionEventMode");let Qs=(()=>{class n extends $a{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function _s(){const n=N()?N().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Qsj),c.Y36(c.SBq),c.Y36(Ys,8))},n.\u0275dir=c.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&c.NdJ("input",function(u){return r._handleInput(u.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(u){return r._compositionEnd(u.target.value)})},features:[c._Bn([yd]),c.qOj]}),n})();const _d=!1;function mo(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}const wr=new c.OlP("NgValidators"),Fo=new c.OlP("NgAsyncValidators"),Jc=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;function vd(n){return mo(n.value)?{required:!0}:null}function Xc(n){return mo(n.value)||Jc.test(n.value)?null:{email:!0}}function Js(n){return null}function vs(n){return null!=n}function qa(n){const e=(0,c.QGY)(n)?(0,un.D)(n):n;if(_d&&!(0,c.CqO)(e)){let t="Expected async validator to return Promise or Observable.";throw"object"==typeof n&&(t+=" Are you using a synchronous validator where an async validator is expected?"),new c.vHH(-1101,t)}return e}function nl(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function ws(n,e){return e.map(t=>t(n))}function Yu(n){return n.map(e=>function rl(n){return!n.validate}(e)?e:t=>e.validate(t))}function Cd(n){return null!=n?function il(n){if(!n)return null;const e=n.filter(vs);return 0==e.length?null:function(t){return nl(ws(t,e))}}(Yu(n)):null}function Ed(n){return null!=n?function bd(n){if(!n)return null;const e=n.filter(vs);return 0==e.length?null:function(t){return function Qc(...n){const e=(0,ko.jO)(n),{args:t,keys:r}=Yc(n),i=new lr.y(u=>{const{length:d}=t;if(!d)return void u.complete();const m=new Array(d);let w=d,D=d;for(let T=0;T<d;T++){let O=!1;(0,ys.Xf)(t[T]).subscribe((0,gn.x)(u,U=>{O||(O=!0,D--),m[T]=U},()=>w--,void 0,()=>{(!w||!O)&&(D||u.next(r?ja(r,m):m),u.complete())}))}});return e?i.pipe(Ba(e)):i}(ws(t,e).map(qa)).pipe((0,mt.U)(nl))}}(Yu(n)):null}function ol(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function Za(n){return n?Array.isArray(n)?n:[n]:[]}function Wa(n,e){return Array.isArray(n)?n.includes(e):n===e}function yi(n,e){const t=Za(e);return Za(n).forEach(i=>{Wa(t,i)||t.push(i)}),t}function Lo(n,e){return Za(e).filter(t=>!Wa(n,t))}class Ka{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Cd(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Ed(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class An extends Ka{get formDirective(){return null}get path(){return null}}class Vo extends Ka{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class sl{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Ya=(()=>{class n extends sl{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Vo,2))},n.\u0275dir=c.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&c.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[c.qOj]}),n})(),Ju=(()=>{class n extends sl{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(An,10))},n.\u0275dir=c.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&c.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[c.qOj]}),n})();function Mn(n,e){return n?`with name: '${e}'`:`at index: ${e}`}const ei=!1,Ar="VALID",bs="INVALID",ea="PENDING",Es="DISABLED";function xg(n){return(nc(n)?n.validators:n)||null}function ec(n,e){return(nc(e)?e.asyncValidators:n)||null}function nc(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class _f{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Ar}get invalid(){return this.status===bs}get pending(){return this.status==ea}get disabled(){return this.status===Es}get enabled(){return this.status!==Es}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(yi(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(yi(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Lo(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Lo(e,this._rawAsyncValidators))}hasValidator(e){return Wa(this._rawValidators,e)}hasAsyncValidator(e){return Wa(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=ea,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Es,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Ar,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ar||this.status===ea)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Es:Ar}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=ea,this._hasOwnPendingAsyncValidator=!0;const t=qa(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new c.vpe,this.statusChanges=new c.vpe}_calculateStatus(){return this._allControlsDisabled()?Es:this.errors?bs:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ea)?ea:this._anyControlsHaveStatus(bs)?bs:Ar}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){nc(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function yf(n){return Array.isArray(n)?Cd(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function tc(n){return Array.isArray(n)?Ed(n):n||null}(this._rawAsyncValidators)}}class vf extends _f{constructor(e,t,r){super(xg(t),ec(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function Id(n,e,t){n._forEachChild((r,i)=>{if(void 0===t[i])throw new c.vHH(1002,ei?function Cs(n,e){return`Must supply a value for form control ${Mn(n,e)}`}(e,i):"")})})(this,!0,e),Object.keys(e).forEach(r=>{(function ta(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new c.vHH(1e3,ei?function Xs(n){return`\n    There are no form controls registered with this ${n?"group":"array"} yet. If you're using ngModel,\n    you may want to check next tick (e.g. use setTimeout).\n  `}(e):"");if(!r[t])throw new c.vHH(1001,ei?function Xu(n,e){return`Cannot find form control ${Mn(n,e)}`}(e,t):"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,u)=>{r=t(r,i,u)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const al=new c.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>Uo}),Uo="always";function rc(n,e,t=Uo){wf(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function Td(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&ra(n,e)})}(n,e),function Sd(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function Ag(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&ra(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function cl(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function ul(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function wf(n,e){const t=function Qu(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(ol(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=function Qi(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(ol(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();ul(e._rawValidators,i),ul(e._rawAsyncValidators,i)}function ra(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}const ic={provide:An,useExisting:(0,c.Gpc)(()=>oa)},Qa=(()=>Promise.resolve())();let oa=(()=>{class n extends An{constructor(t,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._directives=new Set,this.ngSubmit=new c.vpe,this.form=new vf({},Cd(t),Ed(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Qa.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),rc(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Qa.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Qa.then(()=>{const r=this._findContainer(t.path),i=new vf({});(function Cf(n,e){wf(n,e)})(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Qa.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){Qa.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,function ll(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(wr,10),c.Y36(Fo,10),c.Y36(al,8))},n.\u0275dir=c.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,r){1&t&&c.NdJ("submit",function(u){return r.onSubmit(u)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c._Bn([ic]),c.qOj]}),n})();function oc(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function Df(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const xf=class extends _f{constructor(e=null,t,r){super(xg(t),ec(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),nc(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=Df(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){oc(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){oc(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){Df(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},o_={provide:Vo,useExisting:(0,c.Gpc)(()=>sa)},Ng=(()=>Promise.resolve())();let sa=(()=>{class n extends Vo{constructor(t,r,i,u,d,m){super(),this._changeDetectorRef=d,this.callSetDisabledState=m,this.control=new xf,this._registered=!1,this.update=new c.vpe,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function ia(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(u=>{u.constructor===Qs?t=u:function If(n){return Object.getPrototypeOf(n.constructor)===Xr}(u)?r=u:i=u}),i||r||t||null}(0,u)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function Md(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){rc(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){Ng.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=0!==r&&(0,c.D6c)(r);Ng.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function Dd(n,e){return[...e.path,n]}(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(An,9),c.Y36(wr,10),c.Y36(Fo,10),c.Y36(vr,10),c.Y36(c.sBO,8),c.Y36(al,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[c._Bn([o_]),c.qOj,c.TTD]}),n})(),aa=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),ti=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const Fd={provide:vr,useExisting:(0,c.Gpc)(()=>Ja),multi:!0};function Bg(n,e){return null==n?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let Ja=(()=>{class n extends Xr{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const i=Bg(this._getOptionId(t),t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){const r=function Is(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r):t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(n)))(r||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,r){1&t&&c.NdJ("change",function(u){return r.onChange(u.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[c._Bn([Fd]),c.qOj]}),n})(),Pf=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(Bg(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.Qsj),c.Y36(Ja,9))},n.\u0275dir=c.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const Ld={provide:vr,useExisting:(0,c.Gpc)(()=>Vd),multi:!0};function Bo(n,e){return null==n?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let Vd=(()=>{class n extends Xr{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let r;if(this.value=t,Array.isArray(t)){const i=t.map(u=>this._getOptionId(u));r=(u,d)=>{u._setSelected(i.indexOf(d.toString())>-1)}}else r=(i,u)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{const i=[],u=r.selectedOptions;if(void 0!==u){const d=u;for(let m=0;m<d.length;m++){const D=this._getOptionValue(d[m].value);i.push(D)}}else{const d=r.options;for(let m=0;m<d.length;m++){const w=d[m];if(w.selected){const D=this._getOptionValue(w.value);i.push(D)}}}this.value=i,t(i)}}_registerOption(t){const r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){const r=function Xa(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(n)))(r||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,r){1&t&&c.NdJ("change",function(u){return r.onChange(u.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[c._Bn([Ld]),c.qOj]}),n})(),Of=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(Bo(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(Bo(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.Qsj),c.Y36(Vd,9))},n.\u0275dir=c.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();let f=(()=>{class n{constructor(){this._validator=Js}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Js,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,features:[c.TTD]}),n})();const B={provide:wr,useExisting:(0,c.Gpc)(()=>Ee),multi:!0};let Ee=(()=>{class n extends f{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=c.D6c,this.createValidator=t=>vd}enabled(t){return t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(n)))(r||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,r){2&t&&c.uIk("required",r._enabled?"":null)},inputs:{required:"required"},features:[c._Bn([B]),c.qOj]}),n})();const nt={provide:wr,useExisting:(0,c.Gpc)(()=>Je),multi:!0};let Je=(()=>{class n extends f{constructor(){super(...arguments),this.inputName="email",this.normalizeInput=c.D6c,this.createValidator=t=>Xc}enabled(t){return t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(n)))(r||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["","email","","formControlName",""],["","email","","formControl",""],["","email","","ngModel",""]],inputs:{email:"email"},features:[c._Bn([nt]),c.qOj]}),n})();const Cn={provide:wr,useExisting:(0,c.Gpc)(()=>vi),multi:!0};let vi=(()=>{class n extends f{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=t=>function c_(n){return"number"==typeof n?n:parseInt(n,10)}(t),this.createValidator=t=>function el(n){return e=>mo(e.value)||!function Ku(n){return null!=n&&"number"==typeof n.length}(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(t)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(n)))(r||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(t,r){2&t&&c.uIk("minlength",r._enabled?r.minlength:null)},inputs:{minlength:"minlength"},features:[c._Bn([Cn]),c.qOj]}),n})(),$g=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[ti]}),n})(),bw=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:al,useValue:t.callSetDisabledState??Uo}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[$g]}),n})();function vt(...n){const e=(0,ko.yG)(n);return(0,un.D)(n,e)}var dc=k(7579);class jo extends dc.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const Lf=(0,k(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var hl=k(4671),ZS=k(9672);function zg(...n){const e=(0,ko.yG)(n),t=(0,ko.jO)(n),{args:r,keys:i}=Yc(n);if(0===r.length)return(0,un.D)([],e);const u=new lr.y(function KI(n,e,t=hl.y){return r=>{Gg(e,()=>{const{length:i}=n,u=new Array(i);let d=i,m=i;for(let w=0;w<i;w++)Gg(e,()=>{const D=(0,un.D)(n[w],e);let T=!1;D.subscribe((0,gn.x)(r,O=>{u[w]=O,T||(T=!0,m--),m||r.next(t(u.slice()))},()=>{--d||r.complete()}))},r)},r)}}(r,e,i?d=>ja(i,d):hl.y));return t?u.pipe(Ba(t)):u}function Gg(n,e,t){n?(0,ZS.f)(t,n,e):e()}var Bd=k(8189);function eu(...n){return function Iw(){return(0,Bd.J)(1)}()((0,un.D)(n,(0,ko.yG)(n)))}function Dw(n){return new lr.y(e=>{(0,ys.Xf)(n()).subscribe(e)})}var h_=k(9635),jd=k(576);function Vf(n,e){const t=(0,jd.m)(n)?n:()=>n,r=i=>i.error(t());return new lr.y(e?i=>e.schedule(r,0,i):r)}var ua=k(515),Uf=k(727),dr=k(4482);function qg(){return(0,dr.e)((n,e)=>{let t=null;n._refCount++;const r=(0,gn.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,u=t;t=null,i&&(!u||i===u)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class Zg extends lr.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,dr.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Uf.w0;const t=this.getSubject();e.add(this.source.subscribe((0,gn.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Uf.w0.EMPTY)}return e}refCount(){return qg()(this)}}function Hr(n,e){return(0,dr.e)((t,r)=>{let i=null,u=0,d=!1;const m=()=>d&&!i&&r.complete();t.subscribe((0,gn.x)(r,w=>{i?.unsubscribe();let D=0;const T=u++;(0,ys.Xf)(n(w,T)).subscribe(i=(0,gn.x)(r,O=>r.next(e?e(w,O,T,D++):O),()=>{i=null,m()}))},()=>{d=!0,m()}))})}function $d(n){return n<=0?()=>ua.E:(0,dr.e)((e,t)=>{let r=0;e.subscribe((0,gn.x)(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Bf(...n){const e=(0,ko.yG)(n);return(0,dr.e)((t,r)=>{(e?eu(n,t,e):eu(n,t)).subscribe(r)})}function ni(n,e){return(0,dr.e)((t,r)=>{let i=0;t.subscribe((0,gn.x)(r,u=>n.call(e,u,i++)&&r.next(u)))})}var ki=k(5577);function Wg(n){return(0,dr.e)((e,t)=>{let r=!1;e.subscribe((0,gn.x)(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function xw(n=f_){return(0,dr.e)((e,t)=>{let r=!1;e.subscribe((0,gn.x)(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function f_(){return new Lf}function tu(n,e){const t=arguments.length>=2;return r=>r.pipe(n?ni((i,u)=>n(i,u,r)):hl.y,$d(1),t?Wg(e):xw(()=>new Lf))}function nu(n,e){return(0,jd.m)(e)?(0,ki.z)(n,e,1):(0,ki.z)(n,1)}var wi=k(8505);function ru(n){return(0,dr.e)((e,t)=>{let u,r=null,i=!1;r=e.subscribe((0,gn.x)(t,void 0,void 0,d=>{u=(0,ys.Xf)(n(d,ru(n)(e))),r?(r.unsubscribe(),r=null,u.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,u.subscribe(t))})}function jf(n,e){return(0,dr.e)(function WS(n,e,t,r,i){return(u,d)=>{let m=t,w=e,D=0;u.subscribe((0,gn.x)(d,T=>{const O=D++;w=m?n(w,T,O):(m=!0,T),r&&d.next(w)},i&&(()=>{m&&d.next(w),d.complete()})))}}(n,e,arguments.length>=2,!0))}function fl(n){return n<=0?()=>ua.E:(0,dr.e)((e,t)=>{let r=[];e.subscribe((0,gn.x)(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Tw(n,e){const t=arguments.length>=2;return r=>r.pipe(n?ni((i,u)=>n(i,u,r)):hl.y,fl(1),t?Wg(e):xw(()=>new Lf))}function p_(n){return(0,dr.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const Ut="primary",Hf=Symbol("RouteTitle");class YI{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function zd(n){return new YI(n)}function Sw(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let u=0;u<r.length;u++){const d=r[u],m=n[u];if(d.startsWith(":"))i[d.substring(1)]=m;else if(d!==m.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function $o(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let u=0;u<t.length;u++)if(i=t[u],!Kg(n[i],e[i]))return!1;return!0}function Kg(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,u)=>r[u]===i)}return n===e}function Mw(n){return Array.prototype.concat.apply([],n)}function Yg(n){return n.length>0?n[n.length-1]:null}function ri(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function hc(n){return(0,c.CqO)(n)?n:(0,c.QGY)(n)?(0,un.D)(Promise.resolve(n)):vt(n)}const Jg=!1,QI={exact:function pl(n,e,t){if(!fc(n.segments,e.segments)||!g_(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!pl(n.children[r],e.children[r],t))return!1;return!0},subset:Rw},Pw={exact:function JI(n,e){return $o(n,e)},subset:function iu(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Kg(n[t],e[t]))},ignored:()=>!0};function Ow(n,e,t){return QI[t.paths](n.root,e.root,t.matrixParams)&&Pw[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function Rw(n,e,t){return Nw(n,e,e.segments,t)}function Nw(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!fc(i,t)||e.hasChildren()||!g_(i,t,r))}if(n.segments.length===t.length){if(!fc(n.segments,t)||!g_(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!Rw(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),u=t.slice(n.segments.length);return!!(fc(n.segments,i)&&g_(n.segments,i,r)&&n.children[Ut])&&Nw(n.children[Ut],e,u,r)}}function g_(n,e,t){return e.every((r,i)=>Pw[t](n[i].parameters,r.parameters))}class gl{constructor(e=new qt([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=zd(this.queryParams)),this._queryParamMap}toString(){return eD.serialize(this)}}class qt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,ri(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ji(this)}}class Xg{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=zd(this.parameters)),this._parameterMap}toString(){return Fw(this)}}function fc(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let Gd=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return new m_},providedIn:"root"}),n})();class m_{parse(e){const t=new Uw(e);return new gl(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${zf(e.root,!0)}`,r=function rD(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${em(t)}=${em(i)}`).join("&"):`${em(t)}=${em(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function tD(n){return encodeURI(n)}(e.fragment)}`:""}`}}const eD=new m_;function Ji(n){return n.segments.map(e=>Fw(e)).join("/")}function zf(n,e){if(!n.hasChildren())return Ji(n);if(e){const t=n.children[Ut]?zf(n.children[Ut],!1):"",r=[];return ri(n.children,(i,u)=>{u!==Ut&&r.push(`${u}:${zf(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function XI(n,e){let t=[];return ri(n.children,(r,i)=>{i===Ut&&(t=t.concat(e(r,i)))}),ri(n.children,(r,i)=>{i!==Ut&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===Ut?[zf(n.children[Ut],!1)]:[`${i}:${zf(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Ut]?`${Ji(n)}/${t[0]}`:`${Ji(n)}/(${t.join("//")})`}}function y_(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function em(n){return y_(n).replace(/%3B/gi,";")}function __(n){return y_(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function tm(n){return decodeURIComponent(n)}function v_(n){return tm(n.replace(/\+/g,"%20"))}function Fw(n){return`${__(n.path)}${function nD(n){return Object.keys(n).map(e=>`;${__(e)}=${__(n[e])}`).join("")}(n.parameters)}`}const Bt=/^[^\/()?;=#]+/;function Gf(n){const e=n.match(Bt);return e?e[0]:""}const Lw=/^[^=?&#]+/,iD=/^[^&#]+/;class Uw{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new qt([],{}):new qt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Ut]=new qt(e,t)),r}parseSegment(){const e=Gf(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new c.vHH(4009,Jg);return this.capture(e),new Xg(tm(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Gf(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=Gf(this.remaining);i&&(r=i,this.capture(r))}e[tm(t)]=tm(r)}parseQueryParam(e){const t=function Vw(n){const e=n.match(Lw);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const d=function oD(n){const e=n.match(iD);return e?e[0]:""}(this.remaining);d&&(r=d,this.capture(r))}const i=v_(t),u=v_(r);if(e.hasOwnProperty(i)){let d=e[i];Array.isArray(d)||(d=[d],e[i]=d),d.push(u)}else e[i]=u}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Gf(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new c.vHH(4010,Jg);let u;r.indexOf(":")>-1?(u=r.slice(0,r.indexOf(":")),this.capture(u),this.capture(":")):e&&(u=Ut);const d=this.parseChildren();t[u]=1===Object.keys(d).length?d[Ut]:new qt([],d),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new c.vHH(4011,Jg)}}function w_(n){return n.segments.length>0?new qt([],{[Ut]:n}):n}function qf(n){const e={};for(const r of Object.keys(n.children)){const u=qf(n.children[r]);(u.segments.length>0||u.hasChildren())&&(e[r]=u)}return function sD(n){if(1===n.numberOfChildren&&n.children[Ut]){const e=n.children[Ut];return new qt(n.segments.concat(e.segments),e.children)}return n}(new qt(n.segments,e))}function ml(n){return n instanceof gl}const Bw=!1;function uD(n,e,t,r,i){if(0===t.length)return qd(e.root,e.root,e.root,r,i);const u=function dD(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new lD(!0,0,n);let e=0,t=!1;const r=n.reduce((i,u,d)=>{if("object"==typeof u&&null!=u){if(u.outlets){const m={};return ri(u.outlets,(w,D)=>{m[D]="string"==typeof w?w.split("/"):w}),[...i,{outlets:m}]}if(u.segmentPath)return[...i,u.segmentPath]}return"string"!=typeof u?[...i,u]:0===d?(u.split("/").forEach((m,w)=>{0==w&&"."===m||(0==w&&""===m?t=!0:".."===m?e++:""!=m&&i.push(m))}),i):[...i,u]},[]);return new lD(t,e,r)}(t);return u.toRoot()?qd(e.root,e.root,new qt([],{}),r,i):function d(w){const D=function KS(n,e,t,r){if(n.isAbsolute)return new Zd(e.root,!0,0);if(-1===r)return new Zd(t,t===e.root,0);return function $w(n,e,t){let r=n,i=e,u=t;for(;u>i;){if(u-=i,r=r.parent,!r)throw new c.vHH(4005,Bw&&"Invalid number of '../'");i=r.segments.length}return new Zd(r,!1,i-u)}(t,r+(yl(n.commands[0])?0:1),n.numberOfDoubleDots)}(u,e,n.snapshot?._urlSegment,w),T=D.processChildren?vl(D.segmentGroup,D.index,u.commands):b_(D.segmentGroup,D.index,u.commands);return qd(e.root,D.segmentGroup,T,r,i)}(n.snapshot?._lastPathIndex)}function yl(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function _l(n){return"object"==typeof n&&null!=n&&n.outlets}function qd(n,e,t,r,i){let d,u={};r&&ri(r,(w,D)=>{u[D]=Array.isArray(w)?w.map(T=>`${T}`):`${w}`}),d=n===e?t:cD(n,e,t);const m=w_(qf(d));return new gl(m,u,i)}function cD(n,e,t){const r={};return ri(n.children,(i,u)=>{r[u]=i===e?t:cD(i,e,t)}),new qt(n.segments,r)}class lD{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&yl(r[0]))throw new c.vHH(4003,Bw&&"Root segment cannot have matrix parameters");const i=r.find(_l);if(i&&i!==Yg(r))throw new c.vHH(4004,Bw&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Zd{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function b_(n,e,t){if(n||(n=new qt([],{})),0===n.segments.length&&n.hasChildren())return vl(n,e,t);const r=function nm(n,e,t){let r=0,i=e;const u={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return u;const d=n.segments[i],m=t[r];if(_l(m))break;const w=`${m}`,D=r<t.length-1?t[r+1]:null;if(i>0&&void 0===w)break;if(w&&D&&"object"==typeof D&&void 0===D.outlets){if(!Gw(w,D,d))return u;r+=2}else{if(!Gw(w,{},d))return u;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const u=new qt(n.segments.slice(0,r.pathIndex),{});return u.children[Ut]=new qt(n.segments.slice(r.pathIndex),n.children),vl(u,0,i)}return r.match&&0===i.length?new qt(n.segments,{}):r.match&&!n.hasChildren()?E_(n,e,t):r.match?vl(n,0,i):E_(n,e,t)}function vl(n,e,t){if(0===t.length)return new qt(n.segments,{});{const r=function Wd(n){return _l(n[0])?n[0].outlets:{[Ut]:n}}(t),i={};if(!r[Ut]&&n.children[Ut]&&1===n.numberOfChildren&&0===n.children[Ut].segments.length){const u=vl(n.children[Ut],e,t);return new qt(n.segments,u.children)}return ri(r,(u,d)=>{"string"==typeof u&&(u=[u]),null!==u&&(i[d]=b_(n.children[d],e,u))}),ri(n.children,(u,d)=>{void 0===r[d]&&(i[d]=u)}),new qt(n.segments,i)}}function E_(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const u=t[i];if(_l(u)){const w=Hw(u.outlets);return new qt(r,w)}if(0===i&&yl(t[0])){r.push(new Xg(n.segments[e].path,zw(t[0]))),i++;continue}const d=_l(u)?u.outlets[Ut]:`${u}`,m=i<t.length-1?t[i+1]:null;d&&m&&yl(m)?(r.push(new Xg(d,zw(m))),i+=2):(r.push(new Xg(d,{})),i++)}return new qt(r,{})}function Hw(n){const e={};return ri(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=E_(new qt([],{}),0,t))}),e}function zw(n){const e={};return ri(n,(t,r)=>e[r]=`${t}`),e}function Gw(n,e,t){return n==t.path&&$o(e,t.parameters)}const Zf="imperative";class ca{constructor(e,t){this.id=e,this.url=t}}class I_ extends ca{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class gc extends ca{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class rm extends ca{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Wf extends ca{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=16}}class im extends ca{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class D_ extends ca{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class YS extends ca{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class x_ extends ca{constructor(e,t,r,i,u){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=u,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class hD extends ca{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class QS extends ca{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Kd{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class qw{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class fD{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Zw{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class pD{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class gD{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Kf{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let Yf=(()=>{class n{createUrlTree(t,r,i,u,d,m){return uD(t||r.root,i,u,d,m)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),om=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(e){return Yf.\u0275fac(e)},providedIn:"root"}),n})();class A_{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Qf(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=Qf(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Jf(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Jf(e,this._root).map(t=>t.value)}}function Qf(n,e){if(n===e.value)return e;for(const t of e.children){const r=Qf(n,t);if(r)return r}return null}function Jf(n,e){if(n===e.value)return[e];for(const t of e.children){const r=Jf(n,t);if(r.length)return r.unshift(e),r}return[]}class Ds{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function wl(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class sm extends A_{constructor(e,t){super(e),this.snapshot=t,M_(this,e)}toString(){return this.snapshot.toString()}}function Ww(n,e){const t=function mD(n,e){const d=new Xf([],{},{},"",{},Ut,e,null,n.root,-1,{});return new Qw("",new Ds(d,[]))}(n,e),r=new jo([new Xg("",{})]),i=new jo({}),u=new jo({}),d=new jo({}),m=new jo(""),w=new mc(r,i,d,m,u,Ut,e,t.root);return w.snapshot=t.root,new sm(new Ds(w,[]),t)}class mc{constructor(e,t,r,i,u,d,m,w){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=u,this.outlet=d,this.component=m,this.title=this.data?.pipe((0,mt.U)(D=>D[Hf]))??vt(void 0),this._futureSnapshot=w}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,mt.U)(e=>zd(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,mt.U)(e=>zd(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Kw(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],u=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(u.component)break;r--}}return function Yw(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Xf{get title(){return this.data?.[Hf]}constructor(e,t,r,i,u,d,m,w,D,T,O){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=u,this.outlet=d,this.component=m,this.routeConfig=w,this._urlSegment=D,this._lastPathIndex=T,this._resolve=O}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=zd(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=zd(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Qw extends A_{constructor(e,t){super(t),this.url=e,M_(this,t)}toString(){return Xi(this._root)}}function M_(n,e){e.value._routerState=n,e.children.forEach(t=>M_(n,t))}function Xi(n){const e=n.children.length>0?` { ${n.children.map(Xi).join(", ")} } `:"";return`${n.value}${e}`}function P_(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,$o(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),$o(e.params,t.params)||n.params.next(t.params),function Aw(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!$o(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),$o(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function O_(n,e){const t=$o(n.params,e.params)&&function kw(n,e){return fc(n,e)&&n.every((t,r)=>$o(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||O_(n.parent,e.parent))}function Cl(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function Jw(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Cl(n,r,i);return Cl(n,r)})}(n,e,t);return new Ds(r,i)}{if(n.shouldAttach(e.value)){const u=n.retrieve(e.value);if(null!==u){const d=u.route;return d.value._futureSnapshot=e.value,d.children=e.children.map(m=>Cl(n,m)),d}}const r=function yD(n){return new mc(new jo(n.url),new jo(n.params),new jo(n.queryParams),new jo(n.fragment),new jo(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(u=>Cl(n,u));return new Ds(r,i)}}const R_="ngNavigationCancelingError";function Xw(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=ml(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=N_(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function N_(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[R_]=!0,r.cancellationCode=e,t&&(r.url=t),r}function eC(n){return tC(n)&&ml(n.url)}function tC(n){return n&&n[R_]}class k_{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new ep,this.attachRef=null}}let ep=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new k_,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const am=!1;let F_=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=Ut,this.activateEvents=new c.vpe,this.deactivateEvents=new c.vpe,this.attachEvents=new c.vpe,this.detachEvents=new c.vpe,this.parentContexts=(0,c.f3M)(ep),this.location=(0,c.f3M)(c.s_b),this.changeDetector=(0,c.f3M)(c.sBO),this.environmentInjector=(0,c.f3M)(c.lqb)}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new c.vHH(4012,am);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new c.vHH(4012,am);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new c.vHH(4012,am);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new c.vHH(4013,am);this._activatedRoute=t;const i=this.location,d=t.snapshot.component,m=this.parentContexts.getOrCreateContext(this.name).children,w=new _D(t,m,i.injector);if(r&&function vD(n){return!!n.resolveComponentFactory}(r)){const D=r.resolveComponentFactory(d);this.activated=i.createComponent(D,i.length,w)}else this.activated=i.createComponent(d,{index:i.length,injector:w,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[c.TTD]}),n})();class _D{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===mc?this.route:e===ep?this.childContexts:this.parent.get(e,t)}}let Ho=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[c.jDz],decls:1,vars:0,template:function(t,r){1&t&&c._UZ(0,"router-outlet")},dependencies:[F_],encapsulation:2}),n})();function um(n,e){return n.providers&&!n._injector&&(n._injector=(0,c.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function U_(n){const e=n.children&&n.children.map(U_),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Ut&&(t.component=Ho),t}function Fi(n){return n.outlet||Ut}function tp(n,e){const t=n.filter(r=>Fi(r)===e);return t.push(...n.filter(r=>Fi(r)!==e)),t}function yc(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class B_{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),P_(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=wl(t);e.children.forEach(u=>{const d=u.value.outlet;this.deactivateRoutes(u,i[d],r),delete i[d]}),ri(i,(u,d)=>{this.deactivateRouteAndItsChildren(u,r)})}deactivateRoutes(e,t,r){const i=e.value,u=t?t.value:null;if(i===u)if(i.component){const d=r.getContext(i.outlet);d&&this.deactivateChildRoutes(e,t,d.children)}else this.deactivateChildRoutes(e,t,r);else u&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,u=wl(e);for(const d of Object.keys(u))this.deactivateRouteAndItsChildren(u[d],i);if(r&&r.outlet){const d=r.outlet.detach(),m=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:d,route:e,contexts:m})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,u=wl(e);for(const d of Object.keys(u))this.deactivateRouteAndItsChildren(u[d],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=wl(t);e.children.forEach(u=>{this.activateRoutes(u,i[u.value.outlet],r),this.forwardEvent(new gD(u.value.snapshot))}),e.children.length&&this.forwardEvent(new Zw(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,u=t?t.value:null;if(P_(i),i===u)if(i.component){const d=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,d.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const d=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const m=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),d.children.onOutletReAttached(m.contexts),d.attachRef=m.componentRef,d.route=m.route.value,d.outlet&&d.outlet.attach(m.componentRef,m.route.value),P_(m.route.value),this.activateChildRoutes(e,null,d.children)}else{const m=yc(i.snapshot),w=m?.get(c._Vd)??null;d.attachRef=null,d.route=i,d.resolver=w,d.injector=m,d.outlet&&d.outlet.activateWith(i,d.injector),this.activateChildRoutes(e,null,d.children)}}else this.activateChildRoutes(e,null,r)}}class ED{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class np{constructor(e,t){this.component=e,this.route=t}}function nC(n,e,t){const r=n._root;return El(r,e?e._root:null,t,[r.value])}function bl(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||(0,c.Z0I)(n)?e.get(n):n:r}function El(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const u=wl(e);return n.children.forEach(d=>{(function ou(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const u=n.value,d=e?e.value:null,m=t?t.getContext(n.value.outlet):null;if(d&&u.routeConfig===d.routeConfig){const w=function cm(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!fc(n.url,e.url);case"pathParamsOrQueryParamsChange":return!fc(n.url,e.url)||!$o(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!O_(n,e)||!$o(n.queryParams,e.queryParams);default:return!O_(n,e)}}(d,u,u.routeConfig.runGuardsAndResolvers);w?i.canActivateChecks.push(new ED(r)):(u.data=d.data,u._resolvedData=d._resolvedData),El(n,e,u.component?m?m.children:null:t,r,i),w&&m&&m.outlet&&m.outlet.isActivated&&i.canDeactivateChecks.push(new np(m.outlet.component,d))}else d&&_c(e,m,i),i.canActivateChecks.push(new ED(r)),El(n,null,u.component?m?m.children:null:t,r,i)})(d,u[d.value.outlet],t,r.concat([d.value]),i),delete u[d.value.outlet]}),ri(u,(d,m)=>_c(d,t.getContext(m),i)),i}function _c(n,e,t){const r=wl(n),i=n.value;ri(r,(u,d)=>{_c(u,i.component?e?e.children.getContext(d):null:e,t)}),t.canDeactivateChecks.push(new np(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function su(n){return"function"==typeof n}function j_(n){return n instanceof Lf||"EmptyError"===n?.name}const lm=Symbol("INITIAL_VALUE");function Qd(){return Hr(n=>zg(n.map(e=>e.pipe($d(1),Bf(lm)))).pipe((0,mt.U)(e=>{for(const t of e)if(!0!==t){if(t===lm)return lm;if(!1===t||t instanceof gl)return t}return!0}),ni(e=>e!==lm),$d(1)))}function aC(n){return(0,h_.z)((0,wi.b)(e=>{if(ml(e))throw Xw(0,e)}),(0,mt.U)(e=>!0===e))}const z_={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function uC(n,e,t,r,i){const u=G_(n,e,t);return u.matched?function RD(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?vt(i.map(d=>{const m=bl(d,n);return hc(function rp(n){return n&&su(n.canMatch)}(m)?m.canMatch(e,t):n.runInContext(()=>m(e,t)))})).pipe(Qd(),aC()):vt(!0)}(r=um(e,r),e,t).pipe((0,mt.U)(d=>!0===d?u:{...z_})):vt(u)}function G_(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...z_}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||Sw)(t,n,e);if(!i)return{...z_};const u={};ri(i.posParams,(m,w)=>{u[w]=m.path});const d=i.consumed.length>0?{...u,...i.consumed[i.consumed.length-1].parameters}:u;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:d,positionalParamSegments:i.posParams??{}}}function dm(n,e,t,r){if(t.length>0&&function ND(n,e,t){return t.some(r=>ip(n,e,r)&&Fi(r)!==Ut)}(n,t,r)){const u=new qt(e,function lC(n,e,t,r){const i={};i[Ut]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const u of t)if(""===u.path&&Fi(u)!==Ut){const d=new qt([],{});d._sourceSegment=n,d._segmentIndexShift=e.length,i[Fi(u)]=d}return i}(n,e,r,new qt(t,n.children)));return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:[]}}if(0===t.length&&function oA(n,e,t){return t.some(r=>ip(n,e,r))}(n,t,r)){const u=new qt(n.segments,function cC(n,e,t,r,i){const u={};for(const d of r)if(ip(n,t,d)&&!i[Fi(d)]){const m=new qt([],{});m._sourceSegment=n,m._segmentIndexShift=e.length,u[Fi(d)]=m}return{...i,...u}}(n,e,t,r,n.children));return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:t}}const i=new qt(n.segments,n.children);return i._sourceSegment=n,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:t}}function ip(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function kD(n,e,t,r){return!!(Fi(n)===r||r!==Ut&&ip(e,t,n))&&("**"===n.path||G_(e,n,t).matched)}function op(n,e,t){return 0===e.length&&!n.children[t]}const hm=!1;class fm{constructor(e){this.segmentGroup=e||null}}class pm{constructor(e){this.urlTree=e}}function sp(n){return Vf(new fm(n))}function xs(n){return Vf(new pm(n))}class gm{constructor(e,t,r,i,u){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=u,this.allowRedirects=!0}apply(){const e=dm(this.urlTree.root,[],[],this.config).segmentGroup,t=new qt(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,Ut).pipe((0,mt.U)(u=>this.createUrlTree(qf(u),this.urlTree.queryParams,this.urlTree.fragment))).pipe(ru(u=>{if(u instanceof pm)return this.allowRedirects=!1,this.match(u.urlTree);throw u instanceof fm?this.noMatchError(u):u}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,Ut).pipe((0,mt.U)(i=>this.createUrlTree(qf(i),e.queryParams,e.fragment))).pipe(ru(i=>{throw i instanceof fm?this.noMatchError(i):i}))}noMatchError(e){return new c.vHH(4002,hm)}createUrlTree(e,t,r){const i=w_(e);return new gl(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,mt.U)(u=>new qt([],u))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const u of Object.keys(r.children))"primary"===u?i.unshift(u):i.push(u);return(0,un.D)(i).pipe(nu(u=>{const d=r.children[u],m=tp(t,u);return this.expandSegmentGroup(e,m,d,u).pipe((0,mt.U)(w=>({segment:w,outlet:u})))}),jf((u,d)=>(u[d.outlet]=d.segment,u),{}),Tw())}expandSegment(e,t,r,i,u,d){return(0,un.D)(r).pipe(nu(m=>this.expandSegmentAgainstRoute(e,t,r,m,i,u,d).pipe(ru(D=>{if(D instanceof fm)return vt(null);throw D}))),tu(m=>!!m),ru((m,w)=>{if(j_(m))return op(t,i,u)?vt(new qt([],{})):sp(t);throw m}))}expandSegmentAgainstRoute(e,t,r,i,u,d,m){return kD(i,t,u,d)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,u,d):m&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,u,d):sp(t):sp(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,u,d){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,d):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,u,d)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const u=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?xs(u):this.lineralizeSegments(r,u).pipe((0,ki.z)(d=>{const m=new qt(d,{});return this.expandSegment(e,m,t,d,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,u,d){const{matched:m,consumedSegments:w,remainingSegments:D,positionalParamSegments:T}=G_(t,i,u);if(!m)return sp(t);const O=this.applyRedirectCommands(w,i.redirectTo,T);return i.redirectTo.startsWith("/")?xs(O):this.lineralizeSegments(i,O).pipe((0,ki.z)(U=>this.expandSegment(e,t,r,U.concat(D),d,!1)))}matchSegmentAgainstRoute(e,t,r,i,u){return"**"===r.path?(e=um(r,e),r.loadChildren?(r._loadedRoutes?vt({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe((0,mt.U)(m=>(r._loadedRoutes=m.routes,r._loadedInjector=m.injector,new qt(i,{})))):vt(new qt(i,{}))):uC(t,r,i,e).pipe(Hr(({matched:d,consumedSegments:m,remainingSegments:w})=>d?this.getChildConfig(e=r._injector??e,r,i).pipe((0,ki.z)(T=>{const O=T.injector??e,U=T.routes,{segmentGroup:Z,slicedSegments:se}=dm(t,m,w,U),Ie=new qt(Z.segments,Z.children);if(0===se.length&&Ie.hasChildren())return this.expandChildren(O,U,Ie).pipe((0,mt.U)(Ct=>new qt(m,Ct)));if(0===U.length&&0===se.length)return vt(new qt(m,{}));const Fe=Fi(r)===u;return this.expandSegment(O,Ie,U,se,Fe?Ut:u,!0).pipe((0,mt.U)(St=>new qt(m.concat(St.segments),St.children)))})):sp(t)))}getChildConfig(e,t,r){return t.children?vt({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?vt({routes:t._loadedRoutes,injector:t._loadedInjector}):function OD(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?vt(!0):vt(i.map(d=>{const m=bl(d,n);return hc(function iC(n){return n&&su(n.canLoad)}(m)?m.canLoad(e,t):n.runInContext(()=>m(e,t)))})).pipe(Qd(),aC())}(e,t,r).pipe((0,ki.z)(i=>i?this.configLoader.loadChildren(e,t).pipe((0,wi.b)(u=>{t._loadedRoutes=u.routes,t._loadedInjector=u.injector})):function Ci(n){return Vf(N_(hm,3))}())):vt({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return vt(r);if(i.numberOfChildren>1||!i.children[Ut])return e.redirectTo,Vf(new c.vHH(4e3,hm));i=i.children[Ut]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const u=this.createSegmentGroup(e,t.root,r,i);return new gl(u,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return ri(e,(i,u)=>{if("string"==typeof i&&i.startsWith(":")){const m=i.substring(1);r[u]=t[m]}else r[u]=i}),r}createSegmentGroup(e,t,r,i){const u=this.createSegments(e,t.segments,r,i);let d={};return ri(t.children,(m,w)=>{d[w]=this.createSegmentGroup(e,m,r,i)}),new qt(u,d)}createSegments(e,t,r,i){return t.map(u=>u.path.startsWith(":")?this.findPosParam(e,u,i):this.findOrReturn(u,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new c.vHH(4001,hm);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}class Jd{}class th{constructor(e,t,r,i,u,d,m){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=i,this.url=u,this.paramsInheritanceStrategy=d,this.urlSerializer=m}recognize(){const e=dm(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Ut).pipe((0,mt.U)(t=>{if(null===t)return null;const r=new Xf([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Ut,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Ds(r,t),u=new Qw(this.url,i);return this.inheritParamsAndData(u._root),u}))}inheritParamsAndData(e){const t=e.value,r=Kw(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i)}processChildren(e,t,r){return(0,un.D)(Object.keys(r.children)).pipe(nu(i=>{const u=r.children[i],d=tp(t,i);return this.processSegmentGroup(e,d,u,i)}),jf((i,u)=>i&&u?(i.push(...u),i):null),function Hd(n,e=!1){return(0,dr.e)((t,r)=>{let i=0;t.subscribe((0,gn.x)(r,u=>{const d=n(u,i++);(d||e)&&r.next(u),!d&&r.complete()}))})}(i=>null!==i),Wg(null),Tw(),(0,mt.U)(i=>{if(null===i)return null;const u=Dl(i);return function nh(n){n.sort((e,t)=>e.value.outlet===Ut?-1:t.value.outlet===Ut?1:e.value.outlet.localeCompare(t.value.outlet))}(u),u}))}processSegment(e,t,r,i,u){return(0,un.D)(t).pipe(nu(d=>this.processSegmentAgainstRoute(d._injector??e,d,r,i,u)),tu(d=>!!d),ru(d=>{if(j_(d))return op(r,i,u)?vt([]):vt(null);throw d}))}processSegmentAgainstRoute(e,t,r,i,u){if(t.redirectTo||!kD(t,r,i,u))return vt(null);let d;if("**"===t.path){const m=i.length>0?Yg(i).parameters:{},w=Z_(r)+i.length;d=vt({snapshot:new Xf(i,m,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,W_(t),Fi(t),t.component??t._loadedComponent??null,t,q_(r),w,K_(t)),consumedSegments:[],remainingSegments:[]})}else d=uC(r,t,i,e).pipe((0,mt.U)(({matched:m,consumedSegments:w,remainingSegments:D,parameters:T})=>{if(!m)return null;const O=Z_(r)+w.length;return{snapshot:new Xf(w,T,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,W_(t),Fi(t),t.component??t._loadedComponent??null,t,q_(r),O,K_(t)),consumedSegments:w,remainingSegments:D}}));return d.pipe(Hr(m=>{if(null===m)return vt(null);const{snapshot:w,consumedSegments:D,remainingSegments:T}=m;e=t._injector??e;const O=t._loadedInjector??e,U=function rh(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:Z,slicedSegments:se}=dm(r,D,T,U.filter(Fe=>void 0===Fe.redirectTo));if(0===se.length&&Z.hasChildren())return this.processChildren(O,U,Z).pipe((0,mt.U)(Fe=>null===Fe?null:[new Ds(w,Fe)]));if(0===U.length&&0===se.length)return vt([new Ds(w,[])]);const Ie=Fi(t)===u;return this.processSegment(O,U,Z,se,Ie?Ut:u).pipe((0,mt.U)(Fe=>null===Fe?null:[new Ds(w,Fe)]))}))}}function ih(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function Dl(n){const e=[],t=new Set;for(const r of n){if(!ih(r)){e.push(r);continue}const i=e.find(u=>r.value.routeConfig===u.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=Dl(r.children);e.push(new Ds(r.value,i))}return e.filter(r=>!t.has(r))}function q_(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Z_(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function W_(n){return n.data||{}}function K_(n){return n.resolve||{}}function Y_(n){return"string"==typeof n.title||null===n.title}function Q_(n){return Hr(e=>{const t=n(e);return t?(0,un.D)(t).pipe((0,mt.U)(()=>e)):vt(e)})}const vc=new c.OlP("ROUTES");let up=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,c.f3M)(c.Sil)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return vt(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=hc(t.loadComponent()).pipe((0,mt.U)(cp),(0,wi.b)(u=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=u}),p_(()=>{this.componentLoaders.delete(t)})),i=new Zg(r,()=>new dc.x).pipe(qg());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return vt({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const u=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe((0,mt.U)(m=>{this.onLoadEndListener&&this.onLoadEndListener(r);let w,D,T=!1;Array.isArray(m)?D=m:(w=m.create(t).injector,D=Mw(w.get(vc,[],c.XFs.Self|c.XFs.Optional)));return{routes:D.map(U_),injector:w}}),p_(()=>{this.childrenLoaders.delete(r)})),d=new Zg(u,()=>new dc.x).pipe(qg());return this.childrenLoaders.set(r,d),d}loadModuleFactoryOrRoutes(t){return hc(t()).pipe((0,mt.U)(cp),(0,ki.z)(r=>r instanceof c.YKP||Array.isArray(r)?vt(r):(0,un.D)(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function cp(n){return function UD(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let sh=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new dc.x,this.configLoader=(0,c.f3M)(up),this.environmentInjector=(0,c.f3M)(c.lqb),this.urlSerializer=(0,c.f3M)(Gd),this.rootContexts=(0,c.f3M)(ep),this.navigationId=0,this.afterPreactivation=()=>vt(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new qw(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new Kd(i))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t){return this.transitions=new jo({id:0,targetPageId:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Zf,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(ni(r=>0!==r.id),(0,mt.U)(r=>({...r,extractedUrl:t.urlHandlingStrategy.extract(r.rawUrl)})),Hr(r=>{let i=!1,u=!1;return vt(r).pipe((0,wi.b)(d=>{this.currentNavigation={id:d.id,initialUrl:d.rawUrl,extractedUrl:d.extractedUrl,trigger:d.source,extras:d.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Hr(d=>{const m=t.browserUrlTree.toString(),w=!t.navigated||d.extractedUrl.toString()!==m||m!==t.currentUrlTree.toString();if(!w&&"reload"!==(d.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const T="";return this.events.next(new Wf(d.id,t.serializeUrl(r.rawUrl),T,0)),t.rawUrlTree=d.rawUrl,d.resolve(null),ua.E}if(t.urlHandlingStrategy.shouldProcessUrl(d.rawUrl))return gC(d.source)&&(t.browserUrlTree=d.extractedUrl),vt(d).pipe(Hr(T=>{const O=this.transitions?.getValue();return this.events.next(new I_(T.id,this.urlSerializer.serialize(T.extractedUrl),T.source,T.restoredState)),O!==this.transitions?.getValue()?ua.E:Promise.resolve(T)}),function zo(n,e,t,r){return Hr(i=>function Il(n,e,t,r,i){return new gm(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe((0,mt.U)(u=>({...i,urlAfterRedirects:u}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,t.config),(0,wi.b)(T=>{this.currentNavigation={...this.currentNavigation,finalUrl:T.urlAfterRedirects},r.urlAfterRedirects=T.urlAfterRedirects}),function dC(n,e,t,r,i){return(0,ki.z)(u=>function eh(n,e,t,r,i,u,d="emptyOnly"){return new th(n,e,t,r,i,d,u).recognize().pipe(Hr(m=>null===m?function Xd(n){return new lr.y(e=>e.error(n))}(new Jd):vt(m)))}(n,e,t,u.urlAfterRedirects,r.serialize(u.urlAfterRedirects),r,i).pipe((0,mt.U)(d=>({...u,targetSnapshot:d}))))}(this.environmentInjector,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),(0,wi.b)(T=>{if(r.targetSnapshot=T.targetSnapshot,"eager"===t.urlUpdateStrategy){if(!T.extras.skipLocationChange){const U=t.urlHandlingStrategy.merge(T.urlAfterRedirects,T.rawUrl);t.setBrowserUrl(U,T)}t.browserUrlTree=T.urlAfterRedirects}const O=new D_(T.id,this.urlSerializer.serialize(T.extractedUrl),this.urlSerializer.serialize(T.urlAfterRedirects),T.targetSnapshot);this.events.next(O)}));if(w&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:T,extractedUrl:O,source:U,restoredState:Z,extras:se}=d,Ie=new I_(T,this.urlSerializer.serialize(O),U,Z);this.events.next(Ie);const Fe=Ww(O,this.rootComponentType).snapshot;return vt(r={...d,targetSnapshot:Fe,urlAfterRedirects:O,extras:{...se,skipLocationChange:!1,replaceUrl:!1}})}{const T="";return this.events.next(new Wf(d.id,t.serializeUrl(r.extractedUrl),T,1)),t.rawUrlTree=d.rawUrl,d.resolve(null),ua.E}}),(0,wi.b)(d=>{const m=new YS(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(m)}),(0,mt.U)(d=>r={...d,guards:nC(d.targetSnapshot,d.currentSnapshot,this.rootContexts)}),function TD(n,e){return(0,ki.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:u,canDeactivateChecks:d}}=t;return 0===d.length&&0===u.length?vt({...t,guardsResult:!0}):function SD(n,e,t,r){return(0,un.D)(n).pipe((0,ki.z)(i=>function H_(n,e,t,r,i){const u=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return u&&0!==u.length?vt(u.map(m=>{const w=yc(e)??i,D=bl(m,w);return hc(function xD(n){return n&&su(n.canDeactivate)}(D)?D.canDeactivate(n,e,t,r):w.runInContext(()=>D(n,e,t,r))).pipe(tu())})).pipe(Qd()):vt(!0)}(i.component,i.route,t,e,r)),tu(i=>!0!==i,!0))}(d,r,i,n).pipe((0,ki.z)(m=>m&&function ID(n){return"boolean"==typeof n}(m)?function AD(n,e,t,r){return(0,un.D)(e).pipe(nu(i=>eu(function sC(n,e){return null!==n&&e&&e(new fD(n)),vt(!0)}(i.route.parent,r),function MD(n,e){return null!==n&&e&&e(new pD(n)),vt(!0)}(i.route,r),function PD(n,e,t){const r=e[e.length-1],u=e.slice(0,e.length-1).reverse().map(d=>function rC(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(d)).filter(d=>null!==d).map(d=>Dw(()=>vt(d.guards.map(w=>{const D=yc(d.node)??t,T=bl(w,D);return hc(function DD(n){return n&&su(n.canActivateChild)}(T)?T.canActivateChild(r,n):D.runInContext(()=>T(r,n))).pipe(tu())})).pipe(Qd())));return vt(u).pipe(Qd())}(n,i.path,t),function $_(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return vt(!0);const i=r.map(u=>Dw(()=>{const d=yc(e)??t,m=bl(u,d);return hc(function oC(n){return n&&su(n.canActivate)}(m)?m.canActivate(e,n):d.runInContext(()=>m(e,n))).pipe(tu())}));return vt(i).pipe(Qd())}(n,i.route,t))),tu(i=>!0!==i,!0))}(r,u,n,e):vt(m)),(0,mt.U)(m=>({...t,guardsResult:m})))})}(this.environmentInjector,d=>this.events.next(d)),(0,wi.b)(d=>{if(r.guardsResult=d.guardsResult,ml(d.guardsResult))throw Xw(0,d.guardsResult);const m=new x_(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot,!!d.guardsResult);this.events.next(m)}),ni(d=>!!d.guardsResult||(t.restoreHistory(d),this.cancelNavigationTransition(d,"",3),!1)),Q_(d=>{if(d.guards.canActivateChecks.length)return vt(d).pipe((0,wi.b)(m=>{const w=new hD(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(w)}),Hr(m=>{let w=!1;return vt(m).pipe(function hC(n,e){return(0,ki.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return vt(t);let u=0;return(0,un.D)(i).pipe(nu(d=>function fC(n,e,t,r){const i=n.routeConfig,u=n._resolve;return void 0!==i?.title&&!Y_(i)&&(u[Hf]=i.title),function pC(n,e,t,r){const i=function LD(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return vt({});const u={};return(0,un.D)(i).pipe((0,ki.z)(d=>function VD(n,e,t,r){const i=yc(e)??r,u=bl(n,i);return hc(u.resolve?u.resolve(e,t):i.runInContext(()=>u(e,t)))}(n[d],e,t,r).pipe(tu(),(0,wi.b)(m=>{u[d]=m}))),fl(1),function $f(n){return(0,mt.U)(()=>n)}(u),ru(d=>j_(d)?ua.E:Vf(d)))}(u,n,e,r).pipe((0,mt.U)(d=>(n._resolvedData=d,n.data=Kw(n,t).resolve,i&&Y_(i)&&(n.data[Hf]=i.title),null)))}(d.route,r,n,e)),(0,wi.b)(()=>u++),fl(1),(0,ki.z)(d=>u===i.length?vt(t):ua.E))})}(t.paramsInheritanceStrategy,this.environmentInjector),(0,wi.b)({next:()=>w=!0,complete:()=>{w||(t.restoreHistory(m),this.cancelNavigationTransition(m,"",2))}}))}),(0,wi.b)(m=>{const w=new QS(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(w)}))}),Q_(d=>{const m=w=>{const D=[];w.routeConfig?.loadComponent&&!w.routeConfig._loadedComponent&&D.push(this.configLoader.loadComponent(w.routeConfig).pipe((0,wi.b)(T=>{w.component=T}),(0,mt.U)(()=>{})));for(const T of w.children)D.push(...m(T));return D};return zg(m(d.targetSnapshot.root)).pipe(Wg(),$d(1))}),Q_(()=>this.afterPreactivation()),(0,mt.U)(d=>{const m=function JS(n,e,t){const r=Cl(n,e._root,t?t._root:void 0);return new sm(r,e)}(t.routeReuseStrategy,d.targetSnapshot,d.currentRouterState);return r={...d,targetRouterState:m}}),(0,wi.b)(d=>{t.currentUrlTree=d.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(d.urlAfterRedirects,d.rawUrl),t.routerState=d.targetRouterState,"deferred"===t.urlUpdateStrategy&&(d.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,d),t.browserUrlTree=d.urlAfterRedirects)}),((n,e,t)=>(0,mt.U)(r=>(new B_(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,t.routeReuseStrategy,d=>this.events.next(d)),$d(1),(0,wi.b)({next:d=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new gc(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(d.targetRouterState.snapshot),d.resolve(!0)},complete:()=>{i=!0}}),p_(()=>{i||u||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),ru(d=>{if(u=!0,tC(d)){eC(d)||(t.navigated=!0,t.restoreHistory(r,!0));const m=new rm(r.id,this.urlSerializer.serialize(r.extractedUrl),d.message,d.cancellationCode);if(this.events.next(m),eC(d)){const w=t.urlHandlingStrategy.merge(d.url,t.rawUrlTree),D={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||gC(r.source)};t.scheduleNavigation(w,Zf,null,D,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{t.restoreHistory(r,!0);const m=new im(r.id,this.urlSerializer.serialize(r.extractedUrl),d,r.targetSnapshot??void 0);this.events.next(m);try{r.resolve(t.errorHandler(d))}catch(w){r.reject(w)}}return ua.E}))}))}cancelNavigationTransition(t,r,i){const u=new rm(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(u),t.resolve(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function gC(n){return n!==Zf}let ym=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(u=>u.outlet===Ut);return r}getResolvedTitleForRoute(t){return t.data[Hf]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return(0,c.f3M)(X_)},providedIn:"root"}),n})(),X_=(()=>{class n extends ym{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(lf))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),mC=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return(0,c.f3M)(ev)},providedIn:"root"}),n})();class yC{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let ev=(()=>{class n extends yC{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(n)))(r||n)}}(),n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const lp=new c.OlP("",{providedIn:"root",factory:()=>({})});let tv=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return(0,c.f3M)(vC)},providedIn:"root"}),n})(),vC=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function wC(n){throw n}function CC(n,e,t){return e.parse("/")}const bC={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},EC={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ii=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,c.f3M)(c.c2e),this.isNgZoneEnabled=!1,this.options=(0,c.f3M)(lp,{optional:!0})||{},this.errorHandler=this.options.errorHandler||wC,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||CC,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,c.f3M)(tv),this.routeReuseStrategy=(0,c.f3M)(mC),this.urlCreationStrategy=(0,c.f3M)(om),this.titleStrategy=(0,c.f3M)(ym),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=Mw((0,c.f3M)(vc,{optional:!0})??[]),this.navigationTransitions=(0,c.f3M)(sh),this.urlSerializer=(0,c.f3M)(Gd),this.location=(0,c.f3M)(Ue),this.isNgZoneEnabled=(0,c.f3M)(c.R0b)instanceof c.R0b&&c.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new gl,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Ww(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId??0},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Zf,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,i){const u={replaceUrl:!0},d=i?.navigationId?i:null;if(i){const w={...i};delete w.navigationId,delete w.\u0275routerPageId,0!==Object.keys(w).length&&(u.state=w)}const m=this.parseUrl(t);this.scheduleNavigation(m,r,d,u)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(t){this.config=t.map(U_),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:u,fragment:d,queryParamsHandling:m,preserveFragment:w}=r,D=w?this.currentUrlTree.fragment:d;let T=null;switch(m){case"merge":T={...this.currentUrlTree.queryParams,...u};break;case"preserve":T=this.currentUrlTree.queryParams;break;default:T=u||null}return null!==T&&(T=this.removeEmptyProps(T)),this.urlCreationStrategy.createUrlTree(i,this.routerState,this.currentUrlTree,t,T,D??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=ml(t)?t:this.parseUrl(t),u=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(u,Zf,null,r)}navigate(t,r={skipLocationChange:!1}){return function BD(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new c.vHH(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...bC}:!1===r?{...EC}:r,ml(t))return Ow(this.currentUrlTree,t,i);const u=this.parseUrl(t);return Ow(this.currentUrlTree,u,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const u=t[i];return null!=u&&(r[i]=u),r},{})}scheduleNavigation(t,r,i,u,d){if(this.disposed)return Promise.resolve(!1);let m,w,D,T;return d?(m=d.resolve,w=d.reject,D=d.promise):D=new Promise((O,U)=>{m=O,w=U}),T="computed"===this.canceledNavigationResolution?i&&i.\u0275routerPageId?i.\u0275routerPageId:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:T,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:u,resolve:m,reject:w,promise:D,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),D.catch(O=>Promise.reject(O))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const d={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",d)}else{const u={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.go(i,"",u)}}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const u=this.currentPageId-(this.browserPageId??this.currentPageId);0!==u?this.location.historyGo(u):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===u&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ts=(()=>{class n{constructor(t,r,i,u,d,m){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=u,this.el=d,this.locationStrategy=m,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new dc.x;const w=d.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===w||"area"===w,this.isAnchorElement?this.subscription=t.events.subscribe(D=>{D instanceof gc&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(t){this._preserveFragment=(0,c.D6c)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,c.D6c)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,c.D6c)(t)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,r,i,u,d){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||r||i||u||d||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:(0,c.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,r){const i=this.renderer,u=this.el.nativeElement;null!==r?i.setAttribute(u,t,r):i.removeAttribute(u,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(ii),c.Y36(mc),c.$8M("tabindex"),c.Y36(c.Qsj),c.Y36(c.SBq),c.Y36(lt))},n.\u0275dir=c.lG2({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(t,r){1&t&&c.NdJ("click",function(u){return r.onClick(u.button,u.ctrlKey,u.shiftKey,u.altKey,u.metaKey)}),2&t&&c.uIk("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[c.TTD]}),n})();class iv{}let IC=(()=>{class n{constructor(t,r,i,u,d){this.router=t,this.injector=i,this.preloadingStrategy=u,this.loader=d}setUpPreloading(){this.subscription=this.router.events.pipe(ni(t=>t instanceof gc),nu(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const u of r){u.providers&&!u._injector&&(u._injector=(0,c.MMx)(u.providers,t,`Route: ${u.path}`));const d=u._injector??t,m=u._loadedInjector??d;(u.loadChildren&&!u._loadedRoutes&&void 0===u.canLoad||u.loadComponent&&!u._loadedComponent)&&i.push(this.preloadConfig(d,u)),(u.children||u._loadedRoutes)&&i.push(this.processRoutes(m,u.children??u._loadedRoutes))}return(0,un.D)(i).pipe((0,Bd.J)())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):vt(null);const u=i.pipe((0,ki.z)(d=>null===d?vt(void 0):(r._loadedRoutes=d.routes,r._loadedInjector=d.injector,this.processRoutes(d.injector??t,d.routes))));if(r.loadComponent&&!r._loadedComponent){const d=this.loader.loadComponent(r);return(0,un.D)([u,d]).pipe((0,Bd.J)())}return u})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ii),c.LFG(c.Sil),c.LFG(c.lqb),c.LFG(iv),c.LFG(up))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const vm=new c.OlP("");let ov=(()=>{class n{constructor(t,r,i,u,d={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=u,this.options=d,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},d.scrollPositionRestoration=d.scrollPositionRestoration||"disabled",d.anchorScrolling=d.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof I_?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof gc&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Kf&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Kf(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(t){c.$Z()},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();var eo=(()=>((eo=eo||{})[eo.COMPLETE=0]="COMPLETE",eo[eo.FAILED=1]="FAILED",eo[eo.REDIRECTING=2]="REDIRECTING",eo))();const au=!1;function wc(n,e){return{\u0275kind:n,\u0275providers:e}}const dp=new c.OlP("",{providedIn:"root",factory:()=>!1});function wm(){const n=(0,c.f3M)(c.zs3);return e=>{const t=n.get(c.z2F);if(e!==t.components[0])return;const r=n.get(ii),i=n.get(HD);1===n.get(SC)&&r.initialNavigation(),n.get(MC,null,c.XFs.Optional)?.setUpPreloading(),n.get(vm,null,c.XFs.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const HD=new c.OlP(au?"bootstrap done indicator":"",{factory:()=>new dc.x}),SC=new c.OlP(au?"initial navigation":"",{providedIn:"root",factory:()=>1});function AC(){let n=[];return n=au?[{provide:c.Xts,multi:!0,useFactory:()=>{const e=(0,c.f3M)(ii);return()=>e.events.subscribe(t=>{console.group?.(`Router Event: ${t.constructor.name}`),console.log(function Yd(n){if(!("type"in n))return`Unknown Router Event: ${n.constructor.name}`;switch(n.type){case 14:return`ActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state}, shouldActivate: ${n.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 2:return`NavigationCancel(id: ${n.id}, url: '${n.url}')`;case 16:return`NavigationSkipped(id: ${n.id}, url: '${n.url}')`;case 1:return`NavigationEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${n.id}, url: '${n.url}', error: ${n.error})`;case 0:return`NavigationStart(id: ${n.id}, url: '${n.url}')`;case 6:return`ResolveEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 5:return`ResolveStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 10:return`RouteConfigLoadEnd(path: ${n.route.path})`;case 9:return`RouteConfigLoadStart(path: ${n.route.path})`;case 4:return`RoutesRecognized(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 15:return`Scroll(anchor: '${n.anchor}', position: '${n.position?`${n.position[0]}, ${n.position[1]}`:null}')`}}(t)),console.log(t),console.groupEnd?.()})}}]:[],wc(1,n)}const MC=new c.OlP(au?"router preloader":"");function Pr(n){return wc(0,[{provide:MC,useExisting:IC},{provide:iv,useExisting:n}])}const ah=!1,sv=new c.OlP(ah?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),PC=[Ue,{provide:Gd,useClass:m_},ii,ep,{provide:mc,useFactory:function xC(n){return n.routerState.root},deps:[ii]},up,ah?{provide:dp,useValue:!0}:[]];function uh(){return new c.PXZ("Router",ii)}let av=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[PC,ah&&r?.enableTracing?AC().\u0275providers:[],{provide:vc,multi:!0,useValue:t},{provide:sv,useFactory:RC,deps:[[ii,new c.FiY,new c.tp0]]},{provide:lp,useValue:r||{}},r?.useHash?{provide:lt,useClass:Me}:{provide:lt,useClass:Ae},{provide:vm,useFactory:()=>{const n=(0,c.f3M)(wa),e=(0,c.f3M)(c.R0b),t=(0,c.f3M)(lp),r=(0,c.f3M)(sh),i=(0,c.f3M)(Gd);return t.scrollOffset&&n.setOffset(t.scrollOffset),new ov(i,r,n,e,t)}},r?.preloadingStrategy?Pr(r.preloadingStrategy).\u0275providers:[],{provide:c.PXZ,multi:!0,useFactory:uh},r?.initialNavigation?lA(r):[],[{provide:uv,useFactory:wm},{provide:c.tb,multi:!0,useExisting:uv}]]}}static forChild(t){return{ngModule:n,providers:[{provide:vc,multi:!0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(sv,8))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Ho]}),n})();function RC(n){if(ah&&n)throw new c.vHH(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function lA(n){return["disabled"===n.initialNavigation?wc(3,[{provide:c.ip1,multi:!0,useFactory:()=>{const e=(0,c.f3M)(ii);return()=>{e.setUpLocationChangeListener()}}},{provide:SC,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?wc(2,[{provide:SC,useValue:0},{provide:c.ip1,multi:!0,deps:[c.zs3],useFactory:e=>{const t=e.get(le,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const i=e.get(ii),u=e.get(HD);(function DC(n,e){n.events.pipe(ni(t=>t instanceof gc||t instanceof rm||t instanceof im||t instanceof Wf),(0,mt.U)(t=>t instanceof gc||t instanceof Wf?eo.COMPLETE:t instanceof rm&&(0===t.code||1===t.code)?eo.REDIRECTING:eo.FAILED),ni(t=>t!==eo.REDIRECTING),$d(1)).subscribe(()=>{e()})})(i,()=>{r(!0)}),e.get(sh).afterPreactivation=()=>(r(!0),u.closed?vt(void 0):u),i.initialNavigation()}))}}]).\u0275providers:[]]}const uv=new c.OlP(ah?"Router Initializer":"");let KD=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-pagenotfound"]],decls:23,vars:0,consts:[["href","https://codepen.io/uiswarup/full/yLzypyY","target","_blank"],[1,"top-header"],[1,"starsec"],[1,"starthird"],[1,"starfourth"],[1,"starfifth"],[1,"lamp__wrap"],[1,"lamp"],[1,"cable"],[1,"cover"],[1,"in-cover"],[1,"bulb"],[1,"light"],[1,"error"],[1,"error__content"],[1,"error__message","message"],[1,"message__title"],[1,"message__text"],[1,"error__nav","e-nav"],["href","","routerLink","/",1,"e-nav__link"]],template:function(t,r){1&t&&(c.TgZ(0,"a",0),c._UZ(1,"header",1),c.TgZ(2,"div"),c._UZ(3,"div",2)(4,"div",3)(5,"div",4)(6,"div",5),c.qZA(),c.TgZ(7,"div",6)(8,"div",7),c._UZ(9,"div",8)(10,"div",9),c.TgZ(11,"div",10),c._UZ(12,"div",11),c.qZA(),c._UZ(13,"div",12),c.qZA()(),c.TgZ(14,"section",13)(15,"div",14)(16,"div",15)(17,"h1",16),c._uU(18,"Page Not Found"),c.qZA(),c.TgZ(19,"p",17),c._uU(20," We're sorry, the page you were looking for isn't found here. The link you followed may either be broken or no longer exists. Please try again, or take a look at our. "),c.qZA()(),c.TgZ(21,"div",18),c._UZ(22,"a",19),c.qZA()()()())},dependencies:[Ts],styles:['*[_ngcontent-%COMP%]{margin:0;padding:0;-webkit-text-size-adjust:none}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%;overflow:hidden}body[_ngcontent-%COMP%]{padding:0;margin:0;background:#181828;font-size:14px;line-height:1}label[_ngcontent-%COMP%]{cursor:pointer}a[_ngcontent-%COMP%]{margin:0;padding:0;vertical-align:baseline;background:transparent;text-decoration:none;color:#000}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%], button[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{margin:0;font-size:100%}html[_ngcontent-%COMP%], div[_ngcontent-%COMP%], span[_ngcontent-%COMP%], applet[_ngcontent-%COMP%], object[_ngcontent-%COMP%], iframe[_ngcontent-%COMP%], h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%], p[_ngcontent-%COMP%], blockquote[_ngcontent-%COMP%], pre[_ngcontent-%COMP%], a[_ngcontent-%COMP%], abbr[_ngcontent-%COMP%], acronym[_ngcontent-%COMP%], address[_ngcontent-%COMP%], big[_ngcontent-%COMP%], cite[_ngcontent-%COMP%], code[_ngcontent-%COMP%], del[_ngcontent-%COMP%], dfn[_ngcontent-%COMP%], em[_ngcontent-%COMP%], font[_ngcontent-%COMP%], img[_ngcontent-%COMP%], ins[_ngcontent-%COMP%], kbd[_ngcontent-%COMP%], q[_ngcontent-%COMP%], s[_ngcontent-%COMP%], samp[_ngcontent-%COMP%], small[_ngcontent-%COMP%], strike[_ngcontent-%COMP%], strong[_ngcontent-%COMP%], sub[_ngcontent-%COMP%], sup[_ngcontent-%COMP%], tt[_ngcontent-%COMP%], var[_ngcontent-%COMP%], b[_ngcontent-%COMP%], u[_ngcontent-%COMP%], i[_ngcontent-%COMP%], center[_ngcontent-%COMP%], dl[_ngcontent-%COMP%], dt[_ngcontent-%COMP%], dd[_ngcontent-%COMP%], ol[_ngcontent-%COMP%], ul[_ngcontent-%COMP%], li[_ngcontent-%COMP%], fieldset[_ngcontent-%COMP%], form[_ngcontent-%COMP%], label[_ngcontent-%COMP%], legend[_ngcontent-%COMP%], table[_ngcontent-%COMP%], caption[_ngcontent-%COMP%], tbody[_ngcontent-%COMP%], tfoot[_ngcontent-%COMP%], thead[_ngcontent-%COMP%], tr[_ngcontent-%COMP%], th[_ngcontent-%COMP%], td[_ngcontent-%COMP%], input[_ngcontent-%COMP%]{border:0;outline:0;font-size:100%;vertical-align:baseline;background:transparent}.top-header[_ngcontent-%COMP%]:before{background-image:url(https://1.bp.blogspot.com/-gxsOcYWghHA/Xp_izTh4sFI/AAAAAAAAU8s/y637Fwg99qAuzW9na_NT_uApny8Vce95gCEwYBhgL/s1600/header-footer-gradient-bg.png)}.top-header[_ngcontent-%COMP%]:before{content:"";display:block;width:100%;height:4px;background-repeat:repeat-x;background-size:contain;position:absolute;top:0;left:0;opacity:.5}.starsec[_ngcontent-%COMP%]{content:" ";position:absolute;width:3px;height:3px;background:transparent;box-shadow:571px 173px #00bcd4,1732px 143px #00bcd4,1745px 454px #ff5722,234px 784px #00bcd4,1793px 1123px #ff9800,1076px 504px #03a9f4,633px 601px #ff5722,350px 630px #ffeb3b,1164px 782px #00bcd4,76px 690px #3f51b5,1825px 701px #cddc39,1646px 578px #ffeb3b,544px 293px #2196f3,445px 1061px #673ab7,928px 47px #00bcd4,168px 1410px #8bc34a,777px 782px #9c27b0,1235px 1941px #9c27b0,104px 1690px #8bc34a,1167px 1338px #e91e63,345px 1652px #009688,1682px 1196px #f44336,1995px 494px #8bc34a,428px 798px #ff5722,340px 1623px #f44336,605px 349px #9c27b0,1339px 1344px #673ab7,1102px 1745px #3f51b5,1592px 1676px #2196f3,419px 1024px #ff9800,630px 1033px #4caf50,1995px 1644px #00bcd4,1092px 712px #9c27b0,1355px 606px #f44336,622px 1881px #cddc39,1481px 621px #9e9e9e,19px 1348px #8bc34a,864px 1780px #e91e63,442px 1136px #2196f3,67px 712px #ff5722,89px 1406px #f44336,275px 321px #009688,592px 630px #e91e63,1012px 1690px #9c27b0,1749px 23px #673ab7,94px 1542px #ffeb3b,1201px 1657px #3f51b5,1505px 692px #2196f3,1799px 601px #03a9f4,656px 811px #00bcd4,701px 597px #00bcd4,1202px 46px #ff5722,890px 569px #ff5722,1613px 813px #2196f3,223px 252px #ff9800,983px 1093px #f44336,726px 1029px #ffc107,1764px 778px #cddc39,622px 1643px #f44336,174px 1559px #673ab7,212px 517px #00bcd4,340px 505px #fff,1700px 39px #fff,1768px 516px #f44336,849px 391px #ff9800,228px 1824px #fff,1119px 1680px #ffc107,812px 1480px #3f51b5,1438px 1585px #cddc39,137px 1397px #fff,1080px 456px #673ab7,1208px 1437px #03a9f4,857px 281px #f44336,1254px 1306px #cddc39,987px 990px #4caf50,1655px 911px #00bcd4,1102px 1216px #ff5722,1807px 1044px #fff,660px 435px #03a9f4,299px 678px #4caf50,1193px 115px #ff9800,918px 290px #cddc39,1447px 1422px #ffeb3b,91px 1273px #9c27b0,108px 223px #ffeb3b,146px 754px #00bcd4,461px 1446px #ff5722,1004px 391px #673ab7,1529px 516px #f44336,1206px 845px #cddc39,347px 583px #009688,1102px 1332px #f44336,709px 1756px #00bcd4,1972px 248px #fff,1669px 1344px #ff5722,1132px 406px #f44336,320px 1076px #cddc39,126px 943px #ffeb3b,263px 604px #ff5722,1546px 692px #f44336;animation:_ngcontent-%COMP%_animStar 150s linear infinite}.starthird[_ngcontent-%COMP%]{content:" ";position:absolute;width:3px;height:3px;background:transparent;box-shadow:571px 173px #00bcd4,1732px 143px #00bcd4,1745px 454px #ff5722,234px 784px #00bcd4,1793px 1123px #ff9800,1076px 504px #03a9f4,633px 601px #ff5722,350px 630px #ffeb3b,1164px 782px #00bcd4,76px 690px #3f51b5,1825px 701px #cddc39,1646px 578px #ffeb3b,544px 293px #2196f3,445px 1061px #673ab7,928px 47px #00bcd4,168px 1410px #8bc34a,777px 782px #9c27b0,1235px 1941px #9c27b0,104px 1690px #8bc34a,1167px 1338px #e91e63,345px 1652px #009688,1682px 1196px #f44336,1995px 494px #8bc34a,428px 798px #ff5722,340px 1623px #f44336,605px 349px #9c27b0,1339px 1344px #673ab7,1102px 1745px #3f51b5,1592px 1676px #2196f3,419px 1024px #ff9800,630px 1033px #4caf50,1995px 1644px #00bcd4,1092px 712px #9c27b0,1355px 606px #f44336,622px 1881px #cddc39,1481px 621px #9e9e9e,19px 1348px #8bc34a,864px 1780px #e91e63,442px 1136px #2196f3,67px 712px #ff5722,89px 1406px #f44336,275px 321px #009688,592px 630px #e91e63,1012px 1690px #9c27b0,1749px 23px #673ab7,94px 1542px #ffeb3b,1201px 1657px #3f51b5,1505px 692px #2196f3,1799px 601px #03a9f4,656px 811px #00bcd4,701px 597px #00bcd4,1202px 46px #ff5722,890px 569px #ff5722,1613px 813px #2196f3,223px 252px #ff9800,983px 1093px #f44336,726px 1029px #ffc107,1764px 778px #cddc39,622px 1643px #f44336,174px 1559px #673ab7,212px 517px #00bcd4,340px 505px #fff,1700px 39px #fff,1768px 516px #f44336,849px 391px #ff9800,228px 1824px #fff,1119px 1680px #ffc107,812px 1480px #3f51b5,1438px 1585px #cddc39,137px 1397px #fff,1080px 456px #673ab7,1208px 1437px #03a9f4,857px 281px #f44336,1254px 1306px #cddc39,987px 990px #4caf50,1655px 911px #00bcd4,1102px 1216px #ff5722,1807px 1044px #fff,660px 435px #03a9f4,299px 678px #4caf50,1193px 115px #ff9800,918px 290px #cddc39,1447px 1422px #ffeb3b,91px 1273px #9c27b0,108px 223px #ffeb3b,146px 754px #00bcd4,461px 1446px #ff5722,1004px 391px #673ab7,1529px 516px #f44336,1206px 845px #cddc39,347px 583px #009688,1102px 1332px #f44336,709px 1756px #00bcd4,1972px 248px #fff,1669px 1344px #ff5722,1132px 406px #f44336,320px 1076px #cddc39,126px 943px #ffeb3b,263px 604px #ff5722,1546px 692px #f44336;animation:_ngcontent-%COMP%_animStar 10s linear infinite}.starfourth[_ngcontent-%COMP%]{content:" ";position:absolute;width:2px;height:2px;background:transparent;box-shadow:571px 173px #00bcd4,1732px 143px #00bcd4,1745px 454px #ff5722,234px 784px #00bcd4,1793px 1123px #ff9800,1076px 504px #03a9f4,633px 601px #ff5722,350px 630px #ffeb3b,1164px 782px #00bcd4,76px 690px #3f51b5,1825px 701px #cddc39,1646px 578px #ffeb3b,544px 293px #2196f3,445px 1061px #673ab7,928px 47px #00bcd4,168px 1410px #8bc34a,777px 782px #9c27b0,1235px 1941px #9c27b0,104px 1690px #8bc34a,1167px 1338px #e91e63,345px 1652px #009688,1682px 1196px #f44336,1995px 494px #8bc34a,428px 798px #ff5722,340px 1623px #f44336,605px 349px #9c27b0,1339px 1344px #673ab7,1102px 1745px #3f51b5,1592px 1676px #2196f3,419px 1024px #ff9800,630px 1033px #4caf50,1995px 1644px #00bcd4,1092px 712px #9c27b0,1355px 606px #f44336,622px 1881px #cddc39,1481px 621px #9e9e9e,19px 1348px #8bc34a,864px 1780px #e91e63,442px 1136px #2196f3,67px 712px #ff5722,89px 1406px #f44336,275px 321px #009688,592px 630px #e91e63,1012px 1690px #9c27b0,1749px 23px #673ab7,94px 1542px #ffeb3b,1201px 1657px #3f51b5,1505px 692px #2196f3,1799px 601px #03a9f4,656px 811px #00bcd4,701px 597px #00bcd4,1202px 46px #ff5722,890px 569px #ff5722,1613px 813px #2196f3,223px 252px #ff9800,983px 1093px #f44336,726px 1029px #ffc107,1764px 778px #cddc39,622px 1643px #f44336,174px 1559px #673ab7,212px 517px #00bcd4,340px 505px #fff,1700px 39px #fff,1768px 516px #f44336,849px 391px #ff9800,228px 1824px #fff,1119px 1680px #ffc107,812px 1480px #3f51b5,1438px 1585px #cddc39,137px 1397px #fff,1080px 456px #673ab7,1208px 1437px #03a9f4,857px 281px #f44336,1254px 1306px #cddc39,987px 990px #4caf50,1655px 911px #00bcd4,1102px 1216px #ff5722,1807px 1044px #fff,660px 435px #03a9f4,299px 678px #4caf50,1193px 115px #ff9800,918px 290px #cddc39,1447px 1422px #ffeb3b,91px 1273px #9c27b0,108px 223px #ffeb3b,146px 754px #00bcd4,461px 1446px #ff5722,1004px 391px #673ab7,1529px 516px #f44336,1206px 845px #cddc39,347px 583px #009688,1102px 1332px #f44336,709px 1756px #00bcd4,1972px 248px #fff,1669px 1344px #ff5722,1132px 406px #f44336,320px 1076px #cddc39,126px 943px #ffeb3b,263px 604px #ff5722,1546px 692px #f44336;animation:_ngcontent-%COMP%_animStar 50s linear infinite}.starfifth[_ngcontent-%COMP%]{content:" ";position:absolute;width:1px;height:1px;background:transparent;box-shadow:571px 173px #00bcd4,1732px 143px #00bcd4,1745px 454px #ff5722,234px 784px #00bcd4,1793px 1123px #ff9800,1076px 504px #03a9f4,633px 601px #ff5722,350px 630px #ffeb3b,1164px 782px #00bcd4,76px 690px #3f51b5,1825px 701px #cddc39,1646px 578px #ffeb3b,544px 293px #2196f3,445px 1061px #673ab7,928px 47px #00bcd4,168px 1410px #8bc34a,777px 782px #9c27b0,1235px 1941px #9c27b0,104px 1690px #8bc34a,1167px 1338px #e91e63,345px 1652px #009688,1682px 1196px #f44336,1995px 494px #8bc34a,428px 798px #ff5722,340px 1623px #f44336,605px 349px #9c27b0,1339px 1344px #673ab7,1102px 1745px #3f51b5,1592px 1676px #2196f3,419px 1024px #ff9800,630px 1033px #4caf50,1995px 1644px #00bcd4,1092px 712px #9c27b0,1355px 606px #f44336,622px 1881px #cddc39,1481px 621px #9e9e9e,19px 1348px #8bc34a,864px 1780px #e91e63,442px 1136px #2196f3,67px 712px #ff5722,89px 1406px #f44336,275px 321px #009688,592px 630px #e91e63,1012px 1690px #9c27b0,1749px 23px #673ab7,94px 1542px #ffeb3b,1201px 1657px #3f51b5,1505px 692px #2196f3,1799px 601px #03a9f4,656px 811px #00bcd4,701px 597px #00bcd4,1202px 46px #ff5722,890px 569px #ff5722,1613px 813px #2196f3,223px 252px #ff9800,983px 1093px #f44336,726px 1029px #ffc107,1764px 778px #cddc39,622px 1643px #f44336,174px 1559px #673ab7,212px 517px #00bcd4,340px 505px #fff,1700px 39px #fff,1768px 516px #f44336,849px 391px #ff9800,228px 1824px #fff,1119px 1680px #ffc107,812px 1480px #3f51b5,1438px 1585px #cddc39,137px 1397px #fff,1080px 456px #673ab7,1208px 1437px #03a9f4,857px 281px #f44336,1254px 1306px #cddc39,987px 990px #4caf50,1655px 911px #00bcd4,1102px 1216px #ff5722,1807px 1044px #fff,660px 435px #03a9f4,299px 678px #4caf50,1193px 115px #ff9800,918px 290px #cddc39,1447px 1422px #ffeb3b,91px 1273px #9c27b0,108px 223px #ffeb3b,146px 754px #00bcd4,461px 1446px #ff5722,1004px 391px #673ab7,1529px 516px #f44336,1206px 845px #cddc39,347px 583px #009688,1102px 1332px #f44336,709px 1756px #00bcd4,1972px 248px #fff,1669px 1344px #ff5722,1132px 406px #f44336,320px 1076px #cddc39,126px 943px #ffeb3b,263px 604px #ff5722,1546px 692px #f44336;animation:_ngcontent-%COMP%_animStar 80s linear infinite}@keyframes _ngcontent-%COMP%_animStar{0%{transform:translateY(0)}to{transform:translateY(-2000px)}}button[_ngcontent-%COMP%]{border:none;padding:0;font-size:0;line-height:0;background:none;cursor:pointer}[_ngcontent-%COMP%]:focus{outline:0}.clearfix[_ngcontent-%COMP%]:before, .clearfix[_ngcontent-%COMP%]:after{content:" ";display:block;height:0;visibility:hidden}.clearfix[_ngcontent-%COMP%]:after{clear:both}.clearfix[_ngcontent-%COMP%]{zoom:1}.error[_ngcontent-%COMP%]{min-height:100vh;position:relative;padding:240px 0;box-sizing:border-box;width:100%;height:100%;text-align:center;margin-top:70px}.error__overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;overflow:hidden}.error__content[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;width:100%;transform:translate(-50%,-50%)}.error__message[_ngcontent-%COMP%]{text-align:center;color:#181828}.message__title[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-weight:900;text-transform:uppercase;letter-spacing:5px;font-size:5.6rem;padding-bottom:40px;max-width:960px;margin:0 auto}.message__text[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;line-height:42px;font-size:18px;padding:0 60px;max-width:680px;margin:auto}.error__nav[_ngcontent-%COMP%]{max-width:600px;margin:40px auto 0;text-align:center}.e-nav__form[_ngcontent-%COMP%]{position:relative;height:45px;overflow:hidden;width:170px;display:inline-block;vertical-align:top;border:1px solid #212121;padding-left:10px;padding-right:46px}.e-nav__icon[_ngcontent-%COMP%]{position:absolute;right:15px;top:50%;transform:translateY(-50%);color:#212121;transition:color .25s ease}.e-nav__link[_ngcontent-%COMP%]{height:45px;line-height:45px;width:170px;display:inline-block;vertical-align:top;margin:0 15px;border:1px solid #181828;color:#181828;text-decoration:none;font-family:Montserrat,sans-serif;text-transform:uppercase;font-size:11px;letter-spacing:.1rem;position:relative;overflow:hidden}.e-nav__link[_ngcontent-%COMP%]:before{content:"";height:200px;background:#212121;position:absolute;top:70px;right:70px;width:260px;transition:all .3s;transform:rotate(50deg)}.e-nav__link[_ngcontent-%COMP%]:after{transition:all .3s;z-index:999;position:relative}.e-nav__link[_ngcontent-%COMP%]:after{content:"Home Page"}.e-nav__link[_ngcontent-%COMP%]:hover:before{top:-60px;right:-50px}.e-nav__link[_ngcontent-%COMP%]:hover{color:#fff}.e-nav__link[_ngcontent-%COMP%]:nth-child(2):hover:after{color:#fff}.error__social[_ngcontent-%COMP%]{position:absolute;top:50%;transform:translateY(-50%);left:20px;z-index:10}.e-social__list[_ngcontent-%COMP%]{margin:0;padding:0;list-style-type:none}.e-social__icon[_ngcontent-%COMP%]{padding-bottom:30px}.e-social__icon[_ngcontent-%COMP%]:last-child{padding-bottom:0}.e-social__link[_ngcontent-%COMP%]{color:#fff;transition:all .25s ease;display:block}.e-social__link[_ngcontent-%COMP%]:hover{opacity:.7}.lamp[_ngcontent-%COMP%]{position:absolute;left:0;right:0;top:0;margin:0 auto;width:300px;display:flex;flex-direction:column;align-items:center;transform-origin:center top;animation-timing-function:cubic-bezier(.6,0,.38,1);animation:_ngcontent-%COMP%_move 5.1s infinite}@keyframes _ngcontent-%COMP%_move{0%{transform:rotate(40deg)}50%{transform:rotate(-40deg)}to{transform:rotate(40deg)}}.cable[_ngcontent-%COMP%]{width:8px;height:248px;background-image:linear-gradient(rgba(32,148,218,.7),rgb(193,65,25)),linear-gradient(rgba(0,0,0,.7),rgba(0,0,0,.7)),linear-gradient(rgba(0,0,0,.7),rgba(0,0,0,.7))}.cover[_ngcontent-%COMP%]{width:200px;height:80px;background:#0bd5e8;border-top-left-radius:50%;border-top-right-radius:50%;position:relative;z-index:200}.in-cover[_ngcontent-%COMP%]{width:100%;max-width:200px;height:20px;border-radius:100%;background:#08ffff;position:absolute;left:0;right:0;margin:0 auto;bottom:-9px;z-index:100}.in-cover[_ngcontent-%COMP%]   .bulb[_ngcontent-%COMP%]{width:50px;height:50px;background-color:#08fffa;border-radius:50%;position:absolute;left:0;right:0;bottom:-20px;margin:0 auto;box-shadow:0 0 25px 7px #7fffffcc,0 0 64px 47px #00ffff80,0 0 30px 15px #0ff3}.light[_ngcontent-%COMP%]{width:200px;height:0px;border-bottom:900px solid rgba(44,255,255,.24);border-left:50px solid transparent;border-right:50px solid transparent;position:absolute;left:0;right:0;top:270px;margin:0 auto;z-index:1;border-radius:90px 90px 0 0}.error[_ngcontent-%COMP%]{overflow:hidden;max-height:100vh}@media (max-width: 1400px){.lamp[_ngcontent-%COMP%]{zoom:.5}.error__content[_ngcontent-%COMP%]{top:55%}.message__title[_ngcontent-%COMP%]{font-size:3.5rem}}@media (max-width: 900px){.message__title[_ngcontent-%COMP%]{font-size:34px}.error__content[_ngcontent-%COMP%]{top:55%}}@media (max-width: 950px){.lamp__wrap[_ngcontent-%COMP%]{max-height:100vh;overflow:hidden;max-width:100vw}.error__social[_ngcontent-%COMP%]{bottom:30px;top:auto;transform:none;width:100%;position:fixed;left:0}.e-social__icon[_ngcontent-%COMP%]{display:inline-block;padding-right:30px}.e-social__icon[_ngcontent-%COMP%]:last-child{padding-right:0}.e-social__icon[_ngcontent-%COMP%]{padding-bottom:0}}@media (max-width: 750px){body[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{max-height:100vh}.error__content[_ngcontent-%COMP%]{position:static;margin:0 auto;transform:none;padding-top:300px}.error[_ngcontent-%COMP%]{padding-top:0;padding-bottom:100px;height:100vh}}@media (max-width: 650px){.message__title[_ngcontent-%COMP%]{font-size:36px;padding-bottom:20px}.message__text[_ngcontent-%COMP%]{font-size:16px;line-height:2;padding-right:20px;padding-left:20px}.lamp[_ngcontent-%COMP%]{zoom:.6}.error__content[_ngcontent-%COMP%]{padding-top:180px}}@media (max-width: 480px){.message__title[_ngcontent-%COMP%]{font-size:30px}.message__text[_ngcontent-%COMP%]{padding-left:10px;padding-right:10px;font-size:15px}.error__nav[_ngcontent-%COMP%]{margin-top:20px}}']}),n})();const hp_baseApi="https://fakestoreapi.com/";class yo{}class _o{}class Or{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),u=i.toLowerCase(),d=t.slice(r+1).trim();this.maybeSetNormalizedName(i,u),this.headers.has(u)?this.headers.get(u).push(d):this.headers.set(u,[d])}})}:()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{let i;if(i="string"==typeof r?[r]:"number"==typeof r?[r.toString()]:r.map(u=>u.toString()),i.length>0){const u=t.toLowerCase();this.headers.set(u,i),this.maybeSetNormalizedName(t,u)}})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Or?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Or;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Or?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const u=e.value;if(u){let d=this.headers.get(t);if(!d)return;d=d.filter(m=>-1===u.indexOf(m)),0===d.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,d)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class NC{encodeKey(e){return kC(e)}encodeValue(e){return kC(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const JD=/%(\d[a-f0-9])/gi,XD={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function kC(n){return encodeURIComponent(n).replace(JD,(e,t)=>XD[t]??e)}function ch(n){return`${n}`}class Go{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new NC,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function QD(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const u=i.indexOf("="),[d,m]=-1==u?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,u)),e.decodeValue(i.slice(u+1))],w=t.get(d)||[];w.push(m),t.set(d,w)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t],i=Array.isArray(r)?r.map(ch):[ch(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(u=>{t.push({param:r,value:u,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Go({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(ch(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(ch(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class FC{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function LC(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function lv(n){return typeof Blob<"u"&&n instanceof Blob}function dv(n){return typeof FormData<"u"&&n instanceof FormData}class fp{constructor(e,t,r,i){let u;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function ex(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,u=i):u=r,u&&(this.reportProgress=!!u.reportProgress,this.withCredentials=!!u.withCredentials,u.responseType&&(this.responseType=u.responseType),u.headers&&(this.headers=u.headers),u.context&&(this.context=u.context),u.params&&(this.params=u.params)),this.headers||(this.headers=new Or),this.context||(this.context=new FC),this.params){const d=this.params.toString();if(0===d.length)this.urlWithParams=t;else{const m=t.indexOf("?");this.urlWithParams=t+(-1===m?"?":m<t.length-1?"&":"")+d}}else this.params=new Go,this.urlWithParams=t}serializeBody(){return null===this.body?null:LC(this.body)||lv(this.body)||dv(this.body)||function Cm(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Go?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||dv(this.body)?null:lv(this.body)?this.body.type||null:LC(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Go?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,u=void 0!==e.body?e.body:this.body,d=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,m=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let w=e.headers||this.headers,D=e.params||this.params;const T=e.context??this.context;return void 0!==e.setHeaders&&(w=Object.keys(e.setHeaders).reduce((O,U)=>O.set(U,e.setHeaders[U]),w)),e.setParams&&(D=Object.keys(e.setParams).reduce((O,U)=>O.set(U,e.setParams[U]),D)),new fp(t,r,u,{params:D,headers:w,context:T,reportProgress:m,responseType:i,withCredentials:d})}}var hr=(()=>((hr=hr||{})[hr.Sent=0]="Sent",hr[hr.UploadProgress=1]="UploadProgress",hr[hr.ResponseHeader=2]="ResponseHeader",hr[hr.DownloadProgress=3]="DownloadProgress",hr[hr.Response=4]="Response",hr[hr.User=5]="User",hr))();class bm{constructor(e,t=200,r="OK"){this.headers=e.headers||new Or,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class pp extends bm{constructor(e={}){super(e),this.type=hr.ResponseHeader}clone(e={}){return new pp({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Al extends bm{constructor(e={}){super(e),this.type=hr.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new Al({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class hv extends bm{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function Em(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let Im=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let u;if(t instanceof fp)u=t;else{let w,D;w=i.headers instanceof Or?i.headers:new Or(i.headers),i.params&&(D=i.params instanceof Go?i.params:new Go({fromObject:i.params})),u=new fp(t,r,void 0!==i.body?i.body:null,{headers:w,context:i.context,params:D,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const d=vt(u).pipe(nu(w=>this.handler.handle(w)));if(t instanceof fp||"events"===i.observe)return d;const m=d.pipe(ni(w=>w instanceof Al));switch(i.observe||"body"){case"body":switch(u.responseType){case"arraybuffer":return m.pipe((0,mt.U)(w=>{if(null!==w.body&&!(w.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return w.body}));case"blob":return m.pipe((0,mt.U)(w=>{if(null!==w.body&&!(w.body instanceof Blob))throw new Error("Response is not a Blob.");return w.body}));case"text":return m.pipe((0,mt.U)(w=>{if(null!==w.body&&"string"!=typeof w.body)throw new Error("Response is not a string.");return w.body}));default:return m.pipe((0,mt.U)(w=>w.body))}case"response":return m;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new Go).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,Em(i,r))}post(t,r,i={}){return this.request("POST",t,Em(i,r))}put(t,r,i={}){return this.request("PUT",t,Em(i,r))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(yo))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function fv(n,e){return e(n)}function VC(n,e){return(t,r)=>e.intercept(t,{handle:i=>n(i,r)})}const BC=new c.OlP("HTTP_INTERCEPTORS"),lh=new c.OlP("HTTP_INTERCEPTOR_FNS");function tx(){let n=null;return(e,t)=>(null===n&&(n=((0,c.f3M)(BC,{optional:!0})??[]).reduceRight(VC,fv)),n(e,t))}let jC=(()=>{class n extends yo{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null}handle(t){if(null===this.chain){const r=Array.from(new Set(this.injector.get(lh)));this.chain=r.reduceRight((i,u)=>function UC(n,e,t){return(r,i)=>t.runInContext(()=>e(r,u=>n(u,i)))}(i,u,this.injector),fv)}return this.chain(t,r=>this.backend.handle(r))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(_o),c.LFG(c.lqb))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const ox=/^\)\]\}',?\n/;let HC=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new lr.y(r=>{const i=this.xhrFactory.build();if(i.open(t.method,t.urlWithParams),t.withCredentials&&(i.withCredentials=!0),t.headers.forEach((Z,se)=>i.setRequestHeader(Z,se.join(","))),t.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const Z=t.detectContentTypeHeader();null!==Z&&i.setRequestHeader("Content-Type",Z)}if(t.responseType){const Z=t.responseType.toLowerCase();i.responseType="json"!==Z?Z:"text"}const u=t.serializeBody();let d=null;const m=()=>{if(null!==d)return d;const Z=i.statusText||"OK",se=new Or(i.getAllResponseHeaders()),Ie=function sx(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(i)||t.url;return d=new pp({headers:se,status:i.status,statusText:Z,url:Ie}),d},w=()=>{let{headers:Z,status:se,statusText:Ie,url:Fe}=m(),rt=null;204!==se&&(rt=typeof i.response>"u"?i.responseText:i.response),0===se&&(se=rt?200:0);let St=se>=200&&se<300;if("json"===t.responseType&&"string"==typeof rt){const Ct=rt;rt=rt.replace(ox,"");try{rt=""!==rt?JSON.parse(rt):null}catch(Gt){rt=Ct,St&&(St=!1,rt={error:Gt,text:rt})}}St?(r.next(new Al({body:rt,headers:Z,status:se,statusText:Ie,url:Fe||void 0})),r.complete()):r.error(new hv({error:rt,headers:Z,status:se,statusText:Ie,url:Fe||void 0}))},D=Z=>{const{url:se}=m(),Ie=new hv({error:Z,status:i.status||0,statusText:i.statusText||"Unknown Error",url:se||void 0});r.error(Ie)};let T=!1;const O=Z=>{T||(r.next(m()),T=!0);let se={type:hr.DownloadProgress,loaded:Z.loaded};Z.lengthComputable&&(se.total=Z.total),"text"===t.responseType&&i.responseText&&(se.partialText=i.responseText),r.next(se)},U=Z=>{let se={type:hr.UploadProgress,loaded:Z.loaded};Z.lengthComputable&&(se.total=Z.total),r.next(se)};return i.addEventListener("load",w),i.addEventListener("error",D),i.addEventListener("timeout",D),i.addEventListener("abort",D),t.reportProgress&&(i.addEventListener("progress",O),null!==u&&i.upload&&i.upload.addEventListener("progress",U)),i.send(u),r.next({type:hr.Sent}),()=>{i.removeEventListener("error",D),i.removeEventListener("abort",D),i.removeEventListener("load",w),i.removeEventListener("timeout",D),t.reportProgress&&(i.removeEventListener("progress",O),null!==u&&i.upload&&i.upload.removeEventListener("progress",U)),i.readyState!==i.DONE&&i.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Ca))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const pv=new c.OlP("XSRF_ENABLED"),gv=new c.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),mv=new c.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class yv{}let GC=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Qo(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(re),c.LFG(c.Lbi),c.LFG(gv))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function qC(n,e){const t=n.url.toLowerCase();if(!(0,c.f3M)(pv)||"GET"===n.method||"HEAD"===n.method||t.startsWith("http://")||t.startsWith("https://"))return e(n);const r=(0,c.f3M)(yv).getToken(),i=(0,c.f3M)(mv);return null!=r&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}var Jn=(()=>((Jn=Jn||{})[Jn.Interceptors=0]="Interceptors",Jn[Jn.LegacyInterceptors=1]="LegacyInterceptors",Jn[Jn.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",Jn[Jn.NoXsrfProtection=3]="NoXsrfProtection",Jn[Jn.JsonpSupport=4]="JsonpSupport",Jn[Jn.RequestsMadeViaParent=5]="RequestsMadeViaParent",Jn))();function Ml(n,e){return{\u0275kind:n,\u0275providers:e}}function ZC(...n){const e=[Im,HC,jC,{provide:yo,useExisting:jC},{provide:_o,useExisting:HC},{provide:lh,useValue:qC,multi:!0},{provide:pv,useValue:!0},{provide:yv,useClass:GC}];for(const t of n)e.push(...t.\u0275providers);return(0,c.MR2)(e)}const Cc=new c.OlP("LEGACY_INTERCEPTOR_FN");let KC=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[ZC(Ml(Jn.LegacyInterceptors,[{provide:Cc,useFactory:tx},{provide:lh,useExisting:Cc,multi:!0}]))]}),n})(),It=(()=>{class n{constructor(t){this._HttpClient=t}ngOnInit(){}getAllProducts(){return this._HttpClient.get(hp_baseApi+"products")}getAllCategories(){return this._HttpClient.get(hp_baseApi+"products/categories")}getProductsByCategory(t){return this._HttpClient.get(hp_baseApi+"products/category/"+t)}getProductById(t){return this._HttpClient.get(hp_baseApi+"products/"+t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Im))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),YC=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-spin"]],decls:11,vars:0,consts:[[1,"lds-grid"]],template:function(t,r){1&t&&(c.TgZ(0,"div")(1,"div",0),c._UZ(2,"div")(3,"div")(4,"div")(5,"div")(6,"div")(7,"div")(8,"div")(9,"div")(10,"div"),c.qZA()())},styles:[".lds-grid[_ngcontent-%COMP%]{display:inline-block;position:relative;width:80px;height:80px}.lds-grid[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{position:absolute;width:16px;height:16px;border-radius:50%;background:#1c1c50;animation:_ngcontent-%COMP%_lds-grid 1.2s linear infinite}.lds-grid[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(1){top:8px;left:8px;animation-delay:0s}.lds-grid[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(2){top:8px;left:32px;animation-delay:-.4s}.lds-grid[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(3){top:8px;left:56px;animation-delay:-.8s}.lds-grid[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(4){top:32px;left:8px;animation-delay:-.4s}.lds-grid[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(5){top:32px;left:32px;animation-delay:-.8s}.lds-grid[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(6){top:32px;left:56px;animation-delay:-1.2s}.lds-grid[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(7){top:56px;left:8px;animation-delay:-.8s}.lds-grid[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(8){top:56px;left:32px;animation-delay:-1.2s}.lds-grid[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(9){top:56px;left:56px;animation-delay:-1.6s}@keyframes _ngcontent-%COMP%_lds-grid{0%,to{opacity:1}50%{opacity:.5}}"]}),n})();function hx(n,e){if(1&n&&(c.TgZ(0,"div",19)(1,"div",20),c._UZ(2,"img",21),c.TgZ(3,"div",22)(4,"h5",23),c._uU(5),c.qZA(),c.TgZ(6,"div",24)(7,"p"),c._uU(8),c.qZA()(),c.TgZ(9,"p")(10,"strong"),c._uU(11),c.TgZ(12,"del"),c._uU(13,"$250"),c.qZA()()()()()()),2&n){const t=e.$implicit;c.xp6(1),c.MGl("routerLink","/details/",t.id,""),c.xp6(1),c.s9C("src",t.image,c.LSH),c.xp6(3),c.Oqu(t.title),c.xp6(3),c.hij(" ",t.description," "),c.xp6(3),c.hij("$",t.price," ")}}function fx(n,e){if(1&n&&(c.TgZ(0,"div",27)(1,"div",28),c._UZ(2,"img",21),c.TgZ(3,"div",29)(4,"div",30)(5,"h3"),c._uU(6),c.qZA()(),c._UZ(7,"br"),c.TgZ(8,"div",31),c._UZ(9,"i",32)(10,"i",32)(11,"i",32)(12,"i",32)(13,"i",32),c.qZA(),c.TgZ(14,"h5"),c._uU(15),c.TgZ(16,"del"),c._uU(17,"$250"),c.qZA()()()()()),2&n){const t=e.$implicit;c.xp6(1),c.MGl("routerLink","/details/",t.id,""),c.xp6(1),c.s9C("src",t.image,c.LSH),c.xp6(4),c.Oqu(t.title),c.xp6(9),c.hij(" $",t.price," ")}}function dh(n,e){if(1&n&&(c.TgZ(0,"div",25),c.YNc(1,fx,18,4,"div",26),c.qZA()),2&n){const t=c.oxw();c.xp6(1),c.Q6J("ngForOf",t.firstFourProducts)}}function px(n,e){if(1&n&&(c.TgZ(0,"div",34)(1,"div",28),c._UZ(2,"img",21),c.TgZ(3,"div",29)(4,"div",30)(5,"h3"),c._uU(6),c.qZA()(),c._UZ(7,"br"),c.TgZ(8,"div",31),c._UZ(9,"i",32)(10,"i",32)(11,"i",32)(12,"i",32)(13,"i",32),c.qZA(),c.TgZ(14,"h5"),c._uU(15),c.TgZ(16,"del"),c._uU(17,"$250"),c.qZA(),c._UZ(18,"span"),c.qZA()()()()),2&n){const t=e.$implicit;c.xp6(1),c.MGl("routerLink","/details/",t.id,""),c.xp6(1),c.s9C("src",t.image,c.LSH),c.xp6(4),c.Oqu(t.title),c.xp6(9),c.hij(" $",t.price," ")}}function Dm(n,e){if(1&n&&(c.TgZ(0,"div",25),c.YNc(1,px,19,4,"div",33),c.qZA()),2&n){const t=c.oxw();c.xp6(1),c.Q6J("ngForOf",t.secondFourProduct)}}function xm(n,e){1&n&&(c.TgZ(0,"div",35),c._UZ(1,"app-spin"),c.qZA())}let Xn=(()=>{class n{constructor(t){this.prodSer=t,this.thressProducts=[],this.firstFourProducts=[],this.secondFourProduct=[],this.loading=!1}ngOnInit(){this.getProducts()}getProducts(){this.loading=!0,this.prodSer.getAllProducts().subscribe(t=>{this.thressProducts=t.slice(0,3),this.firstFourProducts=t.slice(3,7),this.secondFourProduct=t.slice(7,11),this.loading=!1},t=>{this.loading=!1,alert(t)})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(It))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-card"]],decls:48,vars:4,consts:[["id","top-cards",1,"container"],[1,"row"],["class","col-md-4 py-3 py-md-0 item",4,"ngFor","ngForOf"],[1,"banner"],[1,"content"],["id","bannerbtn"],["id","product-cards",1,"container"],[1,"text-center"],["class","row","style","margin-top: 30px",4,"ngIf"],["class","text-center w-100",4,"ngIf"],["href","clothe.html","id","viewmorebtn"],[1,"container",2,"margin-top","100px"],[1,"container"],[2,"font-weight","bold"],["id","offer",1,"container"],[1,"col-md-4","col-sm-4","col-xs-6","py-md-0"],[1,"fa-solid","fa-cart-shopping"],[1,"fa-solid","fa-truck"],[1,"fa-solid","fa-thumbs-up"],[1,"col-md-4","py-3","py-md-0","item"],[1,"card",2,"background-color","#a9a9a926",3,"routerLink"],[3,"src"],[1,"card-img-overlay"],[1,"card-title"],[1,"desc"],[1,"row",2,"margin-top","30px"],["class","col-lg-3 col-md-6 py-3 py-md-0 mt-3",4,"ngFor","ngForOf"],[1,"col-lg-3","col-md-6","py-3","py-md-0","mt-3"],[1,"card",3,"routerLink"],[1,"card-body"],[1,"title"],[1,"star"],[1,"fas","fa-star","checked"],["class","col-lg-3 col-md-6 py-3 py-md-0",4,"ngFor","ngForOf"],[1,"col-lg-3","col-md-6","py-3","py-md-0"],[1,"text-center","w-100"]],template:function(t,r){1&t&&(c.TgZ(0,"div",0)(1,"div",1),c.YNc(2,hx,14,5,"div",2),c.qZA()(),c.TgZ(3,"div",3)(4,"div",4)(5,"h1"),c._uU(6,"Get Up To 50% Off"),c.qZA(),c.TgZ(7,"p"),c._uU(8," Lorem ipsum dolor sit, amet consectetur adipisicing elit. Esse, illum! "),c.qZA(),c.TgZ(9,"div",5)(10,"button"),c._uU(11,"SHOP NOW"),c.qZA()()()(),c.TgZ(12,"div",6)(13,"h1",7),c._uU(14,"PRODUCT"),c.qZA(),c.YNc(15,dh,2,1,"div",8),c.YNc(16,Dm,2,1,"div",8),c.YNc(17,xm,2,0,"div",9),c.TgZ(18,"a",10),c._uU(19,"View More"),c.qZA()(),c.TgZ(20,"div",11),c._UZ(21,"hr"),c.qZA(),c.TgZ(22,"div",12)(23,"h3",13),c._uU(24,"PRODUCT"),c.qZA(),c.TgZ(25,"p"),c._uU(26," Lorem ipsum dolor sit amet consectetur adipisicing elit. Mollitia recusandae voluptas veritatis distinctio laudantium minima ipsam quibusdam nesciunt omnis deleniti rerum, debitis velit quis cumque autem? Unde voluptatem magnam autem odio, natus consequuntur, inventore officia voluptate ipsam, ut eum aspernatur cupiditate reiciendis labore quis nesciunt. Porro facere, obcaecati ab magnam voluptatibus inventore! Nam eum ex fugit est facilis! Quo corrupti incidunt, autem aperiam nulla eius ab vel delectus esse nihil ea possimus quasi tenetur aut voluptate soluta, iure labore est iusto voluptates alias rem. Natus laudantium distinctio ea, nesciunt iure dolor illum quibusdam iste, accusamus dolore voluptas fuga nobis sequi! "),c.qZA(),c._UZ(27,"hr"),c.qZA(),c.TgZ(28,"div",14)(29,"div",1)(30,"div",15),c._UZ(31,"i",16),c.TgZ(32,"h5"),c._uU(33,"Free Shopping"),c.qZA(),c.TgZ(34,"p"),c._uU(35,"On order Over $100"),c.qZA()(),c.TgZ(36,"div",15),c._UZ(37,"i",17),c.TgZ(38,"h5"),c._uU(39,"Fast Delivery"),c.qZA(),c.TgZ(40,"p"),c._uU(41,"World wide"),c.qZA()(),c.TgZ(42,"div",15),c._UZ(43,"i",18),c.TgZ(44,"h5"),c._uU(45,"Big Choice"),c.qZA(),c.TgZ(46,"p"),c._uU(47,"Of product"),c.qZA()()()()),2&t&&(c.xp6(2),c.Q6J("ngForOf",r.thressProducts),c.xp6(13),c.Q6J("ngIf",!r.loading),c.xp6(1),c.Q6J("ngIf",!r.loading),c.xp6(1),c.Q6J("ngIf",r.loading))},dependencies:[xo,Kr,Ts,YC],styles:["#top-cards[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{position:relative;transition:all .5s ease-in;height:60vh;cursor:pointer}#top-cards[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:block;width:100%;height:60vh}#top-cards[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-img-overlay[_ngcontent-%COMP%]{color:#fff;position:absolute;inset:0;height:100%;width:100%;opacity:0;visibility:none;transition:.5s ease;background-color:#393839}#top-cards[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:hover   .card-img-overlay[_ngcontent-%COMP%]{opacity:.8}#top-cards[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{color:#010132;font-weight:700;font-size:30px}.banner[_ngcontent-%COMP%]{width:100%;height:auto;padding:30px;margin-top:50px;background-image:linear-gradient(rgba(0,0,0,.5),rgba(0,0,0,.5)),url(banner.ecc41c3378aba5c0.jpg)}.banner[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{text-align:center;padding-top:100px}.banner[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], .banner[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff;text-shadow:1px 1px 1px black;letter-spacing:3px}.bannerbtn[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:150px;height:38px;background:transparent;color:#fff;border:2px solid white;transition:.5s ease;cursor:pointer}#bannerbtn[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#1c1c50;border:none}#product.cards[_ngcontent-%COMP%]{font-family:Roboto,serif;margin-top:100px}#product-cards[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{box-shadow:#64646f33 0 7px 29px;height:auto;transition:transform .2s ease}#product-cards[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:hover{transform:scale(1.1);cursor:pointer}#product-cards[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin-top:30px;color:#1c1c50;text-shadow:1px 1px 1px black}#product-cards[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{height:100px;overflow:hidden}#product-cards[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{letter-spacing:3px;color:#1c1c50;text-shadow:0px 1px 1px black;font-weight:700}#product-cards[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{float:right;color:#1c1c50;cursor:pointer}.checked[_ngcontent-%COMP%]{color:#ff0}#product-cards[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:250px;object-fit:contain}#viewmorebtn[_ngcontent-%COMP%]{display:flex;justify-content:center;margin:30px auto auto;text-decoration:none;width:200px;height:32px;color:#1c1c50;letter-spacing:5px;font-weight:700;background:transparent;border:2px solid #1c1c50}#viewmorebtn[_ngcontent-%COMP%]:hover{background-color:#1c1c50;color:#fff}#offer[_ngcontent-%COMP%]{margin-top:50px;margin-right:10px}#offer[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:60px;color:#1c1c50}"]}),n})(),wA=(()=>{class n{constructor(t){this.prodSer=t}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(It))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-home"]],decls:15,vars:0,consts:[[1,"home"],[1,"content"],["id","shopnow"],[1,"img"],["src","../../../assets/shoe1.png"]],template:function(t,r){1&t&&(c.TgZ(0,"section",0)(1,"div",1)(2,"h3"),c._uU(3,"Biggest Clothe Sale "),c._UZ(4,"br"),c.TgZ(5,"span"),c._uU(6,"Up To 50% off"),c.qZA()(),c.TgZ(7,"p"),c._uU(8," Lorem, ipsum dolor sit amet consectetur adipisicing elit. Omnis fugit molestiae suscipit, iste illum sit? "),c.qZA(),c.TgZ(9,"button",2),c._uU(10,"Shop Now"),c.qZA(),c._UZ(11,"br"),c.qZA(),c.TgZ(12,"div",3),c._UZ(13,"img",4),c.qZA()(),c._UZ(14,"app-card"))},dependencies:[Xn],styles:[".home[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;flex-wrap:wrap;position:relative;z-index:0;font-family:Roboto Slab,serif}.home[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]{flex:1 1 400px}.home[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.home[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{flex:1 1 400px;margin-top:30px}.content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-left:70px;font-size:50px;text-shadow:1px 1px 1px black;color:#1c1c50;font-weight:700}.content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:40px}.content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-left:70px;color:#1c1c50}.content[_ngcontent-%COMP%]   #shopnow[_ngcontent-%COMP%]{margin-left:70px;width:200px;height:38px;border:2px solid #1c1c1c;font-weight:700;transition:.5s ease;cursor:pointer}.content[_ngcontent-%COMP%]   #shopnow[_ngcontent-%COMP%]:hover{background-color:#1c1c50;color:#fff}@media screen and (max-width: 800px){.content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-left:50px;font-size:40px}.content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .content[_ngcontent-%COMP%]   #shopnow[_ngcontent-%COMP%]{margin-left:50px}}@media screen and (max-width: 570px){.content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .content[_ngcontent-%COMP%]   #shopnow[_ngcontent-%COMP%]{margin-left:20px}}@media screen and (max-width: 799px){.home[_ngcontent-%COMP%]{height:150vh}}@media screen and (max-width: 550px){.home[_ngcontent-%COMP%]{height:100vh}}"]}),n})(),QC=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-about"]],decls:30,vars:0,consts:[["id","about",1,"container"],[1,"row",2,"margin-top","50px"],[1,"col-md-6","py-md-0"],[1,"card"],["src","../../../assets/about.jpg","height","400px"],["id","offer",1,"container"],[1,"row"],[1,"col-md-4","py-md-0"],[1,"fa-solid","fa-cart-shopping"],[1,"fa-solid","fa-truck"],[1,"fa-solid","fa-thumbs-up"]],template:function(t,r){1&t&&(c.TgZ(0,"div",0)(1,"h1"),c._uU(2,"ABOUT US"),c.qZA(),c.TgZ(3,"div",1)(4,"div",2)(5,"div",3),c._UZ(6,"img",4),c.qZA()(),c.TgZ(7,"div",2)(8,"p"),c._uU(9," Lorem ipsum dolor sit, amet consectetur adipisicing elit. Vitae consequatur aperiam ipsum omnis odit adipisci nisi, quidem iste accusantium. Voluptates ratione praesentium officiis aliquid dolorum laboriosam hic perferendis, repellat aspernatur ad ex earum voluptatum quibusdam doloremque illum aliquam unde voluptate! Aspernatur adipisci dolorem doloremque voluptate amet ullam dolorum culpa? Eum! Lorem ipsum dolor sit, amet consectetur adipisicing elit. Vitae consequatur aperiam ipsum omnis odit adipisci nisi, quidem iste accusantium. Voluptates ratione praesentium officiis aliquid dolorum laboriosam hic perferendis, repellat aspernatur ad ex earum voluptatum quibusdam doloremque illum aliquam unde voluptate! Aspernatur adipisci dolorem doloremque voluptate amet ullam dolorum culpa? Eum! "),c.qZA()()()(),c.TgZ(10,"div",5)(11,"div",6)(12,"div",7),c._UZ(13,"i",8),c.TgZ(14,"h5"),c._uU(15,"Free Shopping"),c.qZA(),c.TgZ(16,"p"),c._uU(17,"On order Over $100"),c.qZA()(),c.TgZ(18,"div",7),c._UZ(19,"i",9),c.TgZ(20,"h5"),c._uU(21,"Fast Delivery"),c.qZA(),c.TgZ(22,"p"),c._uU(23,"World wide"),c.qZA()(),c.TgZ(24,"div",7),c._UZ(25,"i",10),c.TgZ(26,"h5"),c._uU(27,"Big Choice"),c.qZA(),c.TgZ(28,"p"),c._uU(29,"Of product"),c.qZA()()()())},styles:["#about[_ngcontent-%COMP%]{margin-top:50px}#about[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{text-align:center;font-weight:700;color:#1c1c50}#offer[_ngcontent-%COMP%]{margin-top:50px}#offer[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:60px;color:#1c1c50}"]}),n})(),JC=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-contact"]],decls:34,vars:0,consts:[["id","contact",1,"container"],[1,"text-center"],[1,"row",2,"margin-top","50px"],[1,"col-md-4","py-3","py-md-0"],[1,"card"],[1,"fas","fa-phone"],[1,"fa-solid","fa-envelope"],[1,"fa-solid","fa-location-dot"],[1,"row",2,"margin-top","30px"],["type","text","placeholder","Name",1,"form-control"],["type","text","placeholder","Email",1,"form-control"],["type","number","placeholder","Phone",1,"form-control"],[1,"form-group",2,"margin-top","30ox"],["id","","rows","5","placeholder","Message",1,"form-control"],["id","messagebtn",1,"text-center"]],template:function(t,r){1&t&&(c.TgZ(0,"div",0)(1,"h1",1),c._uU(2,"CONTACT US"),c.qZA(),c.TgZ(3,"div",2)(4,"div",3)(5,"div",4)(6,"i",5),c._uU(7,"Phone"),c.qZA(),c.TgZ(8,"h6"),c._uU(9,"01151193187"),c.qZA()()(),c.TgZ(10,"div",3)(11,"div",4)(12,"i",6),c._uU(13,"Email"),c.qZA(),c.TgZ(14,"h6"),c._uU(15,"bishogamal6@gmail.com"),c.qZA()()(),c.TgZ(16,"div",3)(17,"div",4)(18,"i",7),c._uU(19,"Address"),c.qZA(),c.TgZ(20,"h6"),c._uU(21,"Egypt, Assiut"),c.qZA()()()(),c.TgZ(22,"div",8)(23,"div",3),c._UZ(24,"input",9),c.qZA(),c.TgZ(25,"div",3),c._UZ(26,"input",10),c.qZA(),c.TgZ(27,"div",3),c._UZ(28,"input",11),c.qZA(),c.TgZ(29,"div",12),c._UZ(30,"textarea",13),c.qZA(),c.TgZ(31,"div",14)(32,"button"),c._uU(33,"Message"),c.qZA()()()())},styles:["#contact[_ngcontent-%COMP%]{margin-top:50px}#contact[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#1c1c50;text-shadow:0px 0px 0px black}#contact[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{height:80px;margin-top:20px;box-shadow:#64646f33 0 7px 29px}#contact[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-top:10px;margin-left:10px;font-size:15px;color:#1c1c50;font-weight:700;letter-spacing:3px}#contact[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{margin-left:10px;margin-top:10px;letter-spacing:3px;font-weight:700;color:#1c1c50}textarea[_ngcontent-%COMP%]{margin-top:30px}#messagebtn[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:30px;width:200px;height:33px;background:transparent;border:2px solid #1c1c50;color:#1c1c50;font-weight:700;letter-spacing:3px;transition:.5s ease}#messagebtn[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#1c1c50;color:#fff}"]}),n})();var gx=k(6451),mp=k(5363),XC=k(6063);class eb extends dc.x{constructor(e=1/0,t=1/0,r=XC.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:u,_windowTime:d}=this;t||(r.push(e),!i&&r.push(u.now()+d)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,u=i.slice();for(let d=0;d<u.length&&!e.closed;d+=r?1:2)e.next(u[d]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,u=(i?1:2)*e;if(e<1/0&&u<r.length&&r.splice(0,r.length-u),!i){const d=t.now();let m=0;for(let w=1;w<r.length&&r[w]<=d;w+=2)m=w;m&&r.splice(0,m+1)}}}var tb=k(3099);function nb(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=n??1/0,(0,tb.B)({connector:()=>new eb(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function rb(n,e){return(0,jd.m)(e)?Hr(()=>n,e):Hr(()=>n)}var _v=k(9468),er=k(4976),qo=k(2011);k(259);var ye=k(5861),hh=k(6881),vv=k(4859),mn=k(2090),Pl=k(1877);const Pm=new Map,_p={activated:!1,tokenObservers:[]},bx={initialized:!1,enabled:!1};function tr(n){return Pm.get(n)||Object.assign({},_p)}function bc(){return bx}const wv="https://content-firebaseappcheck.googleapis.com/v1",Dx="exchangeDebugToken",xx={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class ab{constructor(e,t,r,i,u){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=u,this.pending=null,this.nextErrorWaitInterval=i,i>u)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,ye.Z)(function*(){t.stop();try{t.pending=new mn.BH,yield function Sx(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new mn.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const fr=new mn.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Nm(n,e){return km.apply(this,arguments)}function km(){return(km=(0,ye.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){const O=yield i.getHeartbeatsHeader();O&&(r["X-Firebase-Client"]=O)}const u={method:"POST",body:JSON.stringify(e),headers:r};let d,m;try{d=yield fetch(n,u)}catch(O){throw fr.create("fetch-network-error",{originalErrorMessage:O?.message})}if(200!==d.status)throw fr.create("fetch-status-error",{httpStatus:d.status});try{m=yield d.json()}catch(O){throw fr.create("fetch-parse-error",{originalErrorMessage:O?.message})}const w=m.ttl.match(/^([\d.]+)(s)$/);if(!w||!w[2]||isNaN(Number(w[1])))throw fr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${m.ttl}`});const D=1e3*Number(w[1]),T=Date.now();return{token:m.token,expireTimeMillis:T+D,issuedAtTimeMillis:T}})).apply(this,arguments)}const cb="firebase-app-check-database",lb=1,wp="firebase-app-check-store";let Fm=null;function fb(n,e){return Ev.apply(this,arguments)}function Ev(){return(Ev=(0,ye.Z)(function*(n,e){const r=(yield function Lm(){return Fm||(Fm=new Promise((n,e)=>{try{const t=indexedDB.open(cb,lb);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(fr.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(wp,{keyPath:"compositeKey"})}}catch(t){e(fr.create("storage-open",{originalErrorMessage:t?.message}))}}),Fm)}()).transaction(wp,"readwrite"),u=r.objectStore(wp).put({compositeKey:n,value:e});return new Promise((d,m)=>{u.onsuccess=w=>{d()},r.onerror=w=>{var D;m(fr.create("storage-set",{originalErrorMessage:null===(D=w.target.error)||void 0===D?void 0:D.message}))}})})).apply(this,arguments)}const Cp=new Pl.Yd("@firebase/app-check");function Dv(n,e){return(0,mn.hl)()?function hb(n,e){return fb(function gb(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Cp.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function Tv(){return Sv.apply(this,arguments)}function Sv(){return(Sv=(0,ye.Z)(function*(){const n=bc();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Mv={error:"UNKNOWN_ERROR"};function yb(n){return mn.US.encodeString(JSON.stringify(n),!1)}function fh(n){return Pv.apply(this,arguments)}function Pv(){return(Pv=(0,ye.Z)(function*(n,e=!1){const t=n.app;!function Rm(n){if(!tr(n).activated)throw fr.create("use-before-activation",{appName:n.name})}(t);const r=tr(t);let u,i=r.token;if(i&&!Ep(i)&&(r.token=void 0,i=void 0),!i){const w=yield r.cachedTokenPromise;w&&(Ep(w)?i=w:yield Dv(t,void 0))}if(!e&&i&&Ep(i))return{token:i.token};let m,d=!1;if(function xv(){return bc().enabled}()){r.exchangeTokenPromise||(r.exchangeTokenPromise=Nm(function ub(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${wv}/projects/${t}/apps/${r}:${Dx}?key=${i}`,body:{debug_token:e}}}(t,yield Tv()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),d=!0);const w=yield r.exchangeTokenPromise;return yield Dv(t,w),r.token=w,{token:w.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),d=!0),i=yield tr(t).exchangeTokenPromise}catch(w){"appCheck/throttled"===w.code?Cp.warn(w.message):Cp.error(w),u=w}return i?u?m=Ep(i)?{token:i.token,internalError:u}:Rv(u):(m={token:i.token},r.token=i,yield Dv(t,i)):m=Rv(u),d&&function vb(n,e){const t=tr(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(t,m),m})).apply(this,arguments)}function Bm(n,e){const t=tr(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function Ol(n){const{app:e}=n,t=tr(e);let r=t.tokenRefresher;r||(r=function _b(n){const{app:e}=n;return new ab((0,ye.Z)(function*(){let r;if(r=tr(e).token?yield fh(n,!0):yield fh(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=tr(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},xx.RETRIAL_MIN_WAIT,xx.RETRIAL_MAX_WAIT)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function Ep(n){return n.expireTimeMillis-Date.now()>0}function Rv(n){return{token:yb(Mv),error:n}}class Nv{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=tr(this.app);for(const t of e)Bm(this.app,t.next);return Promise.resolve()}}const Mb="app-check-internal";!function $x(){(0,hh._registerComponent)(new vv.wA("app-check",n=>function Fx(n,e){return new Nv(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(Mb).initialize()})),(0,hh._registerComponent)(new vv.wA(Mb,n=>function kv(n){return{getToken:e=>fh(n,e),addTokenListener:e=>function Ov(n,e,t,r){const{app:i}=n,u=tr(i);if(u.tokenObservers=[...u.tokenObservers,{next:t,error:r,type:e}],u.token&&Ep(u.token)){const m=u.token;Promise.resolve().then(()=>{t({token:m.token}),Ol(n)}).catch(()=>{})}u.cachedTokenPromise.then(()=>Ol(n))}(n,"INTERNAL",e),removeTokenListener:e=>Bm(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,hh.registerVersion)("@firebase/app-check","0.7.0")}();class jm{constructor(){return(0,er.vb)("app-check")}}typeof window<"u"&&window;var Ss=k(9260);const zm=new c.OlP("angularfire2.auth.use-emulator"),ph=new c.OlP("angularfire2.auth.settings"),Nb=new c.OlP("angularfire2.auth.tenant-id"),kb=new c.OlP("angularfire2.auth.langugage-code"),Fb=new c.OlP("angularfire2.auth.use-device-language"),Dp=new c.OlP("angularfire.auth.persistence"),xp=(n,e,t,r,i,u,d,m)=>(0,qo.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const w=e.runOutsideAngular(()=>n.auth());if(t&&w.useEmulator(...t),r&&(w.tenantId=r),w.languageCode=i,u&&w.useDeviceLanguage(),d)for(const[D,T]of Object.entries(d))w.settings[D]=T;return m&&w.setPersistence(m),w},[t,r,i,u,d,m]);let Tp=(()=>{class n{constructor(t,r,i,u,d,m,w,D,T,O,U,Z){const se=new dc.x,Ie=vt(void 0).pipe((0,mp.Q)(d.outsideAngular),Hr(()=>u.runOutsideAngular(()=>Promise.resolve().then(k.bind(k,3042)))),(0,mt.U)(()=>(0,qo.on)(t,u,r)),(0,mt.U)(Fe=>xp(Fe,u,m,D,T,O,w,U)),nb({bufferSize:1,refCount:!1}));if(ao(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=vt(null);else{Ie.pipe(tu()).subscribe();const rt=Ie.pipe(Hr(Gt=>Gt.getRedirectResult().then(Jt=>Jt,()=>null)),er.iC,nb({bufferSize:1,refCount:!1})),St=Ie.pipe(Hr(Gt=>new lr.y(Jt=>({unsubscribe:u.runOutsideAngular(()=>Gt.onAuthStateChanged(hn=>Jt.next(hn),hn=>Jt.error(hn),()=>Jt.complete()))})))),Ct=Ie.pipe(Hr(Gt=>new lr.y(Jt=>({unsubscribe:u.runOutsideAngular(()=>Gt.onIdTokenChanged(hn=>Jt.next(hn),hn=>Jt.error(hn),()=>Jt.complete()))}))));this.authState=rt.pipe(rb(St),(0,_v.R)(d.outsideAngular),(0,mp.Q)(d.insideAngular)),this.user=rt.pipe(rb(Ct),(0,_v.R)(d.outsideAngular),(0,mp.Q)(d.insideAngular)),this.idToken=this.user.pipe(Hr(Gt=>Gt?(0,un.D)(Gt.getIdToken()):vt(null))),this.idTokenResult=this.user.pipe(Hr(Gt=>Gt?(0,un.D)(Gt.getIdTokenResult()):vt(null))),this.credential=(0,gx.T)(rt,se,this.authState.pipe(ni(Gt=>!Gt))).pipe((0,mt.U)(Gt=>Gt?.user?Gt:null),(0,_v.R)(d.outsideAngular),(0,mp.Q)(d.insideAngular))}return(0,qo.pX)(this,Ie,u,{spy:{apply:(Fe,rt,St)=>{(Fe.startsWith("signIn")||Fe.startsWith("createUser"))&&St.then(Ct=>se.next(Ct))}}})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(qo.Dh),c.LFG(qo.xv,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(er.HU),c.LFG(zm,8),c.LFG(ph,8),c.LFG(Nb,8),c.LFG(kb,8),c.LFG(Fb,8),c.LFG(Dp,8),c.LFG(jm,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Yx=(()=>{class n{constructor(){Ss.Z.registerVersion("angularfire",er.q4.full,"auth-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[Tp]}),n})(),Sp=(()=>{class n{constructor(t,r){this.afAuth=t,this.router=r,this.isLogged=new jo(this.userLoggedState)}get userLoggedState(){return!!localStorage.getItem("user")}signup(t,r){return this.afAuth.createUserWithEmailAndPassword(t,r)}login(t,r){return localStorage.setItem("user",JSON.stringify({email:t,password:r})),this.isLogged.next(!0),this.afAuth.signInWithEmailAndPassword(t,r)}logout(){return localStorage.removeItem("user"),this.isLogged.next(!1),this.router.navigate(["/home"]),this.afAuth.signOut()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Tp),c.LFG(ii))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Lb(n,e){1&n&&(c.TgZ(0,"div",21),c._uU(1," Email is required "),c.qZA())}function Bv(n,e){1&n&&(c.TgZ(0,"div",21),c._uU(1," Your input doesn't match email format "),c.qZA())}function Vb(n,e){1&n&&(c.TgZ(0,"div",21),c._uU(1," Passowrd is required "),c.qZA())}function jv(n,e){1&n&&(c.TgZ(0,"div",21),c._uU(1," Your Password must be at least 6 characters "),c.qZA())}function $v(n,e){if(1&n&&(c.TgZ(0,"div",22),c._uU(1),c.qZA()),2&n){const t=c.oxw();c.xp6(1),c.hij(" ",t.errorMsg," ")}}let Ub=(()=>{class n{constructor(t,r){this.as=t,this.router=r,this.errorMsg=""}login(t){let r=t.value;this.as.login(r.email,r.password).then(i=>{this.errorMsg="",window.alert("You have been successfully signed in!"),this.router.navigate(["/"])}).catch(i=>this.errorMsg=i.message)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Sp),c.Y36(ii))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-login"]],decls:36,vars:6,consts:[[1,"container","login"],[1,"row"],["id","side1",1,"col-md-4"],["id","btn"],["routerLink","/signup"],["id","side2",1,"col-md-8"],["id","inp"],[3,"ngSubmit"],["f","ngForm"],["ngModel","","name","email","type","email","placeholder","Email","required","","email",""],["email","ngModel"],["class","alert alert-danger",4,"ngIf"],["ngModel","","name","password","type","password","placeholder","Password","required","","minlength","6"],["password","ngModel"],[1,"icons"],[1,"fa-brands","fa-twitter"],[1,"fa-brands","fa-facebook-f"],[1,"fa-brands","fa-instagram"],["id","login"],[3,"disabled"],["class","alert alert-danger mt-2",4,"ngIf"],[1,"alert","alert-danger"],[1,"alert","alert-danger","mt-2"]],template:function(t,r){if(1&t){const i=c.EpF();c.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3"),c._uU(4,"Hello Friend!"),c.qZA(),c.TgZ(5,"p"),c._uU(6,"Create New Account"),c.qZA(),c.TgZ(7,"div",3)(8,"a",4),c._uU(9,"Sign Up"),c.qZA()()(),c.TgZ(10,"div",5)(11,"h3"),c._uU(12,"Login Account"),c.qZA(),c.TgZ(13,"p"),c._uU(14,"Create New Account"),c.qZA(),c.TgZ(15,"div",6)(16,"form",7,8),c.NdJ("ngSubmit",function(){c.CHM(i);const d=c.MAs(17);return c.KtG(r.login(d))}),c._UZ(18,"input",9,10),c.YNc(20,Lb,2,0,"div",11),c.YNc(21,Bv,2,0,"div",11),c._UZ(22,"input",12,13),c.YNc(24,Vb,2,0,"div",11),c.YNc(25,jv,2,0,"div",11),c.TgZ(26,"p"),c._uU(27,"Forget Your Password"),c.qZA(),c.TgZ(28,"div",14),c._UZ(29,"i",15)(30,"i",16)(31,"i",17),c.qZA(),c.TgZ(32,"div",18)(33,"button",19),c._uU(34,"LOG IN"),c.qZA()(),c.YNc(35,$v,2,1,"div",20),c.qZA()()()()()}if(2&t){const i=c.MAs(17),u=c.MAs(19),d=c.MAs(23);c.xp6(20),c.Q6J("ngIf",u.touched&&(null==u.errors?null:u.errors.required)),c.xp6(1),c.Q6J("ngIf",u.touched&&(null==u.errors?null:u.errors.email)),c.xp6(3),c.Q6J("ngIf",d.touched&&(null==d.errors?null:d.errors.required)),c.xp6(1),c.Q6J("ngIf",d.touched&&(null==d.errors?null:d.errors.minlength)),c.xp6(8),c.Q6J("disabled",i.invalid),c.xp6(2),c.Q6J("ngIf",r.errorMsg)}},dependencies:[Kr,Ts,aa,Qs,Ya,Ju,Ee,vi,Je,sa,oa],styles:[".login[_ngcontent-%COMP%]{width:100%;margin:50px auto auto;justify-content:center;font-family:Roboto Slab,serif}#side1[_ngcontent-%COMP%]{background-color:#1c1c50;height:76vh;border-radius:5px;box-shadow:#64646f33 0 7px 29px}#side1[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#fff;font-weight:700;text-shadow:1px 1px 1px black;margin-top:200px;align-items:center;text-align:center}#side1[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff;font-weight:700;align-items:center;text-align:center}#btn[_ngcontent-%COMP%]{align-items:center;text-align:center;border:2px solid white;border-radius:10px}#btn[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#fff}#side2[_ngcontent-%COMP%]{background-color:#fff;border-radius:5px;box-shadow:#64646f33 0 7px 29px;align-items:center;text-align:center}#side2[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:50px;color:#1c1c50;font-weight:700}#side2[_ngcontent-%COMP%]   .inp[_ngcontent-%COMP%]{margin-top:32px}#side2[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:500px;margin-top:20px;height:36px;align-items:center}#side2[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:20px;cursor:pointer}#side2[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-left:10px;cursor:pointer}#login[_ngcontent-%COMP%]{margin-top:10px}#login[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:200px;height:32px;color:#fff;background-color:#1c1c50;border:none;font-weight:700}.alert[_ngcontent-%COMP%]{width:500px;margin:auto;align-items:center}@media screen and (max-width: 992px){#side2[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:300px}.alert[_ngcontent-%COMP%]{width:300px;margin:auto;align-items:center}}@media screen and (max-width: 330px){#side2[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:200px}.alert[_ngcontent-%COMP%]{width:200px;margin:auto;align-items:center}}"]}),n})();var Hv=k(4986);function Ap(){return(0,dr.e)((n,e)=>{let t,r=!1;n.subscribe((0,gn.x)(e,i=>{const u=t;t=i,r&&e.next([u,i]),r=!0}))})}function Jx(n,e){return n===e}k(3042);var et,Xx=k(3942),Bb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},vo={},zv=zv||{},Ft=Bb||self;function Mp(){}function Gm(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function gh(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var Gv="closure_uid_"+(1e9*Math.random()>>>0),$b=0;function eT(n,e,t){return n.call.apply(n.bind,arguments)}function Li(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function pr(n,e,t){return(pr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?eT:Li).apply(null,arguments)}function qm(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function zr(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(r,i,u){for(var d=Array(arguments.length-2),m=2;m<arguments.length;m++)d[m-2]=arguments[m];return e.prototype[i].apply(r,d)}}function Nl(){this.s=this.s,this.o=this.o}Nl.prototype.s=!1,Nl.prototype.ra=function(){!this.s&&(this.s=!0,this.N(),0)&&function jb(n){Object.prototype.hasOwnProperty.call(n,Gv)&&n[Gv]||(n[Gv]=++$b)}(this)},Nl.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const qv=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function Pp(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function mh(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(Gm(r)){const i=n.length||0,u=r.length||0;n.length=i+u;for(let d=0;d<u;d++)n[i+d]=r[d]}else n.push(r)}}function bi(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}bi.prototype.h=function(){this.defaultPrevented=!0};var Zv=function(){if(!Ft.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Ft.addEventListener("test",Mp,e),Ft.removeEventListener("test",Mp,e)}catch{}return n}();function Zm(n){return/^[\s\xa0]*$/.test(n)}var Wv=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Kv(n,e){return n<e?-1:n>e?1:0}function Wm(){var n=Ft.navigator;return n&&(n=n.userAgent)?n:""}function la(n){return-1!=Wm().indexOf(n)}function Op(n){return Op[" "](n),n}function Yv(n,e,t){return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}Op[" "]=Mp;var lu,n,Hb=la("Opera"),cu=la("Trident")||la("MSIE"),Km=la("Edge"),zb=Km||cu,Qv=la("Gecko")&&!(-1!=Wm().toLowerCase().indexOf("webkit")&&!la("Edge"))&&!(la("Trident")||la("MSIE"))&&!la("Edge"),tT=-1!=Wm().toLowerCase().indexOf("webkit")&&!la("Edge");function Jv(){var n=Ft.document;return n?n.documentMode:void 0}e:{var Xv="",Ym=(n=Wm(),Qv?/rv:([^\);]+)(\)|;)/.exec(n):Km?/Edge\/([\d\.]+)/.exec(n):cu?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):tT?/WebKit\/(\S+)/.exec(n):Hb?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Ym&&(Xv=Ym?Ym[1]:""),cu){var Rp=Jv();if(null!=Rp&&Rp>parseFloat(Xv)){lu=String(Rp);break e}}lu=Xv}var UA={},rT=Ft.document&&cu&&(Jv()||parseInt(lu,10))||void 0;function Np(n,e){if(bi.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(Qv){e:{try{Op(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:Zb[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Np.$.h.call(this)}}zr(Np,bi);var Zb={2:"touch",3:"pen",4:"mouse"};Np.prototype.h=function(){Np.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var yh="closure_listenable_"+(1e6*Math.random()|0),iT=0;function Wb(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.la=i,this.key=++iT,this.fa=this.ia=!1}function kp(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function e0(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function Kb(n){const e={};for(const t in n)e[t]=n[t];return e}const t0="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Yb(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let u=0;u<t0.length;u++)t=t0[u],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function Fp(n){this.src=n,this.g={},this.h=0}function Qm(n,e){var t=e.type;if(t in n.g){var u,r=n.g[t],i=qv(r,e);(u=0<=i)&&Array.prototype.splice.call(r,i,1),u&&(kp(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function Jm(n,e,t,r){for(var i=0;i<n.length;++i){var u=n[i];if(!u.fa&&u.listener==e&&u.capture==!!t&&u.la==r)return i}return-1}Fp.prototype.add=function(n,e,t,r,i){var u=n.toString();(n=this.g[u])||(n=this.g[u]=[],this.h++);var d=Jm(n,e,r,i);return-1<d?(e=n[d],t||(e.ia=!1)):((e=new Wb(e,this.src,u,!!r,i)).ia=t,n.push(e)),e};var Xm="closure_lm_"+(1e6*Math.random()|0),n0={};function Qb(n,e,t,r,i){if(r&&r.once)return sT(n,e,t,r,i);if(Array.isArray(e)){for(var u=0;u<e.length;u++)Qb(n,e[u],t,r,i);return null}return t=nE(t),n&&n[yh]?n.O(e,t,gh(r)?!!r.capture:!!r,i):oT(n,e,t,!1,r,i)}function oT(n,e,t,r,i,u){if(!e)throw Error("Invalid event type");var d=gh(i)?!!i.capture:!!i,m=eE(n);if(m||(n[Xm]=m=new Fp(n)),(t=m.add(e,t,r,d,u)).proxy)return t;if(r=function Jb(){const e=BA;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)Zv||(i=d),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(uT(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function sT(n,e,t,r,i){if(Array.isArray(e)){for(var u=0;u<e.length;u++)sT(n,e[u],t,r,i);return null}return t=nE(t),n&&n[yh]?n.P(e,t,gh(r)?!!r.capture:!!r,i):oT(n,e,t,!0,r,i)}function aT(n,e,t,r,i){if(Array.isArray(e))for(var u=0;u<e.length;u++)aT(n,e[u],t,r,i);else r=gh(r)?!!r.capture:!!r,t=nE(t),n&&n[yh]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=Jm(u=n.g[e],t,r,i))&&(kp(u[t]),Array.prototype.splice.call(u,t,1),0==u.length&&(delete n.g[e],n.h--))):n&&(n=eE(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Jm(e,t,r,i)),(t=-1<n?e[n]:null)&&Xb(t))}function Xb(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[yh])Qm(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(uT(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=eE(e))?(Qm(t,n),0==t.h&&(t.src=null,e[Xm]=null)):kp(n)}}}function uT(n){return n in n0?n0[n]:n0[n]="on"+n}function BA(n,e){if(n.fa)n=!0;else{e=new Np(e,this);var t=n.listener,r=n.la||n.src;n.ia&&Xb(n),n=t.call(r,e)}return n}function eE(n){return(n=n[Xm])instanceof Fp?n:null}var tE="__closure_events_fn_"+(1e9*Math.random()>>>0);function nE(n){return"function"==typeof n?n:(n[tE]||(n[tE]=function(e){return n.handleEvent(e)}),n[tE])}function gr(){Nl.call(this),this.i=new Fp(this),this.S=this,this.J=null}function Ei(n,e){var t,r=n.J;if(r)for(t=[];r;r=r.J)t.push(r);if(n=n.S,r=e.type||e,"string"==typeof e)e=new bi(e,n);else if(e instanceof bi)e.target=e.target||n;else{var i=e;Yb(e=new bi(r,n),i)}if(i=!0,t)for(var u=t.length-1;0<=u;u--){var d=e.g=t[u];i=Lp(d,r,!0,e)&&i}if(i=Lp(d=e.g=n,r,!0,e)&&i,i=Lp(d,r,!1,e)&&i,t)for(u=0;u<t.length;u++)i=Lp(d=e.g=t[u],r,!1,e)&&i}function Lp(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,u=0;u<e.length;++u){var d=e[u];if(d&&!d.fa&&d.capture==t){var m=d.listener,w=d.la||d.src;d.ia&&Qm(n.i,d),i=!1!==m.call(w,r)&&i}}return i&&!r.defaultPrevented}zr(gr,Nl),gr.prototype[yh]=!0,gr.prototype.removeEventListener=function(n,e,t,r){aT(this,n,e,t,r)},gr.prototype.N=function(){if(gr.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)kp(t[r]);delete n.g[e],n.h--}}this.J=null},gr.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},gr.prototype.P=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var _h=Ft.JSON.stringify;function rE(){var n=uE;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var aE,cT=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new r0,n=>n.reset());class r0{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function oE(n){Ft.setTimeout(()=>{throw n},0)}function sE(n,e){aE||function jA(){var n=Ft.Promise.resolve(void 0);aE=function(){n.then(ey)}}(),o0||(aE(),o0=!0),uE.add(n,e)}var o0=!1,uE=new class iE{constructor(){this.h=this.g=null}add(e,t){const r=cT.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function ey(){for(var n;n=rE();){try{n.h.call(n.g)}catch(t){oE(t)}var e=cT;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}o0=!1}function ty(n,e){gr.call(this),this.h=n||1,this.g=e||Ft,this.j=pr(this.qb,this),this.l=Date.now()}function cE(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function lE(n,e,t){if("function"==typeof n)t&&(n=pr(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=pr(n.handleEvent,n)}return 2147483647<Number(e)?-1:Ft.setTimeout(n,e||0)}function lT(n){n.g=lE(()=>{n.g=null,n.i&&(n.i=!1,lT(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}zr(ty,gr),(et=ty.prototype).ga=!1,et.T=null,et.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Ei(this,"tick"),this.ga&&(cE(this),this.start()))}},et.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},et.N=function(){ty.$.N.call(this),cE(this),delete this.g};class dT extends Nl{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:lT(this)}N(){super.N(),this.g&&(Ft.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Vp(n){Nl.call(this),this.h=n,this.g={}}zr(Vp,Nl);var dE=[];function hT(n,e,t,r){Array.isArray(t)||(t&&(dE[0]=t.toString()),t=dE);for(var i=0;i<t.length;i++){var u=Qb(e,t[i],r||n.handleEvent,!1,n.h||n);if(!u)break;n.g[u.key]=u}}function hE(n){e0(n.g,function(e,t){this.g.hasOwnProperty(t)&&Xb(e)},n),n.g={}}function Up(){this.g=!0}function Ii(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function s0(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var u=i[0];if("noop"!=u&&"stop"!=u&&"close"!=u)for(var d=1;d<i.length;d++)i[d]=""}}}return _h(t)}catch{return e}}(n,t)+(r?" "+r:"")})}Vp.prototype.N=function(){Vp.$.N.call(this),hE(this)},Vp.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Up.prototype.Ea=function(){this.g=!1},Up.prototype.info=function(){};var kl={},pT=null;function Vi(){return pT=pT||new gr}function pE(n){bi.call(this,kl.Ta,n)}function Fl(n){const e=Vi();Ei(e,new pE(e))}function gE(n,e){bi.call(this,kl.STAT_EVENT,n),this.stat=e}function Ui(n){const e=Vi();Ei(e,new gE(e,n))}function ny(n,e){bi.call(this,kl.Ua,n),this.size=e}function vh(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Ft.setTimeout(function(){n()},e)}kl.Ta="serverreachability",zr(pE,bi),kl.STAT_EVENT="statevent",zr(gE,bi),kl.Ua="timingevent",zr(ny,bi);var Bp={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},mE={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function ry(){}function yE(){}ry.prototype.h=null;var As,wh={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function u0(){bi.call(this,"d")}function jp(){bi.call(this,"c")}function Ms(){}function Ch(n,e,t,r){this.l=n,this.j=e,this.m=t,this.W=r||1,this.U=new Vp(this),this.P=_E,this.V=new ty(n=zb?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.aa=-1,this.J=!1,this.O=0,this.M=null,this.ca=this.K=this.ba=this.S=!1,this.h=new iy}function iy(){this.i=null,this.g="",this.h=!1}zr(u0,bi),zr(jp,bi),zr(Ms,ry),Ms.prototype.g=function(){return new XMLHttpRequest},Ms.prototype.i=function(){return{}},As=new Ms;var _E=45e3,c0={},l0={};function d0(n,e,t){n.L=1,n.v=g0(Zo(e)),n.s=t,n.S=!0,vE(n,null)}function vE(n,e){n.G=Date.now(),oy(n),n.A=Zo(n.v);var t=n.A,r=n.W;Array.isArray(r)||(r=[String(r)]),AE(t.i,"t",r),n.C=0,t=n.l.I,n.h=new iy,n.g=P(n.l,t?e:null,!n.s),0<n.O&&(n.M=new dT(pr(n.Pa,n,n.g),n.O)),hT(n.U,n.g,"readystatechange",n.nb),e=n.I?Kb(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),Fl(),function fE(n,e,t,r,i,u){n.info(function(){if(n.g)if(u)for(var d="",m=u.split("&"),w=0;w<m.length;w++){var D=m[w].split("=");if(1<D.length){var T=D[0];D=D[1];var O=T.split("_");d=2<=O.length&&"type"==O[1]?d+(T+"=")+D+"&":d+(T+"=redacted&")}}else d=null;else d=u;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+d})}(n.j,n.u,n.A,n.m,n.W,n.s)}function wE(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function CE(n,e,t){let i,r=!0;for(;!n.J&&n.C<t.length;){if(i=bE(n,t),i==l0){4==e&&(n.o=4,Ui(14),r=!1),Ii(n.j,n.m,null,"[Incomplete Response]");break}if(i==c0){n.o=4,Ui(15),Ii(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Ii(n.j,n.m,i,null),$p(n,i)}wE(n)&&i!=l0&&i!=c0&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Ui(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.ca&&(n.ca=!0,(e=n.l).g==n&&e.ca&&!e.L&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),a(e),e.L=!0,Ui(11))):(Ii(n.j,n.m,t,"[Invalid Chunked Response]"),Eh(n),bh(n))}function bE(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?l0:(t=Number(e.substring(t,r)),isNaN(t)?c0:(r+=1)+t>e.length?l0:(e=e.substr(r,t),n.C=r+t,e))}function oy(n){n.Y=Date.now()+n.P,h0(n,n.P)}function h0(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=vh(pr(n.lb,n),e)}function sy(n){n.B&&(Ft.clearTimeout(n.B),n.B=null)}function bh(n){0==n.l.H||n.J||g(n.l,n)}function Eh(n){sy(n);var e=n.M;e&&"function"==typeof e.ra&&e.ra(),n.M=null,cE(n.V),hE(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.ra())}function $p(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||Gp(t.h,n)))if(!n.K&&Gp(t.h,n)&&3==t.H){try{var r=t.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;h(t),gy(t)}s(t),Ui(18)}}else t.Fa=i[1],0<t.Fa-t.V&&37500>i[2]&&t.M&&0==t.A&&!t.v&&(t.v=vh(pr(t.ib,t),6e3));if(1>=PE(t.h)&&t.na){try{t.na()}catch{}t.na=void 0}}else b(t,11)}else if((n.K||t.g==n)&&h(t),!Zm(e))for(i=t.Ja.g.parse(e),e=0;e<i.length;e++){let D=i[e];if(t.V=D[0],D=D[1],2==t.H)if("c"==D[0]){t.J=D[1],t.oa=D[2];const T=D[3];null!=T&&(t.qa=T,t.j.info("VER="+t.qa));const O=D[4];null!=O&&(t.Ga=O,t.j.info("SVER="+t.Ga));const U=D[5];null!=U&&"number"==typeof U&&0<U&&(t.K=r=1.5*U,t.j.info("backChannelRequestTimeoutMs_="+r)),r=t;const Z=n.g;if(Z){const se=Z.g?Z.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(se){var u=r.h;u.g||-1==se.indexOf("spdy")&&-1==se.indexOf("quic")&&-1==se.indexOf("h2")||(u.j=u.l,u.g=new Set,u.h&&(qp(u,u.h),u.h=null))}if(r.F){const Ie=Z.g?Z.g.getResponseHeader("X-HTTP-Session-Id"):null;Ie&&(r.Da=Ie,$n(r.G,r.F,Ie))}}t.H=3,t.l&&t.l.Ba(),t.ca&&(t.S=Date.now()-n.G,t.j.info("Handshake RTT: "+t.S+"ms"));var d=n;if((r=t).wa=S(r,r.I?r.oa:null,r.Y),d.K){Zp(r.h,d);var m=d,w=r.K;w&&m.setTimeout(w),m.B&&(sy(m),oy(m)),r.g=d}else o(r);0<t.i.length&&E0(t)}else"stop"!=D[0]&&"close"!=D[0]||b(t,7);else 3==t.H&&("stop"==D[0]||"close"==D[0]?"stop"==D[0]?b(t,7):BE(t):"noop"!=D[0]&&t.l&&t.l.Aa(D),t.A=0)}Fl()}catch{}}function f0(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Gm(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function IE(n){if(n.sa&&"function"==typeof n.sa)return n.sa();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(Gm(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function EE(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(Gm(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,u=0;u<i;u++)e.call(void 0,r[u],t&&t[u],n)}(et=Ch.prototype).setTimeout=function(n){this.P=n},et.nb=function(n){n=n.target;const e=this.M;e&&3==du(n)?e.l():this.Pa(n)},et.Pa=function(n){try{if(n==this.g)e:{const T=du(this.g);var e=this.g.Ia();if(this.g.da(),!(3>T)&&(3!=T||zb||this.g&&(this.h.h||this.g.ja()||LE(this.g)))){this.J||4!=T||7==e||Fl(),sy(this);var t=this.g.da();this.aa=t;t:if(wE(this)){var r=LE(this.g);n="";var i=r.length,u=4==du(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Eh(this),bh(this);var d="";break t}this.h.i=new Ft.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:u&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,d=this.h.g}else d=this.g.ja();if(this.i=200==t,function $A(n,e,t,r,i,u,d){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+u+" "+d})}(this.j,this.u,this.A,this.m,this.W,T,t),this.i){if(this.ba&&!this.K){t:{if(this.g){var m,w=this.g;if((m=w.g?w.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Zm(m)){var D=m;break t}}D=null}if(!(t=D)){this.i=!1,this.o=3,Ui(12),Eh(this),bh(this);break e}Ii(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,$p(this,t)}this.S?(CE(this,T,d),zb&&this.i&&3==T&&(hT(this.U,this.V,"tick",this.mb),this.V.start())):(Ii(this.j,this.m,d,null),$p(this,d)),4==T&&Eh(this),this.i&&!this.J&&(4==T?g(this.l,this):(this.i=!1,oy(this)))}else 400==t&&0<d.indexOf("Unknown SID")?(this.o=3,Ui(12)):(this.o=0,Ui(13)),Eh(this),bh(this)}}}catch{}},et.mb=function(){if(this.g){var n=du(this.g),e=this.g.ja();this.C<e.length&&(sy(this),CE(this,n,e),this.i&&4!=n&&oy(this))}},et.cancel=function(){this.J=!0,Eh(this)},et.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function fT(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Fl(),Ui(17)),Eh(this),this.o=2,bh(this)):h0(this,this.Y-n)};var p0=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function da(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof da){this.h=void 0!==e?e:n.h,Hp(this,n.j),this.s=n.s,this.g=n.g,ay(this,n.m),this.l=n.l,e=n.i;var t=new cy;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),xE(this,t),this.o=n.o}else n&&(t=String(n).match(p0))?(this.h=!!e,Hp(this,t[1]||"",!0),this.s=uy(t[2]||""),this.g=uy(t[3]||"",!0),ay(this,t[4]),this.l=uy(t[5]||"",!0),xE(this,t[6]||"",!0),this.o=uy(t[7]||"")):(this.h=!!e,this.i=new cy(null,this.h))}function Zo(n){return new da(n)}function Hp(n,e,t){n.j=t?uy(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function ay(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function xE(n,e,t){e instanceof cy?(n.i=e,function ME(n,e){e&&!n.j&&(Ll(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(SE(this,r),AE(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=Ih(e,zA)),n.i=new cy(e,n.h))}function $n(n,e,t){n.i.set(e,t)}function g0(n){return $n(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function uy(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Ih(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,gT),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function gT(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}da.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Ih(e,TE,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Ih(e,TE,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(Ih(t,"/"==t.charAt(0)?HA:mT,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Ih(t,GA)),n.join("")};var TE=/[#\/\?@]/g,mT=/[#\?:]/g,HA=/[#\?]/g,zA=/[#\?@]/g,GA=/#/g;function cy(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Ll(n){n.g||(n.g=new Map,n.h=0,n.i&&function DE(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var u=n[t].substring(0,r);i=n[t].substring(r+1)}else u=n[t];e(u,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function SE(n,e){Ll(n),e=Dh(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function zp(n,e){return Ll(n),e=Dh(n,e),n.g.has(e)}function AE(n,e,t){SE(n,e),0<t.length&&(n.i=null,n.g.set(Dh(n,e),Pp(t)),n.h+=t.length)}function Dh(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function m0(n){this.l=n||y0,n=Ft.PerformanceNavigationTiming?0<(n=Ft.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Ft.g&&Ft.g.Ka&&Ft.g.Ka()&&Ft.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(et=cy.prototype).add=function(n,e){Ll(this),this.i=null,n=Dh(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},et.forEach=function(n,e){Ll(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},et.sa=function(){Ll(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let u=0;u<i.length;u++)t.push(e[r])}return t},et.Z=function(n){Ll(this);let e=[];if("string"==typeof n)zp(this,n)&&(e=e.concat(this.g.get(Dh(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},et.set=function(n,e){return Ll(this),this.i=null,zp(this,n=Dh(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},et.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},et.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const u=encodeURIComponent(String(r)),d=this.Z(r);for(r=0;r<d.length;r++){var i=u;""!==d[r]&&(i+="="+encodeURIComponent(String(d[r]))),n.push(i)}}return this.i=n.join("&")};var y0=10;function ly(n){return!!n.h||!!n.g&&n.g.size>=n.j}function PE(n){return n.h?1:n.g?n.g.size:0}function Gp(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function qp(n,e){n.g?n.g.add(e):n.h=e}function Zp(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function yT(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return Pp(n.i)}function OE(){}function qA(){this.g=new OE}function ZA(n,e,t){const r=t||"";try{f0(n,function(i,u){let d=i;gh(i)&&(d=_h(i)),e.push(r+u+"="+encodeURIComponent(d))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function dy(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Wp(n){this.l=n.fc||null,this.j=n.ob||!1}function hy(n,e){gr.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=_0,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}m0.prototype.cancel=function(){if(this.i=yT(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},OE.prototype.stringify=function(n){return Ft.JSON.stringify(n,void 0)},OE.prototype.parse=function(n){return Ft.JSON.parse(n,void 0)},zr(Wp,ry),Wp.prototype.g=function(){return new hy(this.l,this.j)},Wp.prototype.i=function(n){return function(){return n}}({}),zr(hy,gr);var _0=0;function v0(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function xh(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Th(n)}function Th(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(et=hy.prototype).open=function(n,e){if(this.readyState!=_0)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Th(this)},et.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||Ft).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},et.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,xh(this)),this.readyState=_0},et.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Th(this)),this.g&&(this.readyState=3,Th(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Ft.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;v0(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},et.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?xh(this):Th(this),3==this.readyState&&v0(this)}},et.Za=function(n){this.g&&(this.response=this.responseText=n,xh(this))},et.Ya=function(n){this.g&&(this.response=n,xh(this))},et.ka=function(){this.g&&xh(this)},et.setRequestHeader=function(n,e){this.v.append(n,e)},et.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},et.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(hy.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var _T=Ft.JSON.parse;function nr(n){gr.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=w0,this.L=this.M=!1}zr(nr,gr);var w0="",C0=/^https?$/i,WA=["POST","PUT"];function fy(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,kE(n),b0(n)}function kE(n){n.F||(n.F=!0,Ei(n,"complete"),Ei(n,"error"))}function FE(n){if(n.h&&typeof zv<"u"&&(!n.C[1]||4!=du(n)||2!=n.da()))if(n.v&&4==du(n))lE(n.La,0,n);else if(Ei(n,"readystatechange"),4==du(n)){n.h=!1;try{const m=n.da();e:switch(m){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===m){var i=String(n.I).match(p0)[1]||null;if(!i&&Ft.self&&Ft.self.location){var u=Ft.self.location.protocol;i=u.substr(0,u.length-1)}r=!C0.test(i?i.toLowerCase():"")}t=r}if(t)Ei(n,"complete"),Ei(n,"success");else{n.m=6;try{var d=2<du(n)?n.g.statusText:""}catch{d=""}n.j=d+" ["+n.da()+"]",kE(n)}}finally{b0(n)}}}function b0(n,e){if(n.g){vT(n);const t=n.g,r=n.C[0]?Mp:null;n.g=null,n.C=null,e||Ei(n,"ready");try{t.onreadystatechange=r}catch{}}}function vT(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(Ft.clearTimeout(n.A),n.A=null)}function du(n){return n.g?n.g.readyState:0}function LE(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case w0:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function VE(n){let e="";return e0(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function UE(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=VE(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):$n(n,e,t))}function py(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function wT(n){this.Ga=0,this.i=[],this.j=new Up,this.oa=this.wa=this.G=this.Y=this.g=this.Da=this.F=this.ma=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=py("failFast",!1,n),this.M=this.v=this.u=this.m=this.l=null,this.aa=!0,this.ta=this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=py("baseRetryDelayMs",5e3,n),this.hb=py("retryDelaySeedMs",1e4,n),this.eb=py("forwardChannelMaxRetries",2,n),this.xa=py("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.K=void 0,this.I=n&&n.supportsCrossDomainXhr||!1,this.J="",this.h=new m0(n&&n.concurrentRequestLimit),this.Ja=new qA,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.j.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.na=void 0,this.S=0,this.L=!1,this.pa=this.B=null}function BE(n){if(CT(n),3==n.H){var e=n.W++,t=Zo(n.G);$n(t,"SID",n.J),$n(t,"RID",e),$n(t,"TYPE","terminate"),my(n,t),(e=new Ch(n,n.j,e,void 0)).L=2,e.v=g0(Zo(t)),t=!1,Ft.navigator&&Ft.navigator.sendBeacon&&(t=Ft.navigator.sendBeacon(e.v.toString(),"")),!t&&Ft.Image&&((new Image).src=e.v,t=!0),t||(e.g=P(e.l,null),e.g.ha(e.v)),e.G=Date.now(),oy(e)}I(n)}function gy(n){n.g&&(a(n),n.g.cancel(),n.g=null)}function CT(n){gy(n),n.u&&(Ft.clearTimeout(n.u),n.u=null),h(n),n.h.cancel(),n.m&&("number"==typeof n.m&&Ft.clearTimeout(n.m),n.m=null)}function E0(n){ly(n.h)||n.m||(n.m=!0,sE(n.Na,n),n.C=0)}function bT(n,e){var t;t=e?e.m:n.W++;const r=Zo(n.G);$n(r,"SID",n.J),$n(r,"RID",t),$n(r,"AID",n.V),my(n,r),n.o&&n.s&&UE(r,n.o,n.s),t=new Ch(n,n.j,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.i=e.F.concat(n.i)),e=ET(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),qp(n.h,t),d0(t,r,e)}function my(n,e){n.ma&&e0(n.ma,function(t,r){$n(e,r,t)}),n.l&&f0({},function(t,r){$n(e,r,t)})}function ET(n,e,t){t=Math.min(n.i.length,t);var r=n.l?pr(n.l.Va,n.l,n):null;e:{var i=n.i;let u=-1;for(;;){const d=["count="+t];-1==u?0<t?(u=i[0].h,d.push("ofs="+u)):u=0:d.push("ofs="+u);let m=!0;for(let w=0;w<t;w++){let D=i[w].h;const T=i[w].g;if(D-=u,0>D)u=Math.max(0,i[w].h-100),m=!1;else try{ZA(T,d,"req"+D+"_")}catch{r&&r(T)}}if(m){r=d.join("&");break e}}}return n=n.i.splice(0,t),e.F=n,r}function o(n){n.g||n.u||(n.ba=1,sE(n.Ma,n),n.A=0)}function s(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=vh(pr(n.Ma,n),_(n,n.A)),n.A++,0))}function a(n){null!=n.B&&(Ft.clearTimeout(n.B),n.B=null)}function l(n){n.g=new Ch(n,n.j,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=Zo(n.wa);$n(e,"RID","rpc"),$n(e,"SID",n.J),$n(e,"CI",n.M?"0":"1"),$n(e,"AID",n.V),$n(e,"TYPE","xmlhttp"),my(n,e),n.o&&n.s&&UE(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.oa,t.L=1,t.v=g0(Zo(e)),t.s=null,t.S=!0,vE(t,n)}function h(n){null!=n.v&&(Ft.clearTimeout(n.v),n.v=null)}function g(n,e){var t=null;if(n.g==e){h(n),a(n),n.g=null;var r=2}else{if(!Gp(n.h,e))return;t=e.F,Zp(n.h,e),r=1}if(0!=n.H)if(n.ta=e.aa,e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.G;var i=n.C;Ei(r=Vi(),new ny(r,t)),E0(n)}else o(n);else if(3==(i=e.o)||0==i&&0<n.ta||!(1==r&&function KA(n,e){return!(PE(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.F.concat(n.i),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=vh(pr(n.Na,n,e),_(n,n.C)),n.C++,0)))}(n,e)||2==r&&s(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),i){case 1:b(n,5);break;case 4:b(n,10);break;case 3:b(n,6);break;default:b(n,2)}}function _(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.l||(t*=2),t*e}function b(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var r=pr(n.pb,n);t||(t=new da("//www.google.com/images/cleardot.gif"),Ft.location&&"http"==Ft.location.protocol||Hp(t,"https"),g0(t)),function RE(n,e){const t=new Up;if(Ft.Image){const r=new Image;r.onload=qm(dy,t,r,"TestLoadImage: loaded",!0,e),r.onerror=qm(dy,t,r,"TestLoadImage: error",!1,e),r.onabort=qm(dy,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=qm(dy,t,r,"TestLoadImage: timeout",!1,e),Ft.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Ui(2);n.H=0,n.l&&n.l.za(e),I(n),CT(n)}function I(n){if(n.H=0,n.pa=[],n.l){const e=yT(n.h);(0!=e.length||0!=n.i.length)&&(mh(n.pa,e),mh(n.pa,n.i),n.h.i.length=0,Pp(n.i),n.i.length=0),n.l.ya()}}function S(n,e,t){var r=t instanceof da?Zo(t):new da(t,void 0);if(""!=r.g)e&&(r.g=e+"."+r.g),ay(r,r.m);else{var i=Ft.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var u=new da(null,void 0);r&&Hp(u,r),e&&(u.g=e),i&&ay(u,i),t&&(u.l=t),r=u}return e=n.Da,(t=n.F)&&e&&$n(r,t,e),$n(r,"VER",n.qa),my(n,r),r}function P(n,e,t){if(e&&!n.I)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new nr(t&&n.Ha&&!n.va?new Wp({ob:!0}):n.va)).Oa(n.I),e}function F(){}function z(){if(cu&&!(10<=Number(rT)))throw Error("Environmental error: no available transport.")}function K(n,e){gr.call(this),this.g=new wT(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!Zm(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Zm(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Ze(this)}function me(n){u0.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function Le(){jp.call(this),this.status=1}function Ze(n){this.g=n}function yt(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Se(n,e,t){t||(t=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(i=0;16>i;++i)r[i]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var u=n.g[3],d=(e=n.g[0])+(u^(t=n.g[1])&((i=n.g[2])^u))+r[0]+3614090360&4294967295;d=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=t+(d<<7&4294967295|d>>>25))+((d=u+(i^e&(t^i))+r[1]+3905402710&4294967295)<<12&4294967295|d>>>20))+((d=i+(t^u&(e^t))+r[2]+606105819&4294967295)<<17&4294967295|d>>>15))+((d=t+(e^i&(u^e))+r[3]+3250441966&4294967295)<<22&4294967295|d>>>10))+((d=e+(u^t&(i^u))+r[4]+4118548399&4294967295)<<7&4294967295|d>>>25))+((d=u+(i^e&(t^i))+r[5]+1200080426&4294967295)<<12&4294967295|d>>>20))+((d=i+(t^u&(e^t))+r[6]+2821735955&4294967295)<<17&4294967295|d>>>15))+((d=t+(e^i&(u^e))+r[7]+4249261313&4294967295)<<22&4294967295|d>>>10))+((d=e+(u^t&(i^u))+r[8]+1770035416&4294967295)<<7&4294967295|d>>>25))+((d=u+(i^e&(t^i))+r[9]+2336552879&4294967295)<<12&4294967295|d>>>20))+((d=i+(t^u&(e^t))+r[10]+4294925233&4294967295)<<17&4294967295|d>>>15))+((d=t+(e^i&(u^e))+r[11]+2304563134&4294967295)<<22&4294967295|d>>>10))+((d=e+(u^t&(i^u))+r[12]+1804603682&4294967295)<<7&4294967295|d>>>25))+((d=u+(i^e&(t^i))+r[13]+4254626195&4294967295)<<12&4294967295|d>>>20))+((d=i+(t^u&(e^t))+r[14]+2792965006&4294967295)<<17&4294967295|d>>>15))+((d=t+(e^i&(u^e))+r[15]+1236535329&4294967295)<<22&4294967295|d>>>10))+((d=e+(i^u&(t^i))+r[1]+4129170786&4294967295)<<5&4294967295|d>>>27))+((d=u+(t^i&(e^t))+r[6]+3225465664&4294967295)<<9&4294967295|d>>>23))+((d=i+(e^t&(u^e))+r[11]+643717713&4294967295)<<14&4294967295|d>>>18))+((d=t+(u^e&(i^u))+r[0]+3921069994&4294967295)<<20&4294967295|d>>>12))+((d=e+(i^u&(t^i))+r[5]+3593408605&4294967295)<<5&4294967295|d>>>27))+((d=u+(t^i&(e^t))+r[10]+38016083&4294967295)<<9&4294967295|d>>>23))+((d=i+(e^t&(u^e))+r[15]+3634488961&4294967295)<<14&4294967295|d>>>18))+((d=t+(u^e&(i^u))+r[4]+3889429448&4294967295)<<20&4294967295|d>>>12))+((d=e+(i^u&(t^i))+r[9]+568446438&4294967295)<<5&4294967295|d>>>27))+((d=u+(t^i&(e^t))+r[14]+3275163606&4294967295)<<9&4294967295|d>>>23))+((d=i+(e^t&(u^e))+r[3]+4107603335&4294967295)<<14&4294967295|d>>>18))+((d=t+(u^e&(i^u))+r[8]+1163531501&4294967295)<<20&4294967295|d>>>12))+((d=e+(i^u&(t^i))+r[13]+2850285829&4294967295)<<5&4294967295|d>>>27))+((d=u+(t^i&(e^t))+r[2]+4243563512&4294967295)<<9&4294967295|d>>>23))+((d=i+(e^t&(u^e))+r[7]+1735328473&4294967295)<<14&4294967295|d>>>18))+((d=t+(u^e&(i^u))+r[12]+2368359562&4294967295)<<20&4294967295|d>>>12))+((d=e+(t^i^u)+r[5]+4294588738&4294967295)<<4&4294967295|d>>>28))+((d=u+(e^t^i)+r[8]+2272392833&4294967295)<<11&4294967295|d>>>21))+((d=i+(u^e^t)+r[11]+1839030562&4294967295)<<16&4294967295|d>>>16))+((d=t+(i^u^e)+r[14]+4259657740&4294967295)<<23&4294967295|d>>>9))+((d=e+(t^i^u)+r[1]+2763975236&4294967295)<<4&4294967295|d>>>28))+((d=u+(e^t^i)+r[4]+1272893353&4294967295)<<11&4294967295|d>>>21))+((d=i+(u^e^t)+r[7]+4139469664&4294967295)<<16&4294967295|d>>>16))+((d=t+(i^u^e)+r[10]+3200236656&4294967295)<<23&4294967295|d>>>9))+((d=e+(t^i^u)+r[13]+681279174&4294967295)<<4&4294967295|d>>>28))+((d=u+(e^t^i)+r[0]+3936430074&4294967295)<<11&4294967295|d>>>21))+((d=i+(u^e^t)+r[3]+3572445317&4294967295)<<16&4294967295|d>>>16))+((d=t+(i^u^e)+r[6]+76029189&4294967295)<<23&4294967295|d>>>9))+((d=e+(t^i^u)+r[9]+3654602809&4294967295)<<4&4294967295|d>>>28))+((d=u+(e^t^i)+r[12]+3873151461&4294967295)<<11&4294967295|d>>>21))+((d=i+(u^e^t)+r[15]+530742520&4294967295)<<16&4294967295|d>>>16))+((d=t+(i^u^e)+r[2]+3299628645&4294967295)<<23&4294967295|d>>>9))+((d=e+(i^(t|~u))+r[0]+4096336452&4294967295)<<6&4294967295|d>>>26))+((d=u+(t^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|d>>>22))+((d=i+(e^(u|~t))+r[14]+2878612391&4294967295)<<15&4294967295|d>>>17))+((d=t+(u^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|d>>>11))+((d=e+(i^(t|~u))+r[12]+1700485571&4294967295)<<6&4294967295|d>>>26))+((d=u+(t^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|d>>>22))+((d=i+(e^(u|~t))+r[10]+4293915773&4294967295)<<15&4294967295|d>>>17))+((d=t+(u^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|d>>>11))+((d=e+(i^(t|~u))+r[8]+1873313359&4294967295)<<6&4294967295|d>>>26))+((d=u+(t^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|d>>>22))+((d=i+(e^(u|~t))+r[6]+2734768916&4294967295)<<15&4294967295|d>>>17))+((d=t+(u^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|d>>>11))+((u=(e=t+((d=e+(i^(t|~u))+r[4]+4149444226&4294967295)<<6&4294967295|d>>>26))+((d=u+(t^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|d>>>22))^((i=u+((d=i+(e^(u|~t))+r[2]+718787259&4294967295)<<15&4294967295|d>>>17))|~e))+r[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(i+(d<<21&4294967295|d>>>11))&4294967295,n.g[2]=n.g[2]+i&4294967295,n.g[3]=n.g[3]+u&4294967295}function tt(n,e){this.h=e;for(var t=[],r=!0,i=n.length-1;0<=i;i--){var u=0|n[i];r&&u==e||(t[i]=u,r=!1)}this.g=t}(et=nr.prototype).Oa=function(n){this.M=n},et.ha=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():As.g(),this.C=function a0(n){return n.h||(n.h=n.i())}(this.u?this.u:As),this.g.onreadystatechange=pr(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(u){return void fy(this,u)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const u of r.keys())t.set(u,r.get(u))}r=Array.from(t.keys()).find(u=>"content-type"==u.toLowerCase()),i=Ft.FormData&&n instanceof Ft.FormData,!(0<=qv(WA,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[u,d]of t)this.g.setRequestHeader(u,d);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{vT(this),0<this.B&&((this.L=function NE(n){return cu&&function nT(){return Yv(UA,9,function(){let n=0;const e=Wv(String(lu)).split("."),t=Wv("9").split("."),r=Math.max(e.length,t.length);for(let d=0;0==n&&d<r;d++){var i=e[d]||"",u=t[d]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],0==i[0].length&&0==u[0].length)break;n=Kv(0==i[1].length?0:parseInt(i[1],10),0==u[1].length?0:parseInt(u[1],10))||Kv(0==i[2].length,0==u[2].length)||Kv(i[2],u[2]),i=i[3],u=u[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=pr(this.ua,this)):this.A=lE(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(u){fy(this,u)}},et.ua=function(){typeof zv<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ei(this,"timeout"),this.abort(8))},et.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Ei(this,"complete"),Ei(this,"abort"),b0(this))},et.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),b0(this,!0)),nr.$.N.call(this)},et.La=function(){this.s||(this.G||this.v||this.l?FE(this):this.kb())},et.kb=function(){FE(this)},et.da=function(){try{return 2<du(this)?this.g.status:-1}catch{return-1}},et.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},et.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),_T(e)}},et.Ia=function(){return this.m},et.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(et=wT.prototype).qa=8,et.H=1,et.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const i=new Ch(this,this.j,n,void 0);let u=this.s;if(this.U&&(u?(u=Kb(u),Yb(u,this.U)):u=this.U),null!==this.o||this.O||(i.I=u,u=null),this.P)e:{for(var e=0,t=0;t<this.i.length;t++){var r=this.i[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=ET(this,i,e),$n(t=Zo(this.G),"RID",n),$n(t,"CVER",22),this.F&&$n(t,"X-HTTP-Session-Id",this.F),my(this,t),u&&(this.O?e="headers="+encodeURIComponent(String(VE(u)))+"&"+e:this.o&&UE(t,this.o,u)),qp(this.h,i),this.bb&&$n(t,"TYPE","init"),this.P?($n(t,"$req",e),$n(t,"SID","null"),i.ba=!0,d0(i,t,null)):d0(i,t,e),this.H=2}}else 3==this.H&&(n?bT(this,n):0==this.i.length||ly(this.h)||bT(this))},et.Ma=function(){if(this.u=null,l(this),this.ca&&!(this.L||null==this.g||0>=this.S)){var n=2*this.S;this.j.info("BP detection timer enabled: "+n),this.B=vh(pr(this.jb,this),n)}},et.jb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.M=!1,this.L=!0,Ui(10),gy(this),l(this))},et.ib=function(){null!=this.v&&(this.v=null,gy(this),s(this),Ui(19))},et.pb=function(n){n?(this.j.info("Successfully pinged google.com"),Ui(2)):(this.j.info("Failed to ping google.com"),Ui(1))},(et=F.prototype).Ba=function(){},et.Aa=function(){},et.za=function(){},et.ya=function(){},et.Va=function(){},z.prototype.g=function(n,e){return new K(n,e)},zr(K,gr),K.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.I=!0);var n=this.g,e=this.l,t=this.h||void 0;Ui(0),n.Y=e,n.ma=t||{},n.M=n.aa,n.G=S(n,null,n.Y),E0(n)},K.prototype.close=function(){BE(this.g)},K.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=_h(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.fb++,n)),3==e.H&&E0(e)},K.prototype.N=function(){this.g.l=null,delete this.j,BE(this.g),delete this.g,K.$.N.call(this)},zr(me,u0),zr(Le,jp),zr(Ze,F),Ze.prototype.Ba=function(){Ei(this.g,"a")},Ze.prototype.Aa=function(n){Ei(this.g,new me(n))},Ze.prototype.za=function(n){Ei(this.g,new Le)},Ze.prototype.ya=function(){Ei(this.g,"b")},zr(yt,function dt(){this.blockSize=-1}),yt.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},yt.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,r=this.m,i=this.h,u=0;u<e;){if(0==i)for(;u<=t;)Se(this,n,u),u+=this.blockSize;if("string"==typeof n){for(;u<e;)if(r[i++]=n.charCodeAt(u++),i==this.blockSize){Se(this,r),i=0;break}}else for(;u<e;)if(r[i++]=n[u++],i==this.blockSize){Se(this,r),i=0;break}}this.h=i,this.i+=e},yt.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var r=0;32>r;r+=8)n[t++]=this.g[e]>>>r&255;return n};var kn={};function Hn(n){return-128<=n&&128>n?Yv(kn,n,function(e){return new tt([0|e],0>e?-1:0)}):new tt([0|n],0>n?-1:0)}function hu(n){if(isNaN(n)||!isFinite(n))return yy;if(0>n)return Bi(hu(-n));for(var e=[],t=1,r=0;n>=t;r++)e[r]=n/t|0,t*=IT;return new tt(e,0)}var IT=4294967296,yy=Hn(0),DT=Hn(1),QA=Hn(16777216);function Ul(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function ha(n){return-1==n.h}function Bi(n){for(var e=n.g.length,t=[],r=0;r<e;r++)t[r]=~n.g[r];return new tt(t,~n.h).add(DT)}function jE(n,e){return n.add(Bi(e))}function $E(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function I0(n,e){this.g=n,this.h=e}function HE(n,e){if(Ul(e))throw Error("division by zero");if(Ul(n))return new I0(yy,yy);if(ha(n))return e=HE(Bi(n),e),new I0(Bi(e.g),Bi(e.h));if(ha(e))return e=HE(n,Bi(e)),new I0(Bi(e.g),e.h);if(30<n.g.length){if(ha(n)||ha(e))throw Error("slowDivide_ only works with positive integers.");for(var t=DT,r=e;0>=r.X(n);)t=JA(t),r=JA(r);var i=_y(t,1),u=_y(r,1);for(r=_y(r,2),t=_y(t,2);!Ul(r);){var d=u.add(r);0>=d.X(n)&&(i=i.add(t),u=d),r=_y(r,1),t=_y(t,1)}return e=jE(n,i.R(e)),new I0(i,e)}for(i=yy;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,r-48),d=(u=hu(t)).R(e);ha(d)||0<d.X(n);)d=(u=hu(t-=r)).R(e);Ul(u)&&(u=DT),i=i.add(u),n=jE(n,d)}return new I0(i,n)}function JA(n){for(var e=n.g.length+1,t=[],r=0;r<e;r++)t[r]=n.D(r)<<1|n.D(r-1)>>>31;return new tt(t,n.h)}function _y(n,e){var t=e>>5;e%=32;for(var r=n.g.length-t,i=[],u=0;u<r;u++)i[u]=0<e?n.D(u+t)>>>e|n.D(u+t+1)<<32-e:n.D(u+t);return new tt(i,n.h)}(et=tt.prototype).ea=function(){if(ha(this))return-Bi(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var r=this.D(t);n+=(0<=r?r:IT+r)*e,e*=IT}return n},et.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(Ul(this))return"0";if(ha(this))return"-"+Bi(this).toString(n);for(var e=hu(Math.pow(n,6)),t=this,r="";;){var i=HE(t,e).g,u=((0<(t=jE(t,i.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(Ul(t=i))return u+r;for(;6>u.length;)u="0"+u;r=u+r}},et.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},et.X=function(n){return ha(n=jE(this,n))?-1:Ul(n)?0:1},et.abs=function(){return ha(this)?Bi(this):this},et.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0,i=0;i<=e;i++){var u=r+(65535&this.D(i))+(65535&n.D(i)),d=(u>>>16)+(this.D(i)>>>16)+(n.D(i)>>>16);r=d>>>16,t[i]=(d&=65535)<<16|(u&=65535)}return new tt(t,-2147483648&t[t.length-1]?-1:0)},et.R=function(n){if(Ul(this)||Ul(n))return yy;if(ha(this))return ha(n)?Bi(this).R(Bi(n)):Bi(Bi(this).R(n));if(ha(n))return Bi(this.R(Bi(n)));if(0>this.X(QA)&&0>n.X(QA))return hu(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],r=0;r<2*e;r++)t[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<n.g.length;i++){var u=this.D(r)>>>16,d=65535&this.D(r),m=n.D(i)>>>16,w=65535&n.D(i);t[2*r+2*i]+=d*w,$E(t,2*r+2*i),t[2*r+2*i+1]+=u*w,$E(t,2*r+2*i+1),t[2*r+2*i+1]+=d*m,$E(t,2*r+2*i+1),t[2*r+2*i+2]+=u*m,$E(t,2*r+2*i+2)}for(r=0;r<e;r++)t[r]=t[2*r+1]<<16|t[2*r];for(r=e;r<2*e;r++)t[r]=0;return new tt(t,0)},et.gb=function(n){return HE(this,n).h},et.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)&n.D(r);return new tt(t,this.h&n.h)},et.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)|n.D(r);return new tt(t,this.h|n.h)},et.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)^n.D(r);return new tt(t,this.h^n.h)},z.prototype.createWebChannel=z.prototype.g,K.prototype.send=K.prototype.u,K.prototype.open=K.prototype.m,K.prototype.close=K.prototype.close,Bp.NO_ERROR=0,Bp.TIMEOUT=8,Bp.HTTP_ERROR=6,mE.COMPLETE="complete",yE.EventType=wh,wh.OPEN="a",wh.CLOSE="b",wh.ERROR="c",wh.MESSAGE="d",gr.prototype.listen=gr.prototype.O,nr.prototype.listenOnce=nr.prototype.P,nr.prototype.getLastError=nr.prototype.Sa,nr.prototype.getLastErrorCode=nr.prototype.Ia,nr.prototype.getStatus=nr.prototype.da,nr.prototype.getResponseJson=nr.prototype.Wa,nr.prototype.getResponseText=nr.prototype.ja,nr.prototype.send=nr.prototype.ha,nr.prototype.setWithCredentials=nr.prototype.Oa,yt.prototype.digest=yt.prototype.l,yt.prototype.reset=yt.prototype.reset,yt.prototype.update=yt.prototype.j,tt.prototype.add=tt.prototype.add,tt.prototype.multiply=tt.prototype.R,tt.prototype.modulo=tt.prototype.gb,tt.prototype.compare=tt.prototype.X,tt.prototype.toNumber=tt.prototype.ea,tt.prototype.toString=tt.prototype.toString,tt.prototype.getBits=tt.prototype.D,tt.fromNumber=hu,tt.fromString=function YA(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return Bi(YA(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=hu(Math.pow(e,8)),r=yy,i=0;i<n.length;i+=8){var u=Math.min(8,n.length-i),d=parseInt(n.substring(i,i+u),e);8>u?(u=hu(Math.pow(e,u)),r=r.R(u).add(hu(d))):r=(r=r.R(t)).add(hu(d))}return r};var UR=vo.createWebChannelTransport=function(){return new z},BR=vo.getStatEventTarget=function(){return Vi()},xT=vo.ErrorCode=Bp,jR=vo.EventType=mE,$R=vo.Event=kl,XA=vo.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},HR=vo.FetchXmlHttpFactory=Wp,zE=vo.WebChannel=yE,zR=vo.XhrIo=nr,GR=vo.Md5=yt,vy=vo.Integer=tt;const eM="@firebase/firestore";class Di{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Di.UNAUTHENTICATED=new Di(null),Di.GOOGLE_CREDENTIALS=new Di("google-credentials-uid"),Di.FIRST_PARTY=new Di("first-party-uid"),Di.MOCK_USER=new Di("mock-user");let wy="9.21.0";const Sh=new Pl.Yd("@firebase/firestore");function TT(){return Sh.logLevel}function ke(n,...e){if(Sh.logLevel<=Pl.in.DEBUG){const t=e.map(ST);Sh.debug(`Firestore (${wy}): ${n}`,...t)}}function Rr(n,...e){if(Sh.logLevel<=Pl.in.ERROR){const t=e.map(ST);Sh.error(`Firestore (${wy}): ${n}`,...t)}}function fa(n,...e){if(Sh.logLevel<=Pl.in.WARN){const t=e.map(ST);Sh.warn(`Firestore (${wy}): ${n}`,...t)}}function ST(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function st(n="Unexpected state"){const e=`FIRESTORE (${wy}) INTERNAL ASSERTION FAILED: `+n;throw Rr(e),new Error(e)}function wt(n,e){n||st()}function Qe(n,e){return n}const ae={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Te extends mn.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class oi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class tM{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class WR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Di.UNAUTHENTICATED))}shutdown(){}}class KR{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class YR{constructor(e){this.t=e,this.currentUser=Di.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const u=D=>this.i!==i?(i=this.i,t(D)):Promise.resolve();let d=new oi;this.o=()=>{this.i++,this.currentUser=this.u(),d.resolve(),d=new oi,e.enqueueRetryable(()=>u(this.currentUser))};const m=()=>{const D=d;e.enqueueRetryable((0,ye.Z)(function*(){yield D.promise,yield u(r.currentUser)}))},w=D=>{ke("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=D,this.auth.addAuthTokenListener(this.o),m()};this.t.onInit(D=>w(D)),setTimeout(()=>{if(!this.auth){const D=this.t.getImmediate({optional:!0});D?w(D):(ke("FirebaseAuthCredentialsProvider","Auth not yet detected"),d.resolve(),d=new oi)}},0),m()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(ke("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(wt("string"==typeof r.accessToken),new tM(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return wt(null===e||"string"==typeof e),new Di(e)}}class QR{constructor(e,t,r){this.h=e,this.l=t,this.m=r,this.type="FirstParty",this.user=Di.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class JR{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new QR(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Di.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class nM{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class XR{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const r=u=>{null!=u.error&&ke("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const d=u.token!==this.T;return this.T=u.token,ke("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>r(u))};const i=u=>{ke("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.appCheck.addTokenListener(this.o)};this.I.onInit(u=>i(u)),setTimeout(()=>{if(!this.appCheck){const u=this.I.getImmediate({optional:!0});u?i(u):ke("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(wt("string"==typeof t.token),this.T=t.token,new nM(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function eN(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class rM{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=eN(40);for(let u=0;u<i.length;++u)r.length<20&&i[u]<t&&(r+=e.charAt(i[u]%e.length))}return r}}function jt(n,e){return n<e?-1:n>e?1:0}function Cy(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function iM(n){return n+"\0"}class rr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Te(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Te(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Te(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Te(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return rr.fromMillis(Date.now())}static fromDate(e){return rr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new rr(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?jt(this.nanoseconds,e.nanoseconds):jt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class bt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new bt(e)}static min(){return new bt(new rr(0,0))}static max(){return new bt(new rr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class D0{constructor(e,t,r){void 0===t?t=0:t>e.length&&st(),void 0===r?r=e.length-t:r>e.length-t&&st(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===D0.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof D0?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const u=e.get(i),d=t.get(i);if(u<d)return-1;if(u>d)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class ln extends D0{construct(e,t,r){return new ln(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Te(ae.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new ln(t)}static emptyPath(){return new ln([])}}const tN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Cr extends D0{construct(e,t,r){return new Cr(e,t,r)}static isValidIdentifier(e){return tN.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Cr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Cr(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const u=()=>{if(0===r.length)throw new Te(ae.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let d=!1;for(;i<e.length;){const m=e[i];if("\\"===m){if(i+1===e.length)throw new Te(ae.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const w=e[i+1];if("\\"!==w&&"."!==w&&"`"!==w)throw new Te(ae.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=w,i+=2}else"`"===m?(d=!d,i++):"."!==m||d?(r+=m,i++):(u(),i++)}if(u(),d)throw new Te(ae.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Cr(t)}static emptyPath(){return new Cr([])}}class Ke{constructor(e){this.path=e}static fromPath(e){return new Ke(ln.fromString(e))}static fromName(e){return new Ke(ln.fromString(e).popFirst(5))}static empty(){return new Ke(ln.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===ln.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return ln.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ke(new ln(e.slice()))}}class GE{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function AT(n){return n.fields.find(e=>2===e.kind)}function Kp(n){return n.fields.filter(e=>2!==e.kind)}GE.UNKNOWN_ID=-1;class qE{constructor(e,t){this.fieldPath=e,this.kind=t}}class x0{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new x0(0,Ps.min())}}function oM(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=bt.fromTimestamp(1e9===r?new rr(t+1,0):new rr(t,r));return new Ps(i,Ke.empty(),e)}function sM(n){return new Ps(n.readTime,n.key,-1)}class Ps{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Ps(bt.min(),Ke.empty(),-1)}static max(){return new Ps(bt.max(),Ke.empty(),-1)}}function MT(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=Ke.comparator(n.documentKey,e.documentKey),0!==t?t:jt(n.largestBatchId,e.largestBatchId))}const aM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class uM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Ah(n){return PT.apply(this,arguments)}function PT(){return PT=(0,ye.Z)(function*(n){if(n.code!==ae.FAILED_PRECONDITION||n.message!==aM)throw n;ke("LocalStore","Unexpectedly lost primary lease")}),PT.apply(this,arguments)}class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&st(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ee((r,i)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,i)},this.catchCallback=u=>{this.wrapFailure(t,u).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ee?t:ee.resolve(t)}catch(t){return ee.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ee.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ee.reject(t)}static resolve(e){return new ee((t,r)=>{t(e)})}static reject(e){return new ee((t,r)=>{r(e)})}static waitFor(e){return new ee((t,r)=>{let i=0,u=0,d=!1;e.forEach(m=>{++i,m.next(()=>{++u,d&&u===i&&t()},w=>r(w))}),d=!0,u===i&&t()})}static or(e){let t=ee.resolve(!1);for(const r of e)t=t.next(i=>i?ee.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,u)=>{r.push(t.call(this,i,u))}),this.waitFor(r)}static mapArray(e,t){return new ee((r,i)=>{const u=e.length,d=new Array(u);let m=0;for(let w=0;w<u;w++){const D=w;t(e[D]).next(T=>{d[D]=T,++m,m===u&&r(d)},T=>i(T))}})}static doWhile(e,t){return new ee((r,i)=>{const u=()=>{!0===e()?t().next(()=>{u()},i):r()};u()})}}class ZE{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.R=new oi,this.transaction.oncomplete=()=>{this.R.resolve()},this.transaction.onabort=()=>{t.error?this.R.reject(new T0(e,t.error)):this.R.resolve()},this.transaction.onerror=r=>{const i=OT(r.target.error);this.R.reject(new T0(e,i))}}static open(e,t,r,i){try{return new ZE(t,e.transaction(i,r))}catch(u){throw new T0(t,u)}}get v(){return this.R.promise}abort(e){e&&this.R.reject(e),this.aborted||(ke("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new oN(t)}}class fu{constructor(e,t,r){this.name=e,this.version=t,this.V=r,12.2===fu.S((0,mn.z$)())&&Rr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return ke("SimpleDb","Removing database:",e),Yp(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,mn.hl)())return!1;if(fu.C())return!0;const e=(0,mn.z$)(),t=fu.S(e),r=0<t&&t<10,i=fu.N(e),u=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||u)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static N(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}O(e){var t=this;return(0,ye.Z)(function*(){return t.db||(ke("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const u=indexedDB.open(t.name,t.version);u.onsuccess=d=>{r(d.target.result)},u.onblocked=()=>{i(new T0(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},u.onerror=d=>{const m=d.target.error;i("VersionError"===m.name?new Te(ae.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===m.name?new Te(ae.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+m):new T0(e,m))},u.onupgradeneeded=d=>{ke("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',d.oldVersion),t.V.$(d.target.result,u.transaction,d.oldVersion,t.version).next(()=>{ke("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.F&&(t.db.onversionchange=r=>t.F(r)),t.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var u=this;return(0,ye.Z)(function*(){const d="readonly"===t;let m=0;for(;;){++m;try{u.db=yield u.O(e);const w=ZE.open(u.db,e,d?"readonly":"readwrite",r),D=i(w).next(T=>(w.P(),T)).catch(T=>(w.abort(T),ee.reject(T))).toPromise();return D.catch(()=>{}),yield w.v,D}catch(w){const D=w,T="FirebaseError"!==D.name&&m<3;if(ke("SimpleDb","Transaction failed with error:",D.message,"Retrying:",T),u.close(),!T)return Promise.reject(D)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class iN{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return Yp(this.L.delete())}}class T0 extends Te{constructor(e,t){super(ae.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Mh(n){return"IndexedDbTransactionError"===n.name}class oN{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(ke("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(ke("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Yp(r)}add(e){return ke("SimpleDb","ADD",this.store.name,e,e),Yp(this.store.add(e))}get(e){return Yp(this.store.get(e)).next(t=>(void 0===t&&(t=null),ke("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return ke("SimpleDb","DELETE",this.store.name,e),Yp(this.store.delete(e))}count(){return ke("SimpleDb","COUNT",this.store.name),Yp(this.store.count())}j(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),u=[];return this.W(i,(d,m)=>{u.push(m)}).next(()=>u)}{const i=this.store.getAll(r.range);return new ee((u,d)=>{i.onerror=m=>{d(m.target.error)},i.onsuccess=m=>{u(m.target.result)}})}}H(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new ee((i,u)=>{r.onerror=d=>{u(d.target.error)},r.onsuccess=d=>{i(d.target.result)}})}J(e,t){ke("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.Y=!1;const i=this.cursor(r);return this.W(i,(u,d,m)=>m.delete())}X(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.W(i,t)}Z(e){const t=this.cursor({});return new ee((r,i)=>{t.onerror=u=>{const d=OT(u.target.error);i(d)},t.onsuccess=u=>{const d=u.target.result;d?e(d.primaryKey,d.value).next(m=>{m?d.continue():r()}):r()}})}W(e,t){const r=[];return new ee((i,u)=>{e.onerror=d=>{u(d.target.error)},e.onsuccess=d=>{const m=d.target.result;if(!m)return void i();const w=new iN(m),D=t(m.primaryKey,m.value,w);if(D instanceof ee){const T=D.catch(O=>(w.done(),ee.reject(O)));r.push(T)}w.isDone?i():null===w.K?m.continue():m.continue(w.K)}}).next(()=>ee.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.Y?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Yp(n){return new ee((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=OT(r.target.error);t(i)}})}let cM=!1;function OT(n){const e=fu.S((0,mn.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Te("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return cM||(cM=!0,setTimeout(()=>{throw r},0)),r}}return n}class sN{constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var t=this;ke("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,ye.Z)(function*(){t.task=null;try{ke("IndexBackiller",`Documents written: ${yield t.tt.nt()}`)}catch(r){Mh(r)?ke("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield Ah(r)}yield t.et(6e4)}))}}class aN{constructor(e,t){this.localStore=e,this.persistence=t}nt(e=50){var t=this;return(0,ye.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>t.st(r,e))})()}st(e,t){const r=new Set;let i=t,u=!0;return ee.doWhile(()=>!0===u&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(d=>{if(null!==d&&!r.has(d))return ke("IndexBackiller",`Processing collection: ${d}`),this.it(e,d,i).next(m=>{i-=m,r.add(d)});u=!1})).next(()=>t-i)}it(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next(u=>{const d=u.changes;return this.localStore.indexManager.updateIndexEntries(e,d).next(()=>this.rt(i,u)).next(m=>(ke("IndexBackiller",`Updating offset: ${m}`),this.localStore.indexManager.updateCollectionGroup(e,t,m))).next(()=>d.size)}))}rt(e,t){let r=e;return t.changes.forEach((i,u)=>{const d=sM(u);MT(d,r)>0&&(r=d)}),new Ps(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}let Os=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ot(i),this.ut=i=>r.writeSequenceNumber(i))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function S0(n){return null==n}function A0(n){return 0===n&&1/n==-1/0}function lM(n){return"number"==typeof n&&Number.isInteger(n)&&!A0(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function to(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=dM(e)),e=uN(n.get(t),e);return dM(e)}function uN(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const u=n.charAt(i);switch(u){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=u}}return t}function dM(n){return n+"\x01\x01"}function Ec(n){const e=n.length;if(wt(e>=2),2===e)return wt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),ln.emptyPath();const t=e-2,r=[];let i="";for(let u=0;u<e;){const d=n.indexOf("\x01",u);switch((d<0||d>t)&&st(),n.charAt(d+1)){case"\x01":const m=n.substring(u,d);let w;0===i.length?w=m:(i+=m,w=i,i=""),r.push(w);break;case"\x10":i+=n.substring(u,d),i+="\0";break;case"\x11":i+=n.substring(u,d+1);break;default:st()}u=d+2}return new ln(r)}const hM=["userId","batchId"];function WE(n,e){return[n,to(e)]}function fM(n,e,t){return[n,to(e),t]}const cN={},lN=["prefixPath","collectionGroup","readTime","documentId"],dN=["prefixPath","collectionGroup","documentId"],hN=["collectionGroup","readTime","prefixPath","documentId"],fN=["canonicalId","targetId"],pN=["targetId","path"],gN=["path","targetId"],mN=["collectionId","parent"],yN=["indexId","uid"],_N=["uid","sequenceNumber"],vN=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],wN=["indexId","uid","orderedDocumentKey"],CN=["userId","collectionPath","documentId"],bN=["userId","collectionPath","largestBatchId"],EN=["userId","collectionGroup","largestBatchId"],pM=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],IN=[...pM,"documentOverlays"],gM=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],mM=gM,DN=[...mM,"indexConfiguration","indexState","indexEntries"];class RT extends uM{constructor(e,t){super(),this.at=e,this.currentSequenceNumber=t}}function xi(n,e){const t=Qe(n);return fu.M(t.at,e)}function yM(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ph(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function _M(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class Fn{constructor(e,t){this.comparator=e,this.root=t||ji.EMPTY}insert(e,t){return new Fn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ji.BLACK,null,null))}remove(e){return new Fn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ji.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new KE(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new KE(this.root,e,this.comparator,!1)}getReverseIterator(){return new KE(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new KE(this.root,e,this.comparator,!0)}}class KE{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?r(e.key,t):1,t&&i&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(0===u){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ji{constructor(e,t,r,i,u){this.key=e,this.value=t,this.color=r??ji.RED,this.left=i??ji.EMPTY,this.right=u??ji.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,u){return new ji(e??this.key,t??this.value,r??this.color,i??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const u=r(e,i.key);return i=u<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===u?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ji.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return ji.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ji.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ji.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw st();const e=this.left.check();if(e!==this.right.check())throw st();return e+(this.isRed()?0:1)}}ji.EMPTY=null,ji.RED=!0,ji.BLACK=!1,ji.EMPTY=new class{constructor(){this.size=0}get key(){throw st()}get value(){throw st()}get color(){throw st()}get left(){throw st()}get right(){throw st()}copy(n,e,t,r,i){return this}insert(n,e,t){return new ji(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class zn{constructor(e){this.comparator=e,this.data=new Fn(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new vM(this.data.getIterator())}getIteratorFrom(e){return new vM(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof zn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,u=r.getNext().key;if(0!==this.comparator(i,u))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new zn(this.comparator);return t.data=e,t}}class vM{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function by(n){return n.hasNext()?n.getNext():void 0}class Wo{constructor(e){this.fields=e,e.sort(Cr.comparator)}static empty(){return new Wo([])}unionWith(e){let t=new zn(Cr.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Wo(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Cy(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class wM extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class si{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new wM("Invalid base64 string: "+i):i}}(e);return new si(t)}static fromUint8Array(e){const t=function(r){let i="";for(let u=0;u<r.length;++u)i+=String.fromCharCode(r[u]);return i}(e);return new si(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return jt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}si.EMPTY_BYTE_STRING=new si("");const TN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Oh(n){if(wt(!!n),"string"==typeof n){let e=0;const t=TN.exec(n);if(wt(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:br(n.seconds),nanos:br(n.nanos)}}function br(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Bl(n){return"string"==typeof n?si.fromBase64String(n):si.fromUint8Array(n)}function YE(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function QE(n){const e=n.mapValue.fields.__previous_value__;return YE(e)?QE(e):e}function M0(n){const e=Oh(n.mapValue.fields.__local_write_time__.timestampValue);return new rr(e.seconds,e.nanos)}class SN{constructor(e,t,r,i,u,d,m,w){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=u,this.forceLongPolling=d,this.autoDetectLongPolling=m,this.useFetchStreams=w}}class Rh{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Rh("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Rh&&e.projectId===this.projectId&&e.database===this.database}}const Nh={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},JE={nullValue:"NULL_VALUE"};function kh(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?YE(n)?4:IM(n)?9007199254740991:10:st()}function Ic(n,e){if(n===e)return!0;const t=kh(n);if(t!==kh(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return M0(n).isEqual(M0(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const u=Oh(r.timestampValue),d=Oh(i.timestampValue);return u.seconds===d.seconds&&u.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,Bl(n.bytesValue).isEqual(Bl(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return br(r.geoPointValue.latitude)===br(i.geoPointValue.latitude)&&br(r.geoPointValue.longitude)===br(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return br(r.integerValue)===br(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const u=br(r.doubleValue),d=br(i.doubleValue);return u===d?A0(u)===A0(d):isNaN(u)&&isNaN(d)}return!1}(n,e);case 9:return Cy(n.arrayValue.values||[],e.arrayValue.values||[],Ic);case 10:return function(r,i){const u=r.mapValue.fields||{},d=i.mapValue.fields||{};if(yM(u)!==yM(d))return!1;for(const m in u)if(u.hasOwnProperty(m)&&(void 0===d[m]||!Ic(u[m],d[m])))return!1;return!0}(n,e);default:return st()}var i}function P0(n,e){return void 0!==(n.values||[]).find(t=>Ic(t,e))}function Fh(n,e){if(n===e)return 0;const t=kh(n),r=kh(e);if(t!==r)return jt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return jt(n.booleanValue,e.booleanValue);case 2:return function(i,u){const d=br(i.integerValue||i.doubleValue),m=br(u.integerValue||u.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1}(n,e);case 3:return CM(n.timestampValue,e.timestampValue);case 4:return CM(M0(n),M0(e));case 5:return jt(n.stringValue,e.stringValue);case 6:return function(i,u){const d=Bl(i),m=Bl(u);return d.compareTo(m)}(n.bytesValue,e.bytesValue);case 7:return function(i,u){const d=i.split("/"),m=u.split("/");for(let w=0;w<d.length&&w<m.length;w++){const D=jt(d[w],m[w]);if(0!==D)return D}return jt(d.length,m.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,u){const d=jt(br(i.latitude),br(u.latitude));return 0!==d?d:jt(br(i.longitude),br(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,u){const d=i.values||[],m=u.values||[];for(let w=0;w<d.length&&w<m.length;++w){const D=Fh(d[w],m[w]);if(D)return D}return jt(d.length,m.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,u){if(i===Nh.mapValue&&u===Nh.mapValue)return 0;if(i===Nh.mapValue)return 1;if(u===Nh.mapValue)return-1;const d=i.fields||{},m=Object.keys(d),w=u.fields||{},D=Object.keys(w);m.sort(),D.sort();for(let T=0;T<m.length&&T<D.length;++T){const O=jt(m[T],D[T]);if(0!==O)return O;const U=Fh(d[m[T]],w[D[T]]);if(0!==U)return U}return jt(m.length,D.length)}(n.mapValue,e.mapValue);default:throw st()}}function CM(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return jt(n,e);const t=Oh(n),r=Oh(e),i=jt(t.seconds,r.seconds);return 0!==i?i:jt(t.nanos,r.nanos)}function Ey(n){return NT(n)}function NT(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=Oh(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Bl(n.bytesValue).toBase64():"referenceValue"in n?Ke.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",u=!0;for(const d of r.values||[])u?u=!1:i+=",",i+=NT(d);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let u="{",d=!0;for(const m of i)d?d=!1:u+=",",u+=`${m}:${NT(r.fields[m])}`;return u+"}"}(n.mapValue):st();var e}function Qp(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function kT(n){return!!n&&"integerValue"in n}function O0(n){return!!n&&"arrayValue"in n}function bM(n){return!!n&&"nullValue"in n}function EM(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function eI(n){return!!n&&"mapValue"in n}function R0(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Ph(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=R0(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=R0(n.arrayValue.values[t]);return e}return Object.assign({},n)}function IM(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function AN(n){return"nullValue"in n?JE:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Qp(Rh.empty(),Ke.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:st()}function MN(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Qp(Rh.empty(),Ke.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Nh:st()}function DM(n,e){const t=Fh(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function xM(n,e){const t=Fh(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class $i{constructor(e){this.value=e}static empty(){return new $i({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!eI(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=R0(t)}setAll(e){let t=Cr.emptyPath(),r={},i=[];e.forEach((d,m)=>{if(!t.isImmediateParentOf(m)){const w=this.getFieldsMap(t);this.applyChanges(w,r,i),r={},i=[],t=m.popLast()}d?r[m.lastSegment()]=R0(d):i.push(m.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,r,i)}delete(e){const t=this.field(e.popLast());eI(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ic(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];eI(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Ph(t,(i,u)=>e[i]=u);for(const i of r)delete e[i]}clone(){return new $i(R0(this.value))}}function TM(n){const e=[];return Ph(n.fields,(t,r)=>{const i=new Cr([t]);if(eI(r)){const u=TM(r.mapValue).fields;if(0===u.length)e.push(i);else for(const d of u)e.push(i.child(d))}else e.push(i)}),new Wo(e)}class Gn{constructor(e,t,r,i,u,d,m){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=u,this.data=d,this.documentState=m}static newInvalidDocument(e){return new Gn(e,0,bt.min(),bt.min(),bt.min(),$i.empty(),0)}static newFoundDocument(e,t,r,i){return new Gn(e,1,t,bt.min(),r,i,0)}static newNoDocument(e,t){return new Gn(e,2,t,bt.min(),bt.min(),$i.empty(),0)}static newUnknownDocument(e,t){return new Gn(e,3,t,bt.min(),bt.min(),$i.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(bt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=$i.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=$i.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=bt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Gn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Gn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Lh{constructor(e,t){this.position=e,this.inclusive=t}}function SM(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const u=e[i],d=n.position[i];if(r=u.field.isKeyField()?Ke.comparator(Ke.fromName(d.referenceValue),t.key):Fh(d,t.data.field(u.field)),"desc"===u.dir&&(r*=-1),0!==r)break}return r}function AM(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Ic(n.position[t],e.position[t]))return!1;return!0}class Iy{constructor(e,t="asc"){this.field=e,this.dir=t}}function PN(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class MM{}class on extends MM{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new ON(e,t,r):"array-contains"===t?new kN(e,r):"in"===t?new FM(e,r):"not-in"===t?new FN(e,r):"array-contains-any"===t?new LN(e,r):new on(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new RN(e,r):new NN(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Fh(t,this.value)):null!==t&&kh(this.value)===kh(t)&&this.matchesComparison(Fh(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return st()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Dn extends MM{constructor(e,t){super(),this.filters=e,this.op=t,this.ht=null}static create(e,t){return new Dn(e,t)}matches(e){return Dy(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ht||(this.ht=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(t=>t.isInequality());return null!==e?e.field:null}lt(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Dy(n){return"and"===n.op}function FT(n){return"or"===n.op}function LT(n){return PM(n)&&Dy(n)}function PM(n){for(const e of n.filters)if(e instanceof Dn)return!1;return!0}function VT(n){if(n instanceof on)return n.field.canonicalString()+n.op.toString()+Ey(n.value);if(LT(n))return n.filters.map(e=>VT(e)).join(",");{const e=n.filters.map(t=>VT(t)).join(",");return`${n.op}(${e})`}}function OM(n,e){return n instanceof on?(t=n,(r=e)instanceof on&&t.op===r.op&&t.field.isEqual(r.field)&&Ic(t.value,r.value)):n instanceof Dn?function(t,r){return r instanceof Dn&&t.op===r.op&&t.filters.length===r.filters.length&&t.filters.reduce((i,u,d)=>i&&OM(u,r.filters[d]),!0)}(n,e):void st();var t,r}function RM(n,e){const t=n.filters.concat(e);return Dn.create(t,n.op)}function NM(n){return n instanceof on?`${(e=n).field.canonicalString()} ${e.op} ${Ey(e.value)}`:n instanceof Dn?function(e){return e.op.toString()+" {"+e.getFilters().map(NM).join(" ,")+"}"}(n):"Filter";var e}class ON extends on{constructor(e,t,r){super(e,t,r),this.key=Ke.fromName(r.referenceValue)}matches(e){const t=Ke.comparator(e.key,this.key);return this.matchesComparison(t)}}class RN extends on{constructor(e,t){super(e,"in",t),this.keys=kM(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class NN extends on{constructor(e,t){super(e,"not-in",t),this.keys=kM(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function kM(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>Ke.fromName(r.referenceValue))}class kN extends on{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return O0(t)&&P0(t.arrayValue,this.value)}}class FM extends on{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&P0(this.value.arrayValue,t)}}class FN extends on{constructor(e,t){super(e,"not-in",t)}matches(e){if(P0(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!P0(this.value.arrayValue,t)}}class LN extends on{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!O0(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>P0(this.value.arrayValue,r))}}class VN{constructor(e,t=null,r=[],i=[],u=null,d=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=u,this.startAt=d,this.endAt=m,this.ft=null}}function UT(n,e=null,t=[],r=[],i=null,u=null,d=null){return new VN(n,e,t,r,i,u,d)}function Jp(n){const e=Qe(n);if(null===e.ft){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>VT(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),S0(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Ey(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Ey(r)).join(",")),e.ft=t}return e.ft}function N0(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!PN(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!OM(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!AM(n.startAt,e.startAt)&&AM(n.endAt,e.endAt)}function tI(n){return Ke.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function nI(n,e){return n.filters.filter(t=>t instanceof on&&t.field.isEqual(e))}function LM(n,e,t){let r=JE,i=!0;for(const u of nI(n,e)){let d=JE,m=!0;switch(u.op){case"<":case"<=":d=AN(u.value);break;case"==":case"in":case">=":d=u.value;break;case">":d=u.value,m=!1;break;case"!=":case"not-in":d=JE}DM({value:r,inclusive:i},{value:d,inclusive:m})<0&&(r=d,i=m)}if(null!==t)for(let u=0;u<n.orderBy.length;++u)if(n.orderBy[u].field.isEqual(e)){const d=t.position[u];DM({value:r,inclusive:i},{value:d,inclusive:t.inclusive})<0&&(r=d,i=t.inclusive);break}return{value:r,inclusive:i}}function VM(n,e,t){let r=Nh,i=!0;for(const u of nI(n,e)){let d=Nh,m=!0;switch(u.op){case">=":case">":d=MN(u.value),m=!1;break;case"==":case"in":case"<=":d=u.value;break;case"<":d=u.value,m=!1;break;case"!=":case"not-in":d=Nh}xM({value:r,inclusive:i},{value:d,inclusive:m})>0&&(r=d,i=m)}if(null!==t)for(let u=0;u<n.orderBy.length;++u)if(n.orderBy[u].field.isEqual(e)){const d=t.position[u];xM({value:r,inclusive:i},{value:d,inclusive:t.inclusive})>0&&(r=d,i=t.inclusive);break}return{value:r,inclusive:i}}class jl{constructor(e,t=null,r=[],i=[],u=null,d="F",m=null,w=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=u,this.limitType=d,this.startAt=m,this.endAt=w,this.dt=null,this._t=null}}function UM(n,e,t,r,i,u,d,m){return new jl(n,e,t,r,i,u,d,m)}function xy(n){return new jl(n)}function BM(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function BT(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function rI(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function jT(n){return null!==n.collectionGroup}function Xp(n){const e=Qe(n);if(null===e.dt){e.dt=[];const t=rI(e),r=BT(e);if(null!==t&&null===r)t.isKeyField()||e.dt.push(new Iy(t)),e.dt.push(new Iy(Cr.keyField(),"asc"));else{let i=!1;for(const u of e.explicitOrderBy)e.dt.push(u),u.field.isKeyField()&&(i=!0);if(!i){const u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new Iy(Cr.keyField(),u))}}}return e.dt}function wo(n){const e=Qe(n);if(!e._t)if("F"===e.limitType)e._t=UT(e.path,e.collectionGroup,Xp(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const u of Xp(e))t.push(new Iy(u.field,"desc"===u.dir?"asc":"desc"));const r=e.endAt?new Lh(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Lh(e.startAt.position,e.startAt.inclusive):null;e._t=UT(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e._t}function $T(n,e){e.getFirstInequalityField(),rI(n);const t=n.filters.concat([e]);return new jl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function iI(n,e,t){return new jl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function k0(n,e){return N0(wo(n),wo(e))&&n.limitType===e.limitType}function jM(n){return`${Jp(wo(n))}|lt:${n.limitType}`}function HT(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(r=>NM(r)).join(", ")}]`),S0(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Ey(r)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Ey(r)).join(",")),`Target(${t})`}(wo(n))}; limitType=${n.limitType})`}function F0(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):Ke.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of Xp(t))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,u,d){const m=SM(i,u,d);return i.inclusive?m<=0:m<0}(t.startAt,Xp(t),r)||t.endAt&&!function(i,u,d){const m=SM(i,u,d);return i.inclusive?m>=0:m>0}(t.endAt,Xp(t),r)));var t,r}function $M(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function HM(n){return(e,t)=>{let r=!1;for(const i of Xp(n)){const u=UN(i,e,t);if(0!==u)return u;r=r||i.field.isKeyField()}return 0}}function UN(n,e,t){const r=n.field.isKeyField()?Ke.comparator(e.key,t.key):function(i,u,d){const m=u.data.field(i),w=d.data.field(i);return null!==m&&null!==w?Fh(m,w):st()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return st()}}class $l{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,u]of r)if(this.equalsFn(i,e))return u}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let u=0;u<i.length;u++)if(this.equalsFn(i[u][0],e))return void(i[u]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ph(this.inner,(t,r)=>{for(const[i,u]of r)e(i,u)})}isEmpty(){return _M(this.inner)}size(){return this.innerSize}}const BN=new Fn(Ke.comparator);function Ko(){return BN}const zM=new Fn(Ke.comparator);function L0(...n){let e=zM;for(const t of n)e=e.insert(t.key,t);return e}function GM(n){let e=zM;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Dc(){return V0()}function qM(){return V0()}function V0(){return new $l(n=>n.toString(),(n,e)=>n.isEqual(e))}const jN=new Fn(Ke.comparator),$N=new zn(Ke.comparator);function Zt(...n){let e=$N;for(const t of n)e=e.add(t);return e}const HN=new zn(jt);function zT(){return HN}function ZM(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:A0(e)?"-0":e}}function WM(n){return{integerValue:""+n}}function KM(n,e){return lM(e)?WM(e):ZM(n,e)}class oI{constructor(){this._=void 0}}function zN(n,e,t){return n instanceof Ty?function(r,i){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&YE(i)&&(i=QE(i)),i&&(u.fields.__previous_value__=i),{mapValue:u}}(t,e):n instanceof eg?QM(n,e):n instanceof tg?JM(n,e):function(r,i){const u=YM(r,i),d=XM(u)+XM(r.wt);return kT(u)&&kT(r.wt)?WM(d):ZM(r.serializer,d)}(n,e)}function GN(n,e,t){return n instanceof eg?QM(n,e):n instanceof tg?JM(n,e):t}function YM(n,e){return n instanceof Sy?kT(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class Ty extends oI{}class eg extends oI{constructor(e){super(),this.elements=e}}function QM(n,e){const t=eP(e);for(const r of n.elements)t.some(i=>Ic(i,r))||t.push(r);return{arrayValue:{values:t}}}class tg extends oI{constructor(e){super(),this.elements=e}}function JM(n,e){let t=eP(e);for(const r of n.elements)t=t.filter(i=>!Ic(i,r));return{arrayValue:{values:t}}}class Sy extends oI{constructor(e,t){super(),this.serializer=e,this.wt=t}}function XM(n){return br(n.integerValue||n.doubleValue)}function eP(n){return O0(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class U0{constructor(e,t){this.field=e,this.transform=t}}class ZN{constructor(e,t){this.version=e,this.transformResults=t}}class ir{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ir}static exists(e){return new ir(void 0,e)}static updateTime(e){return new ir(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function sI(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class aI{}function tP(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new My(n.key,ir.none()):new Ay(n.key,n.data,ir.none());{const t=n.data,r=$i.empty();let i=new zn(Cr.comparator);for(let u of e.fields)if(!i.has(u)){let d=t.field(u);null===d&&u.length>1&&(u=u.popLast(),d=t.field(u)),null===d?r.delete(u):r.set(u,d),i=i.add(u)}return new Hl(n.key,r,new Wo(i.toArray()),ir.none())}}function WN(n,e,t){n instanceof Ay?function(r,i,u){const d=r.value.clone(),m=iP(r.fieldTransforms,i,u.transformResults);d.setAll(m),i.convertToFoundDocument(u.version,d).setHasCommittedMutations()}(n,e,t):n instanceof Hl?function(r,i,u){if(!sI(r.precondition,i))return void i.convertToUnknownDocument(u.version);const d=iP(r.fieldTransforms,i,u.transformResults),m=i.data;m.setAll(rP(r)),m.setAll(d),i.convertToFoundDocument(u.version,m).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function B0(n,e,t,r){return n instanceof Ay?function(i,u,d,m){if(!sI(i.precondition,u))return d;const w=i.value.clone(),D=oP(i.fieldTransforms,m,u);return w.setAll(D),u.convertToFoundDocument(u.version,w).setHasLocalMutations(),null}(n,e,t,r):n instanceof Hl?function(i,u,d,m){if(!sI(i.precondition,u))return d;const w=oP(i.fieldTransforms,m,u),D=u.data;return D.setAll(rP(i)),D.setAll(w),u.convertToFoundDocument(u.version,D).setHasLocalMutations(),null===d?null:d.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(T=>T.field))}(n,e,t,r):(d=t,sI(n.precondition,u=e)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):d);var u,d}function KN(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),u=YM(r.transform,i||null);null!=u&&(null===t&&(t=$i.empty()),t.set(r.field,u))}return t||null}function nP(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&Cy(t,r,(i,u)=>function qN(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof eg&&r instanceof eg||t instanceof tg&&r instanceof tg?Cy(t.elements,r.elements,Ic):t instanceof Sy&&r instanceof Sy?Ic(t.wt,r.wt):t instanceof Ty&&r instanceof Ty);var t,r}(i,u))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class Ay extends aI{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Hl extends aI{constructor(e,t,r,i,u=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function rP(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function iP(n,e,t){const r=new Map;wt(n.length===t.length);for(let i=0;i<t.length;i++){const u=n[i],d=u.transform,m=e.data.field(u.field);r.set(u.field,GN(d,m,t[i]))}return r}function oP(n,e,t){const r=new Map;for(const i of n){const u=i.transform,d=t.data.field(i.field);r.set(i.field,zN(u,d,e))}return r}class My extends aI{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class GT extends aI{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class qT{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const u=this.mutations[i];u.key.isEqual(e.key)&&WN(u,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=B0(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=B0(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=qM();return this.mutations.forEach(i=>{const u=e.get(i.key),d=u.overlayedDocument;let m=this.applyToLocalView(d,u.mutatedFields);m=t.has(i.key)?null:m;const w=tP(d,m);null!==w&&r.set(i.key,w),d.isValidDocument()||d.convertToNoDocument(bt.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Zt())}isEqual(e){return this.batchId===e.batchId&&Cy(this.mutations,e.mutations,(t,r)=>nP(t,r))&&Cy(this.baseMutations,e.baseMutations,(t,r)=>nP(t,r))}}class ZT{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){wt(e.mutations.length===r.length);let i=jN;const u=e.mutations;for(let d=0;d<u.length;d++)i=i.insert(u[d].key,r[d].version);return new ZT(e,t,r,i)}}class WT{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class QN{constructor(e,t){this.count=e,this.unchangedNames=t}}var Gr,dn;function sP(n){switch(n){default:return st();case ae.CANCELLED:case ae.UNKNOWN:case ae.DEADLINE_EXCEEDED:case ae.RESOURCE_EXHAUSTED:case ae.INTERNAL:case ae.UNAVAILABLE:case ae.UNAUTHENTICATED:return!1;case ae.INVALID_ARGUMENT:case ae.NOT_FOUND:case ae.ALREADY_EXISTS:case ae.PERMISSION_DENIED:case ae.FAILED_PRECONDITION:case ae.ABORTED:case ae.OUT_OF_RANGE:case ae.UNIMPLEMENTED:case ae.DATA_LOSS:return!0}}function aP(n){if(void 0===n)return Rr("GRPC error has no .code"),ae.UNKNOWN;switch(n){case Gr.OK:return ae.OK;case Gr.CANCELLED:return ae.CANCELLED;case Gr.UNKNOWN:return ae.UNKNOWN;case Gr.DEADLINE_EXCEEDED:return ae.DEADLINE_EXCEEDED;case Gr.RESOURCE_EXHAUSTED:return ae.RESOURCE_EXHAUSTED;case Gr.INTERNAL:return ae.INTERNAL;case Gr.UNAVAILABLE:return ae.UNAVAILABLE;case Gr.UNAUTHENTICATED:return ae.UNAUTHENTICATED;case Gr.INVALID_ARGUMENT:return ae.INVALID_ARGUMENT;case Gr.NOT_FOUND:return ae.NOT_FOUND;case Gr.ALREADY_EXISTS:return ae.ALREADY_EXISTS;case Gr.PERMISSION_DENIED:return ae.PERMISSION_DENIED;case Gr.FAILED_PRECONDITION:return ae.FAILED_PRECONDITION;case Gr.ABORTED:return ae.ABORTED;case Gr.OUT_OF_RANGE:return ae.OUT_OF_RANGE;case Gr.UNIMPLEMENTED:return ae.UNIMPLEMENTED;case Gr.DATA_LOSS:return ae.DATA_LOSS;default:return st()}}(dn=Gr||(Gr={}))[dn.OK=0]="OK",dn[dn.CANCELLED=1]="CANCELLED",dn[dn.UNKNOWN=2]="UNKNOWN",dn[dn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",dn[dn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",dn[dn.NOT_FOUND=5]="NOT_FOUND",dn[dn.ALREADY_EXISTS=6]="ALREADY_EXISTS",dn[dn.PERMISSION_DENIED=7]="PERMISSION_DENIED",dn[dn.UNAUTHENTICATED=16]="UNAUTHENTICATED",dn[dn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",dn[dn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",dn[dn.ABORTED=10]="ABORTED",dn[dn.OUT_OF_RANGE=11]="OUT_OF_RANGE",dn[dn.UNIMPLEMENTED=12]="UNIMPLEMENTED",dn[dn.INTERNAL=13]="INTERNAL",dn[dn.UNAVAILABLE=14]="UNAVAILABLE",dn[dn.DATA_LOSS=15]="DATA_LOSS";class KT{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return uI}static getOrCreateInstance(){return null===uI&&(uI=new KT),uI}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let uI=null;function uP(){return new TextEncoder}const JN=new vy([4294967295,4294967295],0);function cP(n){const e=uP().encode(n),t=new GR;return t.update(e),new Uint8Array(t.digest())}function lP(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new vy([t,r],0),new vy([i,u],0)]}class YT{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new j0(`Invalid padding: ${t}`);if(r<0)throw new j0(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new j0(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new j0(`Invalid padding when bitmap length is 0: ${t}`);this.yt=8*e.length-t,this.It=vy.fromNumber(this.yt)}Tt(e,t,r){let i=e.add(t.multiply(vy.fromNumber(r)));return 1===i.compare(JN)&&(i=new vy([i.getBits(0),i.getBits(1)],0)),i.modulo(this.It).toNumber()}Et(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}At(e){if(0===this.yt)return!1;const t=cP(e),[r,i]=lP(t);for(let u=0;u<this.hashCount;u++){const d=this.Tt(r,i,u);if(!this.Et(d))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),d=new YT(u,i,t);return r.forEach(m=>d.insert(m)),d}insert(e){if(0===this.yt)return;const t=cP(e),[r,i]=lP(t);for(let u=0;u<this.hashCount;u++){const d=this.Tt(r,i,u);this.Rt(d)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class j0 extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class $0{constructor(e,t,r,i,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,H0.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new $0(bt.min(),i,new Fn(jt),Ko(),Zt())}}class H0{constructor(e,t,r,i,u){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new H0(r,t,Zt(),Zt(),Zt())}}class cI{constructor(e,t,r,i){this.vt=e,this.removedTargetIds=t,this.key=r,this.Pt=i}}class dP{constructor(e,t){this.targetId=e,this.bt=t}}class hP{constructor(e,t,r=si.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class fP{constructor(){this.Vt=0,this.St=gP(),this.Dt=si.EMPTY_BYTE_STRING,this.Ct=!1,this.xt=!0}get current(){return this.Ct}get resumeToken(){return this.Dt}get Nt(){return 0!==this.Vt}get kt(){return this.xt}Mt(e){e.approximateByteSize()>0&&(this.xt=!0,this.Dt=e)}Ot(){let e=Zt(),t=Zt(),r=Zt();return this.St.forEach((i,u)=>{switch(u){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:st()}}),new H0(this.Dt,this.Ct,e,t,r)}$t(){this.xt=!1,this.St=gP()}Ft(e,t){this.xt=!0,this.St=this.St.insert(e,t)}Bt(e){this.xt=!0,this.St=this.St.remove(e)}Lt(){this.Vt+=1}qt(){this.Vt-=1}Ut(){this.xt=!0,this.Ct=!0}}class XN{constructor(e){this.Kt=e,this.Gt=new Map,this.Qt=Ko(),this.jt=pP(),this.zt=new Fn(jt)}Wt(e){for(const t of e.vt)e.Pt&&e.Pt.isFoundDocument()?this.Ht(t,e.Pt):this.Jt(t,e.key,e.Pt);for(const t of e.removedTargetIds)this.Jt(t,e.key,e.Pt)}Yt(e){this.forEachTarget(e,t=>{const r=this.Xt(t);switch(e.state){case 0:this.Zt(t)&&r.Mt(e.resumeToken);break;case 1:r.qt(),r.Nt||r.$t(),r.Mt(e.resumeToken);break;case 2:r.qt(),r.Nt||this.removeTarget(t);break;case 3:this.Zt(t)&&(r.Ut(),r.Mt(e.resumeToken));break;case 4:this.Zt(t)&&(this.te(t),r.Mt(e.resumeToken));break;default:st()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Gt.forEach((r,i)=>{this.Zt(i)&&t(i)})}ee(e){var t;const r=e.targetId,i=e.bt.count,u=this.ne(r);if(u){const d=u.target;if(tI(d))if(0===i){const m=new Ke(d.path);this.Jt(r,m,Gn.newNoDocument(m,bt.min()))}else wt(1===i);else{const m=this.se(r);if(m!==i){const w=this.ie(e,m);0!==w&&(this.te(r),this.zt=this.zt.insert(r,2===w?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=KT.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(D,T,O){var U,Z,se,Ie,Fe,rt;const St={localCacheCount:T,existenceFilterCount:O.count},Ct=O.unchangedNames;return Ct&&(St.bloomFilter={applied:0===D,hashCount:null!==(U=Ct?.hashCount)&&void 0!==U?U:0,bitmapLength:null!==(Ie=null===(se=null===(Z=Ct?.bits)||void 0===Z?void 0:Z.bitmap)||void 0===se?void 0:se.length)&&void 0!==Ie?Ie:0,padding:null!==(rt=null===(Fe=Ct?.bits)||void 0===Fe?void 0:Fe.padding)&&void 0!==rt?rt:0}),St}(w,m,e.bt))}}}}ie(e,t){const{unchangedNames:r,count:i}=e.bt;if(!r||!r.bits)return 1;const{bits:{bitmap:u="",padding:d=0},hashCount:m=0}=r;let w,D;try{w=Bl(u).toUint8Array()}catch(T){if(T instanceof wM)return fa("Decoding the base64 bloom filter in existence filter failed ("+T.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw T}try{D=new YT(w,d,m)}catch(T){return fa(T instanceof j0?"BloomFilter error: ":"Applying bloom filter failed: ",T),1}return 0===D.yt?1:i!==t-this.re(e.targetId,D)?2:0}re(e,t){const r=this.Kt.getRemoteKeysForTarget(e);let i=0;return r.forEach(u=>{const d=this.Kt.oe(),m=`projects/${d.projectId}/databases/${d.database}/documents/${u.path.canonicalString()}`;t.At(m)||(this.Jt(e,u,null),i++)}),i}ue(e){const t=new Map;this.Gt.forEach((u,d)=>{const m=this.ne(d);if(m){if(u.current&&tI(m.target)){const w=new Ke(m.target.path);null!==this.Qt.get(w)||this.ce(d,w)||this.Jt(d,w,Gn.newNoDocument(w,e))}u.kt&&(t.set(d,u.Ot()),u.$t())}});let r=Zt();this.jt.forEach((u,d)=>{let m=!0;d.forEachWhile(w=>{const D=this.ne(w);return!D||"TargetPurposeLimboResolution"===D.purpose||(m=!1,!1)}),m&&(r=r.add(u))}),this.Qt.forEach((u,d)=>d.setReadTime(e));const i=new $0(e,t,this.zt,this.Qt,r);return this.Qt=Ko(),this.jt=pP(),this.zt=new Fn(jt),i}Ht(e,t){if(!this.Zt(e))return;const r=this.ce(e,t.key)?2:0;this.Xt(e).Ft(t.key,r),this.Qt=this.Qt.insert(t.key,t),this.jt=this.jt.insert(t.key,this.ae(t.key).add(e))}Jt(e,t,r){if(!this.Zt(e))return;const i=this.Xt(e);this.ce(e,t)?i.Ft(t,1):i.Bt(t),this.jt=this.jt.insert(t,this.ae(t).delete(e)),r&&(this.Qt=this.Qt.insert(t,r))}removeTarget(e){this.Gt.delete(e)}se(e){const t=this.Xt(e).Ot();return this.Kt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Lt(e){this.Xt(e).Lt()}Xt(e){let t=this.Gt.get(e);return t||(t=new fP,this.Gt.set(e,t)),t}ae(e){let t=this.jt.get(e);return t||(t=new zn(jt),this.jt=this.jt.insert(e,t)),t}Zt(e){const t=null!==this.ne(e);return t||ke("WatchChangeAggregator","Detected inactive target",e),t}ne(e){const t=this.Gt.get(e);return t&&t.Nt?null:this.Kt.he(e)}te(e){this.Gt.set(e,new fP),this.Kt.getRemoteKeysForTarget(e).forEach(t=>{this.Jt(e,t,null)})}ce(e,t){return this.Kt.getRemoteKeysForTarget(e).has(t)}}function pP(){return new Fn(Ke.comparator)}function gP(){return new Fn(Ke.comparator)}const ek={asc:"ASCENDING",desc:"DESCENDING"},tk={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},nk={and:"AND",or:"OR"};class rk{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function QT(n,e){return n.useProto3Json||S0(e)?e:{value:e}}function Py(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function mP(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function ik(n,e){return Py(n,e.toTimestamp())}function Nr(n){return wt(!!n),bt.fromTimestamp(function(e){const t=Oh(e);return new rr(t.seconds,t.nanos)}(n))}function JT(n,e){return(t=n,new ln(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function yP(n){const e=ln.fromString(n);return wt(xP(e)),e}function z0(n,e){return JT(n.databaseId,e.path)}function xc(n,e){const t=yP(e);if(t.get(1)!==n.databaseId.projectId)throw new Te(ae.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Te(ae.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ke(vP(t))}function XT(n,e){return JT(n.databaseId,e)}function _P(n){const e=yP(n);return 4===e.length?ln.emptyPath():vP(e)}function G0(n){return new ln(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function vP(n){return wt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function wP(n,e,t){return{name:z0(n,e),fields:t.value.mapValue.fields}}function CP(n,e,t){const r=xc(n,e.name),i=Nr(e.updateTime),u=e.createTime?Nr(e.createTime):bt.min(),d=new $i({mapValue:{fields:e.fields}}),m=Gn.newFoundDocument(r,i,u,d);return t&&m.setHasCommittedMutations(),t?m.setHasCommittedMutations():m}function q0(n,e){let t;if(e instanceof Ay)t={update:wP(n,e.key,e.value)};else if(e instanceof My)t={delete:z0(n,e.key)};else if(e instanceof Hl)t={update:wP(n,e.key,e.data),updateMask:hk(e.fieldMask)};else{if(!(e instanceof GT))return st();t={verify:z0(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,u){const d=u.transform;if(d instanceof Ty)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof eg)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof tg)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Sy)return{fieldPath:u.field.canonicalString(),increment:d.wt};throw st()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:ik(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:st()),t;var i}function e1(n,e){const t=e.currentDocument?void 0!==(i=e.currentDocument).updateTime?ir.updateTime(Nr(i.updateTime)):void 0!==i.exists?ir.exists(i.exists):ir.none():ir.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(u,d){let m=null;"setToServerValue"in d?(wt("REQUEST_TIME"===d.setToServerValue),m=new Ty):"appendMissingElements"in d?m=new eg(d.appendMissingElements.values||[]):"removeAllFromArray"in d?m=new tg(d.removeAllFromArray.values||[]):"increment"in d?m=new Sy(u,d.increment):st();const w=Cr.fromServerFormat(d.fieldPath);return new U0(w,m)}(n,i)):[];var i;if(e.update){const i=xc(n,e.update.name),u=new $i({mapValue:{fields:e.update.fields}});if(e.updateMask){const d=new Wo((e.updateMask.fieldPaths||[]).map(D=>Cr.fromServerFormat(D)));return new Hl(i,u,d,t,r)}return new Ay(i,u,t,r)}if(e.delete){const i=xc(n,e.delete);return new My(i,t)}if(e.verify){const i=xc(n,e.verify);return new GT(i,t)}return st()}function bP(n,e){return{documents:[XT(n,e.path)]}}function t1(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=XT(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=XT(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(w){if(0!==w.length)return DP(Dn.create(w,"and"))}(e.filters);i&&(t.structuredQuery.where=i);const u=function(w){if(0!==w.length)return w.map(D=>{return{field:Vh((T=D).field),direction:ck(T.dir)};var T})}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const d=QT(n,e.limit);var m,w;return null!==d&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt={before:(m=e.startAt).inclusive,values:m.position}),e.endAt&&(t.structuredQuery.endAt={before:!(w=e.endAt).inclusive,values:w.position}),t}function EP(n){let e=_P(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){wt(1===r);const T=t.from[0];T.allDescendants?i=T.collectionId:e=e.child(T.collectionId)}let u=[];t.where&&(u=function(T){const O=IP(T);return O instanceof Dn&&LT(O)?O.getFilters():[O]}(t.where));let d=[];t.orderBy&&(d=t.orderBy.map(T=>{return new Iy(Oy((O=T).field),function(U){switch(U){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(O.direction));var O}));let m=null;t.limit&&(m=function(T){let O;return O="object"==typeof T?T.value:T,S0(O)?null:O}(t.limit));let w=null;var T;t.startAt&&(w=new Lh((T=t.startAt).values||[],!!T.before));let D=null;return t.endAt&&(D=function(T){return new Lh(T.values||[],!T.before)}(t.endAt)),UM(e,i,d,u,m,"F",w,D)}function IP(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Oy(e.unaryFilter.field);return on.create(t,"==",{doubleValue:NaN});case"IS_NULL":const r=Oy(e.unaryFilter.field);return on.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Oy(e.unaryFilter.field);return on.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Oy(e.unaryFilter.field);return on.create(u,"!=",{nullValue:"NULL_VALUE"});default:return st()}}(n):void 0!==n.fieldFilter?on.create(Oy((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return st()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return Dn.create(e.compositeFilter.filters.map(t=>IP(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return st()}}(e.compositeFilter.op))}(n):st();var e}function ck(n){return ek[n]}function lk(n){return tk[n]}function dk(n){return nk[n]}function Vh(n){return{fieldPath:n.canonicalString()}}function Oy(n){return Cr.fromServerFormat(n.fieldPath)}function DP(n){return n instanceof on?function(e){if("=="===e.op){if(EM(e.value))return{unaryFilter:{field:Vh(e.field),op:"IS_NAN"}};if(bM(e.value))return{unaryFilter:{field:Vh(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(EM(e.value))return{unaryFilter:{field:Vh(e.field),op:"IS_NOT_NAN"}};if(bM(e.value))return{unaryFilter:{field:Vh(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Vh(e.field),op:lk(e.op),value:e.value}}}(n):n instanceof Dn?function(e){const t=e.getFilters().map(r=>DP(r));return 1===t.length?t[0]:{compositeFilter:{op:dk(e.op),filters:t}}}(n):st()}function hk(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function xP(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class zl{constructor(e,t,r,i,u=bt.min(),d=bt.min(),m=si.EMPTY_BYTE_STRING,w=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=m,this.expectedCount=w}withSequenceNumber(e){return new zl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new zl(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new zl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new zl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class TP{constructor(e){this.le=e}}function SP(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:lI(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:z0(i=n.le,(u=e).key),fields:u.data.value.mapValue.fields,updateTime:Py(i,u.version.toTimestamp()),createTime:Py(i,u.createTime.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:ng(e.version)};else{if(!e.isUnknownDocument())return st();r.unknownDocument={path:t.path.toArray(),version:ng(e.version)}}var i,u;return r}function lI(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function ng(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function rg(n){const e=new rr(n.seconds,n.nanoseconds);return bt.fromTimestamp(e)}function ig(n,e){const t=(e.baseMutations||[]).map(u=>e1(n.le,u));for(let u=0;u<e.mutations.length-1;++u)u+1<e.mutations.length&&void 0!==e.mutations[u+1].transform&&(e.mutations[u].updateTransforms=e.mutations[u+1].transform.fieldTransforms,e.mutations.splice(u+1,1),++u);const r=e.mutations.map(u=>e1(n.le,u)),i=rr.fromMillis(e.localWriteTimeMs);return new qT(e.batchId,i,t,r)}function Z0(n){const e=rg(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?rg(n.lastLimboFreeSnapshotVersion):bt.min();let r;var i;return void 0!==n.query.documents?(wt(1===(i=n.query).documents.length),r=wo(xy(_P(i.documents[0])))):r=wo(EP(n.query)),new zl(r,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,si.fromBase64String(n.resumeToken))}function AP(n,e){const t=ng(e.snapshotVersion),r=ng(e.lastLimboFreeSnapshotVersion);let i;i=tI(e.target)?bP(n.le,e.target):t1(n.le,e.target);const u=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Jp(e.target),readTime:t,resumeToken:u,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function n1(n){const e=EP({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?iI(e,e.limit,"L"):e}function r1(n,e){return new WT(e.largestBatchId,e1(n.le,e.overlayMutation))}function MP(n,e){const t=e.path.lastSegment();return[n,to(e.path.popLast()),t]}function PP(n,e,t,r){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:ng(r.readTime),documentKey:to(r.documentKey.path),largestBatchId:r.largestBatchId}}class pk{getBundleMetadata(e,t){return OP(e).get(t).next(r=>{if(r)return{id:(i=r).bundleId,createTime:rg(i.createTime),version:i.version};var i})}saveBundleMetadata(e,t){return OP(e).put({bundleId:(r=t).id,createTime:ng(Nr(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return RP(e).get(t).next(r=>{if(r)return{name:(i=r).name,query:n1(i.bundledQuery),readTime:rg(i.readTime)};var i})}saveNamedQuery(e,t){return RP(e).put({name:(r=t).name,readTime:ng(Nr(r.readTime)),bundledQuery:r.bundledQuery});var r}}function OP(n){return xi(n,"bundles")}function RP(n){return xi(n,"namedQueries")}class dI{constructor(e,t){this.serializer=e,this.userId=t}static fe(e,t){return new dI(e,t.uid||"")}getOverlay(e,t){return W0(e).get(MP(this.userId,t)).next(r=>r?r1(this.serializer,r):null)}getOverlays(e,t){const r=Dc();return ee.forEach(t,i=>this.getOverlay(e,i).next(u=>{null!==u&&r.set(i,u)})).next(()=>r)}saveOverlays(e,t,r){const i=[];return r.forEach((u,d)=>{const m=new WT(t,d);i.push(this.de(e,m))}),ee.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(d=>i.add(to(d.getCollectionPath())));const u=[];return i.forEach(d=>{const m=IDBKeyRange.bound([this.userId,d,r],[this.userId,d,r+1],!1,!0);u.push(W0(e).J("collectionPathOverlayIndex",m))}),ee.waitFor(u)}getOverlaysForCollection(e,t,r){const i=Dc(),u=to(t),d=IDBKeyRange.bound([this.userId,u,r],[this.userId,u,Number.POSITIVE_INFINITY],!0);return W0(e).j("collectionPathOverlayIndex",d).next(m=>{for(const w of m){const D=r1(this.serializer,w);i.set(D.getKey(),D)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const u=Dc();let d;const m=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return W0(e).X({index:"collectionGroupOverlayIndex",range:m},(w,D,T)=>{const O=r1(this.serializer,D);u.size()<i||O.largestBatchId===d?(u.set(O.getKey(),O),d=O.largestBatchId):T.done()}).next(()=>u)}de(e,t){return W0(e).put(function(r,i,u){const[d,m,w]=MP(i,u.mutation.key);return{userId:i,collectionPath:m,documentId:w,collectionGroup:u.mutation.key.getCollectionGroup(),largestBatchId:u.largestBatchId,overlayMutation:q0(r.le,u.mutation)}}(this.serializer,this.userId,t))}}function W0(n){return xi(n,"documentOverlays")}class og{constructor(){}_e(e,t){this.we(e,t),t.me()}we(e,t){if("nullValue"in e)this.ge(t,5);else if("booleanValue"in e)this.ge(t,10),t.ye(e.booleanValue?1:0);else if("integerValue"in e)this.ge(t,15),t.ye(br(e.integerValue));else if("doubleValue"in e){const r=br(e.doubleValue);isNaN(r)?this.ge(t,13):(this.ge(t,15),A0(r)?t.ye(0):t.ye(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ge(t,20),"string"==typeof r?t.pe(r):(t.pe(`${r.seconds||""}`),t.ye(r.nanos||0))}else if("stringValue"in e)this.Ie(e.stringValue,t),this.Te(t);else if("bytesValue"in e)this.ge(t,30),t.Ee(Bl(e.bytesValue)),this.Te(t);else if("referenceValue"in e)this.Ae(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ge(t,45),t.ye(r.latitude||0),t.ye(r.longitude||0)}else"mapValue"in e?IM(e)?this.ge(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Te(t)):"arrayValue"in e?(this.ve(e.arrayValue,t),this.Te(t)):st()}Ie(e,t){this.ge(t,25),this.Pe(e,t)}Pe(e,t){t.pe(e)}Re(e,t){const r=e.fields||{};this.ge(t,55);for(const i of Object.keys(r))this.Ie(i,t),this.we(r[i],t)}ve(e,t){const r=e.values||[];this.ge(t,50);for(const i of r)this.we(i,t)}Ae(e,t){this.ge(t,37),Ke.fromName(e).path.forEach(r=>{this.ge(t,60),this.Pe(r,t)})}ge(e,t){e.ye(t)}Te(e){e.ye(2)}}function gk(n){if(0===n)return 8;let e=0;return!(n>>4)&&(e+=4,n<<=4),!(n>>6)&&(e+=2,n<<=2),!(n>>7)&&(e+=1),e}function NP(n){const e=64-function(t){let r=0;for(let i=0;i<8;++i){const u=gk(255&t[i]);if(r+=u,8!==u)break}return r}(n);return Math.ceil(e/8)}og.be=new og;class mk{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ve(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Se(r.value),r=t.next();this.De()}Ce(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.xe(r.value),r=t.next();this.Ne()}ke(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Se(r);else if(r<2048)this.Se(960|r>>>6),this.Se(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Se(480|r>>>12),this.Se(128|63&r>>>6),this.Se(128|63&r);else{const i=t.codePointAt(0);this.Se(240|i>>>18),this.Se(128|63&i>>>12),this.Se(128|63&i>>>6),this.Se(128|63&i)}}this.De()}Me(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.xe(r);else if(r<2048)this.xe(960|r>>>6),this.xe(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.xe(480|r>>>12),this.xe(128|63&r>>>6),this.xe(128|63&r);else{const i=t.codePointAt(0);this.xe(240|i>>>18),this.xe(128|63&i>>>12),this.xe(128|63&i>>>6),this.xe(128|63&i)}}this.Ne()}Oe(e){const t=this.$e(e),r=NP(t);this.Fe(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}Be(e){const t=this.$e(e),r=NP(t);this.Fe(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}Le(){this.qe(255),this.qe(255)}Ue(){this.Ke(255),this.Ke(255)}reset(){this.position=0}seed(e){this.Fe(e.length),this.buffer.set(e,this.position),this.position+=e.length}Ge(){return this.buffer.slice(0,this.position)}$e(e){const t=function(i){const u=new DataView(new ArrayBuffer(8));return u.setFloat64(0,i,!1),new Uint8Array(u.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}Se(e){const t=255&e;0===t?(this.qe(0),this.qe(255)):255===t?(this.qe(255),this.qe(0)):this.qe(t)}xe(e){const t=255&e;0===t?(this.Ke(0),this.Ke(255)):255===t?(this.Ke(255),this.Ke(0)):this.Ke(e)}De(){this.qe(0),this.qe(1)}Ne(){this.Ke(0),this.Ke(1)}qe(e){this.Fe(1),this.buffer[this.position++]=e}Ke(e){this.Fe(1),this.buffer[this.position++]=~e}Fe(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class yk{constructor(e){this.Qe=e}Ee(e){this.Qe.Ve(e)}pe(e){this.Qe.ke(e)}ye(e){this.Qe.Oe(e)}me(){this.Qe.Le()}}class _k{constructor(e){this.Qe=e}Ee(e){this.Qe.Ce(e)}pe(e){this.Qe.Me(e)}ye(e){this.Qe.Be(e)}me(){this.Qe.Ue()}}class K0{constructor(){this.Qe=new mk,this.je=new yk(this.Qe),this.ze=new _k(this.Qe)}seed(e){this.Qe.seed(e)}We(e){return 0===e?this.je:this.ze}Ge(){return this.Qe.Ge()}reset(){this.Qe.reset()}}class sg{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}He(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new sg(this.indexId,this.documentKey,this.arrayValue,r)}}function Uh(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=kP(n.arrayValue,e.arrayValue),0!==t?t:(t=kP(n.directionalValue,e.directionalValue),0!==t?t:Ke.comparator(n.documentKey,e.documentKey)))}function kP(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class vk{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Je=e.orderBy,this.Ye=[];for(const t of e.filters){const r=t;r.isInequality()?this.Xe=r:this.Ye.push(r)}}Ze(e){wt(e.collectionGroup===this.collectionId);const t=AT(e);if(void 0!==t&&!this.tn(t))return!1;const r=Kp(e);let i=0,u=0;for(;i<r.length&&this.tn(r[i]);++i);if(i===r.length)return!0;if(void 0!==this.Xe){const d=r[i];if(!this.en(this.Xe,d)||!this.nn(this.Je[u++],d))return!1;++i}for(;i<r.length;++i)if(u>=this.Je.length||!this.nn(this.Je[u++],r[i]))return!1;return!0}tn(e){for(const t of this.Ye)if(this.en(t,e))return!0;return!1}en(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}nn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function FP(n){var e,t;if(wt(n instanceof on||n instanceof Dn),n instanceof on){if(n instanceof FM){const i=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(u=>on.create(n.field,"==",u)))||[];return Dn.create(i,"or")}return n}const r=n.filters.map(i=>FP(i));return Dn.create(r,n.op)}function wk(n){if(0===n.getFilters().length)return[];const e=s1(FP(n));return wt(LP(e)),i1(e)||o1(e)?[e]:e.getFilters()}function i1(n){return n instanceof on}function o1(n){return n instanceof Dn&&LT(n)}function LP(n){return i1(n)||o1(n)||function(e){if(e instanceof Dn&&FT(e)){for(const t of e.getFilters())if(!i1(t)&&!o1(t))return!1;return!0}return!1}(n)}function s1(n){if(wt(n instanceof on||n instanceof Dn),n instanceof on)return n;if(1===n.filters.length)return s1(n.filters[0]);const e=n.filters.map(r=>s1(r));let t=Dn.create(e,n.op);return t=hI(t),LP(t)?t:(wt(t instanceof Dn),wt(Dy(t)),wt(t.filters.length>1),t.filters.reduce((r,i)=>a1(r,i)))}function a1(n,e){let t;return wt(n instanceof on||n instanceof Dn),wt(e instanceof on||e instanceof Dn),t=n instanceof on?e instanceof on?Dn.create([n,e],"and"):VP(n,e):e instanceof on?VP(e,n):function(r,i){if(wt(r.filters.length>0&&i.filters.length>0),Dy(r)&&Dy(i))return RM(r,i.getFilters());const u=FT(r)?r:i,d=FT(r)?i:r,m=u.filters.map(w=>a1(w,d));return Dn.create(m,"or")}(n,e),hI(t)}function VP(n,e){if(Dy(e))return RM(e,n.getFilters());{const t=e.filters.map(r=>a1(n,r));return Dn.create(t,"or")}}function hI(n){if(wt(n instanceof on||n instanceof Dn),n instanceof on)return n;const e=n.getFilters();if(1===e.length)return hI(e[0]);if(PM(n))return n;const t=e.map(i=>hI(i)),r=[];return t.forEach(i=>{i instanceof on?r.push(i):i instanceof Dn&&(i.op===n.op?r.push(...i.filters):r.push(i))}),1===r.length?r[0]:Dn.create(r,n.op)}class Ck{constructor(){this.sn=new u1}addToCollectionParentIndex(e,t){return this.sn.add(t),ee.resolve()}getCollectionParents(e,t){return ee.resolve(this.sn.getEntries(t))}addFieldIndex(e,t){return ee.resolve()}deleteFieldIndex(e,t){return ee.resolve()}getDocumentsMatchingTarget(e,t){return ee.resolve(null)}getIndexType(e,t){return ee.resolve(0)}getFieldIndexes(e,t){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,t){return ee.resolve(Ps.min())}getMinOffsetFromCollectionGroup(e,t){return ee.resolve(Ps.min())}updateCollectionGroup(e,t,r){return ee.resolve()}updateIndexEntries(e,t){return ee.resolve()}}class u1{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new zn(ln.comparator),u=!i.has(r);return this.index[t]=i.add(r),u}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new zn(ln.comparator)).toArray()}}const fI=new Uint8Array(0);class bk{constructor(e,t){this.user=e,this.databaseId=t,this.rn=new u1,this.on=new $l(r=>Jp(r),(r,i)=>N0(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.rn.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.rn.add(t)});const u={collectionId:r,parent:to(i)};return UP(e).put(u)}return ee.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[iM(t),""],!1,!0);return UP(e).j(i).next(u=>{for(const d of u){if(d.collectionId!==t)break;r.push(Ec(d.parent))}return r})}addFieldIndex(e,t){const r=pI(e),i={indexId:(d=t).indexId,collectionGroup:d.collectionGroup,fields:d.fields.map(m=>[m.fieldPath.canonicalString(),m.kind])};var d;delete i.indexId;const u=r.add(i);if(t.indexState){const d=Q0(e);return u.next(m=>{d.put(PP(m,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return u.next()}deleteFieldIndex(e,t){const r=pI(e),i=Q0(e),u=Y0(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>u.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=Y0(e);let i=!0;const u=new Map;return ee.forEach(this.un(t),d=>this.cn(e,d).next(m=>{i&&(i=!!m),u.set(d,m)})).next(()=>{if(i){let d=Zt();const m=[];return ee.forEach(u,(w,D)=>{var T;ke("IndexedDbIndexManager",`Using index ${T=w,`id=${T.indexId}|cg=${T.collectionGroup}|f=${T.fields.map(Ct=>`${Ct.fieldPath}:${Ct.kind}`).join(",")}`} to execute ${Jp(t)}`);const O=function(Ct,Gt){const Jt=AT(Gt);if(void 0===Jt)return null;for(const hn of nI(Ct,Jt.fieldPath))switch(hn.op){case"array-contains-any":return hn.value.arrayValue.values||[];case"array-contains":return[hn.value]}return null}(D,w),U=function(Ct,Gt){const Jt=new Map;for(const hn of Kp(Gt))for(const Eo of nI(Ct,hn.fieldPath))switch(Eo.op){case"==":case"in":Jt.set(hn.fieldPath.canonicalString(),Eo.value);break;case"not-in":case"!=":return Jt.set(hn.fieldPath.canonicalString(),Eo.value),Array.from(Jt.values())}return null}(D,w),Z=function(Ct,Gt){const Jt=[];let hn=!0;for(const Eo of Kp(Gt)){const Wh=0===Eo.kind?LM(Ct,Eo.fieldPath,Ct.startAt):VM(Ct,Eo.fieldPath,Ct.startAt);Jt.push(Wh.value),hn&&(hn=Wh.inclusive)}return new Lh(Jt,hn)}(D,w),se=function(Ct,Gt){const Jt=[];let hn=!0;for(const Eo of Kp(Gt)){const Wh=0===Eo.kind?VM(Ct,Eo.fieldPath,Ct.endAt):LM(Ct,Eo.fieldPath,Ct.endAt);Jt.push(Wh.value),hn&&(hn=Wh.inclusive)}return new Lh(Jt,hn)}(D,w),Ie=this.an(w,D,Z),Fe=this.an(w,D,se),rt=this.hn(w,D,U),St=this.ln(w.indexId,O,Ie,Z.inclusive,Fe,se.inclusive,rt);return ee.forEach(St,Ct=>r.H(Ct,t.limit).next(Gt=>{Gt.forEach(Jt=>{const hn=Ke.fromSegments(Jt.documentKey);d.has(hn)||(d=d.add(hn),m.push(hn))})}))}).next(()=>m)}return ee.resolve(null)})}un(e){let t=this.on.get(e);return t||(t=0===e.filters.length?[e]:wk(Dn.create(e.filters,"and")).map(r=>UT(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.on.set(e,t),t)}ln(e,t,r,i,u,d,m){const w=(null!=t?t.length:1)*Math.max(r.length,u.length),D=w/(null!=t?t.length:1),T=[];for(let O=0;O<w;++O){const U=t?this.fn(t[O/D]):fI,Z=this.dn(e,U,r[O%D],i),se=this._n(e,U,u[O%D],d),Ie=m.map(Fe=>this.dn(e,U,Fe,!0));T.push(...this.createRange(Z,se,Ie))}return T}dn(e,t,r,i){const u=new sg(e,Ke.empty(),t,r);return i?u:u.He()}_n(e,t,r,i){const u=new sg(e,Ke.empty(),t,r);return i?u.He():u}cn(e,t){const r=new vk(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(u=>{let d=null;for(const m of u)r.Ze(m)&&(!d||m.fields.length>d.fields.length)&&(d=m);return d})}getIndexType(e,t){let r=2;const i=this.un(t);return ee.forEach(i,u=>this.cn(e,u).next(d=>{d?0!==r&&d.fields.length<function(m){let w=new zn(Cr.comparator),D=!1;for(const T of m.filters)for(const O of T.getFlattenedFilters())O.field.isKeyField()||("array-contains"===O.op||"array-contains-any"===O.op?D=!0:w=w.add(O.field));for(const T of m.orderBy)T.field.isKeyField()||(w=w.add(T.field));return w.size+(D?1:0)}(u)&&(r=1):r=0})).next(()=>null!==t.limit&&i.length>1&&2===r?1:r)}wn(e,t){const r=new K0;for(const i of Kp(e)){const u=t.data.field(i.fieldPath);if(null==u)return null;const d=r.We(i.kind);og.be._e(u,d)}return r.Ge()}fn(e){const t=new K0;return og.be._e(e,t.We(0)),t.Ge()}mn(e,t){const r=new K0;return og.be._e(Qp(this.databaseId,t),r.We(function(i){const u=Kp(i);return 0===u.length?0:u[u.length-1].kind}(e))),r.Ge()}hn(e,t,r){if(null===r)return[];let i=[];i.push(new K0);let u=0;for(const d of Kp(e)){const m=r[u++];for(const w of i)if(this.gn(t,d.fieldPath)&&O0(m))i=this.yn(i,d,m);else{const D=w.We(d.kind);og.be._e(m,D)}}return this.pn(i)}an(e,t,r){return this.hn(e,t,r.position)}pn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Ge();return t}yn(e,t,r){const i=[...e],u=[];for(const d of r.arrayValue.values||[])for(const m of i){const w=new K0;w.seed(m.Ge()),og.be._e(d,w.We(t.kind)),u.push(w)}return u}gn(e,t){return!!e.filters.find(r=>r instanceof on&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=pI(e),i=Q0(e);return(t?r.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.j()).next(u=>{const d=[];return ee.forEach(u,m=>i.get([m.indexId,this.uid]).next(w=>{d.push(function(D,T){const O=T?new x0(T.sequenceNumber,new Ps(rg(T.readTime),new Ke(Ec(T.documentKey)),T.largestBatchId)):x0.empty(),U=D.fields.map(([Z,se])=>new qE(Cr.fromServerFormat(Z),se));return new GE(D.indexId,D.collectionGroup,U,O)}(m,w))})).next(()=>d)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,i)=>{const u=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==u?u:jt(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=pI(e),u=Q0(e);return this.In(e).next(d=>i.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(m=>ee.forEach(m,w=>u.put(PP(w.indexId,this.user,d,r)))))}updateIndexEntries(e,t){const r=new Map;return ee.forEach(t,(i,u)=>{const d=r.get(i.collectionGroup);return(d?ee.resolve(d):this.getFieldIndexes(e,i.collectionGroup)).next(m=>(r.set(i.collectionGroup,m),ee.forEach(m,w=>this.Tn(e,i,w).next(D=>{const T=this.En(u,w);return D.isEqual(T)?ee.resolve():this.An(e,u,w,D,T)}))))})}Rn(e,t,r,i){return Y0(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.mn(r,t.key),documentKey:t.key.path.toArray()})}vn(e,t,r,i){return Y0(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.mn(r,t.key),t.key.path.toArray()])}Tn(e,t,r){const i=Y0(e);let u=new zn(Uh);return i.X({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.mn(r,t)])},(d,m)=>{u=u.add(new sg(r.indexId,t,m.arrayValue,m.directionalValue))}).next(()=>u)}En(e,t){let r=new zn(Uh);const i=this.wn(t,e);if(null==i)return r;const u=AT(t);if(null!=u){const d=e.data.field(u.fieldPath);if(O0(d))for(const m of d.arrayValue.values||[])r=r.add(new sg(t.indexId,e.key,this.fn(m),i))}else r=r.add(new sg(t.indexId,e.key,fI,i));return r}An(e,t,r,i,u){ke("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const d=[];return function(m,w,D,T,O){const U=m.getIterator(),Z=w.getIterator();let se=by(U),Ie=by(Z);for(;se||Ie;){let Fe=!1,rt=!1;if(se&&Ie){const St=D(se,Ie);St<0?rt=!0:St>0&&(Fe=!0)}else null!=se?rt=!0:Fe=!0;Fe?(T(Ie),Ie=by(Z)):rt?(O(se),se=by(U)):(se=by(U),Ie=by(Z))}}(i,u,Uh,m=>{d.push(this.Rn(e,t,r,m))},m=>{d.push(this.vn(e,t,r,m))}),ee.waitFor(d)}In(e){let t=1;return Q0(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,u)=>{u.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((d,m)=>Uh(d,m)).filter((d,m,w)=>!m||0!==Uh(d,w[m-1]));const i=[];i.push(e);for(const d of r){const m=Uh(d,e),w=Uh(d,t);if(0===m)i[0]=e.He();else if(m>0&&w<0)i.push(d),i.push(d.He());else if(w>0)break}i.push(t);const u=[];for(let d=0;d<i.length;d+=2){if(this.Pn(i[d],i[d+1]))return[];u.push(IDBKeyRange.bound([i[d].indexId,this.uid,i[d].arrayValue,i[d].directionalValue,fI,[]],[i[d+1].indexId,this.uid,i[d+1].arrayValue,i[d+1].directionalValue,fI,[]]))}return u}Pn(e,t){return Uh(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(BP)}getMinOffset(e,t){return ee.mapArray(this.un(t),r=>this.cn(e,r).next(i=>i||st())).next(BP)}}function UP(n){return xi(n,"collectionParents")}function Y0(n){return xi(n,"indexEntries")}function pI(n){return xi(n,"indexConfiguration")}function Q0(n){return xi(n,"indexState")}function BP(n){wt(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const i=n[r].indexState.offset;MT(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new Ps(e.readTime,e.documentKey,t)}const jP={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class no{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new no(e,no.DEFAULT_COLLECTION_PERCENTILE,no.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function $P(n,e,t){const r=n.store("mutations"),i=n.store("documentMutations"),u=[],d=IDBKeyRange.only(t.batchId);let m=0;const w=r.X({range:d},(T,O,U)=>(m++,U.delete()));u.push(w.next(()=>{wt(1===m)}));const D=[];for(const T of t.mutations){const O=fM(e,T.key.path,t.batchId);u.push(i.delete(O)),D.push(T.key)}return ee.waitFor(u).next(()=>D)}function gI(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw st();e=n.noDocument}return JSON.stringify(e).length}no.DEFAULT_COLLECTION_PERCENTILE=10,no.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,no.DEFAULT=new no(41943040,no.DEFAULT_COLLECTION_PERCENTILE,no.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),no.DISABLED=new no(-1,0,0);class mI{constructor(e,t,r,i){this.userId=e,this.serializer=t,this.indexManager=r,this.referenceDelegate=i,this.bn={}}static fe(e,t,r,i){wt(""!==e.uid);const u=e.isAuthenticated()?e.uid:"";return new mI(u,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Bh(e).X({index:"userMutationsIndex",range:r},(i,u,d)=>{t=!1,d.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const u=Ry(e),d=Bh(e);return d.add({}).next(m=>{wt("number"==typeof m);const w=new qT(m,t,r,i),D=function(U,Z,se){const Ie=se.baseMutations.map(rt=>q0(U.le,rt)),Fe=se.mutations.map(rt=>q0(U.le,rt));return{userId:Z,batchId:se.batchId,localWriteTimeMs:se.localWriteTime.toMillis(),baseMutations:Ie,mutations:Fe}}(this.serializer,this.userId,w),T=[];let O=new zn((U,Z)=>jt(U.canonicalString(),Z.canonicalString()));for(const U of i){const Z=fM(this.userId,U.key.path,m);O=O.add(U.key.path.popLast()),T.push(d.put(D)),T.push(u.put(Z,cN))}return O.forEach(U=>{T.push(this.indexManager.addToCollectionParentIndex(e,U))}),e.addOnCommittedListener(()=>{this.bn[m]=w.keys()}),ee.waitFor(T).next(()=>w)})}lookupMutationBatch(e,t){return Bh(e).get(t).next(r=>r?(wt(r.userId===this.userId),ig(this.serializer,r)):null)}Vn(e,t){return this.bn[t]?ee.resolve(this.bn[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.bn[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let u=null;return Bh(e).X({index:"userMutationsIndex",range:i},(d,m,w)=>{m.userId===this.userId&&(wt(m.batchId>=r),u=ig(this.serializer,m)),w.done()}).next(()=>u)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Bh(e).X({index:"userMutationsIndex",range:t,reverse:!0},(i,u,d)=>{r=u.batchId,d.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Bh(e).j("userMutationsIndex",t).next(r=>r.map(i=>ig(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=WE(this.userId,t.path),i=IDBKeyRange.lowerBound(r),u=[];return Ry(e).X({range:i},(d,m,w)=>{const[D,T,O]=d,U=Ec(T);if(D===this.userId&&t.path.isEqual(U))return Bh(e).get(O).next(Z=>{if(!Z)throw st();wt(Z.userId===this.userId),u.push(ig(this.serializer,Z))});w.done()}).next(()=>u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new zn(jt);const i=[];return t.forEach(u=>{const d=WE(this.userId,u.path),m=IDBKeyRange.lowerBound(d),w=Ry(e).X({range:m},(D,T,O)=>{const[U,Z,se]=D,Ie=Ec(Z);U===this.userId&&u.path.isEqual(Ie)?r=r.add(se):O.done()});i.push(w)}),ee.waitFor(i).next(()=>this.Sn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,u=WE(this.userId,r),d=IDBKeyRange.lowerBound(u);let m=new zn(jt);return Ry(e).X({range:d},(w,D,T)=>{const[O,U,Z]=w,se=Ec(U);O===this.userId&&r.isPrefixOf(se)?se.length===i&&(m=m.add(Z)):T.done()}).next(()=>this.Sn(e,m))}Sn(e,t){const r=[],i=[];return t.forEach(u=>{i.push(Bh(e).get(u).next(d=>{if(null===d)throw st();wt(d.userId===this.userId),r.push(ig(this.serializer,d))}))}),ee.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return $P(e.at,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.Dn(t.batchId)}),ee.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}Dn(e){delete this.bn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return ee.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return Ry(e).X({range:r},(u,d,m)=>{if(u[0]===this.userId){const w=Ec(u[1]);i.push(w)}else m.done()}).next(()=>{wt(0===i.length)})})}containsKey(e,t){return HP(e,this.userId,t)}Cn(e){return zP(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function HP(n,e,t){const r=WE(e,t.path),i=r[1],u=IDBKeyRange.lowerBound(r);let d=!1;return Ry(n).X({range:u,Y:!0},(m,w,D)=>{const[T,O,U]=m;T===e&&O===i&&(d=!0),D.done()}).next(()=>d)}function Bh(n){return xi(n,"mutations")}function Ry(n){return xi(n,"documentMutations")}function zP(n){return xi(n,"mutationQueues")}class ag{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static Nn(){return new ag(0)}static kn(){return new ag(-1)}}class Ek{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.Mn(e).next(t=>{const r=new ag(t.highestTargetId);return t.highestTargetId=r.next(),this.On(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Mn(e).next(t=>bt.fromTimestamp(new rr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Mn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.Mn(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.On(e,i)))}addTargetData(e,t){return this.$n(e,t).next(()=>this.Mn(e).next(r=>(r.targetCount+=1,this.Fn(t,r),this.On(e,r))))}updateTargetData(e,t){return this.$n(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Ny(e).delete(t.targetId)).next(()=>this.Mn(e)).next(r=>(wt(r.targetCount>0),r.targetCount-=1,this.On(e,r)))}removeTargets(e,t,r){let i=0;const u=[];return Ny(e).X((d,m)=>{const w=Z0(m);w.sequenceNumber<=t&&null===r.get(w.targetId)&&(i++,u.push(this.removeTargetData(e,w)))}).next(()=>ee.waitFor(u)).next(()=>i)}forEachTarget(e,t){return Ny(e).X((r,i)=>{const u=Z0(i);t(u)})}Mn(e){return GP(e).get("targetGlobalKey").next(t=>(wt(null!==t),t))}On(e,t){return GP(e).put("targetGlobalKey",t)}$n(e,t){return Ny(e).put(AP(this.serializer,t))}Fn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Mn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=Jp(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let u=null;return Ny(e).X({range:i,index:"queryTargetsIndex"},(d,m,w)=>{const D=Z0(m);N0(t,D.target)&&(u=D,w.done())}).next(()=>u)}addMatchingKeys(e,t,r){const i=[],u=jh(e);return t.forEach(d=>{const m=to(d.path);i.push(u.put({targetId:r,path:m})),i.push(this.referenceDelegate.addReference(e,r,d))}),ee.waitFor(i)}removeMatchingKeys(e,t,r){const i=jh(e);return ee.forEach(t,u=>{const d=to(u.path);return ee.waitFor([i.delete([r,d]),this.referenceDelegate.removeReference(e,r,u)])})}removeMatchingKeysForTargetId(e,t){const r=jh(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=jh(e);let u=Zt();return i.X({range:r,Y:!0},(d,m,w)=>{const D=Ec(d[1]),T=new Ke(D);u=u.add(T)}).next(()=>u)}containsKey(e,t){const r=to(t.path),i=IDBKeyRange.bound([r],[iM(r)],!1,!0);let u=0;return jh(e).X({index:"documentTargetsIndex",Y:!0,range:i},([d,m],w,D)=>{0!==d&&(u++,D.done())}).next(()=>u>0)}he(e,t){return Ny(e).get(t).next(r=>r?Z0(r):null)}}function Ny(n){return xi(n,"targets")}function GP(n){return xi(n,"targetGlobal")}function jh(n){return xi(n,"targetDocuments")}function qP([n,e],[t,r]){const i=jt(n,t);return 0===i?jt(e,r):i}class Ik{constructor(e){this.Bn=e,this.buffer=new zn(qP),this.Ln=0}qn(){return++this.Ln}Un(e){const t=[e,this.qn()];if(this.buffer.size<this.Bn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();qP(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class ZP{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Kn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Gn(6e4)}stop(){this.Kn&&(this.Kn.cancel(),this.Kn=null)}get started(){return null!==this.Kn}Gn(e){var t=this;ke("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Kn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,ye.Z)(function*(){t.Kn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){Mh(r)?ke("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield Ah(r)}yield t.Gn(3e5)}))}}class Dk{constructor(e,t){this.Qn=e,this.params=t}calculateTargetCount(e,t){return this.Qn.jn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return ee.resolve(Os.ct);const r=new Ik(t);return this.Qn.forEachTarget(e,i=>r.Un(i.sequenceNumber)).next(()=>this.Qn.zn(e,i=>r.Un(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Qn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Qn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(ke("LruGarbageCollector","Garbage collection skipped; disabled"),ee.resolve(jP)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ke("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),jP):this.Wn(e,t))}getCacheSize(e){return this.Qn.getCacheSize(e)}Wn(e,t){let r,i,u,d,m,w,D;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(O=>(O>this.params.maximumSequenceNumbersToCollect?(ke("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${O}`),i=this.params.maximumSequenceNumbersToCollect):i=O,d=Date.now(),this.nthSequenceNumber(e,i))).next(O=>(r=O,m=Date.now(),this.removeTargets(e,r,t))).next(O=>(u=O,w=Date.now(),this.removeOrphanedDocuments(e,r))).next(O=>(D=Date.now(),TT()<=Pl.in.DEBUG&&ke("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${d-T}ms\n\tDetermined least recently used ${i} in `+(m-d)+`ms\n\tRemoved ${u} targets in `+(w-m)+`ms\n\tRemoved ${O} documents in `+(D-w)+`ms\nTotal Duration: ${D-T}ms`),ee.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:u,documentsRemoved:O})))}}class xk{constructor(e,t){this.db=e,this.garbageCollector=function WP(n,e){return new Dk(n,e)}(this,t)}jn(e){const t=this.Hn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}Hn(e){let t=0;return this.zn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}zn(e,t){return this.Jn(e,(r,i)=>t(i))}addReference(e,t,r){return yI(e,r)}removeReference(e,t,r){return yI(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return yI(e,t)}Yn(e,t){return function(r,i){let u=!1;return zP(r).Z(d=>HP(r,d,i).next(m=>(m&&(u=!0),ee.resolve(!m)))).next(()=>u)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let u=0;return this.Jn(e,(d,m)=>{if(m<=t){const w=this.Yn(e,d).next(D=>{if(!D)return u++,r.getEntry(e,d).next(()=>(r.removeEntry(d,bt.min()),jh(e).delete([0,to(d.path)])))});i.push(w)}}).next(()=>ee.waitFor(i)).next(()=>r.apply(e)).next(()=>u)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return yI(e,t)}Jn(e,t){const r=jh(e);let i,u=Os.ct;return r.X({index:"documentTargetsIndex"},([d,m],{path:w,sequenceNumber:D})=>{0===d?(u!==Os.ct&&t(new Ke(Ec(i)),u),u=D,i=w):u=Os.ct}).next(()=>{u!==Os.ct&&t(new Ke(Ec(i)),u)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function yI(n,e){return jh(n).put((r=n.currentSequenceNumber,{targetId:0,path:to(e.path),sequenceNumber:r}));var r}class KP{constructor(){this.changes=new $l(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Gn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?ee.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Tk{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return ug(e).put(r)}removeEntry(e,t,r){return ug(e).delete(function(i,u){const d=i.path.toArray();return[d.slice(0,d.length-2),d[d.length-2],lI(u),d[d.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Xn(e,r)))}getEntry(e,t){let r=Gn.newInvalidDocument(t);return ug(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(J0(t))},(i,u)=>{r=this.Zn(t,u)}).next(()=>r)}ts(e,t){let r={size:0,document:Gn.newInvalidDocument(t)};return ug(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(J0(t))},(i,u)=>{r={document:this.Zn(t,u),size:gI(u)}}).next(()=>r)}getEntries(e,t){let r=Ko();return this.es(e,t,(i,u)=>{const d=this.Zn(i,u);r=r.insert(i,d)}).next(()=>r)}ns(e,t){let r=Ko(),i=new Fn(Ke.comparator);return this.es(e,t,(u,d)=>{const m=this.Zn(u,d);r=r.insert(u,m),i=i.insert(u,gI(d))}).next(()=>({documents:r,ss:i}))}es(e,t,r){if(t.isEmpty())return ee.resolve();let i=new zn(XP);t.forEach(w=>i=i.add(w));const u=IDBKeyRange.bound(J0(i.first()),J0(i.last())),d=i.getIterator();let m=d.getNext();return ug(e).X({index:"documentKeyIndex",range:u},(w,D,T)=>{const O=Ke.fromSegments([...D.prefixPath,D.collectionGroup,D.documentId]);for(;m&&XP(m,O)<0;)r(m,null),m=d.getNext();m&&m.isEqual(O)&&(r(m,D),m=d.hasNext()?d.getNext():null),m?T.G(J0(m)):T.done()}).next(()=>{for(;m;)r(m,null),m=d.hasNext()?d.getNext():null})}getDocumentsMatchingQuery(e,t,r,i){const u=t.path,d=[u.popLast().toArray(),u.lastSegment(),lI(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],m=[u.popLast().toArray(),u.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return ug(e).j(IDBKeyRange.bound(d,m,!0)).next(w=>{let D=Ko();for(const T of w){const O=this.Zn(Ke.fromSegments(T.prefixPath.concat(T.collectionGroup,T.documentId)),T);O.isFoundDocument()&&(F0(t,O)||i.has(O.key))&&(D=D.insert(O.key,O))}return D})}getAllFromCollectionGroup(e,t,r,i){let u=Ko();const d=JP(t,r),m=JP(t,Ps.max());return ug(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(d,m,!0)},(w,D,T)=>{const O=this.Zn(Ke.fromSegments(D.prefixPath.concat(D.collectionGroup,D.documentId)),D);u=u.insert(O.key,O),u.size===i&&T.done()}).next(()=>u)}newChangeBuffer(e){return new Sk(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return QP(e).get("remoteDocumentGlobalKey").next(t=>(wt(!!t),t))}Xn(e,t){return QP(e).put("remoteDocumentGlobalKey",t)}Zn(e,t){if(t){const r=function fk(n,e){let t;if(e.document)t=CP(n.le,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=Ke.fromSegments(e.noDocument.path),i=rg(e.noDocument.readTime);t=Gn.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return st();{const r=Ke.fromSegments(e.unknownDocument.path),i=rg(e.unknownDocument.version);t=Gn.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(r){const i=new rr(r[0],r[1]);return bt.fromTimestamp(i)}(e.readTime)),t}(this.serializer,t);if(!r.isNoDocument()||!r.version.isEqual(bt.min()))return r}return Gn.newInvalidDocument(e)}}function YP(n){return new Tk(n)}class Sk extends KP{constructor(e,t){super(),this.rs=e,this.trackRemovals=t,this.os=new $l(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new zn((u,d)=>jt(u.canonicalString(),d.canonicalString()));return this.changes.forEach((u,d)=>{const m=this.os.get(u);if(t.push(this.rs.removeEntry(e,u,m.readTime)),d.isValidDocument()){const w=SP(this.rs.serializer,d);i=i.add(u.path.popLast());const D=gI(w);r+=D-m.size,t.push(this.rs.addEntry(e,u,w))}else if(r-=m.size,this.trackRemovals){const w=SP(this.rs.serializer,d.convertToNoDocument(bt.min()));t.push(this.rs.addEntry(e,u,w))}}),i.forEach(u=>{t.push(this.rs.indexManager.addToCollectionParentIndex(e,u))}),t.push(this.rs.updateMetadata(e,r)),ee.waitFor(t)}getFromCache(e,t){return this.rs.ts(e,t).next(r=>(this.os.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.rs.ns(e,t).next(({documents:r,ss:i})=>(i.forEach((u,d)=>{this.os.set(u,{size:d,readTime:r.get(u).readTime})}),r))}}function QP(n){return xi(n,"remoteDocumentGlobal")}function ug(n){return xi(n,"remoteDocumentsV14")}function J0(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function JP(n,e){const t=e.documentKey.path.toArray();return[n,lI(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function XP(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let u=0;u<t.length-2&&u<r.length-2;++u)if(i=jt(t[u],r[u]),i)return i;return i=jt(t.length,r.length),i||(i=jt(t[t.length-2],r[r.length-2]),i||jt(t[t.length-1],r[r.length-1]))}class Ak{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class eO{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(null!==r&&B0(r.mutation,i,Wo.empty(),rr.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Zt()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Zt()){const i=Dc();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(u=>{let d=L0();return u.forEach((m,w)=>{d=d.insert(m,w.overlayedDocument)}),d}))}getOverlayedDocuments(e,t){const r=Dc();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Zt()))}populateOverlays(e,t,r){const i=[];return r.forEach(u=>{t.has(u)||i.push(u)}),this.documentOverlayCache.getOverlays(e,i).next(u=>{u.forEach((d,m)=>{t.set(d,m)})})}computeViews(e,t,r,i){let u=Ko();const d=V0(),m=V0();return t.forEach((w,D)=>{const T=r.get(D.key);i.has(D.key)&&(void 0===T||T.mutation instanceof Hl)?u=u.insert(D.key,D):void 0!==T?(d.set(D.key,T.mutation.getFieldMask()),B0(T.mutation,D,T.mutation.getFieldMask(),rr.now())):d.set(D.key,Wo.empty())}),this.recalculateAndSaveOverlays(e,u).next(w=>(w.forEach((D,T)=>d.set(D,T)),t.forEach((D,T)=>{var O;return m.set(D,new Ak(T,null!==(O=d.get(D))&&void 0!==O?O:null))}),m))}recalculateAndSaveOverlays(e,t){const r=V0();let i=new Fn((d,m)=>d-m),u=Zt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(d=>{for(const m of d)m.keys().forEach(w=>{const D=t.get(w);if(null===D)return;let T=r.get(w)||Wo.empty();T=m.applyToLocalView(D,T),r.set(w,T);const O=(i.get(m.batchId)||Zt()).add(w);i=i.insert(m.batchId,O)})}).next(()=>{const d=[],m=i.getReverseIterator();for(;m.hasNext();){const w=m.getNext(),D=w.key,T=w.value,O=qM();T.forEach(U=>{if(!u.has(U)){const Z=tP(t.get(U),r.get(U));null!==Z&&O.set(U,Z),u=u.add(U)}}),d.push(this.documentOverlayCache.saveOverlays(e,D,O))}return ee.waitFor(d)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return Ke.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):jT(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var i}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(u=>{const d=i-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-u.size):ee.resolve(Dc());let m=-1,w=u;return d.next(D=>ee.forEach(D,(T,O)=>(m<O.largestBatchId&&(m=O.largestBatchId),u.get(T)?ee.resolve():this.remoteDocumentCache.getEntry(e,T).next(U=>{w=w.insert(T,U)}))).next(()=>this.populateOverlays(e,D,u)).next(()=>this.computeViews(e,w,D,Zt())).next(T=>({batchId:m,changes:GM(T)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ke(t)).next(r=>{let i=L0();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const i=t.collectionGroup;let u=L0();return this.indexManager.getCollectionParents(e,i).next(d=>ee.forEach(d,m=>{const w=(D=t,T=m.child(i),new jl(T,null,D.explicitOrderBy.slice(),D.filters.slice(),D.limit,D.limitType,D.startAt,D.endAt));var D,T;return this.getDocumentsMatchingCollectionQuery(e,w,r).next(D=>{D.forEach((T,O)=>{u=u.insert(T,O)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(u=>(i=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,i))).next(u=>{i.forEach((m,w)=>{const D=w.getKey();null===u.get(D)&&(u=u.insert(D,Gn.newInvalidDocument(D)))});let d=L0();return u.forEach((m,w)=>{const D=i.get(m);void 0!==D&&B0(D.mutation,w,Wo.empty(),rr.now()),F0(t,w)&&(d=d.insert(m,w))}),d})}}class Mk{constructor(e){this.serializer=e,this.us=new Map,this.cs=new Map}getBundleMetadata(e,t){return ee.resolve(this.us.get(t))}saveBundleMetadata(e,t){var r;return this.us.set(t.id,{id:(r=t).id,version:r.version,createTime:Nr(r.createTime)}),ee.resolve()}getNamedQuery(e,t){return ee.resolve(this.cs.get(t))}saveNamedQuery(e,t){return this.cs.set(t.name,{name:(r=t).name,query:n1(r.bundledQuery),readTime:Nr(r.readTime)}),ee.resolve();var r}}class Pk{constructor(){this.overlays=new Fn(Ke.comparator),this.hs=new Map}getOverlay(e,t){return ee.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Dc();return ee.forEach(t,i=>this.getOverlay(e,i).next(u=>{null!==u&&r.set(i,u)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,u)=>{this.de(e,t,u)}),ee.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.hs.get(r);return void 0!==i&&(i.forEach(u=>this.overlays=this.overlays.remove(u)),this.hs.delete(r)),ee.resolve()}getOverlaysForCollection(e,t,r){const i=Dc(),u=t.length+1,d=new Ke(t.child("")),m=this.overlays.getIteratorFrom(d);for(;m.hasNext();){const w=m.getNext().value,D=w.getKey();if(!t.isPrefixOf(D.path))break;D.path.length===u&&w.largestBatchId>r&&i.set(w.getKey(),w)}return ee.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let u=new Fn((D,T)=>D-T);const d=this.overlays.getIterator();for(;d.hasNext();){const D=d.getNext().value;if(D.getKey().getCollectionGroup()===t&&D.largestBatchId>r){let T=u.get(D.largestBatchId);null===T&&(T=Dc(),u=u.insert(D.largestBatchId,T)),T.set(D.getKey(),D)}}const m=Dc(),w=u.getIterator();for(;w.hasNext()&&(w.getNext().value.forEach((D,T)=>m.set(D,T)),!(m.size()>=i)););return ee.resolve(m)}de(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const d=this.hs.get(i.largestBatchId).delete(r.key);this.hs.set(i.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new WT(t,r));let u=this.hs.get(t);void 0===u&&(u=Zt(),this.hs.set(t,u)),this.hs.set(t,u.add(r.key))}}class c1{constructor(){this.ls=new zn(Ti.fs),this.ds=new zn(Ti._s)}isEmpty(){return this.ls.isEmpty()}addReference(e,t){const r=new Ti(e,t);this.ls=this.ls.add(r),this.ds=this.ds.add(r)}ws(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.gs(new Ti(e,t))}ys(e,t){e.forEach(r=>this.removeReference(r,t))}ps(e){const t=new Ke(new ln([])),r=new Ti(t,e),i=new Ti(t,e+1),u=[];return this.ds.forEachInRange([r,i],d=>{this.gs(d),u.push(d.key)}),u}Is(){this.ls.forEach(e=>this.gs(e))}gs(e){this.ls=this.ls.delete(e),this.ds=this.ds.delete(e)}Ts(e){const t=new Ke(new ln([])),r=new Ti(t,e),i=new Ti(t,e+1);let u=Zt();return this.ds.forEachInRange([r,i],d=>{u=u.add(d.key)}),u}containsKey(e){const t=new Ti(e,0),r=this.ls.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Ti{constructor(e,t){this.key=e,this.Es=t}static fs(e,t){return Ke.comparator(e.key,t.key)||jt(e.Es,t.Es)}static _s(e,t){return jt(e.Es,t.Es)||Ke.comparator(e.key,t.key)}}class Ok{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.As=1,this.Rs=new zn(Ti.fs)}checkEmpty(e){return ee.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const u=this.As;this.As++;const d=new qT(u,t,r,i);this.mutationQueue.push(d);for(const m of i)this.Rs=this.Rs.add(new Ti(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ee.resolve(d)}lookupMutationBatch(e,t){return ee.resolve(this.vs(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.Ps(t+1),u=i<0?0:i;return ee.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(0===this.mutationQueue.length?-1:this.As-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Ti(t,0),i=new Ti(t,Number.POSITIVE_INFINITY),u=[];return this.Rs.forEachInRange([r,i],d=>{const m=this.vs(d.Es);u.push(m)}),ee.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new zn(jt);return t.forEach(i=>{const u=new Ti(i,0),d=new Ti(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([u,d],m=>{r=r.add(m.Es)})}),ee.resolve(this.bs(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let u=r;Ke.isDocumentKey(u)||(u=u.child(""));const d=new Ti(new Ke(u),0);let m=new zn(jt);return this.Rs.forEachWhile(w=>{const D=w.key.path;return!!r.isPrefixOf(D)&&(D.length===i&&(m=m.add(w.Es)),!0)},d),ee.resolve(this.bs(m))}bs(e){const t=[];return e.forEach(r=>{const i=this.vs(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){wt(0===this.Vs(t.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return ee.forEach(t.mutations,i=>{const u=new Ti(i.key,t.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Dn(e){}containsKey(e,t){const r=new Ti(t,0),i=this.Rs.firstAfterOrEqual(r);return ee.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return ee.resolve()}Vs(e,t){return this.Ps(e)}Ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}vs(e){const t=this.Ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Rk{constructor(e){this.Ss=e,this.docs=new Fn(Ke.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),u=i?i.size:0,d=this.Ss(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:d}),this.size+=d-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ee.resolve(r?r.document.mutableCopy():Gn.newInvalidDocument(t))}getEntries(e,t){let r=Ko();return t.forEach(i=>{const u=this.docs.get(i);r=r.insert(i,u?u.document.mutableCopy():Gn.newInvalidDocument(i))}),ee.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let u=Ko();const d=t.path,m=new Ke(d.child("")),w=this.docs.getIteratorFrom(m);for(;w.hasNext();){const{key:D,value:{document:T}}=w.getNext();if(!d.isPrefixOf(D.path))break;D.path.length>d.length+1||MT(sM(T),r)<=0||(i.has(T.key)||F0(t,T))&&(u=u.insert(T.key,T.mutableCopy()))}return ee.resolve(u)}getAllFromCollectionGroup(e,t,r,i){st()}Ds(e,t){return ee.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new Nk(this)}getSize(e){return ee.resolve(this.size)}}class Nk extends KP{constructor(e){super(),this.rs=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.rs.addEntry(e,i)):this.rs.removeEntry(r)}),ee.waitFor(t)}getFromCache(e,t){return this.rs.getEntry(e,t)}getAllFromCache(e,t){return this.rs.getEntries(e,t)}}class kk{constructor(e){this.persistence=e,this.Cs=new $l(t=>Jp(t),N0),this.lastRemoteSnapshotVersion=bt.min(),this.highestTargetId=0,this.xs=0,this.Ns=new c1,this.targetCount=0,this.ks=ag.Nn()}forEachTarget(e,t){return this.Cs.forEach((r,i)=>t(i)),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this.xs)}allocateTargetId(e){return this.highestTargetId=this.ks.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.xs&&(this.xs=t),ee.resolve()}$n(e){this.Cs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ks=new ag(t),this.highestTargetId=t),e.sequenceNumber>this.xs&&(this.xs=e.sequenceNumber)}addTargetData(e,t){return this.$n(t),this.targetCount+=1,ee.resolve()}updateTargetData(e,t){return this.$n(t),ee.resolve()}removeTargetData(e,t){return this.Cs.delete(t.target),this.Ns.ps(t.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,t,r){let i=0;const u=[];return this.Cs.forEach((d,m)=>{m.sequenceNumber<=t&&null===r.get(m.targetId)&&(this.Cs.delete(d),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),i++)}),ee.waitFor(u).next(()=>i)}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,t){const r=this.Cs.get(t)||null;return ee.resolve(r)}addMatchingKeys(e,t,r){return this.Ns.ws(t,r),ee.resolve()}removeMatchingKeys(e,t,r){this.Ns.ys(t,r);const i=this.persistence.referenceDelegate,u=[];return i&&t.forEach(d=>{u.push(i.markPotentiallyOrphaned(e,d))}),ee.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.Ns.ps(t),ee.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Ns.Ts(t);return ee.resolve(r)}containsKey(e,t){return ee.resolve(this.Ns.containsKey(t))}}class l1{constructor(e,t){this.Ms={},this.overlays={},this.Os=new Os(0),this.$s=!1,this.$s=!0,this.referenceDelegate=e(this),this.Fs=new kk(this),this.indexManager=new Ck,this.remoteDocumentCache=new Rk(r=>this.referenceDelegate.Bs(r)),this.serializer=new TP(t),this.Ls=new Mk(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.$s=!1,Promise.resolve()}get started(){return this.$s}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Pk,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Ms[e.toKey()];return r||(r=new Ok(t,this.referenceDelegate),this.Ms[e.toKey()]=r),r}getTargetCache(){return this.Fs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ls}runTransaction(e,t,r){ke("MemoryPersistence","Starting transaction:",e);const i=new Fk(this.Os.next());return this.referenceDelegate.qs(),r(i).next(u=>this.referenceDelegate.Us(i).next(()=>u)).toPromise().then(u=>(i.raiseOnCommittedEvent(),u))}Ks(e,t){return ee.or(Object.values(this.Ms).map(r=>()=>r.containsKey(e,t)))}}class Fk extends uM{constructor(e){super(),this.currentSequenceNumber=e}}class _I{constructor(e){this.persistence=e,this.Gs=new c1,this.Qs=null}static js(e){return new _I(e)}get zs(){if(this.Qs)return this.Qs;throw st()}addReference(e,t,r){return this.Gs.addReference(r,t),this.zs.delete(r.toString()),ee.resolve()}removeReference(e,t,r){return this.Gs.removeReference(r,t),this.zs.add(r.toString()),ee.resolve()}markPotentiallyOrphaned(e,t){return this.zs.add(t.toString()),ee.resolve()}removeTarget(e,t){this.Gs.ps(t.targetId).forEach(i=>this.zs.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(u=>this.zs.add(u.toString()))}).next(()=>r.removeTargetData(e,t))}qs(){this.Qs=new Set}Us(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.zs,r=>{const i=Ke.fromPath(r);return this.Ws(e,i).next(u=>{u||t.removeEntry(i,bt.min())})}).next(()=>(this.Qs=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ws(e,t).next(r=>{r?this.zs.delete(t.toString()):this.zs.add(t.toString())})}Bs(e){return 0}Ws(e,t){return ee.or([()=>ee.resolve(this.Gs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ks(e,t)])}}class Lk{constructor(e){this.serializer=e}$(e,t,r,i){const u=new ZE("createOrUpgrade",t);var m;r<1&&i>=1&&(e.createObjectStore("owner"),(m=e).createObjectStore("mutationQueues",{keyPath:"userId"}),m.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",hM,{unique:!0}),m.createObjectStore("documentMutations"),tO(e),function(m){m.createObjectStore("remoteDocuments")}(e));let d=ee.resolve();return r<3&&i>=3&&(0!==r&&(function(m){m.deleteObjectStore("targetDocuments"),m.deleteObjectStore("targets"),m.deleteObjectStore("targetGlobal")}(e),tO(e)),d=d.next(()=>function(m){const w=m.store("targetGlobal"),D={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:bt.min().toTimestamp(),targetCount:0};return w.put("targetGlobalKey",D)}(u))),r<4&&i>=4&&(0!==r&&(d=d.next(()=>function(m,w){return w.store("mutations").j().next(D=>{m.deleteObjectStore("mutations"),m.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",hM,{unique:!0});const T=w.store("mutations"),O=D.map(U=>T.put(U));return ee.waitFor(O)})}(e,u))),d=d.next(()=>{!function(m){m.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(d=d.next(()=>this.Js(u))),r<6&&i>=6&&(d=d.next(()=>(function(m){m.createObjectStore("remoteDocumentGlobal")}(e),this.Ys(u)))),r<7&&i>=7&&(d=d.next(()=>this.Xs(u))),r<8&&i>=8&&(d=d.next(()=>this.Zs(e,u))),r<9&&i>=9&&(d=d.next(()=>{!function(m){m.objectStoreNames.contains("remoteDocumentChanges")&&m.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(d=d.next(()=>this.ti(u))),r<11&&i>=11&&(d=d.next(()=>{(function(m){m.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(m){m.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(d=d.next(()=>{!function(m){const w=m.createObjectStore("documentOverlays",{keyPath:CN});w.createIndex("collectionPathOverlayIndex",bN,{unique:!1}),w.createIndex("collectionGroupOverlayIndex",EN,{unique:!1})}(e)})),r<13&&i>=13&&(d=d.next(()=>function(m){const w=m.createObjectStore("remoteDocumentsV14",{keyPath:lN});w.createIndex("documentKeyIndex",dN),w.createIndex("collectionGroupIndex",hN)}(e)).next(()=>this.ei(e,u)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(d=d.next(()=>this.ni(e,u))),r<15&&i>=15&&(d=d.next(()=>function(m){m.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),m.createObjectStore("indexState",{keyPath:yN}).createIndex("sequenceNumberIndex",_N,{unique:!1}),m.createObjectStore("indexEntries",{keyPath:vN}).createIndex("documentKeyIndex",wN,{unique:!1})}(e))),d}Ys(e){let t=0;return e.store("remoteDocuments").X((r,i)=>{t+=gI(i)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Js(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.j().next(i=>ee.forEach(i,u=>{const d=IDBKeyRange.bound([u.userId,-1],[u.userId,u.lastAcknowledgedBatchId]);return r.j("userMutationsIndex",d).next(m=>ee.forEach(m,w=>{wt(w.userId===u.userId);const D=ig(this.serializer,w);return $P(e,u.userId,D).next(()=>{})}))}))}Xs(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const u=[];return r.X((d,m)=>{const w=new ln(d),D=[0,to(w)];u.push(t.get(D).next(T=>T?ee.resolve():t.put({targetId:0,path:to(w),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>ee.waitFor(u))})}Zs(e,t){e.createObjectStore("collectionParents",{keyPath:mN});const r=t.store("collectionParents"),i=new u1,u=d=>{if(i.add(d)){const m=d.lastSegment(),w=d.popLast();return r.put({collectionId:m,parent:to(w)})}};return t.store("remoteDocuments").X({Y:!0},(d,m)=>{const w=new ln(d);return u(w.popLast())}).next(()=>t.store("documentMutations").X({Y:!0},([d,m,w],D)=>{const T=Ec(m);return u(T.popLast())}))}ti(e){const t=e.store("targets");return t.X((r,i)=>{const u=Z0(i),d=AP(this.serializer,u);return t.put(d)})}ei(e,t){const r=t.store("remoteDocuments"),i=[];return r.X((u,d)=>{const m=t.store("remoteDocumentsV14"),w=(D=d,D.document?new Ke(ln.fromString(D.document.name).popFirst(5)):D.noDocument?Ke.fromSegments(D.noDocument.path):D.unknownDocument?Ke.fromSegments(D.unknownDocument.path):st()).path.toArray();var D;const T={prefixPath:w.slice(0,w.length-2),collectionGroup:w[w.length-2],documentId:w[w.length-1],readTime:d.readTime||[0,0],unknownDocument:d.unknownDocument,noDocument:d.noDocument,document:d.document,hasCommittedMutations:!!d.hasCommittedMutations};i.push(m.put(T))}).next(()=>ee.waitFor(i))}ni(e,t){const r=t.store("mutations"),i=YP(this.serializer),u=new l1(_I.js,this.serializer.le);return r.j().next(d=>{const m=new Map;return d.forEach(w=>{var D;let T=null!==(D=m.get(w.userId))&&void 0!==D?D:Zt();ig(this.serializer,w).keys().forEach(O=>T=T.add(O)),m.set(w.userId,T)}),ee.forEach(m,(w,D)=>{const T=new Di(D),O=dI.fe(this.serializer,T),U=u.getIndexManager(T),Z=mI.fe(T,this.serializer,U,u.referenceDelegate);return new eO(i,Z,O,U).recalculateAndSaveOverlaysForDocumentKeys(new RT(t,Os.ct),w).next()})})}}function tO(n){n.createObjectStore("targetDocuments",{keyPath:pN}).createIndex("documentTargetsIndex",gN,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",fN,{unique:!0}),n.createObjectStore("targetGlobal")}const d1="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class h1{constructor(e,t,r,i,u,d,m,w,D,T,O=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.si=u,this.window=d,this.document=m,this.ii=D,this.ri=T,this.oi=O,this.Os=null,this.$s=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ui=null,this.inForeground=!1,this.ci=null,this.ai=null,this.hi=Number.NEGATIVE_INFINITY,this.li=U=>Promise.resolve(),!h1.D())throw new Te(ae.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new xk(this,i),this.fi=t+"main",this.serializer=new TP(w),this.di=new fu(this.fi,this.oi,new Lk(this.serializer)),this.Fs=new Ek(this.referenceDelegate,this.serializer),this.remoteDocumentCache=YP(this.serializer),this.Ls=new pk,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===T&&Rr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.wi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Te(ae.FAILED_PRECONDITION,d1);return this.mi(),this.gi(),this.yi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Fs.getHighestSequenceNumber(e))}).then(e=>{this.Os=new Os(e,this.ii)}).then(()=>{this.$s=!0}).catch(e=>(this.di&&this.di.close(),Promise.reject(e)))}pi(e){var t=this;return this.li=function(){var r=(0,ye.Z)(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.di.B(function(){var t=(0,ye.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.si.enqueueAndForget((0,ye.Z)(function*(){t.started&&(yield t.wi())})))}wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>wI(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ii(e).next(t=>{t||(this.isPrimary=!1,this.si.enqueueRetryable(()=>this.li(!1)))})}).next(()=>this.Ti(e)).next(t=>this.isPrimary&&!t?this.Ei(e).next(()=>!1):!!t&&this.Ai(e).next(()=>!0))).catch(e=>{if(Mh(e))return ke("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return ke("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.si.enqueueRetryable(()=>this.li(e)),this.isPrimary=e})}Ii(e){return X0(e).get("owner").next(t=>ee.resolve(this.Ri(t)))}vi(e){return wI(e).delete(this.clientId)}Pi(){var e=this;return(0,ye.Z)(function*(){if(e.isPrimary&&!e.bi(e.hi,18e5)){e.hi=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=xi(r,"clientMetadata");return i.j().next(u=>{const d=e.Vi(u,18e5),m=u.filter(w=>-1===d.indexOf(w));return ee.forEach(m,w=>i.delete(w.clientId)).next(()=>m)})}).catch(()=>[]);if(e._i)for(const r of t)e._i.removeItem(e.Si(r.clientId))}})()}yi(){this.ai=this.si.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.wi().then(()=>this.Pi()).then(()=>this.yi()))}Ri(e){return!!e&&e.ownerId===this.clientId}Ti(e){return this.ri?ee.resolve(!0):X0(e).get("owner").next(t=>{if(null!==t&&this.bi(t.leaseTimestampMs,5e3)&&!this.Di(t.ownerId)){if(this.Ri(t)&&this.networkEnabled)return!0;if(!this.Ri(t)){if(!t.allowTabSynchronization)throw new Te(ae.FAILED_PRECONDITION,d1);return!1}}return!(!this.networkEnabled||!this.inForeground)||wI(e).j().next(r=>void 0===this.Vi(r,5e3).find(i=>!(this.clientId===i.clientId||!(!this.networkEnabled&&i.networkEnabled||!this.inForeground&&i.inForeground&&this.networkEnabled===i.networkEnabled))))}).next(t=>(this.isPrimary!==t&&ke("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,ye.Z)(function*(){e.$s=!1,e.Ci(),e.ai&&(e.ai.cancel(),e.ai=null),e.xi(),e.Ni(),yield e.di.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new RT(t,Os.ct);return e.Ei(r).next(()=>e.vi(r))}),e.di.close(),e.ki()})()}Vi(e,t){return e.filter(r=>this.bi(r.updateTimeMs,t)&&!this.Di(r.clientId))}Mi(){return this.runTransaction("getActiveClients","readonly",e=>wI(e).j().next(t=>this.Vi(t,18e5).map(r=>r.clientId)))}get started(){return this.$s}getMutationQueue(e,t){return mI.fe(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Fs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new bk(e,this.serializer.le.databaseId)}getDocumentOverlayCache(e){return dI.fe(this.serializer,e)}getBundleCache(){return this.Ls}runTransaction(e,t,r){ke("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",u=15===(d=this.oi)?DN:14===d?mM:13===d?gM:12===d?IN:11===d?pM:void st();var d;let m;return this.di.runTransaction(e,i,u,w=>(m=new RT(w,this.Os?this.Os.next():Os.ct),"readwrite-primary"===t?this.Ii(m).next(D=>!!D||this.Ti(m)).next(D=>{if(!D)throw Rr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.si.enqueueRetryable(()=>this.li(!1)),new Te(ae.FAILED_PRECONDITION,aM);return r(m)}).next(D=>this.Ai(m).next(()=>D)):this.Oi(m).next(()=>r(m)))).then(w=>(m.raiseOnCommittedEvent(),w))}Oi(e){return X0(e).get("owner").next(t=>{if(null!==t&&this.bi(t.leaseTimestampMs,5e3)&&!this.Di(t.ownerId)&&!this.Ri(t)&&!(this.ri||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Te(ae.FAILED_PRECONDITION,d1)})}Ai(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return X0(e).put("owner",t)}static D(){return fu.D()}Ei(e){const t=X0(e);return t.get("owner").next(r=>this.Ri(r)?(ke("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):ee.resolve())}bi(e,t){const r=Date.now();return!(e<r-t||e>r&&(Rr(`Detected an update time that is in the future: ${e} > ${r}`),1))}mi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ci=()=>{this.si.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.wi()))},this.document.addEventListener("visibilitychange",this.ci),this.inForeground="visible"===this.document.visibilityState)}xi(){this.ci&&(this.document.removeEventListener("visibilitychange",this.ci),this.ci=null)}gi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ui=()=>{this.Ci();const t=/(?:Version|Mobile)\/1[456]/;(0,mn.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.si.enterRestrictedMode(!0),this.si.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ui))}Ni(){this.ui&&(this.window.removeEventListener("pagehide",this.ui),this.ui=null)}Di(e){var t;try{const r=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Si(e)));return ke("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Rr("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Ci(){if(this._i)try{this._i.setItem(this.Si(this.clientId),String(Date.now()))}catch(e){Rr("Failed to set zombie client id.",e)}}ki(){if(this._i)try{this._i.removeItem(this.Si(this.clientId))}catch{}}Si(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function X0(n){return xi(n,"owner")}function wI(n){return xi(n,"clientMetadata")}function f1(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class p1{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.$i=r,this.Fi=i}static Bi(e,t){let r=Zt(),i=Zt();for(const u of t.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:i=i.add(u.doc.key)}return new p1(e,t.fromCache,r,i)}}class nO{constructor(){this.Li=!1}initialize(e,t){this.qi=e,this.indexManager=t,this.Li=!0}getDocumentsMatchingQuery(e,t,r,i){return this.Ui(e,t).next(u=>u||this.Ki(e,t,i,r)).next(u=>u||this.Gi(e,t))}Ui(e,t){if(BM(t))return ee.resolve(null);let r=wo(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=iI(t,null,"F"),r=wo(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(u=>{const d=Zt(...u);return this.qi.getDocuments(e,d).next(m=>this.indexManager.getMinOffset(e,r).next(w=>{const D=this.Qi(t,m);return this.ji(t,D,d,w.readTime)?this.Ui(e,iI(t,null,"F")):this.zi(e,D,t,w)}))})))}Ki(e,t,r,i){return BM(t)||i.isEqual(bt.min())?this.Gi(e,t):this.qi.getDocuments(e,r).next(u=>{const d=this.Qi(t,u);return this.ji(t,d,r,i)?this.Gi(e,t):(TT()<=Pl.in.DEBUG&&ke("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),HT(t)),this.zi(e,d,t,oM(i,-1)))})}Qi(e,t){let r=new zn(HM(e));return t.forEach((i,u)=>{F0(e,u)&&(r=r.add(u))}),r}ji(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const u="F"===e.limitType?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(i)>0)}Gi(e,t){return TT()<=Pl.in.DEBUG&&ke("QueryEngine","Using full collection scan to execute query:",HT(t)),this.qi.getDocumentsMatchingQuery(e,t,Ps.min())}zi(e,t,r,i){return this.qi.getDocumentsMatchingQuery(e,r,i).next(u=>(t.forEach(d=>{u=u.insert(d.key,d)}),u))}}class Vk{constructor(e,t,r,i){this.persistence=e,this.Wi=t,this.serializer=i,this.Hi=new Fn(jt),this.Ji=new $l(u=>Jp(u),N0),this.Yi=new Map,this.Xi=e.getRemoteDocumentCache(),this.Fs=e.getTargetCache(),this.Ls=e.getBundleCache(),this.Zi(r)}Zi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new eO(this.Xi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Xi.setIndexManager(this.indexManager),this.Wi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Hi))}}function rO(n,e,t,r){return new Vk(n,e,t,r)}function iO(n,e){return g1.apply(this,arguments)}function g1(){return g1=(0,ye.Z)(function*(n,e){const t=Qe(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(u=>(i=u,t.Zi(e),t.mutationQueue.getAllMutationBatches(r))).next(u=>{const d=[],m=[];let w=Zt();for(const D of i){d.push(D.batchId);for(const T of D.mutations)w=w.add(T.key)}for(const D of u){m.push(D.batchId);for(const T of D.mutations)w=w.add(T.key)}return t.localDocuments.getDocuments(r,w).next(D=>({tr:D,removedBatchIds:d,addedBatchIds:m}))})})}),g1.apply(this,arguments)}function oO(n){const e=Qe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Fs.getLastRemoteSnapshotVersion(t))}function sO(n,e,t){let r=Zt(),i=Zt();return t.forEach(u=>r=r.add(u)),e.getEntries(n,r).next(u=>{let d=Ko();return t.forEach((m,w)=>{const D=u.get(m);w.isFoundDocument()!==D.isFoundDocument()&&(i=i.add(m)),w.isNoDocument()&&w.version.isEqual(bt.min())?(e.removeEntry(m,w.readTime),d=d.insert(m,w)):!D.isValidDocument()||w.version.compareTo(D.version)>0||0===w.version.compareTo(D.version)&&D.hasPendingWrites?(e.addEntry(w),d=d.insert(m,w)):ke("LocalStore","Ignoring outdated watch update for ",m,". Current version:",D.version," Watch version:",w.version)}),{er:d,nr:i}})}function jk(n,e){const t=Qe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function ky(n,e){const t=Qe(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Fs.getTargetData(r,e).next(u=>u?(i=u,ee.resolve(i)):t.Fs.allocateTargetId(r).next(d=>(i=new zl(e,d,"TargetPurposeListen",r.currentSequenceNumber),t.Fs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Hi.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Hi=t.Hi.insert(r.targetId,r),t.Ji.set(e,r.targetId)),r})}function Fy(n,e,t){return m1.apply(this,arguments)}function m1(){return m1=(0,ye.Z)(function*(n,e,t){const r=Qe(n),i=r.Hi.get(e),u=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",u,d=>r.persistence.referenceDelegate.removeTarget(d,i)))}catch(d){if(!Mh(d))throw d;ke("LocalStore",`Failed to update sequence numbers for target ${e}: ${d}`)}r.Hi=r.Hi.remove(e),r.Ji.delete(i.target)}),m1.apply(this,arguments)}function CI(n,e,t){const r=Qe(n);let i=bt.min(),u=Zt();return r.persistence.runTransaction("Execute query","readonly",d=>function(m,w,D){const T=Qe(m),O=T.Ji.get(D);return void 0!==O?ee.resolve(T.Hi.get(O)):T.Fs.getTargetData(w,D)}(r,d,wo(e)).next(m=>{if(m)return i=m.lastLimboFreeSnapshotVersion,r.Fs.getMatchingKeysForTargetId(d,m.targetId).next(w=>{u=w})}).next(()=>r.Wi.getDocumentsMatchingQuery(d,e,t?i:bt.min(),t?u:Zt())).next(m=>(cO(r,$M(e),m),{documents:m,sr:u})))}function aO(n,e){const t=Qe(n),r=Qe(t.Fs),i=t.Hi.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",u=>r.he(u,e).next(d=>d?d.target:null))}function uO(n,e){const t=Qe(n),r=t.Yi.get(e)||bt.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.Xi.getAllFromCollectionGroup(i,e,oM(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(cO(t,e,i),i))}function cO(n,e,t){let r=n.Yi.get(e)||bt.min();t.forEach((i,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)}),n.Yi.set(e,r)}function y1(){return y1=(0,ye.Z)(function*(n,e,t,r){const i=Qe(n);let u=Zt(),d=Ko();for(const D of t){const T=e.ir(D.metadata.name);D.document&&(u=u.add(T));const O=e.rr(D);O.setReadTime(e.ur(D.metadata.readTime)),d=d.insert(T,O)}const m=i.Xi.newChangeBuffer({trackRemovals:!0}),w=yield ky(i,(D=r,wo(xy(ln.fromString(`__bundle__/docs/${D}`)))));var D;return i.persistence.runTransaction("Apply bundle documents","readwrite",D=>sO(D,m,d).next(T=>(m.apply(D),T)).next(T=>i.Fs.removeMatchingKeysForTargetId(D,w.targetId).next(()=>i.Fs.addMatchingKeys(D,u,w.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(D,T.er,T.nr)).next(()=>T.er)))}),y1.apply(this,arguments)}function Hk(n,e){return _1.apply(this,arguments)}function _1(){return _1=(0,ye.Z)(function*(n,e,t=Zt()){const r=yield ky(n,wo(n1(e.bundledQuery))),i=Qe(n);return i.persistence.runTransaction("Save named query","readwrite",u=>{const d=Nr(e.readTime);if(r.snapshotVersion.compareTo(d)>=0)return i.Ls.saveNamedQuery(u,e);const m=r.withResumeToken(si.EMPTY_BYTE_STRING,d);return i.Hi=i.Hi.insert(m.targetId,m),i.Fs.updateTargetData(u,m).next(()=>i.Fs.removeMatchingKeysForTargetId(u,r.targetId)).next(()=>i.Fs.addMatchingKeys(u,t,r.targetId)).next(()=>i.Ls.saveNamedQuery(u,e))})}),_1.apply(this,arguments)}function lO(n,e){return`firestore_clients_${n}_${e}`}function dO(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function v1(n,e){return`firestore_targets_${n}_${e}`}class bI{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static cr(e,t,r){const i=JSON.parse(r);let u,d="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return d&&i.error&&(d="string"==typeof i.error.message&&"string"==typeof i.error.code,d&&(u=new Te(i.error.code,i.error.message))),d?new bI(e,t,i.state,u):(Rr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}ar(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class ew{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static cr(e,t){const r=JSON.parse(t);let i,u="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return u&&r.error&&(u="string"==typeof r.error.message&&"string"==typeof r.error.code,u&&(i=new Te(r.error.code,r.error.message))),u?new ew(e,r.state,i):(Rr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}ar(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class EI{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static cr(e,t){const r=JSON.parse(t);let i="object"==typeof r&&r.activeTargetIds instanceof Array,u=zT();for(let d=0;i&&d<r.activeTargetIds.length;++d)i=lM(r.activeTargetIds[d]),u=u.add(r.activeTargetIds[d]);return i?new EI(e,u):(Rr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class w1{constructor(e,t){this.clientId=e,this.onlineState=t}static cr(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new w1(t.clientId,t.onlineState):(Rr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class C1{constructor(){this.activeTargetIds=zT()}hr(e){this.activeTargetIds=this.activeTargetIds.add(e)}lr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ar(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class b1{constructor(e,t,r,i,u){this.window=e,this.si=t,this.persistenceKey=r,this.dr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.wr.bind(this),this.mr=new Fn(jt),this.started=!1,this.gr=[];const d=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=u,this.yr=lO(this.persistenceKey,this.dr),this.pr=`firestore_sequence_number_${this.persistenceKey}`,this.mr=this.mr.insert(this.dr,new C1),this.Ir=new RegExp(`^firestore_clients_${d}_([^_]*)$`),this.Tr=new RegExp(`^firestore_mutations_${d}_(\\d+)(?:_(.*))?$`),this.Er=new RegExp(`^firestore_targets_${d}_(\\d+)$`),this.Ar=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(m){return`firestore_bundle_loaded_v2_${m}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,ye.Z)(function*(){const t=yield e.syncEngine.Mi();for(const i of t){if(i===e.dr)continue;const u=e.getItem(lO(e.persistenceKey,i));if(u){const d=EI.cr(i,u);d&&(e.mr=e.mr.insert(d.clientId,d))}}e.vr();const r=e.storage.getItem(e.Ar);if(r){const i=e.Pr(r);i&&e.br(i)}for(const i of e.gr)e.wr(i);e.gr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.pr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Vr(this.mr)}isActiveQueryTarget(e){let t=!1;return this.mr.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Sr(e,"pending")}updateMutationState(e,t,r){this.Sr(e,t,r),this.Dr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(v1(this.persistenceKey,e));if(r){const i=ew.cr(e,r);i&&(t=i.state)}}return this.Cr.hr(e),this.vr(),t}removeLocalQueryTarget(e){this.Cr.lr(e),this.vr()}isLocalQueryTarget(e){return this.Cr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(v1(this.persistenceKey,e))}updateQueryState(e,t,r){this.Nr(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.Dr(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.kr(e)}notifyBundleLoaded(e){this.Mr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.yr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return ke("SharedClientState","READ",e,t),t}setItem(e,t){ke("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){ke("SharedClientState","REMOVE",e),this.storage.removeItem(e)}wr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(ke("SharedClientState","EVENT",r.key,r.newValue),r.key===this.yr)return void Rr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.si.enqueueRetryable((0,ye.Z)(function*(){if(t.started){if(null!==r.key)if(t.Ir.test(r.key)){if(null==r.newValue){const i=t.Or(r.key);return t.$r(i,null)}{const i=t.Fr(r.key,r.newValue);if(i)return t.$r(i.clientId,i)}}else if(t.Tr.test(r.key)){if(null!==r.newValue){const i=t.Br(r.key,r.newValue);if(i)return t.Lr(i)}}else if(t.Er.test(r.key)){if(null!==r.newValue){const i=t.qr(r.key,r.newValue);if(i)return t.Ur(i)}}else if(r.key===t.Ar){if(null!==r.newValue){const i=t.Pr(r.newValue);if(i)return t.br(i)}}else if(r.key===t.pr){const i=function(u){let d=Os.ct;if(null!=u)try{const m=JSON.parse(u);wt("number"==typeof m),d=m}catch(m){Rr("SharedClientState","Failed to read sequence number from WebStorage",m)}return d}(r.newValue);i!==Os.ct&&t.sequenceNumberHandler(i)}else if(r.key===t.Rr){const i=t.Kr(r.newValue);yield Promise.all(i.map(u=>t.syncEngine.Gr(u)))}}else t.gr.push(r)}))}}get Cr(){return this.mr.get(this.dr)}vr(){this.setItem(this.yr,this.Cr.ar())}Sr(e,t,r){const i=new bI(this.currentUser,e,t,r),u=dO(this.persistenceKey,this.currentUser,e);this.setItem(u,i.ar())}Dr(e){const t=dO(this.persistenceKey,this.currentUser,e);this.removeItem(t)}kr(e){this.storage.setItem(this.Ar,JSON.stringify({clientId:this.dr,onlineState:e}))}Nr(e,t,r){const i=v1(this.persistenceKey,e),u=new ew(e,t,r);this.setItem(i,u.ar())}Mr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}Or(e){const t=this.Ir.exec(e);return t?t[1]:null}Fr(e,t){const r=this.Or(e);return EI.cr(r,t)}Br(e,t){const r=this.Tr.exec(e),i=Number(r[1]);return bI.cr(new Di(void 0!==r[2]?r[2]:null),i,t)}qr(e,t){const r=this.Er.exec(e),i=Number(r[1]);return ew.cr(i,t)}Pr(e){return w1.cr(e)}Kr(e){return JSON.parse(e)}Lr(e){var t=this;return(0,ye.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Qr(e.batchId,e.state,e.error);ke("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Ur(e){return this.syncEngine.jr(e.targetId,e.state,e.error)}$r(e,t){const r=t?this.mr.insert(e,t):this.mr.remove(e),i=this.Vr(this.mr),u=this.Vr(r),d=[],m=[];return u.forEach(w=>{i.has(w)||d.push(w)}),i.forEach(w=>{u.has(w)||m.push(w)}),this.syncEngine.zr(d,m).then(()=>{this.mr=r})}br(e){this.mr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Vr(e){let t=zT();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class hO{constructor(){this.Wr=new C1,this.Hr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Wr.hr(e),this.Hr[e]||"not-current"}updateQueryState(e,t,r){this.Hr[e]=t}removeLocalQueryTarget(e){this.Wr.lr(e)}isLocalQueryTarget(e){return this.Wr.activeTargetIds.has(e)}clearQueryState(e){delete this.Hr[e]}getAllActiveQueryTargets(){return this.Wr.activeTargetIds}isActiveQueryTarget(e){return this.Wr.activeTargetIds.has(e)}start(){return this.Wr=new C1,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class zk{Jr(e){}shutdown(){}}class fO{constructor(){this.Yr=()=>this.Xr(),this.Zr=()=>this.eo(),this.no=[],this.so()}Jr(e){this.no.push(e)}shutdown(){window.removeEventListener("online",this.Yr),window.removeEventListener("offline",this.Zr)}so(){window.addEventListener("online",this.Yr),window.addEventListener("offline",this.Zr)}Xr(){ke("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.no)e(0)}eo(){ke("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.no)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let II=null;function E1(){return null===II?II=268435456+Math.round(2147483648*Math.random()):II++,"0x"+II.toString(16)}const Gk={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class qk{constructor(e){this.io=e.io,this.ro=e.ro}oo(e){this.uo=e}co(e){this.ao=e}onMessage(e){this.ho=e}close(){this.ro()}send(e){this.io(e)}lo(){this.uo()}fo(e){this.ao(e)}_o(e){this.ho(e)}}const ro="WebChannelConnection";class Zk extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.wo=(e.ssl?"https":"http")+"://"+e.host,this.mo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get yo(){return!1}po(e,t,r,i,u){const d=E1(),m=this.Io(e,t);ke("RestConnection",`Sending RPC '${e}' ${d}:`,m,r);const w={};return this.To(w,i,u),this.Eo(e,m,w,r).then(D=>(ke("RestConnection",`Received RPC '${e}' ${d}: `,D),D),D=>{throw fa("RestConnection",`RPC '${e}' ${d} failed with error: `,D,"url: ",m,"request:",r),D})}Ao(e,t,r,i,u,d){return this.po(e,t,r,i,u)}To(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+wy,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,u)=>e[u]=i),r&&r.headers.forEach((i,u)=>e[u]=i)}Io(e,t){return`${this.wo}/v1/${t}:${Gk[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}Eo(e,t,r,i){const u=E1();return new Promise((d,m)=>{const w=new zR;w.setWithCredentials(!0),w.listenOnce(jR.COMPLETE,()=>{try{switch(w.getLastErrorCode()){case xT.NO_ERROR:const T=w.getResponseJson();ke(ro,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(T)),d(T);break;case xT.TIMEOUT:ke(ro,`RPC '${e}' ${u} timed out`),m(new Te(ae.DEADLINE_EXCEEDED,"Request time out"));break;case xT.HTTP_ERROR:const O=w.getStatus();if(ke(ro,`RPC '${e}' ${u} failed with status:`,O,"response text:",w.getResponseText()),O>0){let U=w.getResponseJson();Array.isArray(U)&&(U=U[0]);const Z=U?.error;if(Z&&Z.status&&Z.message){const se=function(Ie){const Fe=Ie.toLowerCase().replace(/_/g,"-");return Object.values(ae).indexOf(Fe)>=0?Fe:ae.UNKNOWN}(Z.status);m(new Te(se,Z.message))}else m(new Te(ae.UNKNOWN,"Server responded with status "+w.getStatus()))}else m(new Te(ae.UNAVAILABLE,"Connection failed."));break;default:st()}}finally{ke(ro,`RPC '${e}' ${u} completed.`)}});const D=JSON.stringify(i);ke(ro,`RPC '${e}' ${u} sending request:`,i),w.send(t,"POST",D,r,15)})}Ro(e,t,r){const i=E1(),u=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=UR(),m=BR(),w={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(w.xmlHttpFactory=new HR({})),this.To(w.initMessageHeaders,t,r),w.encodeInitMessageHeaders=!0;const D=u.join("");ke(ro,`Creating RPC '${e}' stream ${i}: ${D}`,w);const T=d.createWebChannel(D,w);let O=!1,U=!1;const Z=new qk({io:Ie=>{U?ke(ro,`Not sending because RPC '${e}' stream ${i} is closed:`,Ie):(O||(ke(ro,`Opening RPC '${e}' stream ${i} transport.`),T.open(),O=!0),ke(ro,`RPC '${e}' stream ${i} sending:`,Ie),T.send(Ie))},ro:()=>T.close()}),se=(Ie,Fe,rt)=>{Ie.listen(Fe,St=>{try{rt(St)}catch(Ct){setTimeout(()=>{throw Ct},0)}})};return se(T,zE.EventType.OPEN,()=>{U||ke(ro,`RPC '${e}' stream ${i} transport opened.`)}),se(T,zE.EventType.CLOSE,()=>{U||(U=!0,ke(ro,`RPC '${e}' stream ${i} transport closed`),Z.fo())}),se(T,zE.EventType.ERROR,Ie=>{U||(U=!0,fa(ro,`RPC '${e}' stream ${i} transport errored:`,Ie),Z.fo(new Te(ae.UNAVAILABLE,"The operation could not be completed")))}),se(T,zE.EventType.MESSAGE,Ie=>{var Fe;if(!U){const rt=Ie.data[0];wt(!!rt);const Ct=rt.error||(null===(Fe=rt[0])||void 0===Fe?void 0:Fe.error);if(Ct){ke(ro,`RPC '${e}' stream ${i} received error:`,Ct);const Gt=Ct.status;let Jt=function(Eo){const Wh=Gr[Eo];if(void 0!==Wh)return aP(Wh)}(Gt),hn=Ct.message;void 0===Jt&&(Jt=ae.INTERNAL,hn="Unknown error status: "+Gt+" with message "+Ct.message),U=!0,Z.fo(new Te(Jt,hn)),T.close()}else ke(ro,`RPC '${e}' stream ${i} received:`,rt),Z._o(rt)}}),se(m,$R.STAT_EVENT,Ie=>{Ie.stat===XA.PROXY?ke(ro,`RPC '${e}' stream ${i} detected buffering proxy`):Ie.stat===XA.NOPROXY&&ke(ro,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{Z.lo()},0),Z}}function pO(){return typeof window<"u"?window:null}function DI(){return typeof document<"u"?document:null}function tw(n){return new rk(n,!0)}class I1{constructor(e,t,r=1e3,i=1.5,u=6e4){this.si=e,this.timerId=t,this.vo=r,this.Po=i,this.bo=u,this.Vo=0,this.So=null,this.Do=Date.now(),this.reset()}reset(){this.Vo=0}Co(){this.Vo=this.bo}xo(e){this.cancel();const t=Math.floor(this.Vo+this.No()),r=Math.max(0,Date.now()-this.Do),i=Math.max(0,t-r);i>0&&ke("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Vo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.So=this.si.enqueueAfterDelay(this.timerId,i,()=>(this.Do=Date.now(),e())),this.Vo*=this.Po,this.Vo<this.vo&&(this.Vo=this.vo),this.Vo>this.bo&&(this.Vo=this.bo)}ko(){null!==this.So&&(this.So.skipDelay(),this.So=null)}cancel(){null!==this.So&&(this.So.cancel(),this.So=null)}No(){return(Math.random()-.5)*this.Vo}}class gO{constructor(e,t,r,i,u,d,m,w){this.si=e,this.Mo=r,this.Oo=i,this.connection=u,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=m,this.listener=w,this.state=0,this.$o=0,this.Fo=null,this.Bo=null,this.stream=null,this.Lo=new I1(e,t)}qo(){return 1===this.state||5===this.state||this.Uo()}Uo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Ko()}stop(){var e=this;return(0,ye.Z)(function*(){e.qo()&&(yield e.close(0))})()}Go(){this.state=0,this.Lo.reset()}Qo(){this.Uo()&&null===this.Fo&&(this.Fo=this.si.enqueueAfterDelay(this.Mo,6e4,()=>this.jo()))}zo(e){this.Wo(),this.stream.send(e)}jo(){var e=this;return(0,ye.Z)(function*(){if(e.Uo())return e.close(0)})()}Wo(){this.Fo&&(this.Fo.cancel(),this.Fo=null)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}close(e,t){var r=this;return(0,ye.Z)(function*(){r.Wo(),r.Ho(),r.Lo.cancel(),r.$o++,4!==e?r.Lo.reset():t&&t.code===ae.RESOURCE_EXHAUSTED?(Rr(t.toString()),Rr("Using maximum backoff delay to prevent overloading the backend."),r.Lo.Co()):t&&t.code===ae.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Jo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.co(t)})()}Jo(){}auth(){this.state=1;const e=this.Yo(this.$o),t=this.$o;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.$o===t&&this.Xo(r,i)},r=>{e(()=>{const i=new Te(ae.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Zo(i)})})}Xo(e,t){const r=this.Yo(this.$o);this.stream=this.tu(e,t),this.stream.oo(()=>{r(()=>(this.state=2,this.Bo=this.si.enqueueAfterDelay(this.Oo,1e4,()=>(this.Uo()&&(this.state=3),Promise.resolve())),this.listener.oo()))}),this.stream.co(i=>{r(()=>this.Zo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Ko(){var e=this;this.state=5,this.Lo.xo((0,ye.Z)(function*(){e.state=0,e.start()}))}Zo(e){return ke("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Yo(e){return t=>{this.si.enqueueAndForget(()=>this.$o===e?t():(ke("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Wk extends gO{constructor(e,t,r,i,u,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,d),this.serializer=u}tu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.Lo.reset();const t=function sk(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(w=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===w?1:"REMOVE"===w?2:"CURRENT"===w?3:"RESET"===w?4:st(),i=e.targetChange.targetIds||[],u=function(w,D){return w.useProto3Json?(wt(void 0===D||"string"==typeof D),si.fromBase64String(D||"")):(wt(void 0===D||D instanceof Uint8Array),si.fromUint8Array(D||new Uint8Array))}(n,e.targetChange.resumeToken),d=e.targetChange.cause,m=d&&function(w){const D=void 0===w.code?ae.UNKNOWN:aP(w.code);return new Te(D,w.message||"")}(d);t=new hP(r,i,u,m||null)}else if("documentChange"in e){const r=e.documentChange,i=xc(n,r.document.name),u=Nr(r.document.updateTime),d=r.document.createTime?Nr(r.document.createTime):bt.min(),m=new $i({mapValue:{fields:r.document.fields}}),w=Gn.newFoundDocument(i,u,d,m);t=new cI(r.targetIds||[],r.removedTargetIds||[],w.key,w)}else if("documentDelete"in e){const r=e.documentDelete,i=xc(n,r.document),u=r.readTime?Nr(r.readTime):bt.min(),d=Gn.newNoDocument(i,u);t=new cI([],r.removedTargetIds||[],d.key,d)}else if("documentRemove"in e){const r=e.documentRemove,i=xc(n,r.document);t=new cI([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return st();{const r=e.filter,{count:i=0,unchangedNames:u}=r,d=new QN(i,u);t=new dP(r.targetId,d)}}var w;return t}(this.serializer,e),r=function(i){if(!("targetChange"in i))return bt.min();const u=i.targetChange;return u.targetIds&&u.targetIds.length?bt.min():u.readTime?Nr(u.readTime):bt.min()}(e);return this.listener.eu(t,r)}nu(e){const t={};t.database=G0(this.serializer),t.addTarget=function(i,u){let d;const m=u.target;if(d=tI(m)?{documents:bP(i,m)}:{query:t1(i,m)},d.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){d.resumeToken=mP(i,u.resumeToken);const w=QT(i,u.expectedCount);null!==w&&(d.expectedCount=w)}else if(u.snapshotVersion.compareTo(bt.min())>0){d.readTime=Py(i,u.snapshotVersion.toTimestamp());const w=QT(i,u.expectedCount);null!==w&&(d.expectedCount=w)}return d}(this.serializer,e);const r=function uk(n,e){const t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return st()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.zo(t)}su(e){const t={};t.database=G0(this.serializer),t.removeTarget=e,this.zo(t)}}class Kk extends gO{constructor(e,t,r,i,u,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,d),this.serializer=u,this.iu=!1}get ru(){return this.iu}start(){this.iu=!1,this.lastStreamToken=void 0,super.start()}Jo(){this.iu&&this.ou([])}tu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(wt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.iu){this.Lo.reset();const t=function ak(n,e){return n&&n.length>0?(wt(void 0!==e),n.map(t=>function(r,i){let u=Nr(r.updateTime?r.updateTime:i);return u.isEqual(bt.min())&&(u=Nr(i)),new ZN(u,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Nr(e.commitTime);return this.listener.uu(r,t)}return wt(!e.writeResults||0===e.writeResults.length),this.iu=!0,this.listener.cu()}au(){const e={};e.database=G0(this.serializer),this.zo(e)}ou(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>q0(this.serializer,r))};this.zo(t)}}class Yk extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.hu=!1}lu(){if(this.hu)throw new Te(ae.FAILED_PRECONDITION,"The client has already been terminated.")}po(e,t,r){return this.lu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,u])=>this.connection.po(e,t,r,i,u)).catch(i=>{throw"FirebaseError"===i.name?(i.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Te(ae.UNKNOWN,i.toString())})}Ao(e,t,r,i){return this.lu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,d])=>this.connection.Ao(e,t,r,u,d,i)).catch(u=>{throw"FirebaseError"===u.name?(u.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Te(ae.UNKNOWN,u.toString())})}terminate(){this.hu=!0}}class Jk{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.du=0,this._u=null,this.wu=!0}mu(){0===this.du&&(this.gu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.yu("Backend didn't respond within 10 seconds."),this.gu("Offline"),Promise.resolve())))}pu(e){"Online"===this.state?this.gu("Unknown"):(this.du++,this.du>=1&&(this.Iu(),this.yu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.gu("Offline")))}set(e){this.Iu(),this.du=0,"Online"===e&&(this.wu=!1),this.gu(e)}gu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}yu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.wu?(Rr(t),this.wu=!1):ke("OnlineStateTracker",t)}Iu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class Xk{constructor(e,t,r,i,u){var d=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Tu=[],this.Eu=new Map,this.Au=new Set,this.Ru=[],this.vu=u,this.vu.Jr(m=>{r.enqueueAndForget((0,ye.Z)(function*(){var w;$h(d)&&(ke("RemoteStore","Restarting streams for network reachability change."),yield(w=(0,ye.Z)(function*(D){const T=Qe(D);T.Au.add(4),yield Ly(T),T.Pu.set("Unknown"),T.Au.delete(4),yield nw(T)}),function(D){return w.apply(this,arguments)})(d))}))}),this.Pu=new Jk(r,i)}}function nw(n){return x1.apply(this,arguments)}function x1(){return x1=(0,ye.Z)(function*(n){if($h(n))for(const e of n.Ru)yield e(!0)}),x1.apply(this,arguments)}function Ly(n){return T1.apply(this,arguments)}function T1(){return T1=(0,ye.Z)(function*(n){for(const e of n.Ru)yield e(!1)}),T1.apply(this,arguments)}function xI(n,e){const t=Qe(n);t.Eu.has(e.targetId)||(t.Eu.set(e.targetId,e),M1(t)?A1(t):Uy(t).Uo()&&S1(t,e))}function rw(n,e){const t=Qe(n),r=Uy(t);t.Eu.delete(e),r.Uo()&&mO(t,e),0===t.Eu.size&&(r.Uo()?r.Qo():$h(t)&&t.Pu.set("Unknown"))}function S1(n,e){if(n.bu.Lt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(bt.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Uy(n).nu(e)}function mO(n,e){n.bu.Lt(e),Uy(n).su(e)}function A1(n){n.bu=new XN({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),he:e=>n.Eu.get(e)||null,oe:()=>n.datastore.serializer.databaseId}),Uy(n).start(),n.Pu.mu()}function M1(n){return $h(n)&&!Uy(n).qo()&&n.Eu.size>0}function $h(n){return 0===Qe(n).Au.size}function yO(n){n.bu=void 0}function eF(n){return P1.apply(this,arguments)}function P1(){return P1=(0,ye.Z)(function*(n){n.Eu.forEach((e,t)=>{S1(n,e)})}),P1.apply(this,arguments)}function tF(n,e){return O1.apply(this,arguments)}function O1(){return O1=(0,ye.Z)(function*(n,e){yO(n),M1(n)?(n.Pu.pu(e),A1(n)):n.Pu.set("Unknown")}),O1.apply(this,arguments)}function nF(n,e,t){return R1.apply(this,arguments)}function R1(){return R1=(0,ye.Z)(function*(n,e,t){if(n.Pu.set("Online"),e instanceof hP&&2===e.state&&e.cause)try{yield(r=(0,ye.Z)(function*(i,u){const d=u.cause;for(const m of u.targetIds)i.Eu.has(m)&&(yield i.remoteSyncer.rejectListen(m,d),i.Eu.delete(m),i.bu.removeTarget(m))}),function(i,u){return r.apply(this,arguments)})(n,e)}catch(r){ke("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield TI(n,r)}else if(e instanceof cI?n.bu.Wt(e):e instanceof dP?n.bu.ee(e):n.bu.Yt(e),!t.isEqual(bt.min()))try{const r=yield oO(n.localStore);t.compareTo(r)>=0&&(yield function(i,u){const d=i.bu.ue(u);return d.targetChanges.forEach((m,w)=>{if(m.resumeToken.approximateByteSize()>0){const D=i.Eu.get(w);D&&i.Eu.set(w,D.withResumeToken(m.resumeToken,u))}}),d.targetMismatches.forEach((m,w)=>{const D=i.Eu.get(m);if(!D)return;i.Eu.set(m,D.withResumeToken(si.EMPTY_BYTE_STRING,D.snapshotVersion)),mO(i,m);const T=new zl(D.target,m,w,D.sequenceNumber);S1(i,T)}),i.remoteSyncer.applyRemoteEvent(d)}(n,t))}catch(r){ke("RemoteStore","Failed to raise snapshot:",r),yield TI(n,r)}var r}),R1.apply(this,arguments)}function TI(n,e,t){return N1.apply(this,arguments)}function N1(){return N1=(0,ye.Z)(function*(n,e,t){if(!Mh(e))throw e;n.Au.add(1),yield Ly(n),n.Pu.set("Offline"),t||(t=()=>oO(n.localStore)),n.asyncQueue.enqueueRetryable((0,ye.Z)(function*(){ke("RemoteStore","Retrying IndexedDB access"),yield t(),n.Au.delete(1),yield nw(n)}))}),N1.apply(this,arguments)}function _O(n,e){return e().catch(t=>TI(n,t,e))}function Vy(n){return k1.apply(this,arguments)}function k1(){return k1=(0,ye.Z)(function*(n){const e=Qe(n),t=Hh(e);let r=e.Tu.length>0?e.Tu[e.Tu.length-1].batchId:-1;for(;rF(e);)try{const i=yield jk(e.localStore,r);if(null===i){0===e.Tu.length&&t.Qo();break}r=i.batchId,iF(e,i)}catch(i){yield TI(e,i)}vO(e)&&wO(e)}),k1.apply(this,arguments)}function rF(n){return $h(n)&&n.Tu.length<10}function iF(n,e){n.Tu.push(e);const t=Hh(n);t.Uo()&&t.ru&&t.ou(e.mutations)}function vO(n){return $h(n)&&!Hh(n).qo()&&n.Tu.length>0}function wO(n){Hh(n).start()}function oF(n){return F1.apply(this,arguments)}function F1(){return F1=(0,ye.Z)(function*(n){Hh(n).au()}),F1.apply(this,arguments)}function sF(n){return L1.apply(this,arguments)}function L1(){return L1=(0,ye.Z)(function*(n){const e=Hh(n);for(const t of n.Tu)e.ou(t.mutations)}),L1.apply(this,arguments)}function aF(n,e,t){return V1.apply(this,arguments)}function V1(){return V1=(0,ye.Z)(function*(n,e,t){const r=n.Tu.shift(),i=ZT.from(r,e,t);yield _O(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Vy(n)}),V1.apply(this,arguments)}function uF(n,e){return U1.apply(this,arguments)}function U1(){return U1=(0,ye.Z)(function*(n,e){var t;e&&Hh(n).ru&&(yield(t=(0,ye.Z)(function*(r,i){if(sP(u=i.code)&&u!==ae.ABORTED){const d=r.Tu.shift();Hh(r).Go(),yield _O(r,()=>r.remoteSyncer.rejectFailedWrite(d.batchId,i)),yield Vy(r)}var u}),function(r,i){return t.apply(this,arguments)})(n,e)),vO(n)&&wO(n)}),U1.apply(this,arguments)}function CO(n,e){return B1.apply(this,arguments)}function B1(){return B1=(0,ye.Z)(function*(n,e){const t=Qe(n);t.asyncQueue.verifyOperationInProgress(),ke("RemoteStore","RemoteStore received new credentials");const r=$h(t);t.Au.add(3),yield Ly(t),r&&t.Pu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.Au.delete(3),yield nw(t)}),B1.apply(this,arguments)}function j1(n,e){return $1.apply(this,arguments)}function $1(){return $1=(0,ye.Z)(function*(n,e){const t=Qe(n);e?(t.Au.delete(2),yield nw(t)):e||(t.Au.add(2),yield Ly(t),t.Pu.set("Unknown"))}),$1.apply(this,arguments)}function Uy(n){return n.Vu||(n.Vu=function(e,t,r){const i=Qe(e);return i.lu(),new Wk(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(n.datastore,n.asyncQueue,{oo:eF.bind(null,n),co:tF.bind(null,n),eu:nF.bind(null,n)}),n.Ru.push(function(){var e=(0,ye.Z)(function*(t){t?(n.Vu.Go(),M1(n)?A1(n):n.Pu.set("Unknown")):(yield n.Vu.stop(),yO(n))});return function(t){return e.apply(this,arguments)}}())),n.Vu}function Hh(n){return n.Su||(n.Su=function(e,t,r){const i=Qe(e);return i.lu(),new Kk(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(n.datastore,n.asyncQueue,{oo:oF.bind(null,n),co:uF.bind(null,n),cu:sF.bind(null,n),uu:aF.bind(null,n)}),n.Ru.push(function(){var e=(0,ye.Z)(function*(t){t?(n.Su.Go(),yield Vy(n)):(yield n.Su.stop(),n.Tu.length>0&&(ke("RemoteStore",`Stopping write stream with ${n.Tu.length} pending writes`),n.Tu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Su}class H1{constructor(e,t,r,i,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=u,this.deferred=new oi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}static createAndSchedule(e,t,r,i,u){const d=Date.now()+r,m=new H1(e,t,d,i,u);return m.start(r),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Te(ae.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function By(n,e){if(Rr("AsyncQueue",`${e}: ${n}`),Mh(n))return new Te(ae.UNAVAILABLE,`${e}: ${n}`);throw n}class jy{constructor(e){this.comparator=e?(t,r)=>e(t,r)||Ke.comparator(t.key,r.key):(t,r)=>Ke.comparator(t.key,r.key),this.keyedMap=L0(),this.sortedSet=new Fn(this.comparator)}static emptySet(e){return new jy(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof jy)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,u=r.getNext().key;if(!i.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new jy;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class bO{constructor(){this.Du=new Fn(Ke.comparator)}track(e){const t=e.doc.key,r=this.Du.get(t);r?0!==e.type&&3===r.type?this.Du=this.Du.insert(t,e):3===e.type&&1!==r.type?this.Du=this.Du.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Du=this.Du.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Du=this.Du.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Du=this.Du.remove(t):1===e.type&&2===r.type?this.Du=this.Du.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Du=this.Du.insert(t,{type:2,doc:e.doc}):st():this.Du=this.Du.insert(t,e)}Cu(){const e=[];return this.Du.inorderTraversal((t,r)=>{e.push(r)}),e}}class $y{constructor(e,t,r,i,u,d,m,w,D){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=u,this.fromCache=d,this.syncStateChanged=m,this.excludesMetadataChanges=w,this.hasCachedResults=D}static fromInitialDocuments(e,t,r,i,u){const d=[];return t.forEach(m=>{d.push({type:0,doc:m})}),new $y(e,t,jy.emptySet(t),d,r,i,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&k0(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class cF{constructor(){this.xu=void 0,this.listeners=[]}}class lF{constructor(){this.queries=new $l(e=>jM(e),k0),this.onlineState="Unknown",this.Nu=new Set}}function z1(n,e){return G1.apply(this,arguments)}function G1(){return G1=(0,ye.Z)(function*(n,e){const t=Qe(n),r=e.query;let i=!1,u=t.queries.get(r);if(u||(i=!0,u=new cF),i)try{u.xu=yield t.onListen(r)}catch(d){const m=By(d,`Initialization of query '${HT(e.query)}' failed`);return void e.onError(m)}t.queries.set(r,u),u.listeners.push(e),e.ku(t.onlineState),u.xu&&e.Mu(u.xu)&&W1(t)}),G1.apply(this,arguments)}function q1(n,e){return Z1.apply(this,arguments)}function Z1(){return Z1=(0,ye.Z)(function*(n,e){const t=Qe(n),r=e.query;let i=!1;const u=t.queries.get(r);if(u){const d=u.listeners.indexOf(e);d>=0&&(u.listeners.splice(d,1),i=0===u.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),Z1.apply(this,arguments)}function dF(n,e){const t=Qe(n);let r=!1;for(const i of e){const d=t.queries.get(i.query);if(d){for(const m of d.listeners)m.Mu(i)&&(r=!0);d.xu=i}}r&&W1(t)}function hF(n,e,t){const r=Qe(n),i=r.queries.get(e);if(i)for(const u of i.listeners)u.onError(t);r.queries.delete(e)}function W1(n){n.Nu.forEach(e=>{e.next()})}class K1{constructor(e,t,r){this.query=e,this.Ou=t,this.$u=!1,this.Fu=null,this.onlineState="Unknown",this.options=r||{}}Mu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new $y(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.$u?this.Bu(e)&&(this.Ou.next(e),t=!0):this.Lu(e,this.onlineState)&&(this.qu(e),t=!0),this.Fu=e,t}onError(e){this.Ou.error(e)}ku(e){this.onlineState=e;let t=!1;return this.Fu&&!this.$u&&this.Lu(this.Fu,e)&&(this.qu(this.Fu),t=!0),t}Lu(e,t){return!e.fromCache||(!this.options.Uu||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Bu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Fu&&this.Fu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}qu(e){e=$y.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.$u=!0,this.Ou.next(e)}}class fF{constructor(e,t){this.Ku=e,this.byteLength=t}Gu(){return"metadata"in this.Ku}}class EO{constructor(e){this.serializer=e}ir(e){return xc(this.serializer,e)}rr(e){return e.metadata.exists?CP(this.serializer,e.document,!1):Gn.newNoDocument(this.ir(e.metadata.name),this.ur(e.metadata.readTime))}ur(e){return Nr(e)}}class pF{constructor(e,t,r){this.Qu=e,this.localStore=t,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=IO(e)}ju(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Ku.namedQuery)this.queries.push(e.Ku.namedQuery);else if(e.Ku.documentMetadata){this.documents.push({metadata:e.Ku.documentMetadata}),e.Ku.documentMetadata.exists||++t;const r=ln.fromString(e.Ku.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.Ku.document&&(this.documents[this.documents.length-1].document=e.Ku.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}zu(e){const t=new Map,r=new EO(this.serializer);for(const i of e)if(i.metadata.queries){const u=r.ir(i.metadata.name);for(const d of i.metadata.queries){const m=(t.get(d)||Zt()).add(u);t.set(d,m)}}return t}complete(){var e=this;return(0,ye.Z)(function*(){const t=yield function $k(n,e,t,r){return y1.apply(this,arguments)}(e.localStore,new EO(e.serializer),e.documents,e.Qu.id),r=e.zu(e.documents);for(const i of e.queries)yield Hk(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,Wu:e.collectionGroups,Hu:t}})()}}function IO(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class DO{constructor(e){this.key=e}}class xO{constructor(e){this.key=e}}class TO{constructor(e,t){this.query=e,this.Ju=t,this.Yu=null,this.hasCachedResults=!1,this.current=!1,this.Xu=Zt(),this.mutatedKeys=Zt(),this.Zu=HM(e),this.tc=new jy(this.Zu)}get ec(){return this.Ju}nc(e,t){const r=t?t.sc:new bO,i=t?t.tc:this.tc;let u=t?t.mutatedKeys:this.mutatedKeys,d=i,m=!1;const w="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,D="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((T,O)=>{const U=i.get(T),Z=F0(this.query,O)?O:null,se=!!U&&this.mutatedKeys.has(U.key),Ie=!!Z&&(Z.hasLocalMutations||this.mutatedKeys.has(Z.key)&&Z.hasCommittedMutations);let Fe=!1;U&&Z?U.data.isEqual(Z.data)?se!==Ie&&(r.track({type:3,doc:Z}),Fe=!0):this.ic(U,Z)||(r.track({type:2,doc:Z}),Fe=!0,(w&&this.Zu(Z,w)>0||D&&this.Zu(Z,D)<0)&&(m=!0)):!U&&Z?(r.track({type:0,doc:Z}),Fe=!0):U&&!Z&&(r.track({type:1,doc:U}),Fe=!0,(w||D)&&(m=!0)),Fe&&(Z?(d=d.add(Z),u=Ie?u.add(T):u.delete(T)):(d=d.delete(T),u=u.delete(T)))}),null!==this.query.limit)for(;d.size>this.query.limit;){const T="F"===this.query.limitType?d.last():d.first();d=d.delete(T.key),u=u.delete(T.key),r.track({type:1,doc:T})}return{tc:d,sc:r,ji:m,mutatedKeys:u}}ic(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.tc;this.tc=e.tc,this.mutatedKeys=e.mutatedKeys;const u=e.sc.Cu();u.sort((D,T)=>function(O,U){const Z=se=>{switch(se){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return st()}};return Z(O)-Z(U)}(D.type,T.type)||this.Zu(D.doc,T.doc)),this.rc(r);const d=t?this.oc():[],m=0===this.Xu.size&&this.current?1:0,w=m!==this.Yu;return this.Yu=m,0!==u.length||w?{snapshot:new $y(this.query,e.tc,i,u,e.mutatedKeys,0===m,w,!1,!!r&&r.resumeToken.approximateByteSize()>0),uc:d}:{uc:d}}ku(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({tc:this.tc,sc:new bO,mutatedKeys:this.mutatedKeys,ji:!1},!1)):{uc:[]}}cc(e){return!this.Ju.has(e)&&!!this.tc.has(e)&&!this.tc.get(e).hasLocalMutations}rc(e){e&&(e.addedDocuments.forEach(t=>this.Ju=this.Ju.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ju=this.Ju.delete(t)),this.current=e.current)}oc(){if(!this.current)return[];const e=this.Xu;this.Xu=Zt(),this.tc.forEach(r=>{this.cc(r.key)&&(this.Xu=this.Xu.add(r.key))});const t=[];return e.forEach(r=>{this.Xu.has(r)||t.push(new xO(r))}),this.Xu.forEach(r=>{e.has(r)||t.push(new DO(r))}),t}ac(e){this.Ju=e.sr,this.Xu=Zt();const t=this.nc(e.documents);return this.applyChanges(t,!0)}hc(){return $y.fromInitialDocuments(this.query,this.tc,this.mutatedKeys,0===this.Yu,this.hasCachedResults)}}class gF{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class mF{constructor(e){this.key=e,this.lc=!1}}class yF{constructor(e,t,r,i,u,d){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=u,this.maxConcurrentLimboResolutions=d,this.fc={},this.dc=new $l(m=>jM(m),k0),this._c=new Map,this.wc=new Set,this.mc=new Fn(Ke.comparator),this.gc=new Map,this.yc=new c1,this.Ic={},this.Tc=new Map,this.Ec=ag.kn(),this.onlineState="Unknown",this.Ac=void 0}get isPrimaryClient(){return!0===this.Ac}}function _F(n,e){return Y1.apply(this,arguments)}function Y1(){return Y1=(0,ye.Z)(function*(n,e){const t=vS(n);let r,i;const u=t.dc.get(e);if(u)r=u.targetId,t.sharedClientState.addLocalQueryTarget(r),i=u.view.hc();else{const d=yield ky(t.localStore,wo(e)),m=t.sharedClientState.addLocalQueryTarget(d.targetId);r=d.targetId,i=yield Q1(t,e,r,"current"===m,d.resumeToken),t.isPrimaryClient&&xI(t.remoteStore,d)}return i}),Y1.apply(this,arguments)}function Q1(n,e,t,r,i){return J1.apply(this,arguments)}function J1(){return J1=(0,ye.Z)(function*(n,e,t,r,i){n.Rc=(O,U,Z)=>{return(se=(0,ye.Z)(function*(Ie,Fe,rt,St){let Ct=Fe.view.nc(rt);Ct.ji&&(Ct=yield CI(Ie.localStore,Fe.query,!1).then(({documents:hn})=>Fe.view.nc(hn,Ct)));const Gt=St&&St.targetChanges.get(Fe.targetId),Jt=Fe.view.applyChanges(Ct,Ie.isPrimaryClient,Gt);return uS(Ie,Fe.targetId,Jt.uc),Jt.snapshot}),function(Ie,Fe,rt,St){return se.apply(this,arguments)})(n,O,U,Z);var se};const u=yield CI(n.localStore,e,!0),d=new TO(e,u.sr),m=d.nc(u.documents),w=H0.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),D=d.applyChanges(m,n.isPrimaryClient,w);uS(n,t,D.uc);const T=new gF(e,t,d);return n.dc.set(e,T),n._c.has(t)?n._c.get(t).push(e):n._c.set(t,[e]),D.snapshot}),J1.apply(this,arguments)}function vF(n,e){return X1.apply(this,arguments)}function X1(){return X1=(0,ye.Z)(function*(n,e){const t=Qe(n),r=t.dc.get(e),i=t._c.get(r.targetId);if(i.length>1)return t._c.set(r.targetId,i.filter(u=>!k0(u,e))),void t.dc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Fy(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),rw(t.remoteStore,r.targetId),Hy(t,r.targetId)}).catch(Ah))):(Hy(t,r.targetId),yield Fy(t.localStore,r.targetId,!0))}),X1.apply(this,arguments)}function eS(){return eS=(0,ye.Z)(function*(n,e,t){const r=wS(n);try{const i=yield function(u,d){const m=Qe(u),w=rr.now(),D=d.reduce((U,Z)=>U.add(Z.key),Zt());let T,O;return m.persistence.runTransaction("Locally write mutations","readwrite",U=>{let Z=Ko(),se=Zt();return m.Xi.getEntries(U,D).next(Ie=>{Z=Ie,Z.forEach((Fe,rt)=>{rt.isValidDocument()||(se=se.add(Fe))})}).next(()=>m.localDocuments.getOverlayedDocuments(U,Z)).next(Ie=>{T=Ie;const Fe=[];for(const rt of d){const St=KN(rt,T.get(rt.key).overlayedDocument);null!=St&&Fe.push(new Hl(rt.key,St,TM(St.value.mapValue),ir.exists(!0)))}return m.mutationQueue.addMutationBatch(U,w,Fe,d)}).next(Ie=>{O=Ie;const Fe=Ie.applyToLocalDocumentSet(T,se);return m.documentOverlayCache.saveOverlays(U,Ie.batchId,Fe)})}).then(()=>({batchId:O.batchId,changes:GM(T)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(u,d,m){let w=u.Ic[u.currentUser.toKey()];w||(w=new Fn(jt)),w=w.insert(d,m),u.Ic[u.currentUser.toKey()]=w}(r,i.batchId,t),yield Gl(r,i.changes),yield Vy(r.remoteStore)}catch(i){const u=By(i,"Failed to persist write");t.reject(u)}}),eS.apply(this,arguments)}function SO(n,e){return tS.apply(this,arguments)}function tS(){return tS=(0,ye.Z)(function*(n,e){const t=Qe(n);try{const r=yield function Bk(n,e){const t=Qe(n),r=e.snapshotVersion;let i=t.Hi;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const d=t.Xi.newChangeBuffer({trackRemovals:!0});i=t.Hi;const m=[];e.targetChanges.forEach((T,O)=>{const U=i.get(O);if(!U)return;m.push(t.Fs.removeMatchingKeys(u,T.removedDocuments,O).next(()=>t.Fs.addMatchingKeys(u,T.addedDocuments,O)));let Z=U.withSequenceNumber(u.currentSequenceNumber);var se,Ie,Fe;null!==e.targetMismatches.get(O)?Z=Z.withResumeToken(si.EMPTY_BYTE_STRING,bt.min()).withLastLimboFreeSnapshotVersion(bt.min()):T.resumeToken.approximateByteSize()>0&&(Z=Z.withResumeToken(T.resumeToken,r)),i=i.insert(O,Z),Ie=Z,Fe=T,(0===(se=U).resumeToken.approximateByteSize()||Ie.snapshotVersion.toMicroseconds()-se.snapshotVersion.toMicroseconds()>=3e8||Fe.addedDocuments.size+Fe.modifiedDocuments.size+Fe.removedDocuments.size>0)&&m.push(t.Fs.updateTargetData(u,Z))});let w=Ko(),D=Zt();if(e.documentUpdates.forEach(T=>{e.resolvedLimboDocuments.has(T)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(u,T))}),m.push(sO(u,d,e.documentUpdates).next(T=>{w=T.er,D=T.nr})),!r.isEqual(bt.min())){const T=t.Fs.getLastRemoteSnapshotVersion(u).next(O=>t.Fs.setTargetsMetadata(u,u.currentSequenceNumber,r));m.push(T)}return ee.waitFor(m).next(()=>d.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,w,D)).next(()=>w)}).then(u=>(t.Hi=i,u))}(t.localStore,e);e.targetChanges.forEach((i,u)=>{const d=t.gc.get(u);d&&(wt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?d.lc=!0:i.modifiedDocuments.size>0?wt(d.lc):i.removedDocuments.size>0&&(wt(d.lc),d.lc=!1))}),yield Gl(t,r,e)}catch(r){yield Ah(r)}}),tS.apply(this,arguments)}function AO(n,e,t){const r=Qe(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.dc.forEach((u,d)=>{const m=d.view.ku(e);m.snapshot&&i.push(m.snapshot)}),function(u,d){const m=Qe(u);m.onlineState=d;let w=!1;m.queries.forEach((D,T)=>{for(const O of T.listeners)O.ku(d)&&(w=!0)}),w&&W1(m)}(r.eventManager,e),i.length&&r.fc.eu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function CF(n,e,t){return nS.apply(this,arguments)}function nS(){return nS=(0,ye.Z)(function*(n,e,t){const r=Qe(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.gc.get(e),u=i&&i.key;if(u){let d=new Fn(Ke.comparator);d=d.insert(u,Gn.newNoDocument(u,bt.min()));const m=Zt().add(u),w=new $0(bt.min(),new Map,new Fn(jt),d,m);yield SO(r,w),r.mc=r.mc.remove(u),r.gc.delete(e),cS(r)}else yield Fy(r.localStore,e,!1).then(()=>Hy(r,e,t)).catch(Ah)}),nS.apply(this,arguments)}function bF(n,e){return rS.apply(this,arguments)}function rS(){return rS=(0,ye.Z)(function*(n,e){const t=Qe(n),r=e.batch.batchId;try{const i=yield function Uk(n,e){const t=Qe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),u=t.Xi.newChangeBuffer({trackRemovals:!0});return function(d,m,w,D){const T=w.batch,O=T.keys();let U=ee.resolve();return O.forEach(Z=>{U=U.next(()=>D.getEntry(m,Z)).next(se=>{const Ie=w.docVersions.get(Z);wt(null!==Ie),se.version.compareTo(Ie)<0&&(T.applyToRemoteDocument(se,w),se.isValidDocument()&&(se.setReadTime(w.commitVersion),D.addEntry(se)))})}),U.next(()=>d.mutationQueue.removeMutationBatch(m,T))}(t,r,e,u).next(()=>u.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(d){let m=Zt();for(let w=0;w<d.mutationResults.length;++w)d.mutationResults[w].transformResults.length>0&&(m=m.add(d.batch.mutations[w].key));return m}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}(t.localStore,e);aS(t,r,null),sS(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Gl(t,i)}catch(i){yield Ah(i)}}),rS.apply(this,arguments)}function EF(n,e,t){return iS.apply(this,arguments)}function iS(){return iS=(0,ye.Z)(function*(n,e,t){const r=Qe(n);try{const i=yield function(u,d){const m=Qe(u);return m.persistence.runTransaction("Reject batch","readwrite-primary",w=>{let D;return m.mutationQueue.lookupMutationBatch(w,d).next(T=>(wt(null!==T),D=T.keys(),m.mutationQueue.removeMutationBatch(w,T))).next(()=>m.mutationQueue.performConsistencyCheck(w)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(w,D,d)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(w,D)).next(()=>m.localDocuments.getDocuments(w,D))})}(r.localStore,e);aS(r,e,t),sS(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Gl(r,i)}catch(i){yield Ah(i)}}),iS.apply(this,arguments)}function oS(){return oS=(0,ye.Z)(function*(n,e){const t=Qe(n);$h(t.remoteStore)||ke("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(u){const d=Qe(u);return d.persistence.runTransaction("Get highest unacknowledged batch id","readonly",m=>d.mutationQueue.getHighestUnacknowledgedBatchId(m))}(t.localStore);if(-1===r)return void e.resolve();const i=t.Tc.get(r)||[];i.push(e),t.Tc.set(r,i)}catch(r){const i=By(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),oS.apply(this,arguments)}function sS(n,e){(n.Tc.get(e)||[]).forEach(t=>{t.resolve()}),n.Tc.delete(e)}function aS(n,e,t){const r=Qe(n);let i=r.Ic[r.currentUser.toKey()];if(i){const u=i.get(e);u&&(t?u.reject(t):u.resolve(),i=i.remove(e)),r.Ic[r.currentUser.toKey()]=i}}function Hy(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n._c.get(e))n.dc.delete(r),t&&n.fc.vc(r,t);n._c.delete(e),n.isPrimaryClient&&n.yc.ps(e).forEach(r=>{n.yc.containsKey(r)||MO(n,r)})}function MO(n,e){n.wc.delete(e.path.canonicalString());const t=n.mc.get(e);null!==t&&(rw(n.remoteStore,t),n.mc=n.mc.remove(e),n.gc.delete(t),cS(n))}function uS(n,e,t){for(const r of t)r instanceof DO?(n.yc.addReference(r.key,e),DF(n,r)):r instanceof xO?(ke("SyncEngine","Document no longer in limbo: "+r.key),n.yc.removeReference(r.key,e),n.yc.containsKey(r.key)||MO(n,r.key)):st()}function DF(n,e){const t=e.key,r=t.path.canonicalString();n.mc.get(t)||n.wc.has(r)||(ke("SyncEngine","New document in limbo: "+t),n.wc.add(r),cS(n))}function cS(n){for(;n.wc.size>0&&n.mc.size<n.maxConcurrentLimboResolutions;){const e=n.wc.values().next().value;n.wc.delete(e);const t=new Ke(ln.fromString(e)),r=n.Ec.next();n.gc.set(r,new mF(t)),n.mc=n.mc.insert(t,r),xI(n.remoteStore,new zl(wo(xy(t.path)),r,"TargetPurposeLimboResolution",Os.ct))}}function Gl(n,e,t){return lS.apply(this,arguments)}function lS(){return lS=(0,ye.Z)(function*(n,e,t){const r=Qe(n),i=[],u=[],d=[];var m;r.dc.isEmpty()||(r.dc.forEach((m,w)=>{d.push(r.Rc(w,e,t).then(D=>{if((D||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(w.targetId,D?.fromCache?"not-current":"current"),D){i.push(D);const T=p1.Bi(w.targetId,D);u.push(T)}}))}),yield Promise.all(d),r.fc.eu(i),yield(m=(0,ye.Z)(function*(w,D){const T=Qe(w);try{yield T.persistence.runTransaction("notifyLocalViewChanges","readwrite",O=>ee.forEach(D,U=>ee.forEach(U.$i,Z=>T.persistence.referenceDelegate.addReference(O,U.targetId,Z)).next(()=>ee.forEach(U.Fi,Z=>T.persistence.referenceDelegate.removeReference(O,U.targetId,Z)))))}catch(O){if(!Mh(O))throw O;ke("LocalStore","Failed to update sequence numbers: "+O)}for(const O of D){const U=O.targetId;if(!O.fromCache){const Z=T.Hi.get(U),Ie=Z.withLastLimboFreeSnapshotVersion(Z.snapshotVersion);T.Hi=T.Hi.insert(U,Ie)}}}),function(w,D){return m.apply(this,arguments)})(r.localStore,u))}),lS.apply(this,arguments)}function xF(n,e){return dS.apply(this,arguments)}function dS(){return dS=(0,ye.Z)(function*(n,e){const t=Qe(n);if(!t.currentUser.isEqual(e)){ke("SyncEngine","User change. New user:",e.toKey());const r=yield iO(t.localStore,e);t.currentUser=e,(i=t).Tc.forEach(d=>{d.forEach(m=>{m.reject(new Te(ae.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.Tc.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Gl(t,r.tr)}var i}),dS.apply(this,arguments)}function TF(n,e){const t=Qe(n),r=t.gc.get(e);if(r&&r.lc)return Zt().add(r.key);{let i=Zt();const u=t._c.get(e);if(!u)return i;for(const d of u){const m=t.dc.get(d);i=i.unionWith(m.view.ec)}return i}}function SF(n,e){return hS.apply(this,arguments)}function hS(){return hS=(0,ye.Z)(function*(n,e){const t=Qe(n),r=yield CI(t.localStore,e.query,!0),i=e.view.ac(r);return t.isPrimaryClient&&uS(t,e.targetId,i.uc),i}),hS.apply(this,arguments)}function AF(n,e){return fS.apply(this,arguments)}function fS(){return fS=(0,ye.Z)(function*(n,e){const t=Qe(n);return uO(t.localStore,e).then(r=>Gl(t,r))}),fS.apply(this,arguments)}function MF(n,e,t,r){return pS.apply(this,arguments)}function pS(){return pS=(0,ye.Z)(function*(n,e,t,r){const i=Qe(n),u=yield function(d,m){const w=Qe(d),D=Qe(w.mutationQueue);return w.persistence.runTransaction("Lookup mutation documents","readonly",T=>D.Vn(T,m).next(O=>O?w.localDocuments.getDocuments(T,O):ee.resolve(null)))}(i.localStore,e);var m;null!==u?("pending"===t?yield Vy(i.remoteStore):"acknowledged"===t||"rejected"===t?(aS(i,e,r||null),sS(i,e),m=e,Qe(Qe(i.localStore).mutationQueue).Dn(m)):st(),yield Gl(i,u)):ke("SyncEngine","Cannot apply mutation batch with id: "+e)}),pS.apply(this,arguments)}function gS(){return gS=(0,ye.Z)(function*(n,e){const t=Qe(n);if(vS(t),wS(t),!0===e&&!0!==t.Ac){const r=t.sharedClientState.getAllActiveQueryTargets(),i=yield PO(t,r.toArray());t.Ac=!0,yield j1(t.remoteStore,!0);for(const u of i)xI(t.remoteStore,u)}else if(!1===e&&!1!==t.Ac){const r=[];let i=Promise.resolve();t._c.forEach((u,d)=>{t.sharedClientState.isLocalQueryTarget(d)?r.push(d):i=i.then(()=>(Hy(t,d),Fy(t.localStore,d,!0))),rw(t.remoteStore,d)}),yield i,yield PO(t,r),function(u){const d=Qe(u);d.gc.forEach((m,w)=>{rw(d.remoteStore,w)}),d.yc.Is(),d.gc=new Map,d.mc=new Fn(Ke.comparator)}(t),t.Ac=!1,yield j1(t.remoteStore,!1)}}),gS.apply(this,arguments)}function PO(n,e,t){return mS.apply(this,arguments)}function mS(){return mS=(0,ye.Z)(function*(n,e,t){const r=Qe(n),i=[],u=[];for(const d of e){let m;const w=r._c.get(d);if(w&&0!==w.length){m=yield ky(r.localStore,wo(w[0]));for(const D of w){const T=r.dc.get(D),O=yield SF(r,T);O.snapshot&&u.push(O.snapshot)}}else{const D=yield aO(r.localStore,d);m=yield ky(r.localStore,D),yield Q1(r,OO(D),d,!1,m.resumeToken)}i.push(m)}return r.fc.eu(u),i}),mS.apply(this,arguments)}function OO(n){return UM(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function OF(n){const e=Qe(n);return Qe(Qe(e.localStore).persistence).Mi()}function RF(n,e,t,r){return yS.apply(this,arguments)}function yS(){return yS=(0,ye.Z)(function*(n,e,t,r){const i=Qe(n);if(i.Ac)return void ke("SyncEngine","Ignoring unexpected query state notification.");const u=i._c.get(e);if(u&&u.length>0)switch(t){case"current":case"not-current":{const d=yield uO(i.localStore,$M(u[0])),m=$0.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,si.EMPTY_BYTE_STRING);yield Gl(i,d,m);break}case"rejected":yield Fy(i.localStore,e,!0),Hy(i,e,r);break;default:st()}}),yS.apply(this,arguments)}function NF(n,e,t){return _S.apply(this,arguments)}function _S(){return _S=(0,ye.Z)(function*(n,e,t){const r=vS(n);if(r.Ac){for(const i of e){if(r._c.has(i)){ke("SyncEngine","Adding an already active target "+i);continue}const u=yield aO(r.localStore,i),d=yield ky(r.localStore,u);yield Q1(r,OO(u),d.targetId,!1,d.resumeToken),xI(r.remoteStore,d)}for(const i of t)r._c.has(i)&&(yield Fy(r.localStore,i,!1).then(()=>{rw(r.remoteStore,i),Hy(r,i)}).catch(Ah))}}),_S.apply(this,arguments)}function vS(n){const e=Qe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=SO.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=TF.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=CF.bind(null,e),e.fc.eu=dF.bind(null,e.eventManager),e.fc.vc=hF.bind(null,e.eventManager),e}function wS(n){const e=Qe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=bF.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=EF.bind(null,e),e}class iw{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,ye.Z)(function*(){t.serializer=tw(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return rO(this.persistence,new nO,e.initialUser,this.serializer)}createPersistence(e){return new l1(_I.js,this.serializer)}createSharedClientState(e){return new hO}terminate(){var e=this;return(0,ye.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class CS extends iw{constructor(e,t,r){super(),this.bc=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,ye.Z)(function*(){yield t().call(r,e),yield r.bc.initialize(r,e),yield wS(r.bc.syncEngine),yield Vy(r.bc.remoteStore),yield r.persistence.pi(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return rO(this.persistence,new nO,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new ZP(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const r=new aN(t,this.persistence);return new sN(e.asyncQueue,r)}createPersistence(e){const t=f1(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?no.withCacheSize(this.cacheSizeBytes):no.DEFAULT;return new h1(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,pO(),DI(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new hO}}class RO extends CS{constructor(e,t){super(e,t,!1),this.bc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,ye.Z)(function*(){yield t().call(r,e);const i=r.bc.syncEngine;r.sharedClientState instanceof b1&&(r.sharedClientState.syncEngine={Qr:MF.bind(null,i),jr:RF.bind(null,i),zr:NF.bind(null,i),Mi:OF.bind(null,i),Gr:AF.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.pi(function(){var u=(0,ye.Z)(function*(d){yield function PF(n,e){return gS.apply(this,arguments)}(r.bc.syncEngine,d),r.gcScheduler&&(d&&!r.gcScheduler.started?r.gcScheduler.start():d||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(d&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():d||r.indexBackfillerScheduler.stop())});return function(d){return u.apply(this,arguments)}}())})()}createSharedClientState(e){const t=pO();if(!b1.D(t))throw new Te(ae.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=f1(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new b1(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class zy{initialize(e,t){var r=this;return(0,ye.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>AO(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=xF.bind(null,r.syncEngine),yield j1(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new lF}createDatastore(e){const t=tw(e.databaseInfo.databaseId),r=new Zk(e.databaseInfo);return new Yk(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,u=m=>AO(this.syncEngine,m,0),d=fO.D()?new fO:new zk,new Xk(t,r,i,u,d);var t,r,i,u,d}createSyncEngine(e,t){return function(r,i,u,d,m,w,D){const T=new yF(r,i,u,d,m,w);return D&&(T.Ac=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,ye.Z)(function*(t){const r=Qe(t);ke("RemoteStore","RemoteStore shutting down."),r.Au.add(5),yield Ly(r),r.vu.shutdown(),r.Pu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function NO(n,e=10240){let t=0;return{read:()=>(0,ye.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,ye.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class SI{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Vc(this.observer.next,e)}error(e){this.observer.error?this.Vc(this.observer.error,e):Rr("Uncaught Error in snapshot listener:",e.toString())}Sc(){this.muted=!0}Vc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class LF{constructor(e,t){this.Dc=e,this.serializer=t,this.metadata=new oi,this.buffer=new Uint8Array,this.Cc=new TextDecoder("utf-8"),this.xc().then(r=>{r&&r.Gu()?this.metadata.resolve(r.Ku.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.Ku)}`))},r=>this.metadata.reject(r))}close(){return this.Dc.cancel()}getMetadata(){var e=this;return(0,ye.Z)(function*(){return e.metadata.promise})()}Pc(){var e=this;return(0,ye.Z)(function*(){return yield e.getMetadata(),e.xc()})()}xc(){var e=this;return(0,ye.Z)(function*(){const t=yield e.Nc();if(null===t)return null;const r=e.Cc.decode(t),i=Number(r);isNaN(i)&&e.kc(`length string (${r}) is not valid number`);const u=yield e.Mc(i);return new fF(JSON.parse(u),t.length+i)})()}Oc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Nc(){var e=this;return(0,ye.Z)(function*(){for(;e.Oc()<0&&!(yield e.$c()););if(0===e.buffer.length)return null;const t=e.Oc();t<0&&e.kc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}Mc(e){var t=this;return(0,ye.Z)(function*(){for(;t.buffer.length<e;)(yield t.$c())&&t.kc("Reached the end of bundle when more is expected.");const r=t.Cc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}kc(e){throw this.Dc.cancel(),new Error(`Invalid bundle format: ${e}`)}$c(){var e=this;return(0,ye.Z)(function*(){const t=yield e.Dc.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class VF{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,ye.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Te(ae.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,ye.Z)(function*(u,d){const m=Qe(u),w=G0(m.serializer)+"/documents",D={documents:d.map(Z=>z0(m.serializer,Z))},T=yield m.Ao("BatchGetDocuments",w,D,d.length),O=new Map;T.forEach(Z=>{const se=function ok(n,e){return"found"in e?function(t,r){wt(!!r.found);const i=xc(t,r.found.name),u=Nr(r.found.updateTime),d=r.found.createTime?Nr(r.found.createTime):bt.min(),m=new $i({mapValue:{fields:r.found.fields}});return Gn.newFoundDocument(i,u,d,m)}(n,e):"missing"in e?function(t,r){wt(!!r.missing),wt(!!r.readTime);const i=xc(t,r.missing),u=Nr(r.readTime);return Gn.newNoDocument(i,u)}(n,e):st()}(m.serializer,Z);O.set(se.key.toString(),se)});const U=[];return d.forEach(Z=>{const se=O.get(Z.toString());wt(!!se),U.push(se)}),U}),function(u,d){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new My(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,ye.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const u=Ke.fromPath(i);e.mutations.push(new GT(u,e.precondition(u)))}),yield(r=(0,ye.Z)(function*(i,u){const d=Qe(i),m=G0(d.serializer)+"/documents",w={writes:u.map(D=>q0(d.serializer,D))};yield d.po("Commit",m,w)}),function(i,u){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw st();t=bt.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Te(ae.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(bt.min())?ir.exists(!1):ir.updateTime(t):ir.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(bt.min()))throw new Te(ae.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ir.updateTime(t)}return ir.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class UF{constructor(e,t,r,i,u){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=u,this.Fc=r.maxAttempts,this.Lo=new I1(this.asyncQueue,"transaction_retry")}run(){this.Fc-=1,this.Bc()}Bc(){var e=this;this.Lo.xo((0,ye.Z)(function*(){const t=new VF(e.datastore),r=e.Lc(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(u=>{e.qc(u)}))}).catch(i=>{e.qc(i)})}))}Lc(e){try{const t=this.updateFunction(e);return!S0(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}qc(e){this.Fc>0&&this.Uc(e)?(this.Fc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Bc(),Promise.resolve()))):this.deferred.reject(e)}Uc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!sP(t)}return!1}}class BF{constructor(e,t,r,i){var u=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Di.UNAUTHENTICATED,this.clientId=rM.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var d=(0,ye.Z)(function*(m){ke("FirestoreClient","Received user=",m.uid),yield u.authCredentialListener(m),u.user=m});return function(m){return d.apply(this,arguments)}}()),this.appCheckCredentials.start(r,d=>(ke("FirestoreClient","Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}getConfiguration(){var e=this;return(0,ye.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Te(ae.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new oi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ye.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=By(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function AI(n,e){return bS.apply(this,arguments)}function bS(){return bS=(0,ye.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),ke("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,ye.Z)(function*(u){r.isEqual(u)||(yield iO(e.localStore,u),r=u)});return function(u){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),bS.apply(this,arguments)}function ES(n,e){return IS.apply(this,arguments)}function IS(){return IS=(0,ye.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield DS(n);ke("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>CO(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,u)=>CO(e.remoteStore,u)),n._onlineComponents=e}),IS.apply(this,arguments)}function kO(n){return"FirebaseError"===n.name?n.code===ae.FAILED_PRECONDITION||n.code===ae.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function DS(n){return xS.apply(this,arguments)}function xS(){return xS=(0,ye.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ke("FirestoreClient","Using user provided OfflineComponentProvider");try{yield AI(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!kO(t))throw t;fa("Error using user provided cache. Falling back to memory cache: "+t),yield AI(n,new iw)}}else ke("FirestoreClient","Using default OfflineComponentProvider"),yield AI(n,new iw);return n._offlineComponents}),xS.apply(this,arguments)}function MI(n){return TS.apply(this,arguments)}function TS(){return TS=(0,ye.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ke("FirestoreClient","Using user provided OnlineComponentProvider"),yield ES(n,n._uninitializedComponentsProvider._online)):(ke("FirestoreClient","Using default OnlineComponentProvider"),yield ES(n,new zy))),n._onlineComponents}),TS.apply(this,arguments)}function FO(n){return DS(n).then(e=>e.persistence)}function PI(n){return DS(n).then(e=>e.localStore)}function LO(n){return MI(n).then(e=>e.remoteStore)}function SS(n){return MI(n).then(e=>e.syncEngine)}function Gy(n){return AS.apply(this,arguments)}function AS(){return AS=(0,ye.Z)(function*(n){const e=yield MI(n),t=e.eventManager;return t.onListen=_F.bind(null,e.syncEngine),t.onUnlisten=vF.bind(null,e.syncEngine),t}),AS.apply(this,arguments)}function UO(n,e,t={}){const r=new oi;return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return function(i,u,d,m,w){const D=new SI({next:O=>{u.enqueueAndForget(()=>q1(i,T));const U=O.docs.has(d);!U&&O.fromCache?w.reject(new Te(ae.UNAVAILABLE,"Failed to get document because the client is offline.")):U&&O.fromCache&&m&&"server"===m.source?w.reject(new Te(ae.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):w.resolve(O)},error:O=>w.reject(O)}),T=new K1(xy(d.path),D,{includeMetadataChanges:!0,Uu:!0});return z1(i,T)}(yield Gy(n),n.asyncQueue,e,t,r)})),r.promise}function BO(n,e,t={}){const r=new oi;return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return function(i,u,d,m,w){const D=new SI({next:O=>{u.enqueueAndForget(()=>q1(i,T)),O.fromCache&&"server"===m.source?w.reject(new Te(ae.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):w.resolve(O)},error:O=>w.reject(O)}),T=new K1(d,D,{includeMetadataChanges:!0,Uu:!0});return z1(i,T)}(yield Gy(n),n.asyncQueue,e,t,r)})),r.promise}const jO=new Map;function MS(n,e,t){if(!t)throw new Te(ae.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function $O(n,e,t,r){if(!0===e&&!0===r)throw new Te(ae.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function HO(n){if(!Ke.isDocumentKey(n))throw new Te(ae.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function zO(n){if(Ke.isDocumentKey(n))throw new Te(ae.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function OI(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":st()}function sn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Te(ae.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=OI(n);throw new Te(ae.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function GO(n,e){if(e<=0)throw new Te(ae.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class qO{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Te(ae.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Te(ae.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}$O("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!this.experimentalForceLongPolling&&void 0!==e.experimentalAutoDetectLongPolling&&!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ow{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new qO({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Te(ae.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Te(ae.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new qO(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new WR;switch(t.type){case"firstParty":return new JR(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Te(ae.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=jO.get(e);t&&(ke("ComponentProvider","Removing Datastore"),jO.delete(e),t.terminate())}(this),Promise.resolve()}}class qn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Tc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new qn(this.firestore,e,this._key)}}class Hi{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Hi(this.firestore,e,this._query)}}class Tc extends Hi{constructor(e,t,r){super(e,t,xy(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new qn(this.firestore,null,new Ke(e))}withConverter(e){return new Tc(this.firestore,e,this._path)}}function WO(n,e,...t){if(n=(0,mn.m9)(n),MS("collection","path",e),n instanceof ow){const r=ln.fromString(e,...t);return zO(r),new Tc(n,null,r)}{if(!(n instanceof qn||n instanceof Tc))throw new Te(ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ln.fromString(e,...t));return zO(r),new Tc(n.firestore,null,r)}}function RI(n,e,...t){if(n=(0,mn.m9)(n),1===arguments.length&&(e=rM.A()),MS("doc","path",e),n instanceof ow){const r=ln.fromString(e,...t);return HO(r),new qn(n,null,new Ke(r))}{if(!(n instanceof qn||n instanceof Tc))throw new Te(ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ln.fromString(e,...t));return HO(r),new qn(n.firestore,n instanceof Tc?n.converter:null,new Ke(r))}}function KO(n,e){return n=(0,mn.m9)(n),e=(0,mn.m9)(e),(n instanceof qn||n instanceof Tc)&&(e instanceof qn||e instanceof Tc)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function PS(n,e){return n=(0,mn.m9)(n),e=(0,mn.m9)(e),n instanceof Hi&&e instanceof Hi&&n.firestore===e.firestore&&k0(n._query,e._query)&&n.converter===e.converter}class YF{constructor(){this.Kc=Promise.resolve(),this.Gc=[],this.Qc=!1,this.jc=[],this.zc=null,this.Wc=!1,this.Hc=!1,this.Jc=[],this.Lo=new I1(this,"async_queue_retry"),this.Yc=()=>{const t=DI();t&&ke("AsyncQueue","Visibility state changed to "+t.visibilityState),this.Lo.ko()};const e=DI();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Yc)}get isShuttingDown(){return this.Qc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Xc(),this.Zc(e)}enterRestrictedMode(e){if(!this.Qc){this.Qc=!0,this.Hc=e||!1;const t=DI();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Yc)}}enqueue(e){if(this.Xc(),this.Qc)return new Promise(()=>{});const t=new oi;return this.Zc(()=>this.Qc&&this.Hc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Gc.push(e),this.ta()))}ta(){var e=this;return(0,ye.Z)(function*(){if(0!==e.Gc.length){try{yield e.Gc[0](),e.Gc.shift(),e.Lo.reset()}catch(t){if(!Mh(t))throw t;ke("AsyncQueue","Operation failed with retryable error: "+t)}e.Gc.length>0&&e.Lo.xo(()=>e.ta())}})()}Zc(e){const t=this.Kc.then(()=>(this.Wc=!0,e().catch(r=>{throw this.zc=r,this.Wc=!1,Rr("INTERNAL UNHANDLED ERROR: ",function(u){let d=u.message||"";return u.stack&&(d=u.stack.includes(u.message)?u.stack:u.message+"\n"+u.stack),d}(r)),r}).then(r=>(this.Wc=!1,r))));return this.Kc=t,t}enqueueAfterDelay(e,t,r){this.Xc(),this.Jc.indexOf(e)>-1&&(t=0);const i=H1.createAndSchedule(this,e,t,r,u=>this.ea(u));return this.jc.push(i),i}Xc(){this.zc&&st()}verifyOperationInProgress(){}na(){var e=this;return(0,ye.Z)(function*(){let t;do{t=e.Kc,yield t}while(t!==e.Kc)})()}sa(e){for(const t of this.jc)if(t.timerId===e)return!0;return!1}ia(e){return this.na().then(()=>{this.jc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.jc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.na()})}ra(e){this.Jc.push(e)}ea(e){const t=this.jc.indexOf(e);this.jc.splice(t,1)}}function OS(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class QF{constructor(){this._progressObserver={},this._taskCompletionResolver=new oi,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Zn extends ow{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new YF,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||YO(this),this._firestoreClient.terminate()}}function kr(n){return n._firestoreClient||YO(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function YO(n){var e,t,r;const i=n._freezeSettings(),u=(m=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new SN(n._databaseId,m,n._persistenceKey,(D=i).host,D.ssl,D.experimentalForceLongPolling,D.experimentalAutoDetectLongPolling,D.useFetchStreams));var m,D;n._firestoreClient=new BF(n._authCredentials,n._appCheckCredentials,n._queue,u),null!==(t=i.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(r=i.cache)&&void 0!==r&&r._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}function QO(n,e,t){const r=new oi;return n.asyncQueue.enqueue((0,ye.Z)(function*(){try{yield AI(n,t),yield ES(n,e),r.resolve()}catch(i){const u=i;if(!kO(u))throw u;fa("Error enabling indexeddb cache. Falling back to memory cache: "+u),r.reject(u)}})).then(()=>r.promise)}function JO(n){if(n._initialized||n._terminated)throw new Te(ae.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Sc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Sc(si.fromBase64String(e))}catch(t){throw new Te(ae.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Sc(si.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class ql{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Te(ae.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Cr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class cg{constructor(e){this._methodName=e}}class NI{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Te(ae.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Te(ae.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return jt(this._lat,e._lat)||jt(this._long,e._long)}}const u2=/^__.*__$/;class c2{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Hl(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ay(e,this.data,t,this.fieldTransforms)}}class XO{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Hl(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function eR(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw st()}}class kI{constructor(e,t,r,i,u,d){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===u&&this.oa(),this.fieldTransforms=u||[],this.fieldMask=d||[]}get path(){return this.settings.path}get ua(){return this.settings.ua}ca(e){return new kI(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}aa(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.ca({path:r,ha:!1});return i.la(e),i}fa(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.ca({path:r,ha:!1});return i.oa(),i}da(e){return this.ca({path:void 0,ha:!0})}_a(e){return VI(e,this.settings.methodName,this.settings.wa||!1,this.path,this.settings.ma)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}oa(){if(this.path)for(let e=0;e<this.path.length;e++)this.la(this.path.get(e))}la(e){if(0===e.length)throw this._a("Document fields must not be empty");if(eR(this.ua)&&u2.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class l2{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||tw(e)}ga(e,t,r,i=!1){return new kI({ua:e,methodName:t,ma:r,path:Cr.emptyPath(),ha:!1,wa:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function lg(n){const e=n._freezeSettings(),t=tw(n._databaseId);return new l2(n._databaseId,!!e.ignoreUndefinedProperties,t)}function FI(n,e,t,r,i,u={}){const d=n.ga(u.merge||u.mergeFields?2:0,e,t,i);FS("Data must be an object, but it was:",d,r);const m=rR(r,d);let w,D;if(u.merge)w=new Wo(d.fieldMask),D=d.fieldTransforms;else if(u.mergeFields){const T=[];for(const O of u.mergeFields){const U=uw(e,O,t);if(!d.contains(U))throw new Te(ae.INVALID_ARGUMENT,`Field '${U}' is specified in your field mask but missing from your input data.`);oR(T,U)||T.push(U)}w=new Wo(T),D=d.fieldTransforms.filter(O=>w.covers(O.field))}else w=null,D=d.fieldTransforms;return new c2(new $i(m),w,D)}class aw extends cg{_toFieldTransform(e){if(2!==e.ua)throw e._a(1===e.ua?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof aw}}function tR(n,e,t){return new kI({ua:3,ma:e.settings.ma,methodName:n._methodName,ha:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class RS extends cg{_toFieldTransform(e){return new U0(e.path,new Ty)}isEqual(e){return e instanceof RS}}class d2 extends cg{constructor(e,t){super(e),this.ya=t}_toFieldTransform(e){const t=tR(this,e,!0),r=this.ya.map(u=>dg(u,t)),i=new eg(r);return new U0(e.path,i)}isEqual(e){return this===e}}class h2 extends cg{constructor(e,t){super(e),this.ya=t}_toFieldTransform(e){const t=tR(this,e,!0),r=this.ya.map(u=>dg(u,t)),i=new tg(r);return new U0(e.path,i)}isEqual(e){return this===e}}class f2 extends cg{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=new Sy(e.serializer,KM(e.serializer,this.pa));return new U0(e.path,t)}isEqual(e){return this===e}}function NS(n,e,t,r){const i=n.ga(1,e,t);FS("Data must be an object, but it was:",i,r);const u=[],d=$i.empty();Ph(r,(w,D)=>{const T=LI(e,w,t);D=(0,mn.m9)(D);const O=i.fa(T);if(D instanceof aw)u.push(T);else{const U=dg(D,O);null!=U&&(u.push(T),d.set(T,U))}});const m=new Wo(u);return new XO(d,m,i.fieldTransforms)}function kS(n,e,t,r,i,u){const d=n.ga(1,e,t),m=[uw(e,r,t)],w=[i];if(u.length%2!=0)throw new Te(ae.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let U=0;U<u.length;U+=2)m.push(uw(e,u[U])),w.push(u[U+1]);const D=[],T=$i.empty();for(let U=m.length-1;U>=0;--U)if(!oR(D,m[U])){const Z=m[U];let se=w[U];se=(0,mn.m9)(se);const Ie=d.fa(Z);if(se instanceof aw)D.push(Z);else{const Fe=dg(se,Ie);null!=Fe&&(D.push(Z),T.set(Z,Fe))}}const O=new Wo(D);return new XO(T,O,d.fieldTransforms)}function nR(n,e,t,r=!1){return dg(t,n.ga(r?4:3,e))}function dg(n,e){if(iR(n=(0,mn.m9)(n)))return FS("Unsupported field value:",e,n),rR(n,e);if(n instanceof cg)return function(t,r){if(!eR(r.ua))throw r._a(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.ha&&4!==e.ua)throw e._a("Nested arrays are not supported");return function(t,r){const i=[];let u=0;for(const d of t){let m=dg(d,r.da(u));null==m&&(m={nullValue:"NULL_VALUE"}),i.push(m),u++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,mn.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return KM(r.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=rr.fromDate(t);return{timestampValue:Py(r.serializer,i)}}if(t instanceof rr){const i=new rr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Py(r.serializer,i)}}if(t instanceof NI)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Sc)return{bytesValue:mP(r.serializer,t._byteString)};if(t instanceof qn){const i=r.databaseId,u=t.firestore._databaseId;if(!u.isEqual(i))throw r._a(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:JT(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r._a(`Unsupported field value: ${OI(t)}`)}(n,e)}function rR(n,e){const t={};return _M(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ph(n,(r,i)=>{const u=dg(i,e.aa(r));null!=u&&(t[r]=u)}),{mapValue:{fields:t}}}function iR(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof rr||n instanceof NI||n instanceof Sc||n instanceof qn||n instanceof cg)}function FS(n,e,t){if(!iR(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=OI(t);throw e._a("an object"===r?n+" a custom object":n+" "+r)}var r}function uw(n,e,t){if((e=(0,mn.m9)(e))instanceof ql)return e._internalPath;if("string"==typeof e)return LI(n,e);throw VI("Field path arguments must be of type string or ",n,!1,void 0,t)}const p2=new RegExp("[~\\*/\\[\\]]");function LI(n,e,t){if(e.search(p2)>=0)throw VI(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new ql(...e.split("."))._internalPath}catch{throw VI(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function VI(n,e,t,r,i){const u=r&&!r.isEmpty(),d=void 0!==i;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let w="";return(u||d)&&(w+=" (found",u&&(w+=` in field ${r}`),d&&(w+=` in document ${i}`),w+=")"),new Te(ae.INVALID_ARGUMENT,m+n+w)}function oR(n,e){return n.some(t=>t.isEqual(e))}class cw{constructor(e,t,r,i,u){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new qn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new g2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(UI("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class g2 extends cw{data(){return super.data()}}function UI(n,e){return"string"==typeof e?LI(n,e):e instanceof ql?e._internalPath:e._delegate._internalPath}function sR(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Te(ae.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class LS{}class lw extends LS{}function zh(n,e,...t){let r=[];e instanceof LS&&r.push(e),r=r.concat(t),function(i){const u=i.filter(m=>m instanceof qy).length,d=i.filter(m=>m instanceof dw).length;if(u>1||u>0&&d>0)throw new Te(ae.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class dw extends lw{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new dw(e,t,r)}_apply(e){const t=this._parse(e);return lR(e._query,t),new Hi(e.firestore,e.converter,$T(e._query,t))}_parse(e){const t=lg(e.firestore);return function(i,u,d,m,w,D,T){let O;if(w.isKeyField()){if("array-contains"===D||"array-contains-any"===D)throw new Te(ae.INVALID_ARGUMENT,`Invalid Query. You can't perform '${D}' queries on documentId().`);if("in"===D||"not-in"===D){cR(T,D);const U=[];for(const Z of T)U.push(uR(m,i,Z));O={arrayValue:{values:U}}}else O=uR(m,i,T)}else"in"!==D&&"not-in"!==D&&"array-contains-any"!==D||cR(T,D),O=nR(d,"where",T,"in"===D||"not-in"===D);return on.create(w,D,O)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class qy extends LS{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new qy(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===t.length?t[0]:Dn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(r,i){let u=r;const d=i.getFlattenedFilters();for(const m of d)lR(u,m),u=$T(u,m)}(e._query,t),new Hi(e.firestore,e.converter,$T(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class VS extends lw{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new VS(e,t)}_apply(e){const t=function(r,i,u){if(null!==r.startAt)throw new Te(ae.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Te(ae.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const d=new Iy(i,u);return function(m,w){if(null===BT(m)){const D=rI(m);null!==D&&dR(0,D,w.field)}}(r,d),d}(e._query,this._field,this._direction);return new Hi(e.firestore,e.converter,function(r,i){const u=r.explicitOrderBy.concat([i]);return new jl(r.path,r.collectionGroup,u,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class BI extends lw{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new BI(e,t,r)}_apply(e){return new Hi(e.firestore,e.converter,iI(e._query,this._limit,this._limitType))}}class jI extends lw{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new jI(e,t,r)}_apply(e){const t=aR(e,this.type,this._docOrFields,this._inclusive);return new Hi(e.firestore,e.converter,(i=t,new jl((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}class $I extends lw{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new $I(e,t,r)}_apply(e){const t=aR(e,this.type,this._docOrFields,this._inclusive);return new Hi(e.firestore,e.converter,(i=t,new jl((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)));var r,i}}function aR(n,e,t,r){if(t[0]=(0,mn.m9)(t[0]),t[0]instanceof cw)return function(i,u,d,m,w){if(!m)throw new Te(ae.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${d}().`);const D=[];for(const T of Xp(i))if(T.field.isKeyField())D.push(Qp(u,m.key));else{const O=m.data.field(T.field);if(YE(O))throw new Te(ae.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+T.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===O){const U=T.field.canonicalString();throw new Te(ae.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${U}' (used as the orderBy) does not exist.`)}D.push(O)}return new Lh(D,w)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=lg(n.firestore);return function(u,d,m,w,D,T){const O=u.explicitOrderBy;if(D.length>O.length)throw new Te(ae.INVALID_ARGUMENT,`Too many arguments provided to ${w}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const U=[];for(let Z=0;Z<D.length;Z++){const se=D[Z];if(O[Z].field.isKeyField()){if("string"!=typeof se)throw new Te(ae.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${w}(), but got a ${typeof se}`);if(!jT(u)&&-1!==se.indexOf("/"))throw new Te(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${w}() must be a plain document ID, but '${se}' contains a slash.`);const Ie=u.path.child(ln.fromString(se));if(!Ke.isDocumentKey(Ie))throw new Te(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${w}() must result in a valid document path, but '${Ie}' is not because it contains an odd number of segments.`);const Fe=new Ke(Ie);U.push(Qp(d,Fe))}else{const Ie=nR(m,w,se);U.push(Ie)}}return new Lh(U,T)}(n._query,n.firestore._databaseId,i,e,t,r)}}function uR(n,e,t){if("string"==typeof(t=(0,mn.m9)(t))){if(""===t)throw new Te(ae.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!jT(e)&&-1!==t.indexOf("/"))throw new Te(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(ln.fromString(t));if(!Ke.isDocumentKey(r))throw new Te(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Qp(n,new Ke(r))}if(t instanceof qn)return Qp(n,t._key);throw new Te(ae.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${OI(t)}.`)}function cR(n,e){if(!Array.isArray(n)||0===n.length)throw new Te(ae.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function lR(n,e){if(e.isInequality()){const r=rI(n),i=e.field;if(null!==r&&!r.isEqual(i))throw new Te(ae.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const u=BT(n);null!==u&&dR(0,i,u)}const t=function(r,i){for(const u of r)for(const d of u.getFlattenedFilters())if(i.indexOf(d.op)>=0)return d.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new Te(ae.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function dR(n,e,t){if(!t.isEqual(e))throw new Te(ae.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class US{convertValue(e,t="none"){switch(kh(e)){case 0:return null;case 1:return e.booleanValue;case 2:return br(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Bl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw st()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Ph(e,(i,u)=>{r[i]=this.convertValue(u,t)}),r}convertGeoPoint(e){return new NI(br(e.latitude),br(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=QE(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(M0(e));default:return null}}convertTimestamp(e){const t=Oh(e);return new rr(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=ln.fromString(e);wt(xP(r));const i=new Rh(r.get(1),r.get(3)),u=new Ke(r.popFirst(5));return i.isEqual(t)||Rr(`Document ${u} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}function HI(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class I2 extends US{constructor(e){super(),this.firestore=e}convertBytes(e){return new Sc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new qn(this.firestore,null,t)}}class hg{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Zl extends cw{constructor(e,t,r,i,u,d){super(e,t,r,i,d),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new hw(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(UI("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class hw extends Zl{data(e={}){return super.data(e)}}class Gh{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new hg(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new hw(this._firestore,this._userDataWriter,r.key,r,new hg(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Te(ae.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let u=0;return r._snapshot.docChanges.map(d=>({type:"added",doc:new hw(r._firestore,r._userDataWriter,d.doc.key,d.doc,new hg(r._snapshot.mutatedKeys.has(d.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:u++}))}{let u=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(d=>i||3!==d.type).map(d=>{const m=new hw(r._firestore,r._userDataWriter,d.doc.key,d.doc,new hg(r._snapshot.mutatedKeys.has(d.doc.key),r._snapshot.fromCache),r.query.converter);let w=-1,D=-1;return 0!==d.type&&(w=u.indexOf(d.doc.key),u=u.delete(d.doc.key)),1!==d.type&&(u=u.add(d.doc),D=u.indexOf(d.doc.key)),{type:x2(d.type),doc:m,oldIndex:w,newIndex:D}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function x2(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return st()}}function fR(n,e){return n instanceof Zl&&e instanceof Zl?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Gh&&e instanceof Gh&&n._firestore===e._firestore&&PS(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class qh extends US{constructor(e){super(),this.firestore=e}convertBytes(e){return new Sc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new qn(this.firestore,null,t)}}function pR(n,e,t){n=sn(n,qn);const r=sn(n.firestore,Zn),i=HI(n.converter,e,t);return Zy(r,[FI(lg(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,ir.none())])}function gR(n,e,t,...r){n=sn(n,qn);const i=sn(n.firestore,Zn),u=lg(i);let d;return d="string"==typeof(e=(0,mn.m9)(e))||e instanceof ql?kS(u,"updateDoc",n._key,e,t,r):NS(u,"updateDoc",n._key,e),Zy(i,[d.toMutation(n._key,ir.exists(!0))])}function mR(n,...e){var t,r,i;n=(0,mn.m9)(n);let u={includeMetadataChanges:!1},d=0;"object"!=typeof e[d]||OS(e[d])||(u=e[d],d++);const m={includeMetadataChanges:u.includeMetadataChanges};if(OS(e[d])){const O=e[d];e[d]=null===(t=O.next)||void 0===t?void 0:t.bind(O),e[d+1]=null===(r=O.error)||void 0===r?void 0:r.bind(O),e[d+2]=null===(i=O.complete)||void 0===i?void 0:i.bind(O)}let w,D,T;if(n instanceof qn)D=sn(n.firestore,Zn),T=xy(n._key.path),w={next:O=>{e[d]&&e[d](BS(D,n,O))},error:e[d+1],complete:e[d+2]};else{const O=sn(n,Hi);D=sn(O.firestore,Zn),T=O._query;const U=new qh(D);w={next:Z=>{e[d]&&e[d](new Gh(D,U,O,Z))},error:e[d+1],complete:e[d+2]},sR(n._query)}return function(O,U,Z,se){const Ie=new SI(se),Fe=new K1(U,Ie,Z);return O.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return z1(yield Gy(O),Fe)})),()=>{Ie.Sc(),O.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return q1(yield Gy(O),Fe)}))}}(kr(D),T,m,w)}function Zy(n,e){return function(t,r){const i=new oi;return t.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return function wF(n,e,t){return eS.apply(this,arguments)}(yield SS(t),r,i)})),i.promise}(kr(n),e)}function BS(n,e,t){const r=t.docs.get(e._key),i=new qh(n);return new Zl(n,i,e._key,r,new hg(t.hasPendingWrites,t.fromCache),e.converter)}const z2={maxAttempts:5};class yR{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=lg(e)}set(e,t,r){this._verifyNotCommitted();const i=Zh(e,this._firestore),u=HI(i.converter,t,r),d=FI(this._dataReader,"WriteBatch.set",i._key,u,null!==i.converter,r);return this._mutations.push(d.toMutation(i._key,ir.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const u=Zh(e,this._firestore);let d;return d="string"==typeof(t=(0,mn.m9)(t))||t instanceof ql?kS(this._dataReader,"WriteBatch.update",u._key,t,r,i):NS(this._dataReader,"WriteBatch.update",u._key,t),this._mutations.push(d.toMutation(u._key,ir.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Zh(e,this._firestore);return this._mutations=this._mutations.concat(new My(t._key,ir.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Te(ae.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Zh(n,e){if((n=(0,mn.m9)(n)).firestore!==e)throw new Te(ae.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class G2 extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=lg(e)}get(e){const t=Zh(e,this._firestore),r=new I2(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||1!==i.length)return st();const u=i[0];if(u.isFoundDocument())return new cw(this._firestore,r,u.key,u,t.converter);if(u.isNoDocument())return new cw(this._firestore,r,t._key,null,t.converter);throw st()})}set(e,t,r){const i=Zh(e,this._firestore),u=HI(i.converter,t,r),d=FI(this._dataReader,"Transaction.set",i._key,u,null!==i.converter,r);return this._transaction.set(i._key,d),this}update(e,t,r,...i){const u=Zh(e,this._firestore);let d;return d="string"==typeof(t=(0,mn.m9)(t))||t instanceof ql?kS(this._dataReader,"Transaction.update",u._key,t,r,i):NS(this._dataReader,"Transaction.update",u._key,t),this._transaction.update(u._key,d),this}delete(e){const t=Zh(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Zh(e,this._firestore),r=new qh(this._firestore);return super.get(e).then(i=>new Zl(this._firestore,r,t._key,i._document,new hg(!1,!1),t.converter))}}!function(n,e=!0){wy=hh.SDK_VERSION,(0,hh._registerComponent)(new vv.wA("firestore",(t,{instanceIdentifier:r,options:i})=>{const u=t.getProvider("app").getImmediate(),d=new Zn(new YR(t.getProvider("auth-internal")),new XR(t.getProvider("app-check-internal")),function(m,w){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new Te(ae.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Rh(m.options.projectId,w)}(u,r),u);return i=Object.assign({useFetchStreams:e},i),d._setSettings(i),d},"PUBLIC").setMultipleInstances(!0)),(0,hh.registerVersion)(eM,"3.11.0",n),(0,hh.registerVersion)(eM,"3.11.0","esm2017")}();function jS(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Te("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function vR(){if(typeof Uint8Array>"u")throw new Te("unimplemented","Uint8Arrays are not available in this environment.")}function wR(){if(!function xN(){return typeof atob<"u"}())throw new Te("unimplemented","Blobs are unavailable in Firestore in this environment.")}class fw{constructor(e){this._delegate=e}static fromBase64String(e){return wR(),new fw(Sc.fromBase64String(e))}static fromUint8Array(e){return vR(),new fw(Sc.fromUint8Array(e))}toBase64(){return wR(),this._delegate.toBase64()}toUint8Array(){return vR(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function $S(n){return function eL(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class tL{enableIndexedDbPersistence(e,t){return function XF(n,e){JO(n=sn(n,Zn));const t=kr(n);if(t._uninitializedComponentsProvider)throw new Te(ae.FAILED_PRECONDITION,"SDK cache is already specified.");fa("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=n._freezeSettings(),i=new zy;return QO(t,i,new CS(i,r.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function e2(n){JO(n=sn(n,Zn));const e=kr(n);if(e._uninitializedComponentsProvider)throw new Te(ae.FAILED_PRECONDITION,"SDK cache is already specified.");fa("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings(),r=new zy;return QO(e,r,new RO(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function t2(n){if(n._initialized&&!n._terminated)throw new Te(ae.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new oi;return n._queue.enqueueAndForgetEvenWhileRestricted((0,ye.Z)(function*(){try{yield(t=(0,ye.Z)(function*(r){if(!fu.D())return Promise.resolve();const i=r+"main";yield fu.delete(i)}),function(r){return t.apply(this,arguments)})(f1(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class CR{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Rh||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&fa("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function ZO(n,e,t,r={}){var i;const u=(n=sn(n,ow))._getSettings();if("firestore.googleapis.com"!==u.host&&u.host!==e&&fa("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},u),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let d,m;if("string"==typeof r.mockUserToken)d=r.mockUserToken,m=Di.MOCK_USER;else{d=(0,mn.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const w=r.mockUserToken.sub||r.mockUserToken.user_id;if(!w)throw new Te(ae.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new Di(w)}n._authCredentials=new KR(new tM(d,m))}}(this._delegate,e,t,r)}enableNetwork(){return function r2(n){return function jF(n){return n.asyncQueue.enqueue((0,ye.Z)(function*(){const e=yield FO(n),t=yield LO(n);return e.setNetworkEnabled(!0),function(r){const i=Qe(r);return i.Au.delete(0),nw(i)}(t)}))}(kr(n=sn(n,Zn)))}(this._delegate)}disableNetwork(){return function i2(n){return function $F(n){return n.asyncQueue.enqueue((0,ye.Z)(function*(){const e=yield FO(n),t=yield LO(n);return e.setNetworkEnabled(!1),(r=(0,ye.Z)(function*(i){const u=Qe(i);u.Au.add(0),yield Ly(u),u.Pu.set("Offline")}),function(i){return r.apply(this,arguments)})(t);var r}))}(kr(n=sn(n,Zn)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,$O("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function n2(n){return function(e){const t=new oi;return e.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return function IF(n,e){return oS.apply(this,arguments)}(yield SS(e),t)})),t.promise}(kr(n=sn(n,Zn)))}(this._delegate)}onSnapshotsInSync(e){return function k2(n,e){return function GF(n,e){const t=new SI(e);return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return r=yield Gy(n),i=t,Qe(r).Nu.add(i),void i.next();var r,i})),()=>{t.Sc(),n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return r=yield Gy(n),i=t,void Qe(r).Nu.delete(i);var r,i}))}}(kr(n=sn(n,Zn)),OS(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Te("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Wy(this,WO(this._delegate,e))}catch(t){throw Co(t,"collection()","Firestore.collection()")}}doc(e){try{return new pa(this,RI(this._delegate,e))}catch(t){throw Co(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new bo(this,function KF(n,e){if(n=sn(n,ow),MS("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Te(ae.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Hi(n,null,(t=e,new jl(ln.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Co(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function q2(n,e,t){n=sn(n,Zn);const r=Object.assign(Object.assign({},z2),t);return function(i){if(i.maxAttempts<1)throw new Te(ae.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(i,u,d){const m=new oi;return i.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){const w=yield function VO(n){return MI(n).then(e=>e.datastore)}(i);new UF(i.asyncQueue,w,d,u,m).run()})),m.promise}(kr(n),i=>e(new G2(n,i)),r)}(this._delegate,t=>e(new bR(this,t)))}batch(){return kr(this._delegate),new ER(new yR(this._delegate,e=>Zy(this._delegate,e)))}loadBundle(e){return function o2(n,e){const t=kr(n=sn(n,Zn)),r=new QF;return function qF(n,e,t,r){const i=function(u,d){let m;return m="string"==typeof u?uP().encode(u):u,w=function(w,D){if(w instanceof Uint8Array)return NO(w,D);if(w instanceof ArrayBuffer)return NO(new Uint8Array(w),D);if(w instanceof ReadableStream)return w.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(m),new LF(w,d);var w}(t,tw(e));n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){!function kF(n,e,t){const r=Qe(n);var i;(i=(0,ye.Z)(function*(u,d,m){try{const w=yield d.getMetadata();if(yield function(U,Z){const se=Qe(U),Ie=Nr(Z.createTime);return se.persistence.runTransaction("hasNewerBundle","readonly",Fe=>se.Ls.getBundleMetadata(Fe,Z.id)).then(Fe=>!!Fe&&Fe.createTime.compareTo(Ie)>=0)}(u.localStore,w))return yield d.close(),m._completeWith({taskState:"Success",documentsLoaded:(U=w).totalDocuments,bytesLoaded:U.totalBytes,totalDocuments:U.totalDocuments,totalBytes:U.totalBytes}),Promise.resolve(new Set);m._updateProgress(IO(w));const D=new pF(w,u.localStore,d.serializer);let T=yield d.Pc();for(;T;){const U=yield D.ju(T);U&&m._updateProgress(U),T=yield d.Pc()}const O=yield D.complete();return yield Gl(u,O.Hu,void 0),yield function(U,Z){const se=Qe(U);return se.persistence.runTransaction("Save bundle","readwrite",Ie=>se.Ls.saveBundleMetadata(Ie,Z))}(u.localStore,w),m._completeWith(O.progress),Promise.resolve(O.Wu)}catch(w){return fa("SyncEngine",`Loading bundle failed with ${w}`),m._failWith(w),Promise.resolve(new Set)}var U}),function(u,d,m){return i.apply(this,arguments)})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield SS(n),i,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function s2(n,e){return function ZF(n,e){return n.asyncQueue.enqueue((0,ye.Z)(function*(){return function(t,r){const i=Qe(t);return i.persistence.runTransaction("Get named query","readonly",u=>i.Ls.getNamedQuery(u,r))}(yield PI(n),e)}))}(kr(n=sn(n,Zn)),e).then(t=>t?new Hi(n,null,t.query):null)}(this._delegate,e).then(t=>t?new bo(this,t):null)}}class zI extends US{constructor(e){super(),this.firestore=e}convertBytes(e){return new fw(new Sc(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return pa.forKey(t,this.firestore,null)}}class bR{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new zI(e)}get(e){const t=pg(e);return this._delegate.get(t).then(r=>new pw(this._firestore,new Zl(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=pg(e);return r?(jS("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const u=pg(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,r,...i),this}delete(e){const t=pg(e);return this._delegate.delete(t),this}}class ER{constructor(e){this._delegate=e}set(e,t,r){const i=pg(e);return r?(jS("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const u=pg(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,r,...i),this}delete(e){const t=pg(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class fg{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new hw(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new gw(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=fg.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let u=i.get(t);return u||(u=new fg(e,new zI(e),t),i.set(t,u)),u}}fg.INSTANCES=new WeakMap;class pa{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new zI(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Te("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new pa(t,new qn(t._delegate,r,new Ke(e)))}static forKey(e,t,r){return new pa(t,new qn(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Wy(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Wy(this.firestore,WO(this._delegate,e))}catch(t){throw Co(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,mn.m9)(e))instanceof qn&&KO(this._delegate,e)}set(e,t){t=jS("DocumentReference.set",t);try{return t?pR(this._delegate,e,t):pR(this._delegate,e)}catch(r){throw Co(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?gR(this._delegate,e):gR(this._delegate,e,t,...r)}catch(i){throw Co(i,"updateDoc()","DocumentReference.update()")}}delete(){return function R2(n){return Zy(sn(n.firestore,Zn),[new My(n._key,ir.none())])}(this._delegate)}onSnapshot(...e){const t=IR(e),r=DR(e,i=>new pw(this.firestore,new Zl(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return mR(this._delegate,t,r)}get(e){let t;return t="cache"===e?.source?function S2(n){n=sn(n,qn);const e=sn(n.firestore,Zn),t=kr(e),r=new qh(e);return function HF(n,e){const t=new oi;return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return(r=(0,ye.Z)(function*(i,u,d){try{const m=yield function(w,D){const T=Qe(w);return T.persistence.runTransaction("read document","readonly",O=>T.localDocuments.getDocument(O,D))}(i,u);m.isFoundDocument()?d.resolve(m):m.isNoDocument()?d.resolve(null):d.reject(new Te(ae.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(m){const w=By(m,`Failed to get document '${u} from cache`);d.reject(w)}}),function(i,u,d){return r.apply(this,arguments)})(yield PI(n),e,t);var r})),t.promise}(t,n._key).then(i=>new Zl(e,r,n._key,i,new hg(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function A2(n){n=sn(n,qn);const e=sn(n.firestore,Zn);return UO(kr(e),n._key,{source:"server"}).then(t=>BS(e,n,t))}(this._delegate):function T2(n){n=sn(n,qn);const e=sn(n.firestore,Zn);return UO(kr(e),n._key).then(t=>BS(e,n,t))}(this._delegate),t.then(r=>new pw(this.firestore,new Zl(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new pa(this.firestore,this._delegate.withConverter(e?fg.getInstance(this.firestore,e):null))}}function Co(n,e,t){return n.message=n.message.replace(e,t),n}function IR(n){for(const e of n)if("object"==typeof e&&!$S(e))return e;return{}}function DR(n,e){var t,r;let i;return i=$S(n[0])?n[0]:$S(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:u=>{i.next&&i.next(e(u))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class pw{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new pa(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return fR(this._delegate,e._delegate)}}class gw extends pw{data(e){const t=this._delegate.data(e);return function ZR(n,e){n||st()}(void 0!==t),t}}class bo{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new zI(e)}where(e,t,r){try{return new bo(this.firestore,zh(this._delegate,function m2(n,e,t){const r=e,i=UI("where",n);return dw._create(i,r,t)}(e,t,r)))}catch(i){throw Co(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new bo(this.firestore,zh(this._delegate,function y2(n,e="asc"){const t=e,r=UI("orderBy",n);return VS._create(r,t)}(e,t)))}catch(r){throw Co(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new bo(this.firestore,zh(this._delegate,function _2(n){return GO("limit",n),BI._create("limit",n,"F")}(e)))}catch(t){throw Co(t,"limit()","Query.limit()")}}limitToLast(e){try{return new bo(this.firestore,zh(this._delegate,function v2(n){return GO("limitToLast",n),BI._create("limitToLast",n,"L")}(e)))}catch(t){throw Co(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new bo(this.firestore,zh(this._delegate,function w2(...n){return jI._create("startAt",n,!0)}(...e)))}catch(t){throw Co(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new bo(this.firestore,zh(this._delegate,function C2(...n){return jI._create("startAfter",n,!1)}(...e)))}catch(t){throw Co(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new bo(this.firestore,zh(this._delegate,function b2(...n){return $I._create("endBefore",n,!1)}(...e)))}catch(t){throw Co(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new bo(this.firestore,zh(this._delegate,function E2(...n){return $I._create("endAt",n,!0)}(...e)))}catch(t){throw Co(t,"endAt()","Query.endAt()")}}isEqual(e){return PS(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function P2(n){n=sn(n,Hi);const e=sn(n.firestore,Zn),t=kr(e),r=new qh(e);return function zF(n,e){const t=new oi;return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return(r=(0,ye.Z)(function*(i,u,d){try{const m=yield CI(i,u,!0),w=new TO(u,m.sr),D=w.nc(m.documents),T=w.applyChanges(D,!1);d.resolve(T.snapshot)}catch(m){const w=By(m,`Failed to execute query '${u} against cache`);d.reject(w)}}),function(i,u,d){return r.apply(this,arguments)})(yield PI(n),e,t);var r})),t.promise}(t,n._query).then(i=>new Gh(e,r,n,i))}(this._delegate):"server"===e?.source?function O2(n){n=sn(n,Hi);const e=sn(n.firestore,Zn),t=kr(e),r=new qh(e);return BO(t,n._query,{source:"server"}).then(i=>new Gh(e,r,n,i))}(this._delegate):function M2(n){n=sn(n,Hi);const e=sn(n.firestore,Zn),t=kr(e),r=new qh(e);return sR(n._query),BO(t,n._query).then(i=>new Gh(e,r,n,i))}(this._delegate),t.then(r=>new HS(this.firestore,new Gh(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=IR(e),r=DR(e,i=>new HS(this.firestore,new Gh(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return mR(this._delegate,t,r)}withConverter(e){return new bo(this.firestore,this._delegate.withConverter(e?fg.getInstance(this.firestore,e):null))}}class rL{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new gw(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class HS{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new bo(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new gw(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new rL(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new gw(this._firestore,r))})}isEqual(e){return fR(this._delegate,e._delegate)}}class Wy extends bo{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new pa(this.firestore,e):null}doc(e){try{return new pa(this.firestore,void 0===e?RI(this._delegate):RI(this._delegate,e))}catch(t){throw Co(t,"doc()","CollectionReference.doc()")}}add(e){return function N2(n,e){const t=sn(n.firestore,Zn),r=RI(n),i=HI(n.converter,e);return Zy(t,[FI(lg(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,ir.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new pa(this.firestore,t))}isEqual(e){return KO(this._delegate,e._delegate)}withConverter(e){return new Wy(this.firestore,this._delegate.withConverter(e?fg.getInstance(this.firestore,e):null))}}function pg(n){return sn(n,qn)}class zS{constructor(...e){this._delegate=new ql(...e)}static documentId(){return new zS(Cr.keyField().canonicalString())}isEqual(e){return(e=(0,mn.m9)(e))instanceof ql&&this._delegate._internalPath.isEqual(e._internalPath)}}class gg{constructor(e){this._delegate=e}static serverTimestamp(){const e=function W2(){return new RS("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new gg(e)}static delete(){const e=function Z2(){return new aw("deleteField")}();return e._methodName="FieldValue.delete",new gg(e)}static arrayUnion(...e){const t=function K2(...n){return new d2("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new gg(t)}static arrayRemove(...e){const t=function Y2(...n){return new h2("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new gg(t)}static increment(e){const t=function Q2(n){return new f2("increment",n)}(e);return t._methodName="FieldValue.increment",new gg(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const iL={Firestore:CR,GeoPoint:NI,Timestamp:rr,Blob:fw,Transaction:bR,WriteBatch:ER,DocumentReference:pa,DocumentSnapshot:pw,Query:bo,QueryDocumentSnapshot:gw,QuerySnapshot:HS,CollectionReference:Wy,FieldPath:zS,FieldValue:gg,setLogLevel:function nL(n){!function qR(n){Sh.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function xR(n,e){return function aL(n,e=Hv.z){return new lr.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{r?.()}})}(n,e)}function GS(n,e){return xR(n,e).pipe((0,mt.U)(t=>({payload:t,type:"query"})))}function GI(n,e){return GS(n,e).pipe(Bf(void 0),Ap(),(0,mt.U)(([t,r])=>{const i=r.payload.docChanges(),u=i.map(d=>({type:d.type,payload:d}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((d,m)=>{const w=i.find(T=>T.doc.ref.isEqual(d.ref)),D=t?.payload.docs.find(T=>T.ref.isEqual(d.ref));w&&JSON.stringify(w.doc.metadata)===JSON.stringify(d.metadata)||!w&&D&&JSON.stringify(D.metadata)===JSON.stringify(d.metadata)||u.push({type:"modified",payload:{oldIndex:m,newIndex:m,type:"modified",doc:d}})}),u}))}function TR(n,e,t){return GI(n,t).pipe(jf((r,i)=>function cL(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function lL(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return qS(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return qS(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return qS(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(u=>u.payload),e),[]),function Qx(n,e=hl.y){return n=n??Jx,(0,dr.e)((t,r)=>{let i,u=!0;t.subscribe((0,gn.x)(r,d=>{const m=e(d);(u||!n(i,m))&&(u=!1,i=m,r.next(d))}))})}(),(0,mt.U)(r=>r.map(i=>({type:i.type,payload:i}))))}function qS(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function SR(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}!function sL(n){(function oL(n,e){n.INTERNAL.registerComponent(new vv.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},iL)))})(n,(e,t)=>new CR(e,t,new tL)),n.registerVersion("@firebase/firestore-compat","0.3.8")}(Xx.Z);class AR{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=GI(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,mt.U)(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe(Bf(void 0),Ap(),ni(([r,i])=>i.length>0||!r),(0,mt.U)(([r,i])=>i),er.iC)}auditTrail(e){return this.stateChanges(e).pipe(jf((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=SR(e);return TR(this.query,t,this.afs.schedulers.outsideAngular).pipe(er.iC)}valueChanges(e={}){return GS(this.query,this.afs.schedulers.outsideAngular).pipe((0,mt.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),er.iC)}get(e){return(0,un.D)(this.query.get(e)).pipe(er.iC)}add(e){return this.ref.add(e)}doc(e){return new MR(this.ref.doc(e),this.afs)}}class MR{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:u}=RR(r,t);return new AR(i,u,this.afs)}snapshotChanges(){return function uL(n,e){return xR(n,e).pipe(Bf(void 0),Ap(),(0,mt.U)(([t,r])=>r.exists?t?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(er.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,mt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,un.D)(this.ref.get(e)).pipe(er.iC)}}class dL{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?GI(this.query,this.afs.schedulers.outsideAngular).pipe((0,mt.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),ni(t=>t.length>0),er.iC):GI(this.query,this.afs.schedulers.outsideAngular).pipe(er.iC)}auditTrail(e){return this.stateChanges(e).pipe(jf((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=SR(e);return TR(this.query,t,this.afs.schedulers.outsideAngular).pipe(er.iC)}valueChanges(e={}){return GS(this.query,this.afs.schedulers.outsideAngular).pipe((0,mt.U)(r=>r.payload.docs.map(i=>e.idField?Object.assign({[e.idField]:i.id},i.data()):i.data())),er.iC)}get(e){return(0,un.D)(this.query.get(e)).pipe(er.iC)}}const PR=new c.OlP("angularfire2.enableFirestorePersistence"),OR=new c.OlP("angularfire2.firestore.persistenceSettings"),hL=new c.OlP("angularfire2.firestore.settings"),fL=new c.OlP("angularfire2.firestore.use-emulator");function RR(n,e=(t=>t)){return{query:e(n),ref:n}}let NR=(()=>{class n{constructor(t,r,i,u,d,m,w,D,T,O,U,Z,se,Ie,Fe,rt,St){this.schedulers=w;const Ct=(0,qo.on)(t,m,r),Gt=T;O&&xp(Ct,m,U,se,Ie,Fe,Z,rt),[this.firestore,this.persistenceEnabled$]=(0,qo.cc)(`${Ct.name}.firestore`,"AngularFirestore",Ct.name,()=>{const Jt=m.runOutsideAngular(()=>Ct.firestore());if(u&&Jt.settings(u),Gt&&Jt.useEmulator(...Gt),i&&!ao(d)){const hn=()=>{try{return(0,un.D)(Jt.enablePersistence(D||void 0).then(()=>!0,()=>!1))}catch(Eo){return typeof console<"u"&&console.warn(Eo),vt(!1)}};return[Jt,m.runOutsideAngular(hn)]}return[Jt,vt(!1)]},[u,Gt,i])}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:u,query:d}=RR(i,r),m=this.schedulers.ngZone.run(()=>u);return new AR(m,d,this)}collectionGroup(t,r){const i=r||(d=>d),u=this.firestore.collectionGroup(t);return new dL(i(u),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new MR(i,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(qo.Dh),c.LFG(qo.xv,8),c.LFG(PR,8),c.LFG(hL,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(er.HU),c.LFG(OR,8),c.LFG(fL,8),c.LFG(Tp,8),c.LFG(zm,8),c.LFG(ph,8),c.LFG(Nb,8),c.LFG(kb,8),c.LFG(Fb,8),c.LFG(Dp,8),c.LFG(jm,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),pL=(()=>{class n{constructor(){Ss.Z.registerVersion("angularfire",er.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:PR,useValue:!0},{provide:OR,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[NR]}),n})(),gL=(()=>{class n{constructor(t){this.fs=t}addNewUser(t,r){return this.fs.doc("users/"+t).set({name:r})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(NR))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function mL(n,e){1&n&&(c.TgZ(0,"div",25),c._uU(1," Name is required "),c.qZA())}function yL(n,e){1&n&&(c.TgZ(0,"div",25),c._uU(1," Email is required "),c.qZA())}function _L(n,e){1&n&&(c.TgZ(0,"div",25),c._uU(1," Your input doesn't match email format "),c.qZA())}function vL(n,e){1&n&&(c.TgZ(0,"div",25),c._uU(1," Passowrd is required "),c.qZA())}function wL(n,e){1&n&&(c.TgZ(0,"div",25),c._uU(1," Your Password must be at least 6 characters "),c.qZA())}function CL(n,e){1&n&&(c.TgZ(0,"div",25),c._uU(1," Password confirm is required "),c.qZA())}function bL(n,e){1&n&&(c.TgZ(0,"div",25),c._uU(1," Passwords doesn't match "),c.qZA())}function EL(n,e){if(1&n&&(c.TgZ(0,"div",26),c._uU(1),c.qZA()),2&n){const t=c.oxw();c.xp6(1),c.hij(" ",t.errorMsg," ")}}let IL=(()=>{class n{constructor(t,r,i){this.as=t,this.us=r,this.router=i,this.errorMsg=""}signup(t){let r=t.value;this.as.signup(r.email,r.password).then(i=>{this.errorMsg="",window.alert("You have been successfully registered!"),this.us.addNewUser(i.user?.uid,r.name).then(()=>{this.router.navigate(["/login"])})}).catch(i=>{this.errorMsg=i.message})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Sp),c.Y36(gL),c.Y36(ii))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-signup"]],decls:43,vars:9,consts:[[1,"container","login"],[1,"row"],["id","side1",1,"col-md-4"],["id","btn"],["routerLink","/login"],["id","side2",1,"col-md-8"],["id","inp"],[3,"ngSubmit"],["f","ngForm"],["ngModel","","name","name","type","text","placeholder","Name","required",""],["name","ngModel"],["class","alert alert-danger",4,"ngIf"],["ngModel","","name","email","type","email","placeholder","Email","required","","email",""],["email","ngModel"],["ngModel","","name","password","type","password","placeholder","Password","required","","minlength","6"],["password","ngModel"],["ngModel","","name","passwordConfirm","type","password","placeholder","Confirm Password","required",""],["passwordConfirm","ngModel"],[1,"icons"],[1,"fa-brands","fa-twitter"],[1,"fa-brands","fa-facebook-f"],[1,"fa-brands","fa-instagram"],["id","login"],[3,"disabled"],["class","alert alert-danger mt-2",4,"ngIf"],[1,"alert","alert-danger"],[1,"alert","alert-danger","mt-2"]],template:function(t,r){if(1&t){const i=c.EpF();c.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3"),c._uU(4,"Hello Back!!"),c.qZA(),c.TgZ(5,"p"),c._uU(6,"Lorem ipsum dolor sit amet."),c.qZA(),c.TgZ(7,"div",3)(8,"a",4),c._uU(9,"Login"),c.qZA()()(),c.TgZ(10,"div",5)(11,"h3"),c._uU(12,"Create Account"),c.qZA(),c.TgZ(13,"p"),c._uU(14,"Create New Account"),c.qZA(),c.TgZ(15,"div",6)(16,"form",7,8),c.NdJ("ngSubmit",function(){c.CHM(i);const d=c.MAs(17);return c.KtG(r.signup(d))}),c._UZ(18,"input",9,10),c.YNc(20,mL,2,0,"div",11),c._UZ(21,"input",12,13),c.YNc(23,yL,2,0,"div",11),c.YNc(24,_L,2,0,"div",11),c._UZ(25,"input",14,15),c.YNc(27,vL,2,0,"div",11),c.YNc(28,wL,2,0,"div",11),c._UZ(29,"input",16,17),c.YNc(31,CL,2,0,"div",11),c.YNc(32,bL,2,0,"div",11),c.TgZ(33,"p"),c._uU(34,"Lorem ipsum dolor sit amet."),c.qZA(),c.TgZ(35,"div",18),c._UZ(36,"i",19)(37,"i",20)(38,"i",21),c.qZA(),c.TgZ(39,"div",22)(40,"button",23),c._uU(41,"SIGN UP"),c.qZA()()(),c.YNc(42,EL,2,1,"div",24),c.qZA()()()()}if(2&t){const i=c.MAs(17),u=c.MAs(19),d=c.MAs(22),m=c.MAs(26),w=c.MAs(30);c.xp6(20),c.Q6J("ngIf",u.invalid&&u.touched),c.xp6(3),c.Q6J("ngIf",d.touched&&(null==d.errors?null:d.errors.required)),c.xp6(1),c.Q6J("ngIf",d.touched&&(null==d.errors?null:d.errors.email)),c.xp6(3),c.Q6J("ngIf",m.touched&&(null==m.errors?null:m.errors.required)),c.xp6(1),c.Q6J("ngIf",m.touched&&(null==m.errors?null:m.errors.minlength)),c.xp6(3),c.Q6J("ngIf",w.invalid&&w.touched),c.xp6(1),c.Q6J("ngIf",w.value!==m.value&&w.touched&&0!==w.value.length),c.xp6(8),c.Q6J("disabled",i.invalid),c.xp6(2),c.Q6J("ngIf",r.errorMsg)}},dependencies:[Kr,Ts,aa,Qs,Ya,Ju,Ee,vi,Je,sa,oa],styles:[".login[_ngcontent-%COMP%]{width:100%;margin:50px auto auto;justify-content:center;font-family:Roboto Slab,serif}#side1[_ngcontent-%COMP%]{background-color:#1c1c50;height:100vh;border-radius:5px;box-shadow:#64646f33 0 7px 29px}#side1[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#fff;font-weight:700;text-shadow:1px 1px 1px black;margin-top:200px;align-items:center;text-align:center}#side1[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff;font-weight:700;align-items:center;text-align:center}#btn[_ngcontent-%COMP%]{align-items:center;text-align:center;border:2px solid white;border-radius:10px}#btn[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#fff}#side2[_ngcontent-%COMP%]{background-color:#fff;border-radius:5px;box-shadow:#64646f33 0 7px 29px;align-items:center;text-align:center}#side2[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:50px;color:#1c1c50;font-weight:700}#side2[_ngcontent-%COMP%]   .inp[_ngcontent-%COMP%]{margin-top:32px}#side2[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:500px;margin-top:20px;height:36px;align-items:center}.alert[_ngcontent-%COMP%]{width:500px;margin:auto;align-items:center}#side2[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:20px;cursor:pointer}#side2[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-left:10px;cursor:pointer}#login[_ngcontent-%COMP%]{margin-top:10px}#login[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:200px;height:32px;color:#fff;background-color:#1c1c50;border:none;font-weight:700}@media screen and (max-width: 992px){#side2[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .alert[_ngcontent-%COMP%]{width:300px}}@media screen and (max-width: 330px){#side2[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:200px}}"]}),n})(),DL=(()=>{class n{constructor(t){this.http=t}createNewCart(t){return this.http.post(hp_baseApi+"carts",t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Im))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function xL(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"div",20)(1,"div",4),c._UZ(2,"img",21),c.qZA(),c.TgZ(3,"div",5)(4,"div",22),c._uU(5),c.qZA(),c.TgZ(6,"p",23),c._uU(7),c.qZA()(),c.TgZ(8,"div",6)(9,"strong"),c._uU(10),c.ALo(11,"currency"),c.qZA()(),c.TgZ(12,"div",7)(13,"button",24),c.NdJ("click",function(){const u=c.CHM(t).index,d=c.oxw();return c.KtG(d.decreaseAmount(u))}),c._uU(14,"-"),c.qZA(),c.TgZ(15,"input",25),c.NdJ("change",function(){c.CHM(t);const i=c.oxw();return c.KtG(i.detectChange())})("ngModelChange",function(i){const d=c.CHM(t).$implicit;return c.KtG(d.quantity=i)}),c.qZA(),c.TgZ(16,"button",24),c.NdJ("click",function(){const u=c.CHM(t).index,d=c.oxw();return c.KtG(d.increaseAmount(u))}),c._uU(17,"+"),c.qZA()(),c.TgZ(18,"div",8)(19,"button",26),c.NdJ("click",function(){const u=c.CHM(t).index,d=c.oxw();return c.KtG(d.deleteProduct(u))}),c._uU(20," Remove "),c.qZA()(),c.TgZ(21,"div",9)(22,"strong"),c._uU(23),c.ALo(24,"currency"),c.qZA()()()}if(2&n){const t=e.$implicit;c.xp6(2),c.s9C("src",t.prd.image,c.LSH),c.xp6(3),c.Oqu(t.prd.title),c.xp6(2),c.Oqu(t.prd.description),c.xp6(3),c.Oqu(c.lcZ(11,6,t.prd.price)),c.xp6(5),c.Q6J("ngModel",t.quantity),c.xp6(8),c.Oqu(c.lcZ(24,8,t.quantity*t.prd.price))}}function TL(n,e){1&n&&(c.TgZ(0,"div",27)(1,"strong"),c._uU(2,"Well done!"),c.qZA(),c._uU(3," Your Order is Successfully Send"),c.qZA())}let SL=(()=>{class n{constructor(t){this.service=t,this.cartProducts=[],this.total=0,this.success=!1}ngOnInit(){this.getCartProducts()}getCartProducts(){"cart"in localStorage&&(this.cartProducts=JSON.parse(localStorage.getItem("cart"))),this.getCartTotal()}getCartTotal(){this.total=0;for(let t in this.cartProducts)this.total+=this.cartProducts[t].prd.price*this.cartProducts[t].quantity}increaseAmount(t){this.cartProducts[t].quantity++,this.getCartTotal(),localStorage.setItem("cart",JSON.stringify(this.cartProducts))}decreaseAmount(t){this.cartProducts[t].quantity--,this.getCartTotal(),localStorage.setItem("cart",JSON.stringify(this.cartProducts))}detectChange(){localStorage.setItem("cart",JSON.stringify(this.cartProducts))}deleteProduct(t){this.cartProducts.splice(t,1),this.getCartTotal(),localStorage.setItem("cart",JSON.stringify(this.cartProducts))}addCart(){let t=this.cartProducts.map(i=>({productId:i.prd.id,quantity:i.quantity}));this.service.createNewCart({userId:5,date:new Date,products:t}).subscribe(i=>{this.success=!0})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(DL))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-cart"]],decls:51,vars:5,consts:[[1,"container-fluid","mt-3"],[1,"lead"],[1,"shopping-cart","mt-2"],[1,"column-labels"],[1,"product-image"],[1,"product-details"],[1,"product-price"],[1,"product-quantity"],[1,"product-removal"],[1,"product-line-price"],["class","product",4,"ngFor","ngForOf"],[1,"totals"],[1,"totals-item"],["id","cart-subtotal",1,"totals-value"],["id","cart-tax",1,"totals-value"],["id","cart-shipping",1,"totals-value"],[1,"totals-item","totals-item-total"],["id","cart-total",1,"totals-value"],[1,"checkout",3,"click"],["class","container alert alert-success mt-3","role","alert",4,"ngIf"],[1,"product"],[3,"src"],[1,"product-title"],[1,"product-description"],[2,"background-color","#1c1c50","color","white",3,"click"],["type","text","min","1",2,"text-align","center",3,"ngModel","change","ngModelChange"],[1,"remove-product","w-100",3,"click"],["role","alert",1,"container","alert","alert-success","mt-3"]],template:function(t,r){1&t&&(c.TgZ(0,"div",0)(1,"h1"),c._uU(2,"Shopping Cart"),c.qZA(),c.TgZ(3,"h4",1),c._uU(4,"You have "),c.TgZ(5,"span"),c._uU(6),c.qZA(),c._uU(7," items in your cart"),c.qZA(),c.TgZ(8,"div",2)(9,"div",3)(10,"label",4),c._uU(11,"Image"),c.qZA(),c.TgZ(12,"label",5),c._uU(13,"Product"),c.qZA(),c.TgZ(14,"label",6),c._uU(15,"Price"),c.qZA(),c.TgZ(16,"label",7),c._uU(17,"Quantity"),c.qZA(),c.TgZ(18,"label",8),c._uU(19,"Remove"),c.qZA(),c.TgZ(20,"label",9),c._uU(21,"Total"),c.qZA()(),c.YNc(22,xL,25,10,"div",10),c.TgZ(23,"div",11)(24,"div",12)(25,"label"),c._uU(26,"Subtotal"),c.qZA(),c.TgZ(27,"div",13)(28,"strong"),c._uU(29),c.qZA()()(),c.TgZ(30,"div",12)(31,"label"),c._uU(32,"Tax (5%)"),c.qZA(),c.TgZ(33,"div",14)(34,"strong"),c._uU(35,"3.60"),c.qZA()()(),c.TgZ(36,"div",12)(37,"label"),c._uU(38,"Shipping"),c.qZA(),c.TgZ(39,"div",15)(40,"strong"),c._uU(41,"15.00"),c.qZA()()(),c.TgZ(42,"div",16)(43,"label"),c._uU(44,"Grand Total"),c.qZA(),c.TgZ(45,"div",17)(46,"strong"),c._uU(47),c.qZA()()()(),c.TgZ(48,"button",18),c.NdJ("click",function(){return r.addCart()}),c._uU(49,"order now"),c.qZA()()(),c.YNc(50,TL,4,0,"div",19)),2&t&&(c.xp6(6),c.Oqu(r.cartProducts.length),c.xp6(16),c.Q6J("ngForOf",r.cartProducts),c.xp6(7),c.Oqu(r.total),c.xp6(18),c.Oqu(r.total+3.6+15),c.xp6(3),c.Q6J("ngIf",r.success))},dependencies:[xo,Kr,Qs,Ya,sa,Qh],styles:['.product-image[_ngcontent-%COMP%]{float:left;width:20%}.product-details[_ngcontent-%COMP%]{float:left;width:37%}.product-price[_ngcontent-%COMP%]{float:left;width:12%}.product-quantity[_ngcontent-%COMP%], .product-removal[_ngcontent-%COMP%]{float:left;width:10%}.product-line-price[_ngcontent-%COMP%]{float:left;width:11%;text-align:right}.group[_ngcontent-%COMP%]:before, .shopping-cart[_ngcontent-%COMP%]:before, .column-labels[_ngcontent-%COMP%]:before, .product[_ngcontent-%COMP%]:before, .totals-item[_ngcontent-%COMP%]:before, .group[_ngcontent-%COMP%]:after, .shopping-cart[_ngcontent-%COMP%]:after, .column-labels[_ngcontent-%COMP%]:after, .product[_ngcontent-%COMP%]:after, .totals-item[_ngcontent-%COMP%]:after{content:"";display:table}.group[_ngcontent-%COMP%]:after, .shopping-cart[_ngcontent-%COMP%]:after, .column-labels[_ngcontent-%COMP%]:after, .product[_ngcontent-%COMP%]:after, .totals-item[_ngcontent-%COMP%]:after{clear:both}.group[_ngcontent-%COMP%], .shopping-cart[_ngcontent-%COMP%], .column-labels[_ngcontent-%COMP%], .product[_ngcontent-%COMP%], .totals-item[_ngcontent-%COMP%]{zoom:1}body[_ngcontent-%COMP%]{padding:0 30px 30px 20px;font-family:HelveticaNeue-Light,Helvetica Neue Light,Helvetica Neue,Helvetica,Arial,sans-serif;font-weight:300}h1[_ngcontent-%COMP%]{font-weight:500;color:#1c1c50;font-size:2.3rem;font-family:Roboto Slab,serif}.lead[_ngcontent-%COMP%]{font-weight:600;color:#1c1c50}label[_ngcontent-%COMP%]{color:#aaa;font-size:20px}.shopping-cart[_ngcontent-%COMP%]{margin-top:-45px}.container-fluid[_ngcontent-%COMP%]   .lead[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:green;font-weight:700}.column-labels[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{padding-bottom:15px;margin-bottom:15px;border-bottom:1px solid #eee}.column-labels[_ngcontent-%COMP%]   .product-image[_ngcontent-%COMP%], .column-labels[_ngcontent-%COMP%]   .product-details[_ngcontent-%COMP%], .column-labels[_ngcontent-%COMP%]   .product-removal[_ngcontent-%COMP%]{text-indent:-9999px}.product[_ngcontent-%COMP%]{margin-bottom:20px;padding-bottom:10px;border-bottom:1px solid #eee}.product[_ngcontent-%COMP%]   .product-image[_ngcontent-%COMP%]{text-align:center}.product[_ngcontent-%COMP%]   .product-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px}.product[_ngcontent-%COMP%]   .product-details[_ngcontent-%COMP%]   .product-title[_ngcontent-%COMP%]{margin-right:20px;font-family:HelveticaNeue-Medium,Helvetica Neue Medium;font-size:20px;font-weight:700;color:#1c1c50}.product[_ngcontent-%COMP%]   .product-details[_ngcontent-%COMP%]   .product-description[_ngcontent-%COMP%]{margin:5px 20px 5px 0;line-height:1.4em}.product[_ngcontent-%COMP%]   .product-quantity[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:40px}.product[_ngcontent-%COMP%]   .remove-product[_ngcontent-%COMP%]{border:0;padding:4px 8px;background-color:#c66;color:#fff;font-family:HelveticaNeue-Medium,Helvetica Neue Medium;font-size:14px;border-radius:3px;font-weight:700}.product[_ngcontent-%COMP%]   .remove-product[_ngcontent-%COMP%]:hover{background-color:#a44}.totals[_ngcontent-%COMP%]   .totals-item[_ngcontent-%COMP%]{float:right;clear:both;width:100%;margin-bottom:10px}.totals[_ngcontent-%COMP%]   .totals-item[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{float:left;clear:both;width:79%;text-align:right;font-weight:700;color:#1c1c50}.totals[_ngcontent-%COMP%]   .totals-item[_ngcontent-%COMP%]   .totals-value[_ngcontent-%COMP%]{float:right;width:21%;text-align:right}.totals[_ngcontent-%COMP%]   .totals-item-total[_ngcontent-%COMP%]{font-family:HelveticaNeue-Medium,Helvetica Neue Medium}.checkout[_ngcontent-%COMP%]{float:right;border:0;margin-top:20px;padding:6px 25px;background-color:#1c1c50;color:#fff;font-size:25px;border-radius:3px}.checkout[_ngcontent-%COMP%]:hover{background-color:#1c1c50}@media screen and (max-width: 931px){.product-image[_ngcontent-%COMP%]{float:left;width:17%}.product-details[_ngcontent-%COMP%]{float:left;width:33%}.product-price[_ngcontent-%COMP%]{float:left;width:10%}.product-quantity[_ngcontent-%COMP%]{float:left;width:20%}.product-removal[_ngcontent-%COMP%]{float:left;width:10%}.product-line-price[_ngcontent-%COMP%]{float:left;width:10%;text-align:right}}@media screen and (max-width: 650px){.shopping-cart[_ngcontent-%COMP%]{margin:0;padding-top:20px;border-top:1px solid #eee}.column-labels[_ngcontent-%COMP%]{display:none}.product-image[_ngcontent-%COMP%]{float:right;width:auto}.product-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin:0 0 10px 10px}.product-details[_ngcontent-%COMP%]{float:none;margin-bottom:10px;width:auto}.product-price[_ngcontent-%COMP%]{clear:both;width:70px}.product-removal[_ngcontent-%COMP%]{width:auto}.product-line-price[_ngcontent-%COMP%]{float:right;width:70px}}@media screen and (max-width: 350px){.product-removal[_ngcontent-%COMP%]{float:right}.product-line-price[_ngcontent-%COMP%]{float:right;clear:left;width:auto;margin-top:10px}.product[_ngcontent-%COMP%]   .product-line-price[_ngcontent-%COMP%]:before{content:"Item Total: $"}.totals[_ngcontent-%COMP%]   .totals-item[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{width:60%}.totals[_ngcontent-%COMP%]   .totals-item[_ngcontent-%COMP%]   .totals-value[_ngcontent-%COMP%]{width:40%}}']}),n})();function AL(n,e){if(1&n&&(c.TgZ(0,"option",21),c._uU(1),c.qZA()),2&n){const t=e.$implicit;c.s9C("value",t),c.xp6(1),c.hij(" ",t," ")}}function ML(n,e){if(1&n&&(c.TgZ(0,"div",24)(1,"div",25),c._UZ(2,"img",26),c.TgZ(3,"div",27)(4,"div",28)(5,"h3"),c._uU(6),c.qZA()(),c._UZ(7,"br"),c.TgZ(8,"div",29),c._UZ(9,"i",30)(10,"i",30)(11,"i",30)(12,"i",30)(13,"i",30),c.qZA(),c.TgZ(14,"h5"),c._uU(15),c.TgZ(16,"del"),c._uU(17,"$250"),c.qZA()()()(),c._UZ(18,"br"),c.qZA()),2&n){const t=e.$implicit;c.xp6(1),c.MGl("routerLink","/details/",t.id,""),c.xp6(1),c.s9C("src",t.image,c.LSH),c.xp6(4),c.Oqu(t.title),c.xp6(9),c.hij(" $",t.price," ")}}function PL(n,e){if(1&n&&(c.TgZ(0,"div",22),c.YNc(1,ML,19,4,"div",23),c.qZA()),2&n){const t=c.oxw();c.xp6(1),c.Q6J("ngForOf",t.getAllProducts)}}function OL(n,e){1&n&&(c.TgZ(0,"div",31),c._UZ(1,"app-spin"),c.qZA())}const RL=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",component:wA},{path:"about",component:QC},{path:"clothe",component:(()=>{class n{constructor(t){this.prodSer=t,this.categories=[],this.getAllProducts=[],this.loading=!1}ngOnInit(){this.getProducts(),this.getCategories()}getProducts(){this.loading=!0,this.prodSer.getAllProducts().subscribe(t=>{this.loading=!1,this.getAllProducts=t},t=>{this.loading=!1,alert("Error")})}getCategories(){this.loading=!0,this.prodSer.getAllCategories().subscribe(t=>{this.loading=!1,this.categories=t},t=>{this.loading=!1,alert(t)})}filterCategory(t){this.loading=!0;let r=t.target.value;"All"==r?(this.loading=!1,this.getProducts()):(this.loading=!1,this.getProductsCategory(r))}getProductsCategory(t){this.loading=!0,this.prodSer.getProductsByCategory(t).subscribe(r=>{this.loading=!1,this.getAllProducts=r})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(It))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-clothe"]],decls:49,vars:3,consts:[[1,"banner2"],[1,"content2"],["id","bannerbtn2"],["id","product-cards",1,"container"],[1,"my-2","w-25"],["for","",1,"my-1"],[1,"form-control",3,"change"],["value","All","selected",""],[3,"value",4,"ngFor","ngForOf"],["class","row","style","margin-top: 30px",4,"ngIf"],["class","text-center w-100",4,"ngIf"],["href","clothe.html","id","viewmorebtn"],[1,"container",2,"margin-top","100px"],[1,"container"],[2,"font-weight","bold"],["id","offer",1,"container"],[1,"row"],[1,"col-md-4","py-md-0"],[1,"fa-solid","fa-cart-shopping"],[1,"fa-solid","fa-truck"],[1,"fa-solid","fa-thumbs-up"],[3,"value"],[1,"row",2,"margin-top","30px"],["class","col-lg-3 col-md-4 py-3 py-md-0",4,"ngFor","ngForOf"],[1,"col-lg-3","col-md-4","py-3","py-md-0"],[1,"card",3,"routerLink"],[3,"src"],[1,"card-body"],[1,"title"],[1,"star"],[1,"fas","fa-star","checked"],[1,"text-center","w-100"]],template:function(t,r){1&t&&(c.TgZ(0,"div",0)(1,"div",1)(2,"h1"),c._uU(3,"Get More Product"),c.qZA(),c.TgZ(4,"p"),c._uU(5," Lorem ipsum dolor sit, amet consectetur adipisicing elit. Esse, illum! "),c.qZA(),c.TgZ(6,"div",2)(7,"button"),c._uU(8,"SHOP NOW"),c.qZA()()()(),c.TgZ(9,"div",3)(10,"div",4)(11,"label",5),c._uU(12,"Catgeories :"),c.qZA(),c.TgZ(13,"select",6),c.NdJ("change",function(u){return r.filterCategory(u)}),c.TgZ(14,"option",7),c._uU(15,"All"),c.qZA(),c.YNc(16,AL,2,2,"option",8),c.qZA()(),c.YNc(17,PL,2,1,"div",9),c.YNc(18,OL,2,0,"div",10),c.TgZ(19,"a",11),c._uU(20,"View More"),c.qZA()(),c.TgZ(21,"div",12),c._UZ(22,"hr"),c.qZA(),c.TgZ(23,"div",13)(24,"h3",14),c._uU(25,"PRODUCT"),c.qZA(),c.TgZ(26,"p"),c._uU(27," Lorem ipsum dolor sit amet consectetur adipisicing elit. Mollitia recusandae voluptas veritatis distinctio laudantium minima ipsam quibusdam nesciunt omnis deleniti rerum, debitis velit quis cumque autem? Unde voluptatem magnam autem odio, natus consequuntur, inventore officia voluptate ipsam, ut eum aspernatur cupiditate reiciendis labore quis nesciunt. Porro facere, obcaecati ab magnam voluptatibus inventore! Nam eum ex fugit est facilis! Quo corrupti incidunt, autem aperiam nulla eius ab vel delectus esse nihil ea possimus quasi tenetur aut voluptate soluta, iure labore est iusto voluptates alias rem. Natus laudantium distinctio ea, nesciunt iure dolor illum quibusdam iste, accusamus dolore voluptas fuga nobis sequi! "),c.qZA(),c._UZ(28,"hr"),c.qZA(),c.TgZ(29,"div",15)(30,"div",16)(31,"div",17),c._UZ(32,"i",18),c.TgZ(33,"h5"),c._uU(34,"Free Shopping"),c.qZA(),c.TgZ(35,"p"),c._uU(36,"On order Over $100"),c.qZA()(),c.TgZ(37,"div",17),c._UZ(38,"i",19),c.TgZ(39,"h5"),c._uU(40,"Fast Delivery"),c.qZA(),c.TgZ(41,"p"),c._uU(42,"World wide"),c.qZA()(),c.TgZ(43,"div",17),c._UZ(44,"i",20),c.TgZ(45,"h5"),c._uU(46,"Big Choice"),c.qZA(),c.TgZ(47,"p"),c._uU(48,"Of product"),c.qZA()()()()),2&t&&(c.xp6(16),c.Q6J("ngForOf",r.categories),c.xp6(1),c.Q6J("ngIf",!r.loading),c.xp6(1),c.Q6J("ngIf",r.loading))},dependencies:[xo,Kr,Ts,Pf,Of,YC],styles:[".banner2[_ngcontent-%COMP%]{width:100%;height:50vh;background-color:#fff;margin-top:50px;background-image:linear-gradient(rgba(0,0,0,.5),rgba(0,0,0,.5)),url(banner2.075a002019f64ba4.jpg)}.banner2[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff}.banner2[_ngcontent-%COMP%]   .content2[_ngcontent-%COMP%]{text-align:center;padding-top:100px}.banner2[_ngcontent-%COMP%]   .content2[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], .banner2[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff;text-shadow:1px 1px 1px black;letter-spacing:3px}.bannerbtn2[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:150px;height:38px;background:transparent;color:#fff;border:2px solid white;transition:.5s ease;cursor:pointer}#bannerbtn2[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#1c1c50;border:none}#product.cards[_ngcontent-%COMP%]{font-family:Roboto,serif;margin-top:100px}#product-cards[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:700;color:#1c1c50;letter-spacing:3px}#product-cards[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{box-shadow:#64646f33 0 7px 29px;transition:transform .2s ease}#product-cards[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:hover{cursor:pointer}#product-cards[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:hover{transform:scale(1.1)}#product-cards[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin-top:30px;color:#1c1c50;text-shadow:1px 1px 1px black}#product-cards[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{height:200px;overflow:hidden}#product-cards[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{letter-spacing:3px;color:#1c1c50;text-shadow:0px 1px 1px black;font-weight:700}#product-cards[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{float:right;color:#1c1c50;cursor:pointer}.checked[_ngcontent-%COMP%]{color:#ff0}#product-cards[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:250px;object-fit:contain}#viewmorebtn[_ngcontent-%COMP%]{display:flex;justify-content:center;margin:30px auto auto;text-decoration:none;width:200px;height:32px;color:#1c1c50;letter-spacing:5px;font-weight:700;background:transparent;border:2px solid #1c1c50}#viewmorebtn[_ngcontent-%COMP%]:hover{background-color:#1c1c50;color:#fff}#offer[_ngcontent-%COMP%]{margin-top:50px}#offer[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:60px;color:#1c1c50}"]}),n})()},{path:"contact",component:JC},{path:"details/:id",component:(()=>{class n{constructor(t,r){this.route=t,this.prdSer=r,this.cartProducts=[],this.amount=1,this.data={},this.id=this.route.snapshot.paramMap.get("id")}ngOnInit(){this.getProduct()}getProduct(){this.prdSer.getProductById(this.id).subscribe(t=>{this.data=t})}addToCart(t){"cart"in localStorage?(this.cartProducts=JSON.parse(localStorage.getItem("cart")),this.cartProducts.find(i=>i.prd.id===t.id)?alert("product is already exist"):(this.cartProducts.push({prd:t,quantity:this.amount}),localStorage.setItem("cart",JSON.stringify(this.cartProducts)))):(this.cartProducts.push({prd:t,quantity:this.amount}),localStorage.setItem("cart",JSON.stringify(this.cartProducts)))}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(mc),c.Y36(It))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-product-details"]],decls:41,vars:8,consts:[[1,"container","my-3"],[1,"row"],[1,"col-md-6"],[1,"w-100",3,"src"],[1,"lead"],[1,"add"],[1,"counter"],["type","text","value","1",1,"form-control","w-25",3,"ngModel","ngModelChange"],[1,"d-flex","justify-content-center"],[3,"click"]],template:function(t,r){1&t&&(c.TgZ(0,"div",0)(1,"div",1)(2,"div",2),c._UZ(3,"img",3),c.qZA(),c.TgZ(4,"div",2)(5,"h3"),c._uU(6),c.qZA(),c.TgZ(7,"p",4),c._uU(8),c.qZA(),c.TgZ(9,"h4")(10,"strong"),c._uU(11,"Category"),c.qZA(),c._uU(12,": "),c.TgZ(13,"span"),c._uU(14),c.qZA()(),c.TgZ(15,"h4")(16,"strong"),c._uU(17,"Price"),c.qZA(),c._uU(18,": "),c.TgZ(19,"span"),c._uU(20),c.qZA()(),c.TgZ(21,"h4")(22,"strong"),c._uU(23,"Rating"),c.qZA(),c._uU(24,": "),c.TgZ(25,"span"),c._uU(26),c.qZA()(),c.TgZ(27,"h4")(28,"strong"),c._uU(29,"Rating Count"),c.qZA(),c._uU(30,": "),c.TgZ(31,"span"),c._uU(32),c.qZA()(),c.TgZ(33,"div",5)(34,"div",6)(35,"h4"),c._uU(36,"Qnt: "),c.qZA(),c.TgZ(37,"input",7),c.NdJ("ngModelChange",function(u){return r.amount=u}),c.qZA()(),c.TgZ(38,"div",8)(39,"button",9),c.NdJ("click",function(){return r.addToCart(r.data)}),c._uU(40,"Add To Card"),c.qZA()()()()()()),2&t&&(c.xp6(3),c.s9C("src",r.data.image,c.LSH),c.xp6(3),c.hij("Title: ",r.data.title,""),c.xp6(2),c.hij("Description: ",r.data.description,""),c.xp6(6),c.Oqu(r.data.category),c.xp6(6),c.hij("",r.data.price,"$"),c.xp6(6),c.Oqu(r.data.rating.rate),c.xp6(6),c.Oqu(r.data.rating.count),c.xp6(5),c.Q6J("ngModel",r.amount))},dependencies:[Qs,Ya,sa],styles:["*[_ngcontent-%COMP%]{padding:5px}.container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100vh}.container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:40px;text-shadow:1px 1px 1px black;color:#1c1c50;font-weight:700}.container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#1c1c50}.container[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:25px;font-weight:700;color:green}.container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:150px;height:40px;font-weight:700;letter-spacing:3px;background:transparent;color:#1c1c50;border:2px solid #1c1c50;position:absolute;margin-top:2rem;margin:auto;transition:all .6s ease}.container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#1c1c50;color:#fff}.counter[_ngcontent-%COMP%]{display:flex;margin-bottom:10px}"]}),n})()},{path:"login",component:Ub},{path:"signup",component:IL},{path:"cart",component:SL,canActivate:[(()=>{class n{constructor(t,r){this.as=t,this.router=r}canActivate(t,r){return!!this.as.userLoggedState||(alert("You must log in first"),this.router.navigate(["/login"]),!1)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Sp),c.LFG(ii))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})()]},{path:"**",component:KD}];let NL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[av.forRoot(RL),av]}),n})(),kL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-header"]],decls:26,vars:0,consts:[[1,"home-section"],["id","navbar",1,"navbar","navbar-expand-lg"],[1,"container-fluid"],["routerLink","/",1,"navbar-brand"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"fa-solid","fa-bars",2,"color","white"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto","mb-2","mb-lg-0"],[1,"nav-item"],["aria-current","page","href","index.html",1,"nav-link","active"],["routerLink","clothe",1,"nav-link"],["routerLink","about",1,"nav-link"],["routerLink","contact",1,"nav-link"],["role","search",1,"d-flex"],["type","search","placeholder","Search","aria-label","Search",1,"form-control","me-2"],["type","submit","id","search-btn",1,"btn","btn-outline-success"]],template:function(t,r){1&t&&(c.TgZ(0,"div",0)(1,"nav",1)(2,"div",2)(3,"a",3),c._uU(4,"Fashion"),c.qZA(),c.TgZ(5,"button",4)(6,"span"),c._UZ(7,"i",5),c.qZA()(),c.TgZ(8,"div",6)(9,"ul",7)(10,"li",8)(11,"a",9),c._uU(12,"Home"),c.qZA()(),c.TgZ(13,"li",8)(14,"a",10),c._uU(15,"All Products"),c.qZA()(),c.TgZ(16,"li",8)(17,"a",11),c._uU(18,"About Us"),c.qZA()(),c.TgZ(19,"li",8)(20,"a",12),c._uU(21,"Contact Us"),c.qZA()()(),c.TgZ(22,"form",13),c._UZ(23,"input",14),c.TgZ(24,"button",15),c._uU(25," Search "),c.qZA()()()()()())},dependencies:[Ts,aa,Ju,oa],styles:['@import"https://fonts.googleapis.com/css2?family=Roboto:ital,wght@1,500&display=swap";@import"https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@500&family=Roboto+Slab&family=Roboto:ital,wght@1,500&display=swap";.home-section[_ngcontent-%COMP%]{width:100%;background-color:#a9a9a926}#navbar[_ngcontent-%COMP%]{background-color:#1c1c50;font-size:16px}#navbar[_ngcontent-%COMP%]   .navbar-brand[_ngcontent-%COMP%]{color:#fff;font-family:Roboto Slab,serif}#navbar[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{color:#fff;font-weight:700;margin-left:5px;transition:.5s ease}#navbar[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover{color:#fff;border-radius:5px}.dropdown[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff}#search-btn[_ngcontent-%COMP%]{color:#fff;border:1px solid white}#search-btn[_ngcontent-%COMP%]:hover{background-color:#1c1c50}']}),n})();function FL(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"button",11)(1,"a",12),c.NdJ("click",function(){c.CHM(t);const i=c.oxw();return c.KtG(i.logout())}),c._uU(2,"Logout"),c.qZA()()}}function LL(n,e){1&n&&(c.TgZ(0,"button",13)(1,"a",14),c._uU(2,"Login"),c.qZA()())}function VL(n,e){1&n&&(c.TgZ(0,"button",15)(1,"a",16),c._uU(2,"Sign up"),c.qZA()())}let UL=(()=>{class n{constructor(t,r){this.as=t,this.afAuth=r}ngOnInit(){}logout(){this.as.logout().then(()=>{console.log("logout")})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Sp),c.Y36(Tp))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-navbar"]],decls:14,vars:9,consts:[[1,"top-navbar"],[1,"top-icons"],[1,"fa-brands","fa-twitter"],[1,"fa-brands","fa-facebook"],[1,"fa-brands","fa-instagram"],[1,"other-links"],["id","btn-logout",4,"ngIf"],["id","btn-login",4,"ngIf"],["id","btn-signup",4,"ngIf"],[1,"fa-solid","fa-user"],["routerLink","cart",1,"fa-solid","fa-cart-shopping"],["id","btn-logout"],[3,"click"],["id","btn-login"],["routerLink","login"],["id","btn-signup"],["routerLink","signup"]],template:function(t,r){1&t&&(c.TgZ(0,"div",0)(1,"div",1),c._UZ(2,"i",2)(3,"i",3)(4,"i",4),c.qZA(),c.TgZ(5,"div",5),c.YNc(6,FL,3,0,"button",6),c.ALo(7,"async"),c.YNc(8,LL,3,0,"button",7),c.ALo(9,"async"),c.YNc(10,VL,3,0,"button",8),c.ALo(11,"async"),c._UZ(12,"i",9)(13,"i",10),c.qZA()()),2&t&&(c.xp6(6),c.Q6J("ngIf",c.lcZ(7,3,r.afAuth.user)),c.xp6(2),c.Q6J("ngIf",!c.lcZ(9,5,r.afAuth.user)),c.xp6(2),c.Q6J("ngIf",!c.lcZ(11,7,r.afAuth.user)))},dependencies:[Kr,Ts,So],styles:[".top-navbar[_ngcontent-%COMP%]{width:100%;height:7vh;background-color:#a9a9a926;display:flex;align-items:center;text-align:center;justify-content:space-between}.top-icons[_ngcontent-%COMP%]{margin-left:45px}.top-icons[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:20px;color:#1c1c50;margin-left:10px;cursor:pointer}.other-links[_ngcontent-%COMP%]{margin-right:33px}.other-links[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#1c1c50;font-size:20px;margin-left:10px;cursor:pointer}#btn-login[_ngcontent-%COMP%]{width:100px;border:2px solid #1c1c50;color:#1c1c50;font-weight:700;border-radius:5px;height:5vh;transition:.5s ease;cursor:pointer}#btn-login[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#1c1c50;transition:.5s ease}#btn-login[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, #btn-login[_ngcontent-%COMP%]:hover{background-color:#1c1c50;color:#fff}#btn-signup[_ngcontent-%COMP%]{width:100px;border:2px solid #1c1c50;color:#1c1c50;font-weight:700;border-radius:5px;height:5vh;transition:.5s ease;cursor:pointer}#btn-signup[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#1c1c50;transition:.5s ease}#btn-signup[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, #btn-signup[_ngcontent-%COMP%]:hover{background-color:#1c1c50;color:#fff}#btn-logout[_ngcontent-%COMP%]{width:100px;border:2px solid #1c1c50;color:#1c1c50;font-weight:700;border-radius:5px;height:5vh;transition:.5s ease;cursor:pointer}#btn-logout[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#1c1c50;transition:.5s ease}#btn-logout[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, #btn-logout[_ngcontent-%COMP%]:hover{background-color:#1c1c50;color:#fff}@media screen and (max-width: 500px){.top-icons[_ngcontent-%COMP%]{margin-left:30px}.top-icons[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .other-links[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:15px}#btn-login[_ngcontent-%COMP%]{width:60px;height:5vh}#btn-signup[_ngcontent-%COMP%]{width:70px;height:5vh}#btn-logout[_ngcontent-%COMP%]{width:70px}}@media screen and (max-width: 350px){.top-icons[_ngcontent-%COMP%]{margin-left:10px}.top-icons[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:10px}.other-links[_ngcontent-%COMP%]{margin-right:10px}.other-links[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:10px}#btn-login[_ngcontent-%COMP%]{width:50px;height:5vh;font-size:13px}#btn-signup[_ngcontent-%COMP%], #btn-logout[_ngcontent-%COMP%]{width:60px;height:5vh;font-size:13px}}@media screen and (max-width: 350px){.top-icons[_ngcontent-%COMP%]{margin-left:5px}.top-icons[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:12px}.other-links[_ngcontent-%COMP%]{margin-right:10px}.other-links[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:12px}#btn-login[_ngcontent-%COMP%]{width:40px;height:5vh;font-size:10px}#btn-signup[_ngcontent-%COMP%]{width:50px;height:5vh;font-size:10px}}"]}),n})(),BL=(()=>{class n{constructor(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-footer"]],decls:88,vars:0,consts:[["id","footer",2,"margin-top","50px"],[1,"footer-top"],[1,"container"],[1,"row"],[1,"col-lg-3","col-md-6","footer-content"],[1,"fas","fa-phone"],[1,"fa-solid","fa-envelope"],[1,"col-lg-3","col-md-6","footer-links"],["routerLink","/"],["routerLink","about"],["routerLink","contact"],["href","#"],[1,"social-links","mt-3"],["href","",1,"twitter"],[1,"fa-brands","fa-twitter"],[1,"fa-brands","fa-facebook-f"],[1,"fa-brands","fa-google-plus"],[1,"fa-brands","fa-instagram"],[1,"fa-brands","fa-linkedin-in"],[1,"container","py-4"],[1,"copyright"],[1,"credits"]],template:function(t,r){1&t&&(c.TgZ(0,"footer",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h3"),c._uU(6,"Fashion"),c.qZA(),c.TgZ(7,"p"),c._uU(8," Lorem ipsum, dolor sit amet consectetur adipisicing elit. Iusto, fugit. "),c.qZA(),c.TgZ(9,"p"),c._uU(10," Egypt "),c._UZ(11,"br"),c._uU(12," USA "),c._UZ(13,"br"),c._uU(14," Spain "),c._UZ(15,"br"),c.qZA(),c.TgZ(16,"strong"),c._UZ(17,"i",5),c._uU(18,"Phone: "),c.TgZ(19,"strong"),c._uU(20,"01151193187"),c.qZA()(),c._UZ(21,"br"),c.TgZ(22,"strong"),c._UZ(23,"i",6),c._uU(24,"Email: "),c.TgZ(25,"strong"),c._uU(26,"bishogamal6@gmail"),c.qZA()()(),c.TgZ(27,"div",7)(28,"h4"),c._uU(29,"Useful Links"),c.qZA(),c.TgZ(30,"ul")(31,"li")(32,"a",8),c._uU(33,"Home"),c.qZA()(),c.TgZ(34,"li")(35,"a",9),c._uU(36,"About"),c.qZA()(),c.TgZ(37,"li")(38,"a",10),c._uU(39,"Contact"),c.qZA()(),c.TgZ(40,"li")(41,"a",8),c._uU(42,"Services"),c.qZA()(),c.TgZ(43,"li")(44,"a",8),c._uU(45,"Privacy policay"),c.qZA()()()(),c.TgZ(46,"div",7)(47,"h4"),c._uU(48,"Our Services"),c.qZA(),c.TgZ(49,"p"),c._uU(50," Lorem ipsum dolor sit amet consectetur adipisicing elit. Est, deserunt? "),c.qZA(),c.TgZ(51,"ul")(52,"li")(53,"a",11),c._uU(54,"Smart Phone"),c.qZA()(),c.TgZ(55,"li")(56,"a",11),c._uU(57,"Smart Watch"),c.qZA()(),c.TgZ(58,"li")(59,"a",11),c._uU(60,"Airbods"),c.qZA()()()(),c.TgZ(61,"div",7)(62,"h4"),c._uU(63,"Our Social Network"),c.qZA(),c.TgZ(64,"p"),c._uU(65," Lorem ipsum dolor sit amet, consectetur adipisicing elit. Eaque, nihil. "),c.qZA(),c.TgZ(66,"div",12)(67,"a",13),c._UZ(68,"i",14),c.qZA(),c.TgZ(69,"a",13),c._UZ(70,"i",15),c.qZA(),c.TgZ(71,"a",13),c._UZ(72,"i",16),c.qZA(),c.TgZ(73,"a",13),c._UZ(74,"i",17),c.qZA(),c.TgZ(75,"a",13),c._UZ(76,"i",18),c.qZA()()()()()(),c._UZ(77,"hr"),c.TgZ(78,"div",19)(79,"div",20),c._uU(80," \xa9 Copyright "),c.TgZ(81,"strong"),c._uU(82,"Fashion"),c.qZA(),c._uU(83,". All Rights Reserved "),c.qZA(),c.TgZ(84,"div",21),c._uU(85,"Designed By "),c.TgZ(86,"a",11),c._uU(87,"Bishoy Gamal"),c.qZA()()()())},dependencies:[Ts],styles:["#footer[_ngcontent-%COMP%]{padding:0 0 30px;color:#d0d0d0;font-size:14px;background:#1c1c50;font-family:Roboto Slab,serif}#footer[_ngcontent-%COMP%]   .footer-top[_ngcontent-%COMP%]{padding:60px 0 30px;background:#1c1c50;color:#fff}#footer[_ngcontent-%COMP%]   .footer-top[_ngcontent-%COMP%]   .footer-contact[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#fff;text-shadow:1px 1px 1px black}#footer[_ngcontent-%COMP%]   .footer-top[_ngcontent-%COMP%]   .footer-contact[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:22px;margin:0 0 20px;padding:2px 0;line-height:1;font-weight:700}#footer[_ngcontent-%COMP%]   .footer-top[_ngcontent-%COMP%]   .footer-contact[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;margin-bottom:30px;color:#fff;line-height:1}#footer[_ngcontent-%COMP%]   .footer-top[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:16px;font-weight:700;position:relative;padding-bottom:12px}#footer[_ngcontent-%COMP%]   .footer-top[_ngcontent-%COMP%]   .footer-links[_ngcontent-%COMP%]{margin-bottom:30px}#footer[_ngcontent-%COMP%]   .footer-top[_ngcontent-%COMP%]   .footer-links[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}#footer[_ngcontent-%COMP%]   .footer-top[_ngcontent-%COMP%]   .footer-links[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding-right:10px 0;display:flex;align-items:center}#footer[_ngcontent-%COMP%]   .footer-top[_ngcontent-%COMP%]   .footer-links[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:first-child{padding:0}#footer[_ngcontent-%COMP%]   .footer-top[_ngcontent-%COMP%]   .footer-links[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;line-height:1;padding-top:10px}#footer[_ngcontent-%COMP%]   .footer-top[_ngcontent-%COMP%]   .social-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:18px;display:inline-block;color:#fff;line-height:1;padding-right:4px;border-radius:50px;text-align:center;width:36px;height:36px;transition:.5s ease}.footer[_ngcontent-%COMP%]   .copyright[_ngcontent-%COMP%]{float:left;text-align:center}#footer[_ngcontent-%COMP%]   .credits[_ngcontent-%COMP%]{float:right;text-align:center;color:#fff;display:flex}#footer[_ngcontent-%COMP%]   .credits[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;font-weight:700;text-decoration:none}.arrow[_ngcontent-%COMP%]{position:fixed;background-color:#1c1c50;border-radius:50%;height:30px;bottom:40px;right:50px;text-decoration:none;align-items:center}.arrow[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#fff}"]}),n})(),jL=(()=>{class n{constructor(){this.title="ecommerce"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-root"]],decls:4,vars:0,template:function(t,r){1&t&&c._UZ(0,"app-navbar")(1,"app-header")(2,"router-outlet")(3,"app-footer")},dependencies:[F_,kL,UL,BL],styles:["*[_ngcontent-%COMP%]{padding:0;margin:0;box-sizing:border-box}"]}),n})(),$L=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n,bootstrap:[jL]}),n.\u0275inj=c.cJS({imports:[Ws,Yx,NL,av,pL,bw,qo.hO,KC,qo.hO.initializeApp({apiKey:"AIzaSyAOY1-wUSQaS7NttFno_HWLfestJv607is",authDomain:"e-commerce-2f3e0.firebaseapp.com",projectId:"e-commerce-2f3e0",storageBucket:"e-commerce-2f3e0.appspot.com",messagingSenderId:"142845563831",appId:"1:142845563831:web:ecc2320819a6b059028e32",measurementId:"G-EQKR39YSHV"})]}),n})();Gc().bootstrapModule($L).catch(n=>console.error(n))},9751:(_t,De,k)=>{k.d(De,{y:()=>_e});var c=k(2961),Q=k(727),N=k(8822),oe=k(9635),ie=k(2416),re=k(576),pe=k(2806);let _e=(()=>{class q{constructor(be){be&&(this._subscribe=be)}lift(be){const We=new q;return We.source=this,We.operator=be,We}subscribe(be,We,lt){const he=function j(q){return q&&q instanceof c.Lv||function $(q){return q&&(0,re.m)(q.next)&&(0,re.m)(q.error)&&(0,re.m)(q.complete)}(q)&&(0,Q.Nn)(q)}(be)?be:new c.Hp(be,We,lt);return(0,pe.x)(()=>{const{operator:Ae,source:Me}=this;he.add(Ae?Ae.call(he,Me):Me?this._subscribe(he):this._trySubscribe(he))}),he}_trySubscribe(be){try{return this._subscribe(be)}catch(We){be.error(We)}}forEach(be,We){return new(We=le(We))((lt,he)=>{const Ae=new c.Hp({next:Me=>{try{be(Me)}catch(Ue){he(Ue),Ae.unsubscribe()}},error:he,complete:lt});this.subscribe(Ae)})}_subscribe(be){var We;return null===(We=this.source)||void 0===We?void 0:We.subscribe(be)}[N.L](){return this}pipe(...be){return(0,oe.U)(be)(this)}toPromise(be){return new(be=le(be))((We,lt)=>{let he;this.subscribe(Ae=>he=Ae,Ae=>lt(Ae),()=>We(he))})}}return q.create=je=>new q(je),q})();function le(q){var je;return null!==(je=q??ie.v.Promise)&&void 0!==je?je:Promise}},7579:(_t,De,k)=>{k.d(De,{x:()=>pe});var c=k(9751),Q=k(727);const oe=(0,k(3888).d)(le=>function(){le(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ie=k(8737),re=k(2806);let pe=(()=>{class le extends c.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(j){const q=new _e(this,this);return q.operator=j,q}_throwIfClosed(){if(this.closed)throw new oe}next(j){(0,re.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const q of this.currentObservers)q.next(j)}})}error(j){(0,re.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=j;const{observers:q}=this;for(;q.length;)q.shift().error(j)}})}complete(){(0,re.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:j}=this;for(;j.length;)j.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var j;return(null===(j=this.observers)||void 0===j?void 0:j.length)>0}_trySubscribe(j){return this._throwIfClosed(),super._trySubscribe(j)}_subscribe(j){return this._throwIfClosed(),this._checkFinalizedStatuses(j),this._innerSubscribe(j)}_innerSubscribe(j){const{hasError:q,isStopped:je,observers:be}=this;return q||je?Q.Lc:(this.currentObservers=null,be.push(j),new Q.w0(()=>{this.currentObservers=null,(0,ie.P)(be,j)}))}_checkFinalizedStatuses(j){const{hasError:q,thrownError:je,isStopped:be}=this;q?j.error(je):be&&j.complete()}asObservable(){const j=new c.y;return j.source=this,j}}return le.create=($,j)=>new _e($,j),le})();class _e extends pe{constructor($,j){super(),this.destination=$,this.source=j}next($){var j,q;null===(q=null===(j=this.destination)||void 0===j?void 0:j.next)||void 0===q||q.call(j,$)}error($){var j,q;null===(q=null===(j=this.destination)||void 0===j?void 0:j.error)||void 0===q||q.call(j,$)}complete(){var $,j;null===(j=null===($=this.destination)||void 0===$?void 0:$.complete)||void 0===j||j.call($)}_subscribe($){var j,q;return null!==(q=null===(j=this.source)||void 0===j?void 0:j.subscribe($))&&void 0!==q?q:Q.Lc}}},2961:(_t,De,k)=>{k.d(De,{Hp:()=>lt,Lv:()=>q});var c=k(576),Q=k(727),N=k(2416),oe=k(7849);function ie(){}const re=le("C",void 0,void 0);function le(Pe,ve,we){return{kind:Pe,value:ve,error:we}}var $=k(3410),j=k(2806);class q extends Q.w0{constructor(ve){super(),this.isStopped=!1,ve?(this.destination=ve,(0,Q.Nn)(ve)&&ve.add(this)):this.destination=Ue}static create(ve,we,$e){return new lt(ve,we,$e)}next(ve){this.isStopped?Me(function _e(Pe){return le("N",Pe,void 0)}(ve),this):this._next(ve)}error(ve){this.isStopped?Me(function pe(Pe){return le("E",void 0,Pe)}(ve),this):(this.isStopped=!0,this._error(ve))}complete(){this.isStopped?Me(re,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ve){this.destination.next(ve)}_error(ve){try{this.destination.error(ve)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const je=Function.prototype.bind;function be(Pe,ve){return je.call(Pe,ve)}class We{constructor(ve){this.partialObserver=ve}next(ve){const{partialObserver:we}=this;if(we.next)try{we.next(ve)}catch($e){he($e)}}error(ve){const{partialObserver:we}=this;if(we.error)try{we.error(ve)}catch($e){he($e)}else he(ve)}complete(){const{partialObserver:ve}=this;if(ve.complete)try{ve.complete()}catch(we){he(we)}}}class lt extends q{constructor(ve,we,$e){let Re;if(super(),(0,c.m)(ve)||!ve)Re={next:ve??void 0,error:we??void 0,complete:$e??void 0};else{let it;this&&N.v.useDeprecatedNextContext?(it=Object.create(ve),it.unsubscribe=()=>this.unsubscribe(),Re={next:ve.next&&be(ve.next,it),error:ve.error&&be(ve.error,it),complete:ve.complete&&be(ve.complete,it)}):Re=ve}this.destination=new We(Re)}}function he(Pe){N.v.useDeprecatedSynchronousErrorHandling?(0,j.O)(Pe):(0,oe.h)(Pe)}function Me(Pe,ve){const{onStoppedNotification:we}=N.v;we&&$.z.setTimeout(()=>we(Pe,ve))}const Ue={closed:!0,next:ie,error:function Ae(Pe){throw Pe},complete:ie}},727:(_t,De,k)=>{k.d(De,{Lc:()=>re,w0:()=>ie,Nn:()=>pe});var c=k(576);const N=(0,k(3888).d)(le=>function(j){le(this),this.message=j?`${j.length} errors occurred during unsubscription:\n${j.map((q,je)=>`${je+1}) ${q.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=j});var oe=k(8737);class ie{constructor($){this.initialTeardown=$,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let $;if(!this.closed){this.closed=!0;const{_parentage:j}=this;if(j)if(this._parentage=null,Array.isArray(j))for(const be of j)be.remove(this);else j.remove(this);const{initialTeardown:q}=this;if((0,c.m)(q))try{q()}catch(be){$=be instanceof N?be.errors:[be]}const{_finalizers:je}=this;if(je){this._finalizers=null;for(const be of je)try{_e(be)}catch(We){$=$??[],We instanceof N?$=[...$,...We.errors]:$.push(We)}}if($)throw new N($)}}add($){var j;if($&&$!==this)if(this.closed)_e($);else{if($ instanceof ie){if($.closed||$._hasParent(this))return;$._addParent(this)}(this._finalizers=null!==(j=this._finalizers)&&void 0!==j?j:[]).push($)}}_hasParent($){const{_parentage:j}=this;return j===$||Array.isArray(j)&&j.includes($)}_addParent($){const{_parentage:j}=this;this._parentage=Array.isArray(j)?(j.push($),j):j?[j,$]:$}_removeParent($){const{_parentage:j}=this;j===$?this._parentage=null:Array.isArray(j)&&(0,oe.P)(j,$)}remove($){const{_finalizers:j}=this;j&&(0,oe.P)(j,$),$ instanceof ie&&$._removeParent(this)}}ie.EMPTY=(()=>{const le=new ie;return le.closed=!0,le})();const re=ie.EMPTY;function pe(le){return le instanceof ie||le&&"closed"in le&&(0,c.m)(le.remove)&&(0,c.m)(le.add)&&(0,c.m)(le.unsubscribe)}function _e(le){(0,c.m)(le)?le():le.unsubscribe()}},2416:(_t,De,k)=>{k.d(De,{v:()=>c});const c={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(_t,De,k)=>{k.d(De,{E:()=>Q});const Q=new(k(9751).y)(ie=>ie.complete())},8996:(_t,De,k)=>{k.d(De,{D:()=>ve});var c=k(8421),Q=k(5363),N=k(9468),re=k(9751),_e=k(2202),le=k(576),$=k(9672);function q(we,$e){if(!we)throw new Error("Iterable cannot be null");return new re.y(Re=>{(0,$.f)(Re,$e,()=>{const it=we[Symbol.asyncIterator]();(0,$.f)(Re,$e,()=>{it.next().then(te=>{te.done?Re.complete():Re.next(te.value)})},0,!0)})})}var je=k(3670),be=k(8239),We=k(1144),lt=k(6495),he=k(2206),Ae=k(4532),Me=k(3260);function ve(we,$e){return $e?function Pe(we,$e){if(null!=we){if((0,je.c)(we))return function oe(we,$e){return(0,c.Xf)(we).pipe((0,N.R)($e),(0,Q.Q)($e))}(we,$e);if((0,We.z)(we))return function pe(we,$e){return new re.y(Re=>{let it=0;return $e.schedule(function(){it===we.length?Re.complete():(Re.next(we[it++]),Re.closed||this.schedule())})})}(we,$e);if((0,be.t)(we))return function ie(we,$e){return(0,c.Xf)(we).pipe((0,N.R)($e),(0,Q.Q)($e))}(we,$e);if((0,he.D)(we))return q(we,$e);if((0,lt.T)(we))return function j(we,$e){return new re.y(Re=>{let it;return(0,$.f)(Re,$e,()=>{it=we[_e.h](),(0,$.f)(Re,$e,()=>{let te,xt;try{({value:te,done:xt}=it.next())}catch(Xe){return void Re.error(Xe)}xt?Re.complete():Re.next(te)},0,!0)}),()=>(0,le.m)(it?.return)&&it.return()})}(we,$e);if((0,Me.L)(we))return function Ue(we,$e){return q((0,Me.Q)(we),$e)}(we,$e)}throw(0,Ae.z)(we)}(we,$e):(0,c.Xf)(we)}},8421:(_t,De,k)=>{k.d(De,{Xf:()=>je});var c=k(655),Q=k(1144),N=k(8239),oe=k(9751),ie=k(3670),re=k(2206),pe=k(4532),_e=k(6495),le=k(3260),$=k(576),j=k(7849),q=k(8822);function je(Pe){if(Pe instanceof oe.y)return Pe;if(null!=Pe){if((0,ie.c)(Pe))return function be(Pe){return new oe.y(ve=>{const we=Pe[q.L]();if((0,$.m)(we.subscribe))return we.subscribe(ve);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Pe);if((0,Q.z)(Pe))return function We(Pe){return new oe.y(ve=>{for(let we=0;we<Pe.length&&!ve.closed;we++)ve.next(Pe[we]);ve.complete()})}(Pe);if((0,N.t)(Pe))return function lt(Pe){return new oe.y(ve=>{Pe.then(we=>{ve.closed||(ve.next(we),ve.complete())},we=>ve.error(we)).then(null,j.h)})}(Pe);if((0,re.D)(Pe))return Ae(Pe);if((0,_e.T)(Pe))return function he(Pe){return new oe.y(ve=>{for(const we of Pe)if(ve.next(we),ve.closed)return;ve.complete()})}(Pe);if((0,le.L)(Pe))return function Me(Pe){return Ae((0,le.Q)(Pe))}(Pe)}throw(0,pe.z)(Pe)}function Ae(Pe){return new oe.y(ve=>{(function Ue(Pe,ve){var we,$e,Re,it;return(0,c.mG)(this,void 0,void 0,function*(){try{for(we=(0,c.KL)(Pe);!($e=yield we.next()).done;)if(ve.next($e.value),ve.closed)return}catch(te){Re={error:te}}finally{try{$e&&!$e.done&&(it=we.return)&&(yield it.call(we))}finally{if(Re)throw Re.error}}ve.complete()})})(Pe,ve).catch(we=>ve.error(we))})}},6451:(_t,De,k)=>{k.d(De,{T:()=>re});var c=k(8189),Q=k(8421),N=k(515),oe=k(7669),ie=k(8996);function re(...pe){const _e=(0,oe.yG)(pe),le=(0,oe._6)(pe,1/0),$=pe;return $.length?1===$.length?(0,Q.Xf)($[0]):(0,c.J)(le)((0,ie.D)($,_e)):N.E}},5403:(_t,De,k)=>{k.d(De,{x:()=>Q});var c=k(2961);function Q(oe,ie,re,pe,_e){return new N(oe,ie,re,pe,_e)}class N extends c.Lv{constructor(ie,re,pe,_e,le,$){super(ie),this.onFinalize=le,this.shouldUnsubscribe=$,this._next=re?function(j){try{re(j)}catch(q){ie.error(q)}}:super._next,this._error=_e?function(j){try{_e(j)}catch(q){ie.error(q)}finally{this.unsubscribe()}}:super._error,this._complete=pe?function(){try{pe()}catch(j){ie.error(j)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ie;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:re}=this;super.unsubscribe(),!re&&(null===(ie=this.onFinalize)||void 0===ie||ie.call(this))}}}},4004:(_t,De,k)=>{k.d(De,{U:()=>N});var c=k(4482),Q=k(5403);function N(oe,ie){return(0,c.e)((re,pe)=>{let _e=0;re.subscribe((0,Q.x)(pe,le=>{pe.next(oe.call(ie,le,_e++))}))})}},8189:(_t,De,k)=>{k.d(De,{J:()=>N});var c=k(5577),Q=k(4671);function N(oe=1/0){return(0,c.z)(Q.y,oe)}},5577:(_t,De,k)=>{k.d(De,{z:()=>_e});var c=k(4004),Q=k(8421),N=k(4482),oe=k(9672),ie=k(5403),pe=k(576);function _e(le,$,j=1/0){return(0,pe.m)($)?_e((q,je)=>(0,c.U)((be,We)=>$(q,be,je,We))((0,Q.Xf)(le(q,je))),j):("number"==typeof $&&(j=$),(0,N.e)((q,je)=>function re(le,$,j,q,je,be,We,lt){const he=[];let Ae=0,Me=0,Ue=!1;const Pe=()=>{Ue&&!he.length&&!Ae&&$.complete()},ve=$e=>Ae<q?we($e):he.push($e),we=$e=>{be&&$.next($e),Ae++;let Re=!1;(0,Q.Xf)(j($e,Me++)).subscribe((0,ie.x)($,it=>{je?.(it),be?ve(it):$.next(it)},()=>{Re=!0},void 0,()=>{if(Re)try{for(Ae--;he.length&&Ae<q;){const it=he.shift();We?(0,oe.f)($,We,()=>we(it)):we(it)}Pe()}catch(it){$.error(it)}}))};return le.subscribe((0,ie.x)($,ve,()=>{Ue=!0,Pe()})),()=>{lt?.()}}(q,je,le,j)))}},5363:(_t,De,k)=>{k.d(De,{Q:()=>oe});var c=k(9672),Q=k(4482),N=k(5403);function oe(ie,re=0){return(0,Q.e)((pe,_e)=>{pe.subscribe((0,N.x)(_e,le=>(0,c.f)(_e,ie,()=>_e.next(le),re),()=>(0,c.f)(_e,ie,()=>_e.complete(),re),le=>(0,c.f)(_e,ie,()=>_e.error(le),re)))})}},3099:(_t,De,k)=>{k.d(De,{B:()=>ie});var c=k(8421),Q=k(7579),N=k(2961),oe=k(4482);function ie(pe={}){const{connector:_e=(()=>new Q.x),resetOnError:le=!0,resetOnComplete:$=!0,resetOnRefCountZero:j=!0}=pe;return q=>{let je,be,We,lt=0,he=!1,Ae=!1;const Me=()=>{be?.unsubscribe(),be=void 0},Ue=()=>{Me(),je=We=void 0,he=Ae=!1},Pe=()=>{const ve=je;Ue(),ve?.unsubscribe()};return(0,oe.e)((ve,we)=>{lt++,!Ae&&!he&&Me();const $e=We=We??_e();we.add(()=>{lt--,0===lt&&!Ae&&!he&&(be=re(Pe,j))}),$e.subscribe(we),!je&&lt>0&&(je=new N.Hp({next:Re=>$e.next(Re),error:Re=>{Ae=!0,Me(),be=re(Ue,le,Re),$e.error(Re)},complete:()=>{he=!0,Me(),be=re(Ue,$),$e.complete()}}),(0,c.Xf)(ve).subscribe(je))})(q)}}function re(pe,_e,...le){if(!0===_e)return void pe();if(!1===_e)return;const $=new N.Hp({next:()=>{$.unsubscribe(),pe()}});return(0,c.Xf)(_e(...le)).subscribe($)}},9468:(_t,De,k)=>{k.d(De,{R:()=>Q});var c=k(4482);function Q(N,oe=0){return(0,c.e)((ie,re)=>{re.add(N.schedule(()=>ie.subscribe(re),oe))})}},8505:(_t,De,k)=>{k.d(De,{b:()=>ie});var c=k(576),Q=k(4482),N=k(5403),oe=k(4671);function ie(re,pe,_e){const le=(0,c.m)(re)||pe||_e?{next:re,error:pe,complete:_e}:re;return le?(0,Q.e)(($,j)=>{var q;null===(q=le.subscribe)||void 0===q||q.call(le);let je=!0;$.subscribe((0,N.x)(j,be=>{var We;null===(We=le.next)||void 0===We||We.call(le,be),j.next(be)},()=>{var be;je=!1,null===(be=le.complete)||void 0===be||be.call(le),j.complete()},be=>{var We;je=!1,null===(We=le.error)||void 0===We||We.call(le,be),j.error(be)},()=>{var be,We;je&&(null===(be=le.unsubscribe)||void 0===be||be.call(le)),null===(We=le.finalize)||void 0===We||We.call(le)}))}):oe.y}},4408:(_t,De,k)=>{k.d(De,{o:()=>ie});var c=k(727);class Q extends c.w0{constructor(pe,_e){super()}schedule(pe,_e=0){return this}}const N={setInterval(re,pe,..._e){const{delegate:le}=N;return le?.setInterval?le.setInterval(re,pe,..._e):setInterval(re,pe,..._e)},clearInterval(re){const{delegate:pe}=N;return(pe?.clearInterval||clearInterval)(re)},delegate:void 0};var oe=k(8737);class ie extends Q{constructor(pe,_e){super(pe,_e),this.scheduler=pe,this.work=_e,this.pending=!1}schedule(pe,_e=0){var le;if(this.closed)return this;this.state=pe;const $=this.id,j=this.scheduler;return null!=$&&(this.id=this.recycleAsyncId(j,$,_e)),this.pending=!0,this.delay=_e,this.id=null!==(le=this.id)&&void 0!==le?le:this.requestAsyncId(j,this.id,_e),this}requestAsyncId(pe,_e,le=0){return N.setInterval(pe.flush.bind(pe,this),le)}recycleAsyncId(pe,_e,le=0){if(null!=le&&this.delay===le&&!1===this.pending)return _e;null!=_e&&N.clearInterval(_e)}execute(pe,_e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const le=this._execute(pe,_e);if(le)return le;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(pe,_e){let $,le=!1;try{this.work(pe)}catch(j){le=!0,$=j||new Error("Scheduled action threw falsy error")}if(le)return this.unsubscribe(),$}unsubscribe(){if(!this.closed){const{id:pe,scheduler:_e}=this,{actions:le}=_e;this.work=this.state=this.scheduler=null,this.pending=!1,(0,oe.P)(le,this),null!=pe&&(this.id=this.recycleAsyncId(_e,pe,null)),this.delay=null,super.unsubscribe()}}}},7565:(_t,De,k)=>{k.d(De,{v:()=>N});var c=k(6063);class Q{constructor(ie,re=Q.now){this.schedulerActionCtor=ie,this.now=re}schedule(ie,re=0,pe){return new this.schedulerActionCtor(this,ie).schedule(pe,re)}}Q.now=c.l.now;class N extends Q{constructor(ie,re=Q.now){super(ie,re),this.actions=[],this._active=!1}flush(ie){const{actions:re}=this;if(this._active)return void re.push(ie);let pe;this._active=!0;do{if(pe=ie.execute(ie.state,ie.delay))break}while(ie=re.shift());if(this._active=!1,pe){for(;ie=re.shift();)ie.unsubscribe();throw pe}}}},4986:(_t,De,k)=>{k.d(De,{z:()=>N});var c=k(4408);const N=new(k(7565).v)(c.o)},6063:(_t,De,k)=>{k.d(De,{l:()=>c});const c={now:()=>(c.delegate||Date).now(),delegate:void 0}},3410:(_t,De,k)=>{k.d(De,{z:()=>c});const c={setTimeout(Q,N,...oe){const{delegate:ie}=c;return ie?.setTimeout?ie.setTimeout(Q,N,...oe):setTimeout(Q,N,...oe)},clearTimeout(Q){const{delegate:N}=c;return(N?.clearTimeout||clearTimeout)(Q)},delegate:void 0}},2202:(_t,De,k)=>{k.d(De,{h:()=>Q});const Q=function c(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(_t,De,k)=>{k.d(De,{L:()=>c});const c="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(_t,De,k)=>{k.d(De,{_6:()=>re,jO:()=>oe,yG:()=>ie});var c=k(576);function N(pe){return pe[pe.length-1]}function oe(pe){return(0,c.m)(N(pe))?pe.pop():void 0}function ie(pe){return function Q(pe){return pe&&(0,c.m)(pe.schedule)}(N(pe))?pe.pop():void 0}function re(pe,_e){return"number"==typeof N(pe)?pe.pop():_e}},8737:(_t,De,k)=>{function c(Q,N){if(Q){const oe=Q.indexOf(N);0<=oe&&Q.splice(oe,1)}}k.d(De,{P:()=>c})},3888:(_t,De,k)=>{function c(Q){const oe=Q(ie=>{Error.call(ie),ie.stack=(new Error).stack});return oe.prototype=Object.create(Error.prototype),oe.prototype.constructor=oe,oe}k.d(De,{d:()=>c})},2806:(_t,De,k)=>{k.d(De,{O:()=>oe,x:()=>N});var c=k(2416);let Q=null;function N(ie){if(c.v.useDeprecatedSynchronousErrorHandling){const re=!Q;if(re&&(Q={errorThrown:!1,error:null}),ie(),re){const{errorThrown:pe,error:_e}=Q;if(Q=null,pe)throw _e}}else ie()}function oe(ie){c.v.useDeprecatedSynchronousErrorHandling&&Q&&(Q.errorThrown=!0,Q.error=ie)}},9672:(_t,De,k)=>{function c(Q,N,oe,ie=0,re=!1){const pe=N.schedule(function(){oe(),re?Q.add(this.schedule(null,ie)):this.unsubscribe()},ie);if(Q.add(pe),!re)return pe}k.d(De,{f:()=>c})},4671:(_t,De,k)=>{function c(Q){return Q}k.d(De,{y:()=>c})},1144:(_t,De,k)=>{k.d(De,{z:()=>c});const c=Q=>Q&&"number"==typeof Q.length&&"function"!=typeof Q},2206:(_t,De,k)=>{k.d(De,{D:()=>Q});var c=k(576);function Q(N){return Symbol.asyncIterator&&(0,c.m)(N?.[Symbol.asyncIterator])}},576:(_t,De,k)=>{function c(Q){return"function"==typeof Q}k.d(De,{m:()=>c})},3670:(_t,De,k)=>{k.d(De,{c:()=>N});var c=k(8822),Q=k(576);function N(oe){return(0,Q.m)(oe[c.L])}},6495:(_t,De,k)=>{k.d(De,{T:()=>N});var c=k(2202),Q=k(576);function N(oe){return(0,Q.m)(oe?.[c.h])}},8239:(_t,De,k)=>{k.d(De,{t:()=>Q});var c=k(576);function Q(N){return(0,c.m)(N?.then)}},3260:(_t,De,k)=>{k.d(De,{L:()=>oe,Q:()=>N});var c=k(655),Q=k(576);function N(ie){return(0,c.FC)(this,arguments,function*(){const pe=ie.getReader();try{for(;;){const{value:_e,done:le}=yield(0,c.qq)(pe.read());if(le)return yield(0,c.qq)(void 0);yield yield(0,c.qq)(_e)}}finally{pe.releaseLock()}})}function oe(ie){return(0,Q.m)(ie?.getReader)}},4482:(_t,De,k)=>{k.d(De,{A:()=>Q,e:()=>N});var c=k(576);function Q(oe){return(0,c.m)(oe?.lift)}function N(oe){return ie=>{if(Q(ie))return ie.lift(function(re){try{return oe(re,this)}catch(pe){this.error(pe)}});throw new TypeError("Unable to lift unknown Observable type")}}},9635:(_t,De,k)=>{k.d(De,{U:()=>N,z:()=>Q});var c=k(4671);function Q(...oe){return N(oe)}function N(oe){return 0===oe.length?c.y:1===oe.length?oe[0]:function(re){return oe.reduce((pe,_e)=>_e(pe),re)}}},7849:(_t,De,k)=>{k.d(De,{h:()=>N});var c=k(2416),Q=k(3410);function N(oe){Q.z.setTimeout(()=>{const{onUnhandledError:ie}=c.v;if(!ie)throw oe;ie(oe)})}},4532:(_t,De,k)=>{function c(Q){return new TypeError(`You provided ${null!==Q&&"object"==typeof Q?"an invalid object":`'${Q}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}k.d(De,{z:()=>c})},655:(_t,De,k)=>{function oe(de,fe){var Ce={};for(var xe in de)Object.prototype.hasOwnProperty.call(de,xe)&&fe.indexOf(xe)<0&&(Ce[xe]=de[xe]);if(null!=de&&"function"==typeof Object.getOwnPropertySymbols){var He=0;for(xe=Object.getOwnPropertySymbols(de);He<xe.length;He++)fe.indexOf(xe[He])<0&&Object.prototype.propertyIsEnumerable.call(de,xe[He])&&(Ce[xe[He]]=de[xe[He]])}return Ce}function q(de,fe,Ce,xe){return new(Ce||(Ce=Promise))(function(Be,ht){function ut($t){try{Ye(xe.next($t))}catch(Dt){ht(Dt)}}function Pt($t){try{Ye(xe.throw($t))}catch(Dt){ht(Dt)}}function Ye($t){$t.done?Be($t.value):function He(Be){return Be instanceof Ce?Be:new Ce(function(ht){ht(Be)})}($t.value).then(ut,Pt)}Ye((xe=xe.apply(de,fe||[])).next())})}function Pe(de){return this instanceof Pe?(this.v=de,this):new Pe(de)}function ve(de,fe,Ce){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var He,xe=Ce.apply(de,fe||[]),Be=[];return He={},ht("next"),ht("throw"),ht("return"),He[Symbol.asyncIterator]=function(){return this},He;function ht(tn){xe[tn]&&(He[tn]=function(yn){return new Promise(function(bn,Er){Be.push([tn,yn,bn,Er])>1||ut(tn,yn)})})}function ut(tn,yn){try{!function Pt(tn){tn.value instanceof Pe?Promise.resolve(tn.value.v).then(Ye,$t):Dt(Be[0][2],tn)}(xe[tn](yn))}catch(bn){Dt(Be[0][3],bn)}}function Ye(tn){ut("next",tn)}function $t(tn){ut("throw",tn)}function Dt(tn,yn){tn(yn),Be.shift(),Be.length&&ut(Be[0][0],Be[0][1])}}function $e(de){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ce,fe=de[Symbol.asyncIterator];return fe?fe.call(de):(de=function lt(de){var fe="function"==typeof Symbol&&Symbol.iterator,Ce=fe&&de[fe],xe=0;if(Ce)return Ce.call(de);if(de&&"number"==typeof de.length)return{next:function(){return de&&xe>=de.length&&(de=void 0),{value:de&&de[xe++],done:!de}}};throw new TypeError(fe?"Object is not iterable.":"Symbol.iterator is not defined.")}(de),Ce={},xe("next"),xe("throw"),xe("return"),Ce[Symbol.asyncIterator]=function(){return this},Ce);function xe(Be){Ce[Be]=de[Be]&&function(ht){return new Promise(function(ut,Pt){!function He(Be,ht,ut,Pt){Promise.resolve(Pt).then(function(Ye){Be({value:Ye,done:ut})},ht)}(ut,Pt,(ht=de[Be](ht)).done,ht.value)})}}}k.d(De,{FC:()=>ve,KL:()=>$e,_T:()=>oe,mG:()=>q,qq:()=>Pe})},4650:(_t,De,k)=>{k.d(De,{$8M:()=>Zs,$WT:()=>sr,$Z:()=>qw,AFp:()=>rE,ALo:()=>Gx,AaK:()=>_e,CHM:()=>Da,CRH:()=>Mp,CZH:()=>_h,CqO:()=>lp,D6c:()=>VE,EJc:()=>ty,EpF:()=>yC,F4k:()=>_C,FYo:()=>Ut,FiY:()=>Ua,GfV:()=>Sw,Gpc:()=>j,JOm:()=>yi,KtG:()=>xa,LFG:()=>rn,LSH:()=>Ud,Lbi:()=>sE,Lck:()=>vb,MAs:()=>J_,MGl:()=>_m,MMx:()=>kv,MR2:()=>dc,NdJ:()=>tv,OlP:()=>Kt,Oqu:()=>pp,P3R:()=>Ff,PXZ:()=>vE,Q6J:()=>vc,QGY:()=>ev,Qsj:()=>Hf,R0b:()=>Vi,RDi:()=>kg,Rgc:()=>ph,SBq:()=>$f,Sil:()=>Vp,Suo:()=>Ft,TTD:()=>Rc,TgZ:()=>cp,X6Q:()=>xE,XFs:()=>pt,Xpm:()=>Mi,Xts:()=>Cw,Y36:()=>Kd,YKP:()=>_b,YNc:()=>Y_,Yjl:()=>Vt,Yz7:()=>Dt,Z0I:()=>Er,ZZ4:()=>C0,_Bn:()=>Bm,_UZ:()=>sh,_Vd:()=>fl,_c5:()=>du,_uU:()=>bm,aQg:()=>fy,c2e:()=>o0,cJS:()=>yn,cg1:()=>WC,dDg:()=>yE,dqk:()=>Xt,eFA:()=>h0,eJc:()=>Pp,ekj:()=>cv,eoX:()=>wh,f3M:()=>Tn,g9A:()=>oE,h0i:()=>Ol,hGG:()=>LE,hij:()=>Al,iGM:()=>et,ifc:()=>ge,ip1:()=>Lp,jDz:()=>wb,kL8:()=>KC,lG2:()=>Et,lcZ:()=>Zx,lqb:()=>dr,lri:()=>ry,n5z:()=>ju,oAB:()=>X,oxw:()=>EC,q4F:()=>Aw,qLn:()=>Qg,qOj:()=>$_,qZA:()=>xl,rWj:()=>a0,s9C:()=>rv,sBO:()=>gT,s_b:()=>xp,soG:()=>ey,tb:()=>_E,tp0:()=>ja,uIk:()=>mm,vHH:()=>he,vpe:()=>Ss,wAp:()=>It,xp6:()=>Gf,z2F:()=>da,zSh:()=>h_,zs3:()=>pc});var c=k(7579),Q=k(727),N=k(9751),oe=k(6451),ie=k(3099);function re(o){for(let s in o)if(o[s]===re)return s;throw Error("Could not find renamed property on target object.")}function pe(o,s){for(const a in s)s.hasOwnProperty(a)&&!o.hasOwnProperty(a)&&(o[a]=s[a])}function _e(o){if("string"==typeof o)return o;if(Array.isArray(o))return"["+o.map(_e).join(", ")+"]";if(null==o)return""+o;if(o.overriddenName)return`${o.overriddenName}`;if(o.name)return`${o.name}`;const s=o.toString();if(null==s)return""+s;const a=s.indexOf("\n");return-1===a?s:s.substring(0,a)}function le(o,s){return null==o||""===o?null===s?"":s:null==s||""===s?o:o+" "+s}const $=re({__forward_ref__:re});function j(o){return o.__forward_ref__=j,o.toString=function(){return _e(this())},o}function q(o){return je(o)?o():o}function je(o){return"function"==typeof o&&o.hasOwnProperty($)&&o.__forward_ref__===j}function be(o){return o&&!!o.\u0275providers}const lt="https://g.co/ng/security#xss";class he extends Error{constructor(s,a){super(Ae(s,a)),this.code=s}}function Ae(o,s){return`NG0${Math.abs(o)}${s?": "+s.trim():""}`}function Me(o){return"string"==typeof o?o:null==o?"":String(o)}function $e(o,s){throw new he(-201,!1)}function ht(o,s){null==o&&function ut(o,s,a,l){throw new Error(`ASSERTION ERROR: ${o}`+(null==l?"":` [Expected=> ${a} ${l} ${s} <=Actual]`))}(s,o,null,"!=")}function Dt(o){return{token:o.token,providedIn:o.providedIn||null,factory:o.factory,value:void 0}}function yn(o){return{providers:o.providers||[],imports:o.imports||[]}}function bn(o){return Fr(o,ai)||Fr(o,Yo)}function Er(o){return null!==bn(o)}function Fr(o,s){return o.hasOwnProperty(s)?o[s]:null}function Io(o){return o&&(o.hasOwnProperty(Rs)||o.hasOwnProperty(Dr))?o[Rs]:null}const ai=re({\u0275prov:re}),Rs=re({\u0275inj:re}),Yo=re({ngInjectableDef:re}),Dr=re({ngInjectorDef:re});var pt=(()=>((pt=pt||{})[pt.Default=0]="Default",pt[pt.Host=1]="Host",pt[pt.Self=2]="Self",pt[pt.SkipSelf=4]="SkipSelf",pt[pt.Optional=8]="Optional",pt))();let qr;function mr(o){const s=qr;return qr=o,s}function Lr(o,s,a){const l=bn(o);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:a&pt.Optional?null:void 0!==s?s:void $e(_e(o))}const Xt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),ui={},Zr="__NG_DI_FLAG__",or="ngTempTokenPath",Vr="ngTokenPath",xn=/\n/gm,Wr="\u0275",fn="__source";let Do;function Wt(o){const s=Do;return Do=o,s}function Gi(o,s=pt.Default){if(void 0===Do)throw new he(-203,!1);return null===Do?Lr(o,void 0,s):Do.get(o,s&pt.Optional?null:void 0,s)}function rn(o,s=pt.Default){return(function Ac(){return qr}()||Gi)(q(o),s)}function Tn(o,s=pt.Default){return rn(o,Ln(s))}function Ln(o){return typeof o>"u"||"number"==typeof o?o:0|(o.optional&&8)|(o.host&&1)|(o.self&&2)|(o.skipSelf&&4)}function Si(o){const s=[];for(let a=0;a<o.length;a++){const l=q(o[a]);if(Array.isArray(l)){if(0===l.length)throw new he(900,!1);let h,g=pt.Default;for(let _=0;_<l.length;_++){const b=l[_],I=Ai(b);"number"==typeof I?-1===I?h=b.token:g|=I:h=b}s.push(rn(h,g))}else s.push(rn(l))}return s}function vn(o,s){return o[Zr]=s,o.prototype[Zr]=s,o}function Ai(o){return o[Zr]}function L(o){return{toString:o}.toString()}var G=(()=>((G=G||{})[G.OnPush=0]="OnPush",G[G.Default=1]="Default",G))(),ge=(()=>{return(o=ge||(ge={}))[o.Emulated=0]="Emulated",o[o.None=2]="None",o[o.ShadowDom=3]="ShadowDom",ge;var o})();const J={},Ne=[],Tt=re({\u0275cmp:re}),Yt=re({\u0275dir:re}),Pn=re({\u0275pipe:re}),En=re({\u0275mod:re}),an=re({\u0275fac:re}),zt=re({__NG_ELEMENT_ID__:re});let xr=0;function Mi(o){return L(()=>{const s=pu(o),a={...s,decls:o.decls,vars:o.vars,template:o.template,consts:o.consts||null,ngContentSelectors:o.ngContentSelectors,onPush:o.changeDetection===G.OnPush,directiveDefs:null,pipeDefs:null,dependencies:s.standalone&&o.dependencies||null,getStandaloneInjector:null,data:o.data||{},encapsulation:o.encapsulation||ge.Emulated,id:"c"+xr++,styles:o.styles||Ne,_:null,schemas:o.schemas||null,tView:null};Kh(a);const l=o.dependencies;return a.directiveDefs=Qo(l,!1),a.pipeDefs=Qo(l,!0),a})}function ga(o){return gt(o)||en(o)}function ue(o){return null!==o}function X(o){return L(()=>({type:o.type,bootstrap:o.bootstrap||Ne,declarations:o.declarations||Ne,imports:o.imports||Ne,exports:o.exports||Ne,transitiveCompileScopes:null,schemas:o.schemas||null,id:o.id||null}))}function ft(o,s){if(null==o)return J;const a={};for(const l in o)if(o.hasOwnProperty(l)){let h=o[l],g=h;Array.isArray(h)&&(g=h[1],h=h[0]),a[h]=l,s&&(s[h]=g)}return a}function Et(o){return L(()=>{const s=pu(o);return Kh(s),s})}function Vt(o){return{type:o.type,name:o.name,factory:null,pure:!1!==o.pure,standalone:!0===o.standalone,onDestroy:o.type.prototype.ngOnDestroy||null}}function gt(o){return o[Tt]||null}function en(o){return o[Yt]||null}function Qt(o){return o[Pn]||null}function sr(o){const s=gt(o)||en(o)||Qt(o);return null!==s&&s.standalone}function Vn(o,s){const a=o[En]||null;if(!a&&!0===s)throw new Error(`Type ${_e(o)} does not have '\u0275mod' property.`);return a}function pu(o){const s={};return{type:o.type,providersResolver:null,factory:null,hostBindings:o.hostBindings||null,hostVars:o.hostVars||0,hostAttrs:o.hostAttrs||null,contentQueries:o.contentQueries||null,declaredInputs:s,exportAs:o.exportAs||null,standalone:!0===o.standalone,selectors:o.selectors||Ne,viewQuery:o.viewQuery||null,features:o.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:ft(o.inputs,s),outputs:ft(o.outputs)}}function Kh(o){o.features?.forEach(s=>s(o))}function Qo(o,s){if(!o)return null;const a=s?Qt:ga;return()=>("function"==typeof o?o():o).map(l=>a(l)).filter(ue)}const li=0,qe=1,Nt=2,wn=3,di=4,cn=5,Un=6,xo=7,Sn=8,ma=9,Kr=10,Lt=11,ya=12,Jo=13,io=14,Xo=15,On=16,Ns=17,oo=18,Zi=19,ks=20,yr=21,_n=22,_a=1,Mc=2,Fs=7,To=8,So=9,ar=10;function Qr(o){return Array.isArray(o)&&"object"==typeof o[_a]}function Jr(o){return Array.isArray(o)&&!0===o[_a]}function va(o){return 0!=(4&o.flags)}function Ls(o){return o.componentOffset>-1}function Pc(o){return 1==(1&o.flags)}function hi(o){return!!o.template}function mu(o){return 0!=(256&o[Nt])}function Wi(o,s){return o.hasOwnProperty(an)?o[an]:null}class es{constructor(s,a,l){this.previousValue=s,this.currentValue=a,this.firstChange=l}isFirstChange(){return this.firstChange}}function Rc(){return wa}function wa(o){return o.type.prototype.ngOnChanges&&(o.setInput=Nc),Jl}function Jl(){const o=ef(this),s=o?.current;if(s){const a=o.previous;if(a===J)o.previous=s;else for(let l in s)a[l]=s[l];o.current=null,this.ngOnChanges(s)}}function Nc(o,s,a,l){const h=this.declaredInputs[a],g=ef(o)||function Ca(o,s){return o[Ao]=s}(o,{previous:J,current:null}),_=g.current||(g.current={}),b=g.previous,I=b[h];_[h]=new es(I&&I.currentValue,s,b===J),o[l]=s}Rc.ngInherit=!0;const Ao="__ngSimpleChanges__";function ef(o){return o[Ao]||null}const Br=function(o,s,a){};function ur(o){for(;Array.isArray(o);)o=o[li];return o}function uo(o,s){return ur(s[o])}function cr(o,s){return ur(s[o.index])}function ed(o,s){return o.data[s]}function Sr(o,s){return o[s]}function Wn(o,s){const a=s[o];return Qr(a)?a:a[li]}function co(o){return 64==(64&o[Nt])}function Po(o,s){return null==s?null:o[s]}function Bs(o){o[oo]=0}function Ea(o,s){o[cn]+=s;let a=o,l=o[wn];for(;null!==l&&(1===s&&1===a[cn]||-1===s&&0===a[cn]);)l[cn]+=s,a=l,l=l[wn]}const Mt={lFrame:Lc(null),bindingsEnabled:!0};function bu(){return Mt.bindingsEnabled}function ce(){return Mt.lFrame.lView}function kt(){return Mt.lFrame.tView}function Da(o){return Mt.lFrame.contextLView=o,o[Sn]}function xa(o){return Mt.lFrame.contextLView=null,o}function Kn(){let o=ts();for(;null!==o&&64===o.type;)o=o.parent;return o}function ts(){return Mt.lFrame.currentTNode}function jr(o,s){const a=Mt.lFrame;a.currentTNode=o,a.isParent=s}function od(){return Mt.lFrame.isParent}function ns(){return Mt.lFrame.bindingIndex++}function Du(o,s){const a=Mt.lFrame;a.bindingIndex=a.bindingRootIndex=o,jn(s)}function jn(o){Mt.lFrame.currentDirectiveIndex=o}function Fc(){return Mt.lFrame.currentQueryIndex}function xu(o){Mt.lFrame.currentQueryIndex=o}function ad(o){const s=o[qe];return 2===s.type?s.declTNode:1===s.type?o[Un]:null}function Tu(o,s,a){if(a&pt.SkipSelf){let h=s,g=o;for(;!(h=h.parent,null!==h||a&pt.Host||(h=ad(g),null===h||(g=g[Xo],10&h.type))););if(null===h)return!1;s=h,o=g}const l=Mt.lFrame=Aa();return l.currentTNode=s,l.lView=o,!0}function Su(o){const s=Aa(),a=o[qe];Mt.lFrame=s,s.currentTNode=a.firstChild,s.lView=o,s.tView=a,s.contextLView=o,s.bindingIndex=a.bindingStartIndex,s.inI18n=!1}function Aa(){const o=Mt.lFrame,s=null===o?null:o.child;return null===s?Lc(o):s}function Lc(o){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:o,child:null,inI18n:!1};return null!==o&&(o.child=s),s}function Ma(){const o=Mt.lFrame;return Mt.lFrame=o.parent,o.currentTNode=null,o.lView=null,o}const ud=Ma;function Au(){const o=Ma();o.isParent=!0,o.tView=null,o.selectedIndex=-1,o.contextLView=null,o.elementDepthCount=0,o.currentDirectiveIndex=-1,o.currentNamespace=null,o.bindingRootIndex=-1,o.bindingIndex=-1,o.currentQueryIndex=0}function _r(){return Mt.lFrame.selectedIndex}function ho(o){Mt.lFrame.selectedIndex=o}function In(){const o=Mt.lFrame;return ed(o.tView,o.selectedIndex)}function Ou(o,s){for(let a=s.directiveStart,l=s.directiveEnd;a<l;a++){const g=o.data[a].type.prototype,{ngAfterContentInit:_,ngAfterContentChecked:b,ngAfterViewInit:I,ngAfterViewChecked:S,ngOnDestroy:P}=g;_&&(o.contentHooks??(o.contentHooks=[])).push(-a,_),b&&((o.contentHooks??(o.contentHooks=[])).push(a,b),(o.contentCheckHooks??(o.contentCheckHooks=[])).push(a,b)),I&&(o.viewHooks??(o.viewHooks=[])).push(-a,I),S&&((o.viewHooks??(o.viewHooks=[])).push(a,S),(o.viewCheckHooks??(o.viewCheckHooks=[])).push(a,S)),null!=P&&(o.destroyHooks??(o.destroyHooks=[])).push(a,P)}}function Vc(o,s,a){Bc(o,s,3,a)}function Uc(o,s,a,l){(3&o[Nt])===a&&Bc(o,s,a,l)}function ld(o,s){let a=o[Nt];(3&a)===s&&(a&=2047,a+=1,o[Nt]=a)}function Bc(o,s,a,l){const g=l??-1,_=s.length-1;let b=0;for(let I=void 0!==l?65535&o[oo]:0;I<_;I++)if("number"==typeof s[I+1]){if(b=s[I],null!=l&&b>=l)break}else s[I]<0&&(o[oo]+=65536),(b<g||-1==g)&&($s(o,a,s,I),o[oo]=(4294901760&o[oo])+I+2),I++}function $s(o,s,a,l){const h=a[l]<0,g=a[l+1],b=o[h?-a[l]:a[l]];if(h){if(o[Nt]>>11<o[oo]>>16&&(3&o[Nt])===s){o[Nt]+=2048,Br(4,b,g);try{g.call(b)}finally{Br(5,b,g)}}}else{Br(4,b,g);try{g.call(b)}finally{Br(5,b,g)}}}const Hs=-1;class fo{constructor(s,a,l){this.factory=s,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=l}}function zs(o,s,a){let l=0;for(;l<a.length;){const h=a[l];if("number"==typeof h){if(0!==h)break;l++;const g=a[l++],_=a[l++],b=a[l++];o.setAttribute(s,_,b,g)}else{const g=h,_=a[++l];ss(g)?o.setProperty(s,g,_):o.setAttribute(s,g,_),l++}}return l}function jc(o){return 3===o||4===o||6===o}function ss(o){return 64===o.charCodeAt(0)}function as(o,s){if(null!==s&&0!==s.length)if(null===o||0===o.length)o=s.slice();else{let a=-1;for(let l=0;l<s.length;l++){const h=s[l];"number"==typeof h?a=h:0===a||ku(o,a,h,null,-1===a||2===a?s[++l]:null)}}return o}function ku(o,s,a,l,h){let g=0,_=o.length;if(-1===s)_=-1;else for(;g<o.length;){const b=o[g++];if("number"==typeof b){if(b===s){_=-1;break}if(b>s){_=g-1;break}}}for(;g<o.length;){const b=o[g];if("number"==typeof b)break;if(b===a){if(null===l)return void(null!==h&&(o[g+1]=h));if(l===o[g+1])return void(o[g+2]=h)}g++,null!==l&&g++,null!==h&&g++}-1!==_&&(o.splice(_,0,s),g=_+1),o.splice(g++,0,a),null!==l&&o.splice(g++,0,l),null!==h&&o.splice(g++,0,h)}function us(o){return o!==Hs}function Oo(o){return 32767&o}function cs(o,s){let a=function dd(o){return o>>16}(o),l=s;for(;a>0;)l=l[Xo],a--;return l}let Fu=!0;function Oa(o){const s=Fu;return Fu=o,s}const Lu=255,hd=5;let ls=0;const Oi={};function $c(o,s){const a=qs(o,s);if(-1!==a)return a;const l=s[qe];l.firstCreatePass&&(o.injectorIndex=s.length,Gs(l.data,o),Gs(s,null),Gs(l.blueprint,null));const h=fd(o,s),g=o.injectorIndex;if(us(h)){const _=Oo(h),b=cs(h,s),I=b[qe].data;for(let S=0;S<8;S++)s[g+S]=b[_+S]|I[_+S]}return s[g+8]=h,g}function Gs(o,s){o.push(0,0,0,0,0,0,0,0,s)}function qs(o,s){return-1===o.injectorIndex||o.parent&&o.parent.injectorIndex===o.injectorIndex||null===s[o.injectorIndex+8]?-1:o.injectorIndex}function fd(o,s){if(o.parent&&-1!==o.parent.injectorIndex)return o.parent.injectorIndex;let a=0,l=null,h=s;for(;null!==h;){if(l=ka(h),null===l)return Hs;if(a++,h=h[Xo],-1!==l.injectorIndex)return l.injectorIndex|a<<16}return Hs}function pn(o,s,a){!function po(o,s,a){let l;"string"==typeof a?l=a.charCodeAt(0)||0:a.hasOwnProperty(zt)&&(l=a[zt]),null==l&&(l=a[zt]=ls++);const h=l&Lu;s.data[o+(h>>hd)]|=1<<h}(o,s,a)}function Vu(o,s,a){if(a&pt.Optional||void 0!==o)return o;$e()}function Hc(o,s,a,l){if(a&pt.Optional&&void 0===l&&(l=null),!(a&(pt.Self|pt.Host))){const h=o[ma],g=mr(void 0);try{return h?h.get(s,l,a&pt.Optional):Lr(s,l,a&pt.Optional)}finally{mr(g)}}return Vu(l,0,a)}function Uu(o,s,a,l=pt.Default,h){if(null!==o){if(1024&s[Nt]){const _=function Gc(o,s,a,l,h){let g=o,_=s;for(;null!==g&&null!==_&&1024&_[Nt]&&!(256&_[Nt]);){const b=Bu(g,_,a,l|pt.Self,Oi);if(b!==Oi)return b;let I=g.parent;if(!I){const S=_[yr];if(S){const P=S.get(a,Oi,l);if(P!==Oi)return P}I=ka(_),_=_[Xo]}g=I}return h}(o,s,a,l,Oi);if(_!==Oi)return _}const g=Bu(o,s,a,l,Oi);if(g!==Oi)return g}return Hc(s,a,l,h)}function Bu(o,s,a,l,h){const g=function zc(o){if("string"==typeof o)return o.charCodeAt(0)||0;const s=o.hasOwnProperty(zt)?o[zt]:void 0;return"number"==typeof s?s>=0?s&Lu:uf:s}(a);if("function"==typeof g){if(!Tu(s,o,l))return l&pt.Host?Vu(h,0,l):Hc(s,a,l,h);try{const _=g(l);if(null!=_||l&pt.Optional)return _;$e()}finally{ud()}}else if("number"==typeof g){let _=null,b=qs(o,s),I=Hs,S=l&pt.Host?s[On][Un]:null;for((-1===b||l&pt.SkipSelf)&&(I=-1===b?fd(o,s):s[b+8],I!==Hs&&Na(l,!1)?(_=s[qe],b=Oo(I),s=cs(I,s)):b=-1);-1!==b;){const P=s[qe];if(Ra(g,b,P.data)){const F=Yn(b,s,a,_,l,S);if(F!==Oi)return F}I=s[b+8],I!==Hs&&Na(l,s[qe].data[b+8]===S)&&Ra(g,b,s)?(_=P,b=Oo(I),s=cs(I,s)):b=-1}}return h}function Yn(o,s,a,l,h,g){const _=s[qe],b=_.data[o+8],P=ds(b,_,a,null==l?Ls(b)&&Fu:l!=_&&0!=(3&b.type),h&pt.Host&&g===b);return null!==P?Rn(s,_,P,b):Oi}function ds(o,s,a,l,h){const g=o.providerIndexes,_=s.data,b=1048575&g,I=o.directiveStart,P=g>>20,z=h?b+P:o.directiveEnd;for(let K=l?b:b+P;K<z;K++){const me=_[K];if(K<I&&a===me||K>=I&&me.type===a)return K}if(h){const K=_[I];if(K&&hi(K)&&K.type===a)return I}return null}function Rn(o,s,a,l){let h=o[a];const g=s.data;if(function bg(o){return o instanceof fo}(h)){const _=h;_.resolving&&function Pe(o,s){const a=s?`. Dependency path: ${s.join(" > ")} > ${o}`:"";throw new he(-200,`Circular dependency in DI detected for ${o}${a}`)}(function Ue(o){return"function"==typeof o?o.name||o.toString():"object"==typeof o&&null!=o&&"function"==typeof o.type?o.type.name||o.type.toString():Me(o)}(g[a]));const b=Oa(_.canSeeViewProviders);_.resolving=!0;const I=_.injectImpl?mr(_.injectImpl):null;Tu(o,l,pt.Default);try{h=o[a]=_.factory(void 0,g,o,l),s.firstCreatePass&&a>=l.directiveStart&&function Cg(o,s,a){const{ngOnChanges:l,ngOnInit:h,ngDoCheck:g}=s.type.prototype;if(l){const _=wa(s);(a.preOrderHooks??(a.preOrderHooks=[])).push(o,_),(a.preOrderCheckHooks??(a.preOrderCheckHooks=[])).push(o,_)}h&&(a.preOrderHooks??(a.preOrderHooks=[])).push(0-o,h),g&&((a.preOrderHooks??(a.preOrderHooks=[])).push(o,g),(a.preOrderCheckHooks??(a.preOrderCheckHooks=[])).push(o,g))}(a,g[a],s)}finally{null!==I&&mr(I),Oa(b),_.resolving=!1,ud()}}return h}function Ra(o,s,a){return!!(a[s+(o>>hd)]&1<<o)}function Na(o,s){return!(o&pt.Self||o&pt.Host&&s)}class go{constructor(s,a){this._tNode=s,this._lView=a}get(s,a,l){return Uu(this._tNode,this._lView,s,Ln(l),a)}}function uf(){return new go(Kn(),ce())}function ju(o){return L(()=>{const s=o.prototype.constructor,a=s[an]||hs(s),l=Object.prototype;let h=Object.getPrototypeOf(o.prototype).constructor;for(;h&&h!==l;){const g=h[an]||hs(h);if(g&&g!==a)return g;h=Object.getPrototypeOf(h)}return g=>new g})}function hs(o){return je(o)?()=>{const s=hs(q(o));return s&&s()}:Wi(o)}function ka(o){const s=o[qe],a=s.type;return 2===a?s.declTNode:1===a?o[Un]:null}function Zs(o){return function pd(o,s){if("class"===s)return o.classes;if("style"===s)return o.styles;const a=o.attrs;if(a){const l=a.length;let h=0;for(;h<l;){const g=a[h];if(jc(g))break;if(0===g)h+=2;else if("number"==typeof g)for(h++;h<l&&"string"==typeof a[h];)h++;else{if(g===s)return a[h+1];h+=2}}}return null}(Kn(),o)}const Ws="__parameters__";function ps(o,s,a){return L(()=>{const l=function fs(o){return function(...a){if(o){const l=o(...a);for(const h in l)this[h]=l[h]}}}(s);function h(...g){if(this instanceof h)return l.apply(this,g),this;const _=new h(...g);return b.annotation=_,b;function b(I,S,P){const F=I.hasOwnProperty(Ws)?I[Ws]:Object.defineProperty(I,Ws,{value:[]})[Ws];for(;F.length<=P;)F.push(null);return(F[P]=F[P]||[]).push(_),I}}return a&&(h.prototype=Object.create(a.prototype)),h.prototype.ngMetadataName=o,h.annotationCls=h,h})}class Kt{constructor(s,a){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=Dt({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Yi(o,s){o.forEach(a=>Array.isArray(a)?Yi(a,s):s(a))}function ff(o,s,a){s>=o.length?o.push(a):o.splice(s,0,a)}function ms(o,s){return s>=o.length-1?o.pop():o.splice(s,1)[0]}function $r(o,s,a){let l=lr(o,s);return l>=0?o[1|l]=a:(l=~l,function Kc(o,s,a,l){let h=o.length;if(h==s)o.push(a,l);else if(1===h)o.push(l,o[0]),o[0]=a;else{for(h--,o.push(o[h-1],o[h]);h>s;)o[h]=o[h-2],h--;o[s]=a,o[s+1]=l}}(o,l,s,a)),l}function un(o,s){const a=lr(o,s);if(a>=0)return o[1|a]}function lr(o,s){return function No(o,s,a){let l=0,h=o.length>>a;for(;h!==l;){const g=l+(h-l>>1),_=o[g<<a];if(s===_)return g<<a;_>s?h=g:l=g+1}return~(h<<a)}(o,s,1)}const Ua=vn(ps("Optional"),8),ja=vn(ps("SkipSelf"),4);var yi=(()=>((yi=yi||{})[yi.Important=1]="Important",yi[yi.DashCase=2]="DashCase",yi))();const sl=new Map;let mf=0;const W="__ngContext__";function ne(o,s){Qr(s)?(o[W]=s[ks],function Ya(o){sl.set(o[ks],o)}(s)):o[W]=s}let Ar;function bs(o,s){return Ar(o,s)}function Es(o){const s=o[wn];return Jr(s)?s[wn]:s}function ec(o){return nc(o[Jo])}function tc(o){return nc(o[di])}function nc(o){for(;null!==o&&!Jr(o);)o=o[di];return o}function ta(o,s,a,l,h){if(null!=l){let g,_=!1;Jr(l)?g=l:Qr(l)&&(_=!0,l=l[li]);const b=ur(l);0===o&&null!==a?null==h?Sd(s,a,b):ra(s,a,b,h||null,!0):1===o&&null!==a?ra(s,a,b,h||null,!0):2===o?function Qa(o,s,a){const l=Ad(o,s);l&&function t_(o,s,a,l){o.removeChild(s,a,l)}(o,l,s,a)}(s,b,_):3===o&&s.destroyNode(b),null!=g&&function _w(o,s,a,l,h){const g=a[Fs];g!==ur(a)&&ta(s,o,l,g,h);for(let b=ar;b<a.length;b++){const I=a[b];oc(I[qe],I,o,s,l,g)}}(s,o,g,a,h)}}function Tg(o,s,a){return o.createElement(s,a)}function rc(o,s){const a=o[So],l=a.indexOf(s),h=s[wn];512&s[Nt]&&(s[Nt]&=-513,Ea(h,-1)),a.splice(l,1)}function na(o,s){if(o.length<=ar)return;const a=ar+s,l=o[a];if(l){const h=l[Ns];null!==h&&h!==o&&rc(h,l),s>0&&(o[a-1][di]=l[di]);const g=ms(o,ar+s);!function mw(o,s){oc(o,s,s[Lt],2,null,null),s[li]=null,s[Un]=null}(l[qe],l);const _=g[Zi];null!==_&&_.detachView(g[qe]),l[wn]=null,l[di]=null,l[Nt]&=-65}return l}function ul(o,s){if(!(128&s[Nt])){const a=s[Lt];a.destroyNode&&oc(o,s,a,3,null,null),function al(o){let s=o[Jo];if(!s)return cl(o[qe],o);for(;s;){let a=null;if(Qr(s))a=s[Jo];else{const l=s[ar];l&&(a=l)}if(!a){for(;s&&!s[di]&&s!==o;)Qr(s)&&cl(s[qe],s),s=s[wn];null===s&&(s=o),Qr(s)&&cl(s[qe],s),a=s&&s[di]}s=a}}(s)}}function cl(o,s){if(!(128&s[Nt])){s[Nt]&=-65,s[Nt]|=128,function xd(o,s){let a;if(null!=o&&null!=(a=o.destroyHooks))for(let l=0;l<a.length;l+=2){const h=s[a[l]];if(!(h instanceof fo)){const g=a[l+1];if(Array.isArray(g))for(let _=0;_<g.length;_+=2){const b=h[g[_]],I=g[_+1];Br(4,b,I);try{I.call(b)}finally{Br(5,b,I)}}else{Br(4,h,g);try{g.call(h)}finally{Br(5,h,g)}}}}}(o,s),function wf(o,s){const a=o.cleanup,l=s[xo];let h=-1;if(null!==a)for(let g=0;g<a.length-1;g+=2)if("string"==typeof a[g]){const _=a[g+3];_>=0?l[h=_]():l[h=-_].unsubscribe(),g+=2}else{const _=l[h=a[g+1]];a[g].call(_)}if(null!==l){for(let g=h+1;g<l.length;g++)(0,l[g])();s[xo]=null}}(o,s),1===s[qe].type&&s[Lt].destroy();const a=s[Ns];if(null!==a&&Jr(s[wn])){a!==s[wn]&&rc(a,s);const l=s[Zi];null!==l&&l.detachView(o)}!function C(o){sl.delete(o[ks])}(s)}}function Td(o,s,a){return function Ag(o,s,a){let l=s;for(;null!==l&&40&l.type;)l=(s=l).parent;if(null===l)return a[li];{const{componentOffset:h}=l;if(h>-1){const{encapsulation:g}=o.data[l.directiveStart+h];if(g===ge.None||g===ge.Emulated)return null}return cr(l,a)}}(o,s.parent,a)}function ra(o,s,a,l,h){o.insertBefore(s,a,l,h)}function Sd(o,s,a){o.appendChild(s,a)}function Cf(o,s,a,l,h){null!==l?ra(o,s,a,l,h):Sd(o,s,a)}function Ad(o,s){return o.parentNode(s)}let If,aa,ac,Md=function Ef(o,s,a){return 40&o.type?cr(o,a):null};function ia(o,s,a,l){const h=Td(o,l,s),g=s[Lt],b=function Mg(o,s,a){return Md(o,s,a)}(l.parent||s[Un],l,s);if(null!=h)if(Array.isArray(a))for(let I=0;I<a.length;I++)Cf(g,h,a[I],b,!1);else Cf(g,h,a,b,!1);void 0!==If&&If(g,l,s,a,h)}function Pd(o,s){if(null!==s){const a=s.type;if(3&a)return cr(s,o);if(4&a)return ic(-1,o[s.index]);if(8&a){const l=s.child;if(null!==l)return Pd(o,l);{const h=o[s.index];return Jr(h)?ic(-1,h):ur(h)}}if(32&a)return bs(s,o)()||ur(o[s.index]);{const l=n_(o,s);return null!==l?Array.isArray(l)?l[0]:Pd(Es(o[On]),l):Pd(o,s.next)}}return null}function n_(o,s){return null!==s?o[On][Un].projection[s.projection]:null}function ic(o,s){const a=ar+o+1;if(a<s.length){const l=s[a],h=l[qe].firstChild;if(null!==h)return Pd(l,h)}return s[Fs]}function oa(o,s,a,l,h,g,_){for(;null!=a;){const b=l[a.index],I=a.type;if(_&&0===s&&(b&&ne(ur(b),l),a.flags|=2),32!=(32&a.flags))if(8&I)oa(o,s,a.child,l,h,g,!1),ta(s,o,h,b,g);else if(32&I){const S=bs(a,l);let P;for(;P=S();)ta(s,o,h,P,g);ta(s,o,h,b,g)}else 16&I?xf(o,s,l,a,h,g):ta(s,o,h,b,g);a=_?a.projectionNext:a.next}}function oc(o,s,a,l,h,g){oa(a,l,o.firstChild,s,h,g,!1)}function xf(o,s,a,l,h,g){const _=a[On],I=_[Un].projection[l.projection];if(Array.isArray(I))for(let S=0;S<I.length;S++)ta(s,o,h,I[S],g);else oa(o,s,I,_[wn],h,g,!0)}function dl(o,s,a){""===a?o.removeAttribute(s,"class"):o.setAttribute(s,"class",a)}function i_(o,s,a){const{mergedAttrs:l,classes:h,styles:g}=a;null!==l&&zs(o,s,l),null!==h&&dl(o,s,h),null!==g&&function Pg(o,s,a){o.setAttribute(s,"style",a)}(o,s,g)}function kg(o){aa=o}function Rd(o){return function Fg(){if(void 0===ac&&(ac=null,Xt.trustedTypes))try{ac=Xt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch{}return ac}()?.createScriptURL(o)||o}class Lg{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${lt})`}}function Mr(o){return o instanceof Lg?o.changingThisBreaksApplicationSecurity:o}function cc(o,s){const a=function Af(o){return o instanceof Lg&&o.getTypeName()||null}(o);if(null!=a&&a!==s){if("ResourceURL"===a&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${a} (see ${lt})`)}return a===s}const Pf=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var Nn=(()=>((Nn=Nn||{})[Nn.NONE=0]="NONE",Nn[Nn.HTML=1]="HTML",Nn[Nn.STYLE=2]="STYLE",Nn[Nn.SCRIPT=3]="SCRIPT",Nn[Nn.URL=4]="URL",Nn[Nn.RESOURCE_URL=5]="RESOURCE_URL",Nn))();function Ud(o){const s=Hg();return s?s.sanitize(Nn.URL,o)||"":cc(o,"URL")?Mr(o):function Ld(o){return(o=String(o)).match(Pf)?o:"unsafe:"+o}(Me(o))}function jg(o){const s=Hg();if(s)return Rd(s.sanitize(Nn.RESOURCE_URL,o)||"");if(cc(o,"ResourceURL"))return Rd(Mr(o));throw new he(904,!1)}function Ff(o,s,a){return function ww(o,s){return"src"===s&&("embed"===o||"frame"===o||"iframe"===o||"media"===o||"script"===o)||"href"===s&&("base"===o||"link"===o)?jg:Ud}(s,a)(o)}function Hg(){const o=ce();return o&&o[ya]}const Cw=new Kt("ENVIRONMENT_INITIALIZER"),bw=new Kt("INJECTOR",-1),WI=new Kt("INJECTOR_DEF_TYPES");class vt{get(s,a=ui){if(a===ui){const l=new Error(`NullInjectorError: No provider for ${_e(s)}!`);throw l.name="NullInjectorError",l}return a}}function dc(o){return{\u0275providers:o}}function jo(...o){return{\u0275providers:Ew(0,o),\u0275fromNgModule:!0}}function Ew(o,...s){const a=[],l=new Set;let h;return Yi(s,g=>{const _=g;hl(_,a,[],l)&&(h||(h=[]),h.push(_))}),void 0!==h&&Lf(h,a),a}function Lf(o,s){for(let a=0;a<o.length;a++){const{providers:h}=o[a];zg(h,g=>{s.push(g)})}}function hl(o,s,a,l){if(!(o=q(o)))return!1;let h=null,g=Io(o);const _=!g&&gt(o);if(g||_){if(_&&!_.standalone)return!1;h=o}else{const I=o.ngModule;if(g=Io(I),!g)return!1;h=I}const b=l.has(h);if(_){if(b)return!1;if(l.add(h),_.dependencies){const I="function"==typeof _.dependencies?_.dependencies():_.dependencies;for(const S of I)hl(S,s,a,l)}}else{if(!g)return!1;{if(null!=g.imports&&!b){let S;l.add(h);try{Yi(g.imports,P=>{hl(P,s,a,l)&&(S||(S=[]),S.push(P))})}finally{}void 0!==S&&Lf(S,s)}if(!b){const S=Wi(h)||(()=>new h);s.push({provide:h,useFactory:S,deps:Ne},{provide:WI,useValue:h,multi:!0},{provide:Cw,useValue:()=>rn(h),multi:!0})}const I=g.providers;null==I||b||zg(I,P=>{s.push(P)})}}return h!==o&&void 0!==o.providers}function zg(o,s){for(let a of o)be(a)&&(a=a.\u0275providers),Array.isArray(a)?zg(a,s):s(a)}const KI=re({provide:String,useValue:re});function Gg(o){return null!==o&&"object"==typeof o&&KI in o}function eu(o){return"function"==typeof o}const h_=new Kt("Set Injector scope."),jd={},Vf={};let ua;function Uf(){return void 0===ua&&(ua=new vt),ua}class dr{}class qg extends dr{get destroyed(){return this._destroyed}constructor(s,a,l,h){super(),this.parent=a,this.source=l,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,f_(s,_=>this.processProvider(_)),this.records.set(bw,ni(void 0,this)),h.has("environment")&&this.records.set(dr,ni(void 0,this));const g=this.records.get(h_);null!=g&&"string"==typeof g.value&&this.scopes.add(g.value),this.injectorDefTypes=new Set(this.get(WI.multi,Ne,pt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const s of this._ngOnDestroyHooks)s.ngOnDestroy();for(const s of this._onDestroyHooks)s()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(s){this._onDestroyHooks.push(s)}runInContext(s){this.assertNotDestroyed();const a=Wt(this),l=mr(void 0);try{return s()}finally{Wt(a),mr(l)}}get(s,a=ui,l=pt.Default){this.assertNotDestroyed(),l=Ln(l);const h=Wt(this),g=mr(void 0);try{if(!(l&pt.SkipSelf)){let b=this.records.get(s);if(void 0===b){const I=function xw(o){return"function"==typeof o||"object"==typeof o&&o instanceof Kt}(s)&&bn(s);b=I&&this.injectableDefInScope(I)?ni(Zg(s),jd):null,this.records.set(s,b)}if(null!=b)return this.hydrate(s,b)}return(l&pt.Self?Uf():this.parent).get(s,a=l&pt.Optional&&a===ui?null:a)}catch(_){if("NullInjectorError"===_.name){if((_[or]=_[or]||[]).unshift(_e(s)),h)throw _;return function Ur(o,s,a,l){const h=o[or];throw s[fn]&&h.unshift(s[fn]),o.message=function V(o,s,a,l=null){o=o&&"\n"===o.charAt(0)&&o.charAt(1)==Wr?o.slice(2):o;let h=_e(s);if(Array.isArray(s))h=s.map(_e).join(" -> ");else if("object"==typeof s){let g=[];for(let _ in s)if(s.hasOwnProperty(_)){let b=s[_];g.push(_+":"+("string"==typeof b?JSON.stringify(b):_e(b)))}h=`{${g.join(", ")}}`}return`${a}${l?"("+l+")":""}[${h}]: ${o.replace(xn,"\n  ")}`}("\n"+o.message,h,a,l),o[Vr]=h,o[or]=null,o}(_,s,"R3InjectorError",this.source)}throw _}finally{mr(g),Wt(h)}}resolveInjectorInitializers(){const s=Wt(this),a=mr(void 0);try{const l=this.get(Cw.multi,Ne,pt.Self);for(const h of l)h()}finally{Wt(s),mr(a)}}toString(){const s=[],a=this.records;for(const l of a.keys())s.push(_e(l));return`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new he(205,!1)}processProvider(s){let a=eu(s=q(s))?s:q(s&&s.provide);const l=function $d(o){return Gg(o)?ni(void 0,o.useValue):ni(Bf(o),jd)}(s);if(eu(s)||!0!==s.multi)this.records.get(a);else{let h=this.records.get(a);h||(h=ni(void 0,jd,!0),h.factory=()=>Si(h.multi),this.records.set(a,h)),a=s,h.multi.push(s)}this.records.set(a,l)}hydrate(s,a){return a.value===jd&&(a.value=Vf,a.value=a.factory()),"object"==typeof a.value&&a.value&&function Wg(o){return null!==o&&"object"==typeof o&&"function"==typeof o.ngOnDestroy}(a.value)&&this._ngOnDestroyHooks.add(a.value),a.value}injectableDefInScope(s){if(!s.providedIn)return!1;const a=q(s.providedIn);return"string"==typeof a?"any"===a||this.scopes.has(a):this.injectorDefTypes.has(a)}}function Zg(o){const s=bn(o),a=null!==s?s.factory:Wi(o);if(null!==a)return a;if(o instanceof Kt)throw new he(204,!1);if(o instanceof Function)return function Hr(o){const s=o.length;if(s>0)throw function Hu(o,s){const a=[];for(let l=0;l<o;l++)a.push(s);return a}(s,"?"),new he(204,!1);const a=function Ir(o){return o&&(o[ai]||o[Yo])||null}(o);return null!==a?()=>a.factory(o):()=>new o}(o);throw new he(204,!1)}function Bf(o,s,a){let l;if(eu(o)){const h=q(o);return Wi(h)||Zg(h)}if(Gg(o))l=()=>q(o.useValue);else if(function Iw(o){return!(!o||!o.useFactory)}(o))l=()=>o.useFactory(...Si(o.deps||[]));else if(function Bd(o){return!(!o||!o.useExisting)}(o))l=()=>rn(q(o.useExisting));else{const h=q(o&&(o.useClass||o.provide));if(!function ki(o){return!!o.deps}(o))return Wi(h)||Zg(h);l=()=>new h(...Si(o.deps))}return l}function ni(o,s,a=!1){return{factory:o,value:s,multi:a?[]:void 0}}function f_(o,s){for(const a of o)Array.isArray(a)?f_(a,s):a&&be(a)?f_(a.\u0275providers,s):s(a)}class tu{}class nu{}class jf{resolveComponentFactory(s){throw function wi(o){const s=Error(`No component factory found for ${_e(o)}. Did you add it to @NgModule.entryComponents?`);return s.ngComponent=o,s}(s)}}let fl=(()=>{class o{}return o.NULL=new jf,o})();function Tw(){return Hd(Kn(),ce())}function Hd(o,s){return new $f(cr(o,s))}let $f=(()=>{class o{constructor(a){this.nativeElement=a}}return o.__NG_ELEMENT_ID__=Tw,o})();function p_(o){return o instanceof $f?o.nativeElement:o}class Ut{}let Hf=(()=>{class o{}return o.__NG_ELEMENT_ID__=()=>function YI(){const o=ce(),a=Wn(Kn().index,o);return(Qr(a)?a:o)[Lt]}(),o})(),zd=(()=>{class o{}return o.\u0275prov=Dt({token:o,providedIn:"root",factory:()=>null}),o})();class Sw{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const Aw=new Sw("15.2.8"),$o={},Kg="ngOriginalError";function Yg(o){return o[Kg]}class Qg{constructor(){this._console=console}handleError(s){const a=this._findOriginalError(s);this._console.error("ERROR",s),a&&this._console.error("ORIGINAL ERROR",a)}_findOriginalError(s){let a=s&&Yg(s);for(;a&&Yg(a);)a=Yg(a);return a||null}}function iu(o){return o instanceof Function?o():o}function kw(o,s,a){let l=o.length;for(;;){const h=o.indexOf(s,a);if(-1===h)return h;if(0===h||o.charCodeAt(h-1)<=32){const g=s.length;if(h+g===l||o.charCodeAt(h+g)<=32)return h}a=h+1}}const fc="ng-template";function XI(o,s,a){let l=0,h=!0;for(;l<o.length;){let g=o[l++];if("string"==typeof g&&h){const _=o[l++];if(a&&"class"===g&&-1!==kw(_.toLowerCase(),s,0))return!0}else{if(1===g){for(;l<o.length&&"string"==typeof(g=o[l++]);)if(g.toLowerCase()===s)return!0;return!1}"number"==typeof g&&(h=!1)}}return!1}function Gd(o){return 4===o.type&&o.value!==fc}function m_(o,s,a){return s===(4!==o.type||a?o.value:fc)}function eD(o,s,a){let l=4;const h=o.attrs||[],g=function tD(o){for(let s=0;s<o.length;s++)if(jc(o[s]))return s;return o.length}(h);let _=!1;for(let b=0;b<s.length;b++){const I=s[b];if("number"!=typeof I){if(!_)if(4&l){if(l=2|1&l,""!==I&&!m_(o,I,a)||""===I&&1===s.length){if(Ji(l))return!1;_=!0}}else{const S=8&l?I:s[++b];if(8&l&&null!==o.attrs){if(!XI(o.attrs,S,a)){if(Ji(l))return!1;_=!0}continue}const F=zf(8&l?"class":I,h,Gd(o),a);if(-1===F){if(Ji(l))return!1;_=!0;continue}if(""!==S){let z;z=F>g?"":h[F+1].toLowerCase();const K=8&l?z:null;if(K&&-1!==kw(K,S,0)||2&l&&S!==z){if(Ji(l))return!1;_=!0}}}}else{if(!_&&!Ji(l)&&!Ji(I))return!1;if(_&&Ji(I))continue;_=!1,l=I|1&l}}return Ji(l)||_}function Ji(o){return 0==(1&o)}function zf(o,s,a,l){if(null===s)return-1;let h=0;if(l||!a){let g=!1;for(;h<s.length;){const _=s[h];if(_===o)return h;if(3===_||6===_)g=!0;else{if(1===_||2===_){let b=s[++h];for(;"string"==typeof b;)b=s[++h];continue}if(4===_)break;if(0===_){h+=4;continue}}h+=g?1:2}return-1}return function __(o,s){let a=o.indexOf(4);if(a>-1)for(a++;a<o.length;){const l=o[a];if("number"==typeof l)return-1;if(l===s)return a;a++}return-1}(s,o)}function y_(o,s,a=!1){for(let l=0;l<s.length;l++)if(eD(o,s[l],a))return!0;return!1}function v_(o,s){return o?":not("+s.trim()+")":s}function Fw(o){let s=o[0],a=1,l=2,h="",g=!1;for(;a<o.length;){let _=o[a];if("string"==typeof _)if(2&l){const b=o[++a];h+="["+_+(b.length>0?'="'+b+'"':"")+"]"}else 8&l?h+="."+_:4&l&&(h+=" "+_);else""!==h&&!Ji(_)&&(s+=v_(g,h),h=""),l=_,g=g||!Ji(l);a++}return""!==h&&(s+=v_(g,h)),s}const Bt={};function Gf(o){Lw(kt(),ce(),_r()+o,!1)}function Lw(o,s,a,l){if(!l)if(3==(3&s[Nt])){const g=o.preOrderCheckHooks;null!==g&&Vc(s,g,a)}else{const g=o.preOrderHooks;null!==g&&Uc(s,g,0,a)}ho(a)}function aD(o,s=null,a=null,l){const h=C_(o,s,a,l);return h.resolveInjectorInitializers(),h}function C_(o,s=null,a=null,l,h=new Set){const g=[a||Ne,jo(o)];return l=l||("object"==typeof o?void 0:_e(o)),new qg(g,s||Uf(),l||null,h)}let pc=(()=>{class o{static create(a,l){if(Array.isArray(a))return aD({name:""},l,a,"");{const h=a.name??"";return aD({name:h},a.parent,a.providers,h)}}}return o.THROW_IF_NOT_FOUND=ui,o.NULL=new vt,o.\u0275prov=Dt({token:o,providedIn:"any",factory:()=>rn(bw)}),o.__NG_ELEMENT_ID__=-1,o})();function Kd(o,s=pt.Default){const a=ce();return null===a?rn(o,s):Uu(Kn(),a,q(o),s)}function qw(){throw new Error("invalid")}function Zw(o,s){const a=o.contentQueries;if(null!==a)for(let l=0;l<a.length;l+=2){const g=a[l+1];if(-1!==g){const _=o.data[g];xu(a[l]),_.contentQueries(2,s[g],g)}}}function Kf(o,s,a,l,h,g,_,b,I,S,P){const F=s.blueprint.slice();return F[li]=h,F[Nt]=76|l,(null!==P||o&&1024&o[Nt])&&(F[Nt]|=1024),Bs(F),F[wn]=F[Xo]=o,F[Sn]=a,F[Kr]=_||o&&o[Kr],F[Lt]=b||o&&o[Lt],F[ya]=I||o&&o[ya]||null,F[ma]=S||o&&o[ma]||null,F[Un]=g,F[ks]=function Dg(){return mf++}(),F[yr]=P,F[On]=2==s.type?o[On]:F,F}function Yd(o,s,a,l,h){let g=o.data[s];if(null===g)g=function T_(o,s,a,l,h){const g=ts(),_=od(),I=o.data[s]=function Kw(o,s,a,l,h,g){return{type:a,index:l,insertBeforeIndex:null,injectorIndex:s?s.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,_?g:g&&g.parent,a,s,l,h);return null===o.firstChild&&(o.firstChild=I),null!==g&&(_?null==g.child&&null!==I.parent&&(g.child=I):null===g.next&&(g.next=I,I.prev=g)),I}(o,s,a,l,h),function sd(){return Mt.lFrame.inI18n}()&&(g.flags|=32);else if(64&g.type){g.type=a,g.value=l,g.attrs=h;const _=function Eu(){const o=Mt.lFrame,s=o.currentTNode;return o.isParent?s:s.parent}();g.injectorIndex=null===_?-1:_.injectorIndex}return jr(g,!0),g}function Yf(o,s,a,l){if(0===a)return-1;const h=s.length;for(let g=0;g<a;g++)s.push(l),o.blueprint.push(l),o.data.push(null);return h}function S_(o,s,a){Su(s);try{const l=o.viewQuery;null!==l&&B_(1,l,a);const h=o.template;null!==h&&A_(o,s,h,1,a),o.firstCreatePass&&(o.firstCreatePass=!1),o.staticContentQueries&&Zw(o,s),o.staticViewQueries&&B_(2,o.viewQuery,a);const g=o.components;null!==g&&function gD(o,s){for(let a=0;a<s.length;a++)bD(o,s[a])}(s,g)}catch(l){throw o.firstCreatePass&&(o.incompleteFirstPass=!0,o.firstCreatePass=!1),l}finally{s[Nt]&=-5,Au()}}function om(o,s,a,l){const h=s[Nt];if(128!=(128&h)){Su(s);try{Bs(s),function Ki(o){return Mt.lFrame.bindingIndex=o}(o.bindingStartIndex),null!==a&&A_(o,s,a,2,l);const _=3==(3&h);if(_){const S=o.preOrderCheckHooks;null!==S&&Vc(s,S,null)}else{const S=o.preOrderHooks;null!==S&&Uc(s,S,0,null),ld(s,0)}if(function L_(o){for(let s=ec(o);null!==s;s=tc(s)){if(!s[Mc])continue;const a=s[So];for(let l=0;l<a.length;l++){const h=a[l];512&h[Nt]||Ea(h[wn],1),h[Nt]|=512}}}(s),function tA(o){for(let s=ec(o);null!==s;s=tc(s))for(let a=ar;a<s.length;a++){const l=s[a],h=l[qe];co(l)&&om(h,l,h.template,l[Sn])}}(s),null!==o.contentQueries&&Zw(o,s),_){const S=o.contentCheckHooks;null!==S&&Vc(s,S)}else{const S=o.contentHooks;null!==S&&Uc(s,S,1),ld(s,1)}!function fD(o,s){const a=o.hostBindingOpCodes;if(null!==a)try{for(let l=0;l<a.length;l++){const h=a[l];if(h<0)ho(~h);else{const g=h,_=a[++l],b=a[++l];Du(_,g),b(2,s[g])}}}finally{ho(-1)}}(o,s);const b=o.components;null!==b&&function pD(o,s){for(let a=0;a<s.length;a++)CD(o,s[a])}(s,b);const I=o.viewQuery;if(null!==I&&B_(2,I,l),_){const S=o.viewCheckHooks;null!==S&&Vc(s,S)}else{const S=o.viewHooks;null!==S&&Uc(s,S,2),ld(s,2)}!0===o.firstUpdatePass&&(o.firstUpdatePass=!1),s[Nt]&=-41,512&s[Nt]&&(s[Nt]&=-513,Ea(s[wn],-1))}finally{Au()}}}function A_(o,s,a,l,h){const g=_r(),_=2&l;try{ho(-1),_&&s.length>_n&&Lw(o,s,_n,!1),Br(_?2:0,h),a(l,h)}finally{ho(g),Br(_?3:1,h)}}function Qf(o,s,a){if(va(s)){const h=s.directiveEnd;for(let g=s.directiveStart;g<h;g++){const _=o.data[g];_.contentQueries&&_.contentQueries(1,a[g],g)}}}function Jf(o,s,a){bu()&&(function Xw(o,s,a,l){const h=a.directiveStart,g=a.directiveEnd;Ls(a)&&function vD(o,s,a){const l=cr(s,o),h=wl(a),g=o[Kr],_=Fi(o,Kf(o,h,null,a.onPush?32:16,l,s,g,g.createRenderer(l,a),null,null,null));o[s.index]=_}(s,a,o.data[h+a.componentOffset]),o.firstCreatePass||$c(a,s),ne(l,s);const _=a.initialInputs;for(let b=h;b<g;b++){const I=o.data[b],S=Rn(s,o,b,a);ne(S,s),null!==_&&XS(0,b-h,S,I,0,_),hi(I)&&(Wn(a.index,s)[Sn]=Rn(s,o,b,a))}}(o,s,a,cr(a,s)),64==(64&a.flags)&&N_(o,s,a))}function Ds(o,s,a=cr){const l=s.localNames;if(null!==l){let h=s.index+1;for(let g=0;g<l.length;g+=2){const _=l[g+1],b=-1===_?a(s,o):o[_];o[h++]=b}}}function wl(o){const s=o.tView;return null===s||s.incompleteFirstPass?o.tView=sm(1,null,o.template,o.decls,o.vars,o.directiveDefs,o.pipeDefs,o.viewQuery,o.schemas,o.consts):s}function sm(o,s,a,l,h,g,_,b,I,S){const P=_n+l,F=P+h,z=function Ww(o,s){const a=[];for(let l=0;l<s;l++)a.push(l<o?null:Bt);return a}(P,F),K="function"==typeof S?S():S;return z[qe]={type:o,blueprint:z,template:a,queries:null,viewQuery:b,declTNode:s,data:z.slice().fill(null,P),bindingStartIndex:P,expandoStartIndex:F,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof _?_():_,firstChild:null,schemas:I,consts:K,incompleteFirstPass:!1}}function mc(o,s,a,l){const h=np(s);null===a?h.push(l):(h.push(a),o.firstCreatePass&&nC(o).push(l,h.length-1))}function Yw(o,s,a,l){for(let h in o)if(o.hasOwnProperty(h)){a=null===a?{}:a;const g=o[h];null===l?Xf(a,s,h,g):l.hasOwnProperty(h)&&Xf(a,s,l[h],g)}return a}function Xf(o,s,a,l){o.hasOwnProperty(a)?o[a].push(s,l):o[a]=[s,l]}function Xi(o,s,a,l,h,g,_,b){const I=cr(s,a);let P,S=s.inputs;!b&&null!=S&&(P=S[l])?(El(o,a,P,l,h),Ls(s)&&function P_(o,s){const a=Wn(s,o);16&a[Nt]||(a[Nt]|=32)}(a,s.index)):3&s.type&&(l=function M_(o){return"class"===o?"className":"for"===o?"htmlFor":"formaction"===o?"formAction":"innerHtml"===o?"innerHTML":"readonly"===o?"readOnly":"tabindex"===o?"tabIndex":o}(l),h=null!=_?_(h,s.value||"",l):h,g.setProperty(I,l,h))}function Cl(o,s,a,l){if(bu()){const h=null===l?null:{"":-1},g=function tC(o,s){const a=o.directiveRegistry;let l=null,h=null;if(a)for(let g=0;g<a.length;g++){const _=a[g];if(y_(s,_.selectors,!1))if(l||(l=[]),hi(_))if(null!==_.findHostDirectiveDefs){const b=[];h=h||new Map,_.findHostDirectiveDefs(_,b,h),l.unshift(...b,_),k_(o,s,b.length)}else l.unshift(_),k_(o,s,0);else h=h||new Map,_.findHostDirectiveDefs?.(_,l,h),l.push(_)}return null===l?null:[l,h]}(o,a);let _,b;null===g?_=b=null:[_,b]=g,null!==_&&Jw(o,s,a,_,h,b),h&&function ep(o,s,a){if(s){const l=o.localNames=[];for(let h=0;h<s.length;h+=2){const g=a[s[h+1]];if(null==g)throw new he(-301,!1);l.push(s[h],g)}}}(a,l,h)}a.mergedAttrs=as(a.mergedAttrs,a.attrs)}function Jw(o,s,a,l,h,g){for(let S=0;S<l.length;S++)pn($c(a,s),o,l[S].type);!function F_(o,s,a){o.flags|=1,o.directiveStart=s,o.directiveEnd=s+a,o.providerIndexes=s}(a,o.data.length,l.length);for(let S=0;S<l.length;S++){const P=l[S];P.providersResolver&&P.providersResolver(P)}let _=!1,b=!1,I=Yf(o,s,l.length,null);for(let S=0;S<l.length;S++){const P=l[S];a.mergedAttrs=as(a.mergedAttrs,P.hostAttrs),_D(o,a,s,I,P),am(I,P,h),null!==P.contentQueries&&(a.flags|=4),(null!==P.hostBindings||null!==P.hostAttrs||0!==P.hostVars)&&(a.flags|=64);const F=P.type.prototype;!_&&(F.ngOnChanges||F.ngOnInit||F.ngDoCheck)&&((o.preOrderHooks??(o.preOrderHooks=[])).push(a.index),_=!0),!b&&(F.ngOnChanges||F.ngDoCheck)&&((o.preOrderCheckHooks??(o.preOrderCheckHooks=[])).push(a.index),b=!0),I++}!function Qw(o,s,a){const h=s.directiveEnd,g=o.data,_=s.attrs,b=[];let I=null,S=null;for(let P=s.directiveStart;P<h;P++){const F=g[P],z=a?a.get(F):null,me=z?z.outputs:null;I=Yw(F.inputs,P,I,z?z.inputs:null),S=Yw(F.outputs,P,S,me);const Le=null===I||null===_||Gd(s)?null:eA(I,P,_);b.push(Le)}null!==I&&(I.hasOwnProperty("class")&&(s.flags|=8),I.hasOwnProperty("style")&&(s.flags|=16)),s.initialInputs=b,s.inputs=I,s.outputs=S}(o,a,g)}function N_(o,s,a){const l=a.directiveStart,h=a.directiveEnd,g=a.index,_=function wg(){return Mt.lFrame.currentDirectiveIndex}();try{ho(g);for(let b=l;b<h;b++){const I=o.data[b],S=s[b];jn(b),(null!==I.hostBindings||0!==I.hostVars||null!==I.hostAttrs)&&eC(I,S)}}finally{ho(-1),jn(_)}}function eC(o,s){null!==o.hostBindings&&o.hostBindings(1,s)}function k_(o,s,a){s.componentOffset=a,(o.components??(o.components=[])).push(s.index)}function am(o,s,a){if(a){if(s.exportAs)for(let l=0;l<s.exportAs.length;l++)a[s.exportAs[l]]=o;hi(s)&&(a[""]=o)}}function _D(o,s,a,l,h){o.data[l]=h;const g=h.factory||(h.factory=Wi(h.type)),_=new fo(g,hi(h),Kd);o.blueprint[l]=_,a[l]=_,function yD(o,s,a,l,h){const g=h.hostBindings;if(g){let _=o.hostBindingOpCodes;null===_&&(_=o.hostBindingOpCodes=[]);const b=~s.index;(function R_(o){let s=o.length;for(;s>0;){const a=o[--s];if("number"==typeof a&&a<0)return a}return 0})(_)!=b&&_.push(b),_.push(a,l,g)}}(o,s,l,Yf(o,a,h.hostVars,Bt),h)}function Ho(o,s,a,l,h,g){const _=cr(o,s);!function um(o,s,a,l,h,g,_){if(null==g)o.removeAttribute(s,h,a);else{const b=null==_?Me(g):_(g,l||"",h);o.setAttribute(s,h,b,a)}}(s[Lt],_,g,o.value,a,l,h)}function XS(o,s,a,l,h,g){const _=g[s];if(null!==_){const b=l.setInput;for(let I=0;I<_.length;){const S=_[I++],P=_[I++],F=_[I++];null!==b?l.setInput(a,F,S,P):a[P]=F}}}function eA(o,s,a){let l=null,h=0;for(;h<a.length;){const g=a[h];if(0!==g)if(5!==g){if("number"==typeof g)break;if(o.hasOwnProperty(g)){null===l&&(l=[]);const _=o[g];for(let b=0;b<_.length;b+=2)if(_[b]===s){l.push(g,_[b+1],a[h+1]);break}}h+=2}else h+=2;else h+=4}return l}function wD(o,s,a,l){return[o,!0,!1,s,null,0,l,a,null,null]}function CD(o,s){const a=Wn(s,o);if(co(a)){const l=a[qe];48&a[Nt]?om(l,a,l.template,a[Sn]):a[cn]>0&&V_(a)}}function V_(o){for(let l=ec(o);null!==l;l=tc(l))for(let h=ar;h<l.length;h++){const g=l[h];if(co(g))if(512&g[Nt]){const _=g[qe];om(_,g,_.template,g[Sn])}else g[cn]>0&&V_(g)}const a=o[qe].components;if(null!==a)for(let l=0;l<a.length;l++){const h=Wn(a[l],o);co(h)&&h[cn]>0&&V_(h)}}function bD(o,s){const a=Wn(s,o),l=a[qe];(function U_(o,s){for(let a=s.length;a<o.blueprint.length;a++)s.push(o.blueprint[a])})(l,a),S_(l,a,a[Sn])}function Fi(o,s){return o[Jo]?o[io][di]=s:o[Jo]=s,o[io]=s,s}function tp(o){for(;o;){o[Nt]|=32;const s=Es(o);if(mu(o)&&!s)return o;o=s}return null}function yc(o,s,a,l=!0){const h=s[Kr];h.begin&&h.begin();try{om(o,s,o.template,a)}catch(_){throw l&&bl(s,_),_}finally{h.end&&h.end()}}function B_(o,s,a){xu(0),s(o,a)}function np(o){return o[xo]||(o[xo]=[])}function nC(o){return o.cleanup||(o.cleanup=[])}function bl(o,s){const a=o[ma],l=a?a.get(Qg,null):null;l&&l.handleError(s)}function El(o,s,a,l,h){for(let g=0;g<a.length;){const _=a[g++],b=a[g++],I=s[_],S=o.data[_];null!==S.setInput?S.setInput(I,h,l,b):I[b]=h}}function cm(o,s,a){let l=a?o.styles:null,h=a?o.classes:null,g=0;if(null!==s)for(let _=0;_<s.length;_++){const b=s[_];"number"==typeof b?g=b:1==g?h=le(h,b):2==g&&(l=le(l,b+": "+s[++_]+";"))}a?o.styles=l:o.stylesWithoutHost=l,a?o.classes=h:o.classesWithoutHost=h}function _c(o,s,a,l,h=!1){for(;null!==a;){const g=s[a.index];if(null!==g&&l.push(ur(g)),Jr(g))for(let b=ar;b<g.length;b++){const I=g[b],S=I[qe].firstChild;null!==S&&_c(I[qe],I,S,l)}const _=a.type;if(8&_)_c(o,s,a.child,l);else if(32&_){const b=bs(a,s);let I;for(;I=b();)l.push(I)}else if(16&_){const b=n_(s,a);if(Array.isArray(b))l.push(...b);else{const I=Es(s[On]);_c(I[qe],I,b,l,!0)}}a=h?a.projectionNext:a.next}return l}class su{get rootNodes(){const s=this._lView,a=s[qe];return _c(a,s,a.firstChild,[])}constructor(s,a){this._lView=s,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Sn]}set context(s){this._lView[Sn]=s}get destroyed(){return 128==(128&this._lView[Nt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[wn];if(Jr(s)){const a=s[To],l=a?a.indexOf(this):-1;l>-1&&(na(s,l),ms(a,l))}this._attachedToViewContainer=!1}ul(this._lView[qe],this._lView)}onDestroy(s){mc(this._lView[qe],this._lView,null,s)}markForCheck(){tp(this._cdRefInjectingView||this._lView)}detach(){this._lView[Nt]&=-65}reattach(){this._lView[Nt]|=64}detectChanges(){yc(this._lView[qe],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new he(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function yw(o,s){oc(o,s,s[Lt],2,null,null)}(this._lView[qe],this._lView)}attachToAppRef(s){if(this._attachedToViewContainer)throw new he(902,!1);this._appRef=s}}class ID extends su{constructor(s){super(s),this._view=s}detectChanges(){const s=this._view;yc(s[qe],s,s[Sn],!1)}checkNoChanges(){}get context(){return null}}class iC extends fl{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const a=gt(s);return new rp(a,this.ngModule)}}function oC(o){const s=[];for(let a in o)o.hasOwnProperty(a)&&s.push({propName:o[a],templateName:a});return s}class xD{constructor(s,a){this.injector=s,this.parentInjector=a}get(s,a,l){l=Ln(l);const h=this.injector.get(s,$o,l);return h!==$o||a===$o?h:this.parentInjector.get(s,a,l)}}class rp extends nu{get inputs(){return oC(this.componentDef.inputs)}get outputs(){return oC(this.componentDef.outputs)}constructor(s,a){super(),this.componentDef=s,this.ngModule=a,this.componentType=s.type,this.selector=function nD(o){return o.map(Fw).join(",")}(s.selectors),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!a}create(s,a,l,h){let g=(h=h||this.ngModule)instanceof dr?h:h?.injector;g&&null!==this.componentDef.getStandaloneInjector&&(g=this.componentDef.getStandaloneInjector(g)||g);const _=g?new xD(s,g):s,b=_.get(Ut,null);if(null===b)throw new he(407,!1);const I=_.get(zd,null),S=b.createRenderer(null,this.componentDef),P=this.componentDef.selectors[0][0]||"div",F=l?function mD(o,s,a){return o.selectRootElement(s,a===ge.ShadowDom)}(S,l,this.componentDef.encapsulation):Tg(S,P,function DD(o){const s=o.toLowerCase();return"svg"===s?"svg":"math"===s?"math":null}(P)),z=this.componentDef.onPush?288:272,K=sm(0,null,null,1,0,null,null,null,null,null),me=Kf(null,K,null,z,null,null,b,S,I,_,null);let Le,Ze;Su(me);try{const dt=this.componentDef;let yt,Se=null;dt.findHostDirectiveDefs?(yt=[],Se=new Map,dt.findHostDirectiveDefs(dt,yt,Se),yt.push(dt)):yt=[dt];const tt=function j_(o,s){const a=o[qe],l=_n;return o[l]=s,Yd(a,l,2,"#host",null)}(me,F),kn=function lm(o,s,a,l,h,g,_,b){const I=h[qe];!function Qd(o,s,a,l){for(const h of o)s.mergedAttrs=as(s.mergedAttrs,h.hostAttrs);null!==s.mergedAttrs&&(cm(s,s.mergedAttrs,!0),null!==a&&i_(l,a,s))}(l,o,s,_);const S=g.createRenderer(s,a),P=Kf(h,wl(a),null,a.onPush?32:16,h[o.index],o,g,S,b||null,null,null);return I.firstCreatePass&&k_(I,o,l.length-1),Fi(h,P),h[o.index]=P}(tt,F,dt,yt,me,b,S);Ze=ed(K,_n),F&&function SD(o,s,a,l){if(l)zs(o,a,["ng-version",Aw.full]);else{const{attrs:h,classes:g}=function rD(o){const s=[],a=[];let l=1,h=2;for(;l<o.length;){let g=o[l];if("string"==typeof g)2===h?""!==g&&s.push(g,o[++l]):8===h&&a.push(g);else{if(!Ji(h))break;h=g}l++}return{attrs:s,classes:a}}(s.selectors[0]);h&&zs(o,a,h),g&&g.length>0&&dl(o,a,g.join(" "))}}(S,dt,F,l),void 0!==a&&function AD(o,s,a){const l=o.projection=[];for(let h=0;h<s.length;h++){const g=a[h];l.push(null!=g?Array.from(g):null)}}(Ze,this.ngContentSelectors,a),Le=function TD(o,s,a,l,h,g){const _=Kn(),b=h[qe],I=cr(_,h);Jw(b,h,_,a,null,l);for(let P=0;P<a.length;P++)ne(Rn(h,b,_.directiveStart+P,_),h);N_(b,h,_),I&&ne(I,h);const S=Rn(h,b,_.directiveStart+_.componentOffset,_);if(o[Sn]=h[Sn]=S,null!==g)for(const P of g)P(S,s);return Qf(b,_,o),S}(kn,dt,yt,Se,me,[MD]),S_(K,me,null)}finally{Au()}return new rA(this.componentType,Le,Hd(Ze,me),me,Ze)}}class rA extends tu{constructor(s,a,l,h,g){super(),this.location=l,this._rootLView=h,this._tNode=g,this.instance=a,this.hostView=this.changeDetectorRef=new ID(h),this.componentType=s}setInput(s,a){const l=this._tNode.inputs;let h;if(null!==l&&(h=l[s])){const g=this._rootLView;El(g[qe],g,h,s,a),tp(Wn(this._tNode.index,g))}}get injector(){return new go(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}function MD(){const o=Kn();Ou(ce()[qe],o)}function $_(o){let s=function sC(o){return Object.getPrototypeOf(o.prototype).constructor}(o.type),a=!0;const l=[o];for(;s;){let h;if(hi(o))h=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new he(903,!1);h=s.\u0275dir}if(h){if(a){l.push(h);const _=o;_.inputs=H_(o.inputs),_.declaredInputs=H_(o.declaredInputs),_.outputs=H_(o.outputs);const b=h.hostBindings;b&&RD(o,b);const I=h.viewQuery,S=h.contentQueries;if(I&&OD(o,I),S&&aC(o,S),pe(o.inputs,h.inputs),pe(o.declaredInputs,h.declaredInputs),pe(o.outputs,h.outputs),hi(h)&&h.data.animation){const P=o.data;P.animation=(P.animation||[]).concat(h.data.animation)}}const g=h.features;if(g)for(let _=0;_<g.length;_++){const b=g[_];b&&b.ngInherit&&b(o),b===$_&&(a=!1)}}s=Object.getPrototypeOf(s)}!function PD(o){let s=0,a=null;for(let l=o.length-1;l>=0;l--){const h=o[l];h.hostVars=s+=h.hostVars,h.hostAttrs=as(h.hostAttrs,a=as(a,h.hostAttrs))}}(l)}function H_(o){return o===J?{}:o===Ne?[]:o}function OD(o,s){const a=o.viewQuery;o.viewQuery=a?(l,h)=>{s(l,h),a(l,h)}:s}function aC(o,s){const a=o.contentQueries;o.contentQueries=a?(l,h,g)=>{s(l,h,g),a(l,h,g)}:s}function RD(o,s){const a=o.hostBindings;o.hostBindings=a?(l,h)=>{s(l,h),a(l,h)}:s}function op(o){return!!pm(o)&&(Array.isArray(o)||!(o instanceof Map)&&Symbol.iterator in o)}function pm(o){return null!==o&&("function"==typeof o||"object"==typeof o)}function Ci(o,s,a){return!Object.is(o[s],a)&&(o[s]=a,!0)}function mm(o,s,a,l){const h=ce();return Ci(h,ns(),s)&&(kt(),Ho(In(),h,o,s,a,l)),mm}function Xd(o,s,a,l){return Ci(o,ns(),a)?s+Me(a)+l:Bt}function Y_(o,s,a,l,h,g,_,b){const I=ce(),S=kt(),P=o+_n,F=S.firstCreatePass?function VD(o,s,a,l,h,g,_,b,I){const S=s.consts,P=Yd(s,o,4,_||null,Po(S,b));Cl(s,a,P,Po(S,I)),Ou(s,P);const F=P.tView=sm(2,P,l,h,g,s.directiveRegistry,s.pipeRegistry,null,s.schemas,S);return null!==s.queries&&(s.queries.template(s,P),F.queries=s.queries.embeddedTView(P)),P}(P,S,I,s,a,l,h,g,_):S.data[P];jr(F,!1);const z=I[Lt].createComment("");ia(S,I,z,F),ne(z,I),Fi(I,I[P]=wD(z,I,z,F)),Pc(F)&&Jf(S,I,F),null!=_&&Ds(I,F,b)}function J_(o){return Sr(function vg(){return Mt.lFrame.contextLView}(),_n+o)}function vc(o,s,a){const l=ce();return Ci(l,ns(),s)&&Xi(kt(),In(),l,o,s,l[Lt],a,!1),vc}function up(o,s,a,l,h){const _=h?"class":"style";El(o,a,s.inputs[_],_,l)}function cp(o,s,a,l){const h=ce(),g=kt(),_=_n+o,b=h[Lt],I=g.firstCreatePass?function UD(o,s,a,l,h,g){const _=s.consts,I=Yd(s,o,2,l,Po(_,h));return Cl(s,a,I,Po(_,g)),null!==I.attrs&&cm(I,I.attrs,!1),null!==I.mergedAttrs&&cm(I,I.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,I),I}(_,g,h,s,a,l):g.data[_],S=h[_]=Tg(b,s,function cd(){return Mt.lFrame.currentNamespace}()),P=Pc(I);return jr(I,!0),i_(b,S,I),32!=(32&I.flags)&&ia(g,h,S,I),0===function nd(){return Mt.lFrame.elementDepthCount}()&&ne(S,h),function Cu(){Mt.lFrame.elementDepthCount++}(),P&&(Jf(g,h,I),Qf(g,I,h)),null!==l&&Ds(h,I),cp}function xl(){let o=Kn();od()?function Iu(){Mt.lFrame.isParent=!1}():(o=o.parent,jr(o,!1));const s=o;!function rd(){Mt.lFrame.elementDepthCount--}();const a=kt();return a.firstCreatePass&&(Ou(a,o),va(o)&&a.queries.elementEnd(o)),null!=s.classesWithoutHost&&function Pa(o){return 0!=(8&o.flags)}(s)&&up(a,s,ce(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function is(o){return 0!=(16&o.flags)}(s)&&up(a,s,ce(),s.stylesWithoutHost,!1),xl}function sh(o,s,a,l){return cp(o,s,a,l),xl(),sh}function yC(){return ce()}function ev(o){return!!o&&"function"==typeof o.then}function _C(o){return!!o&&"function"==typeof o.subscribe}const lp=_C;function tv(o,s,a,l){const h=ce(),g=kt(),_=Kn();return function wC(o,s,a,l,h,g,_){const b=Pc(l),S=o.firstCreatePass&&nC(o),P=s[Sn],F=np(s);let z=!0;if(3&l.type||_){const Le=cr(l,s),Ze=_?_(Le):Le,dt=F.length,yt=_?tt=>_(ur(tt[l.index])):l.index;let Se=null;if(!_&&b&&(Se=function nv(o,s,a,l){const h=o.cleanup;if(null!=h)for(let g=0;g<h.length-1;g+=2){const _=h[g];if(_===a&&h[g+1]===l){const b=s[xo],I=h[g+2];return b.length>I?b[I]:null}"string"==typeof _&&(g+=2)}return null}(o,s,h,l.index)),null!==Se)(Se.__ngLastListenerFn__||Se).__ngNextListenerFn__=g,Se.__ngLastListenerFn__=g,z=!1;else{g=bC(l,s,P,g,!1);const tt=a.listen(Ze,h,g);F.push(g,tt),S&&S.push(h,yt,dt,dt+1)}}else g=bC(l,s,P,g,!1);const K=l.outputs;let me;if(z&&null!==K&&(me=K[h])){const Le=me.length;if(Le)for(let Ze=0;Ze<Le;Ze+=2){const kn=s[me[Ze]][me[Ze+1]].subscribe(g),Hn=F.length;F.push(g,kn),S&&S.push(h,l.index,Hn,-(Hn+1))}}}(g,h,h[Lt],_,o,s,l),tv}function CC(o,s,a,l){try{return Br(6,s,a),!1!==a(l)}catch(h){return bl(o,h),!1}finally{Br(7,s,a)}}function bC(o,s,a,l,h){return function g(_){if(_===Function)return l;tp(o.componentOffset>-1?Wn(o.index,s):s);let I=CC(s,a,l,_),S=g.__ngNextListenerFn__;for(;S;)I=CC(s,a,S,_)&&I,S=S.__ngNextListenerFn__;return h&&!1===I&&(_.preventDefault(),_.returnValue=!1),I}}function EC(o=1){return function tf(o){return(Mt.lFrame.contextLView=function Mu(o,s){for(;o>0;)s=s[Xo],o--;return s}(o,Mt.lFrame.contextLView))[Sn]}(o)}function rv(o,s,a){return _m(o,"",s,"",a),rv}function _m(o,s,a,l,h){const g=ce(),_=Xd(g,s,a,l);return _!==Bt&&Xi(kt(),In(),g,o,_,g[Lt],h,!1),_m}function au(o,s){return o<<17|s<<2}function Tl(o){return o>>17&32767}function dp(o){return 2|o}function Sl(o){return(131068&o)>>2}function TC(o,s){return-131069&o|s<<2}function wm(o){return 1|o}function AC(o,s,a,l,h){const g=o[a+1],_=null===s;let b=l?Tl(g):Sl(g),I=!1;for(;0!==b&&(!1===I||_);){const P=o[b+1];MC(o[b],s)&&(I=!0,o[b+1]=l?wm(P):dp(P)),b=l?Tl(P):Sl(P)}I&&(o[a+1]=l?dp(g):wm(g))}function MC(o,s){return null===o||null==s||(Array.isArray(o)?o[1]:o)===s||!(!Array.isArray(o)||"string"!=typeof s)&&lr(o,s)>=0}function cv(o,s){return function _o(o,s,a,l){const h=ce(),g=kt(),_=function gi(o){const s=Mt.lFrame,a=s.bindingIndex;return s.bindingIndex=s.bindingIndex+o,a}(2);g.firstUpdatePass&&function NC(o,s,a,l){const h=o.data;if(null===h[a+1]){const g=h[_r()],_=function YD(o,s){return s>=o.expandoStartIndex}(o,a);(function hr(o,s){return 0!=(o.flags&(s?8:16))})(g,l)&&null===s&&!_&&(s=!1),s=function QD(o,s,a,l){const h=function js(o){const s=Mt.lFrame.currentDirectiveIndex;return-1===s?null:o[s]}(o);let g=l?s.residualClasses:s.residualStyles;if(null===h)0===(l?s.classBindings:s.styleBindings)&&(a=Go(a=ch(null,o,s,a,l),s.attrs,l),g=null);else{const _=s.directiveStylingLast;if(-1===_||o[_]!==h)if(a=ch(h,o,s,a,l),null===g){let I=function JD(o,s,a){const l=a?s.classBindings:s.styleBindings;if(0!==Sl(l))return o[Tl(l)]}(o,s,l);void 0!==I&&Array.isArray(I)&&(I=ch(null,o,s,I[1],l),I=Go(I,s.attrs,l),function XD(o,s,a,l){o[Tl(a?s.classBindings:s.styleBindings)]=l}(o,s,l,I))}else g=function kC(o,s,a){let l;const h=s.directiveEnd;for(let g=1+s.directiveStylingLast;g<h;g++)l=Go(l,o[g].hostAttrs,a);return Go(l,s.attrs,a)}(o,s,l)}return void 0!==g&&(l?s.residualClasses=g:s.residualStyles=g),a}(h,g,s,l),function zD(o,s,a,l,h,g){let _=g?s.classBindings:s.styleBindings,b=Tl(_),I=Sl(_);o[l]=a;let P,S=!1;if(Array.isArray(a)?(P=a[1],(null===P||lr(a,P)>0)&&(S=!0)):P=a,h)if(0!==I){const z=Tl(o[b+1]);o[l+1]=au(z,b),0!==z&&(o[z+1]=TC(o[z+1],l)),o[b+1]=function wc(o,s){return 131071&o|s<<17}(o[b+1],l)}else o[l+1]=au(b,0),0!==b&&(o[b+1]=TC(o[b+1],l)),b=l;else o[l+1]=au(I,0),0===b?b=l:o[I+1]=TC(o[I+1],l),I=l;S&&(o[l+1]=dp(o[l+1])),AC(o,P,l,!0),AC(o,P,l,!1),function GD(o,s,a,l,h){const g=h?o.residualClasses:o.residualStyles;null!=g&&"string"==typeof s&&lr(g,s)>=0&&(a[l+1]=wm(a[l+1]))}(s,P,o,l,g),_=au(b,I),g?s.classBindings=_:s.styleBindings=_}(h,g,s,a,_,l)}}(g,o,_,l),s!==Bt&&Ci(h,_,s)&&function lv(o,s,a,l,h,g,_,b){if(!(3&s.type))return;const I=o.data,S=I[b+1],P=function sA(o){return 1==(1&o)}(S)?dv(I,s,a,h,Sl(S),_):void 0;Cm(P)||(Cm(g)||function xC(o){return 2==(2&o)}(S)&&(g=dv(I,null,a,h,b,_)),function r_(o,s,a,l,h){if(s)h?o.addClass(a,l):o.removeClass(a,l);else{let g=-1===l.indexOf("-")?void 0:yi.DashCase;null==h?o.removeStyle(a,l,g):("string"==typeof h&&h.endsWith("!important")&&(h=h.slice(0,-10),g|=yi.Important),o.setStyle(a,l,h,g))}}(l,_,uo(_r(),a),h,g))}(g,g.data[_r()],h,h[Lt],o,h[_+1]=function fp(o,s){return null==o||""===o||("string"==typeof s?o+=s:"object"==typeof o&&(o=_e(Mr(o)))),o}(s,a),l,_)}(o,s,null,!0),cv}function ch(o,s,a,l,h){let g=null;const _=a.directiveEnd;let b=a.directiveStylingLast;for(-1===b?b=a.directiveStart:b++;b<_&&(g=s[b],l=Go(l,g.hostAttrs,h),g!==o);)b++;return null!==o&&(a.directiveStylingLast=b),l}function Go(o,s,a){const l=a?1:2;let h=-1;if(null!==s)for(let g=0;g<s.length;g++){const _=s[g];"number"==typeof _?h=_:h===l&&(Array.isArray(o)||(o=void 0===o?[]:["",o]),$r(o,_,!!a||s[++g]))}return void 0===o?null:o}function dv(o,s,a,l,h,g){const _=null===s;let b;for(;h>0;){const I=o[h],S=Array.isArray(I),P=S?I[1]:I,F=null===P;let z=a[h+1];z===Bt&&(z=F?Ne:void 0);let K=F?un(z,l):P===l?z:void 0;if(S&&!Cm(K)&&(K=un(I,l)),Cm(K)&&(b=K,_))return b;const me=o[h+1];h=_?Tl(me):Sl(me)}if(null!==s){let I=g?s.residualClasses:s.residualStyles;null!=I&&(b=un(I,l))}return b}function Cm(o){return void 0!==o}function bm(o,s=""){const a=ce(),l=kt(),h=o+_n,g=l.firstCreatePass?Yd(l,h,1,s,null):l.data[h],_=a[h]=function Id(o,s){return o.createText(s)}(a[Lt],s);ia(l,a,_,g),jr(g,!1)}function pp(o){return Al("",o,""),pp}function Al(o,s,a){const l=ce(),h=Xd(l,o,s,a);return h!==Bt&&function ou(o,s,a){const l=uo(s,o);!function _f(o,s,a){o.setValue(s,a)}(o[Lt],l,a)}(l,_r(),h),Al}const Cc=void 0;var vA=["en",[["a","p"],["AM","PM"],Cc],[["AM","PM"],Cc,Cc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Cc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Cc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Cc,"{1} 'at' {0}",Cc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function lx(o){const a=Math.floor(Math.abs(o)),l=o.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===l?1:5}];let gp={};function WC(o){const s=function YC(o){return o.toLowerCase().replace(/_/g,"-")}(o);let a=dx(s);if(a)return a;const l=s.split("-")[0];if(a=dx(l),a)return a;if("en"===l)return vA;throw new he(701,!1)}function KC(o){return WC(o)[It.PluralCase]}function dx(o){return o in gp||(gp[o]=Xt.ng&&Xt.ng.common&&Xt.ng.common.locales&&Xt.ng.common.locales[o]),gp[o]}var It=(()=>((It=It||{})[It.LocaleId=0]="LocaleId",It[It.DayPeriodsFormat=1]="DayPeriodsFormat",It[It.DayPeriodsStandalone=2]="DayPeriodsStandalone",It[It.DaysFormat=3]="DaysFormat",It[It.DaysStandalone=4]="DaysStandalone",It[It.MonthsFormat=5]="MonthsFormat",It[It.MonthsStandalone=6]="MonthsStandalone",It[It.Eras=7]="Eras",It[It.FirstDayOfWeek=8]="FirstDayOfWeek",It[It.WeekendRange=9]="WeekendRange",It[It.DateFormat=10]="DateFormat",It[It.TimeFormat=11]="TimeFormat",It[It.DateTimeFormat=12]="DateTimeFormat",It[It.NumberSymbols=13]="NumberSymbols",It[It.NumberFormats=14]="NumberFormats",It[It.CurrencyCode=15]="CurrencyCode",It[It.CurrencySymbol=16]="CurrencySymbol",It[It.CurrencyName=17]="CurrencyName",It[It.Currencies=18]="Currencies",It[It.Directionality=19]="Directionality",It[It.PluralCase=20]="PluralCase",It[It.ExtraData=21]="ExtraData",It))();const dh="en-US";let QC=dh;function Av(o,s,a,l,h){if(o=q(o),Array.isArray(o))for(let g=0;g<o.length;g++)Av(o[g],s,a,l,h);else{const g=kt(),_=ce();let b=eu(o)?o:q(o.provide),I=Bf(o);const S=Kn(),P=1048575&S.providerIndexes,F=S.directiveStart,z=S.providerIndexes>>20;if(eu(o)||!o.multi){const K=new fo(I,h,Kd),me=fh(b,s,h?P:P+z,F);-1===me?(pn($c(S,_),g,b),Mv(g,o,s.length),s.push(b),S.directiveStart++,S.directiveEnd++,h&&(S.providerIndexes+=1048576),a.push(K),_.push(K)):(a[me]=K,_[me]=K)}else{const K=fh(b,s,P+z,F),me=fh(b,s,P,P+z),Ze=me>=0&&a[me];if(h&&!Ze||!h&&!(K>=0&&a[K])){pn($c(S,_),g,b);const dt=function Ov(o,s,a,l,h){const g=new fo(o,a,Kd);return g.multi=[],g.index=s,g.componentProviders=0,yb(g,h,l&&!a),g}(h?kx:Pv,a.length,h,l,I);!h&&Ze&&(a[me].providerFactory=dt),Mv(g,o,s.length,0),s.push(b),S.directiveStart++,S.directiveEnd++,h&&(S.providerIndexes+=1048576),a.push(dt),_.push(dt)}else Mv(g,o,K>-1?K:me,yb(a[h?me:K],I,!h&&l));!h&&l&&Ze&&a[me].componentProviders++}}}function Mv(o,s,a,l){const h=eu(s),g=function Dw(o){return!!o.useClass}(s);if(h||g){const I=(g?q(s.useClass):s).prototype.ngOnDestroy;if(I){const S=o.destroyHooks||(o.destroyHooks=[]);if(!h&&s.multi){const P=S.indexOf(a);-1===P?S.push(a,[l,I]):S[P+1].push(l,I)}else S.push(a,I)}}}function yb(o,s,a){return a&&o.componentProviders++,o.multi.push(s)-1}function fh(o,s,a,l){for(let h=a;h<l;h++)if(s[h]===o)return h;return-1}function Pv(o,s,a,l){return bp(this.multi,[])}function kx(o,s,a,l){const h=this.multi;let g;if(this.providerFactory){const _=this.providerFactory.componentProviders,b=Rn(a,a[qe],this.providerFactory.index,l);g=b.slice(0,_),bp(h,g);for(let I=_;I<b.length;I++)g.push(b[I])}else g=[],bp(h,g);return g}function bp(o,s){for(let a=0;a<o.length;a++)s.push((0,o[a])());return s}function Bm(o,s=[]){return a=>{a.providersResolver=(l,h)=>function Sv(o,s,a){const l=kt();if(l.firstCreatePass){const h=hi(o);Av(a,l.data,l.blueprint,h,!0),Av(s,l.data,l.blueprint,h,!1)}}(l,h?h(o):o,s)}}class Ol{}class _b{}function vb(o,s){return new Rv(o,s??null)}class Rv extends Ol{constructor(s,a){super(),this._parent=a,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new iC(this);const l=Vn(s);this._bootstrapComponents=iu(l.bootstrap),this._r3Injector=C_(s,a,[{provide:Ol,useValue:this},{provide:fl,useValue:this.componentFactoryResolver}],_e(s),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(s)}get injector(){return this._r3Injector}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class Nv extends _b{constructor(s){super(),this.moduleType=s}create(s){return new Rv(this.moduleType,s)}}class Fx extends Ol{constructor(s,a,l){super(),this.componentFactoryResolver=new iC(this),this.instance=null;const h=new qg([...s,{provide:Ol,useValue:this},{provide:fl,useValue:this.componentFactoryResolver}],a||Uf(),l,new Set(["environment"]));this.injector=h,h.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(s){this.injector.onDestroy(s)}}function kv(o,s,a=null){return new Fx(o,s,a).injector}let Lx=(()=>{class o{constructor(a){this._injector=a,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(a){if(!a.standalone)return null;if(!this.cachedInjectors.has(a.id)){const l=Ew(0,a.type),h=l.length>0?kv([l],this._injector,`Standalone[${a.type.name}]`):null;this.cachedInjectors.set(a.id,h)}return this.cachedInjectors.get(a.id)}ngOnDestroy(){try{for(const a of this.cachedInjectors.values())null!==a&&a.destroy()}finally{this.cachedInjectors.clear()}}}return o.\u0275prov=Dt({token:o,providedIn:"environment",factory:()=>new o(rn(dr))}),o})();function wb(o){o.getStandaloneInjector=s=>s.get(Lx).getOrCreateStandaloneInjector(o)}function jm(o,s,a,l,h,g){const _=s+a;return Ci(o,_,h)?function xs(o,s,a){return o[s]=a}(o,_+1,g?l.call(g,h):l(h)):function Rl(o,s){const a=o[s];return a===Bt?void 0:a}(o,_+1)}function Gx(o,s){const a=kt();let l;const h=o+_n;a.firstCreatePass?(l=function qx(o,s){if(s)for(let a=s.length-1;a>=0;a--){const l=s[a];if(o===l.name)return l}}(s,a.pipeRegistry),a.data[h]=l,l.onDestroy&&(a.destroyHooks??(a.destroyHooks=[])).push(h,l.onDestroy)):l=a.data[h];const g=l.factory||(l.factory=Wi(l.type)),_=mr(Kd);try{const b=Oa(!1),I=g();return Oa(b),function Q_(o,s,a,l){a>=o.data.length&&(o.data[a]=null,o.blueprint[a]=null),s[a]=l}(a,ce(),h,I),I}finally{mr(_)}}function Zx(o,s,a){const l=o+_n,h=ce(),g=Sr(h,l);return function Hm(o,s){return o[qe].data[s].pure}(h,l)?jm(h,function Bn(){const o=Mt.lFrame;let s=o.bindingRootIndex;return-1===s&&(s=o.bindingRootIndex=o.tView.bindingStartIndex),s}(),s,g.transform,a,g):g.transform(a)}function Rb(o){return s=>{setTimeout(o,void 0,s)}}const Ss=class FA extends c.x{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,a,l){let h=s,g=a||(()=>null),_=l;if(s&&"object"==typeof s){const I=s;h=I.next?.bind(I),g=I.error?.bind(I),_=I.complete?.bind(I)}this.__isAsync&&(g=Rb(g),h&&(h=Rb(h)),_&&(_=Rb(_)));const b=super.subscribe({next:h,error:g,complete:_});return s instanceof Q.w0&&s.add(b),b}};function Kx(){return this._results[Symbol.iterator]()}class zm{get changes(){return this._changes||(this._changes=new Ss)}constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=zm.prototype;a[Symbol.iterator]||(a[Symbol.iterator]=Kx)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,a){return this._results.reduce(s,a)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,a){const l=this;l.dirty=!1;const h=function Ri(o){return o.flat(Number.POSITIVE_INFINITY)}(s);(this._changesDetected=!function Wc(o,s,a){if(o.length!==s.length)return!1;for(let l=0;l<o.length;l++){let h=o[l],g=s[l];if(a&&(h=a(h),g=a(g)),g!==h)return!1}return!0}(l._results,h,a))&&(l._results=h,l.length=h.length,l.last=h[this.length-1],l.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let ph=(()=>{class o{}return o.__NG_ELEMENT_ID__=Fb,o})();const Nb=ph,kb=class extends Nb{constructor(s,a,l){super(),this._declarationLView=s,this._declarationTContainer=a,this.elementRef=l}createEmbeddedView(s,a){const l=this._declarationTContainer.tView,h=Kf(this._declarationLView,l,s,16,null,l.declTNode,null,null,null,null,a||null);h[Ns]=this._declarationLView[this._declarationTContainer.index];const _=this._declarationLView[Zi];return null!==_&&(h[Zi]=_.createEmbeddedView(l)),S_(l,h,s),new su(h)}};function Fb(){return Dp(Kn(),ce())}function Dp(o,s){return 4&o.type?new kb(s,o,Hd(o,s)):null}let xp=(()=>{class o{}return o.__NG_ELEMENT_ID__=Tp,o})();function Tp(){return Vb(Kn(),ce())}const Yx=xp,Sp=class extends Yx{constructor(s,a,l){super(),this._lContainer=s,this._hostTNode=a,this._hostLView=l}get element(){return Hd(this._hostTNode,this._hostLView)}get injector(){return new go(this._hostTNode,this._hostLView)}get parentInjector(){const s=fd(this._hostTNode,this._hostLView);if(us(s)){const a=cs(s,this._hostLView),l=Oo(s);return new go(a[qe].data[l+8],a)}return new go(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const a=Lb(this._lContainer);return null!==a&&a[s]||null}get length(){return this._lContainer.length-ar}createEmbeddedView(s,a,l){let h,g;"number"==typeof l?h=l:null!=l&&(h=l.index,g=l.injector);const _=s.createEmbeddedView(a||{},g);return this.insert(_,h),_}createComponent(s,a,l,h,g){const _=s&&!function $u(o){return"function"==typeof o}(s);let b;if(_)b=a;else{const F=a||{};b=F.index,l=F.injector,h=F.projectableNodes,g=F.environmentInjector||F.ngModuleRef}const I=_?s:new rp(gt(s)),S=l||this.parentInjector;if(!g&&null==I.ngModule){const z=(_?S:this.parentInjector).get(dr,null);z&&(g=z)}const P=I.create(S,h,void 0,g);return this.insert(P.hostView,b),P}insert(s,a){const l=s._lView,h=l[qe];if(function kc(o){return Jr(o[wn])}(l)){const P=this.indexOf(s);if(-1!==P)this.detach(P);else{const F=l[wn],z=new Sp(F,F[Un],F[wn]);z.detach(z.indexOf(s))}}const g=this._adjustIndex(a),_=this._lContainer;!function Uo(o,s,a,l){const h=ar+l,g=a.length;l>0&&(a[h-1][di]=s),l<g-ar?(s[di]=a[h],ff(a,ar+l,s)):(a.push(s),s[di]=null),s[wn]=a;const _=s[Ns];null!==_&&a!==_&&function Dd(o,s){const a=o[So];s[On]!==s[wn][wn][On]&&(o[Mc]=!0),null===a?o[So]=[s]:a.push(s)}(_,s);const b=s[Zi];null!==b&&b.insertView(o),s[Nt]|=64}(h,l,_,g);const b=ic(g,_),I=l[Lt],S=Ad(I,_[Fs]);return null!==S&&function Sg(o,s,a,l,h,g){l[li]=h,l[Un]=s,oc(o,l,a,1,h,g)}(h,_[Un],I,l,S,b),s.attachToViewContainerRef(),ff(Bv(_),g,s),s}move(s,a){return this.insert(s,a)}indexOf(s){const a=Lb(this._lContainer);return null!==a?a.indexOf(s):-1}remove(s){const a=this._adjustIndex(s,-1),l=na(this._lContainer,a);l&&(ms(Bv(this._lContainer),a),ul(l[qe],l))}detach(s){const a=this._adjustIndex(s,-1),l=na(this._lContainer,a);return l&&null!=ms(Bv(this._lContainer),a)?new su(l):null}_adjustIndex(s,a=0){return s??this.length+a}};function Lb(o){return o[To]}function Bv(o){return o[To]||(o[To]=[])}function Vb(o,s){let a;const l=s[o.index];if(Jr(l))a=l;else{let h;if(8&o.type)h=ur(l);else{const g=s[Lt];h=g.createComment("");const _=cr(o,s);ra(g,Ad(g,_),h,function bf(o,s){return o.nextSibling(s)}(g,_),!1)}s[o.index]=a=wD(l,s,h,o),Fi(s,a)}return new Sp(a,o,s)}class jv{constructor(s){this.queryList=s,this.matches=null}clone(){return new jv(this.queryList)}setDirty(){this.queryList.setDirty()}}class $v{constructor(s=[]){this.queries=s}createEmbeddedView(s){const a=s.queries;if(null!==a){const l=null!==s.contentQueries?s.contentQueries[0]:a.length,h=[];for(let g=0;g<l;g++){const _=a.getByIndex(g);h.push(this.queries[_.indexInDeclarationView].clone())}return new $v(h)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let a=0;a<this.queries.length;a++)null!==$b(s,a).matches&&this.queries[a].setDirty()}}class Ub{constructor(s,a,l=null){this.predicate=s,this.flags=a,this.read=l}}class Hv{constructor(s=[]){this.queries=s}elementStart(s,a){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(s,a)}elementEnd(s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(s)}embeddedTView(s){let a=null;for(let l=0;l<this.length;l++){const h=null!==a?a.length:0,g=this.getByIndex(l).embeddedTView(s,h);g&&(g.indexInDeclarationView=l,null!==a?a.push(g):a=[g])}return null!==a?new Hv(a):null}template(s,a){for(let l=0;l<this.queries.length;l++)this.queries[l].template(s,a)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class Ap{constructor(s,a=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(s,a){this.isApplyingToNode(a)&&this.matchTNode(s,a)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,a){this.elementStart(s,a)}embeddedTView(s,a){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,a),new Ap(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let l=s.parent;for(;null!==l&&8&l.type&&l.index!==a;)l=l.parent;return a===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(s,a){const l=this.metadata.predicate;if(Array.isArray(l))for(let h=0;h<l.length;h++){const g=l[h];this.matchTNodeWithReadOption(s,a,Qx(a,g)),this.matchTNodeWithReadOption(s,a,ds(a,s,g,!1,!1))}else l===ph?4&a.type&&this.matchTNodeWithReadOption(s,a,-1):this.matchTNodeWithReadOption(s,a,ds(a,s,l,!1,!1))}matchTNodeWithReadOption(s,a,l){if(null!==l){const h=this.metadata.read;if(null!==h)if(h===$f||h===xp||h===ph&&4&a.type)this.addMatch(a.index,-2);else{const g=ds(a,s,h,!1,!1);null!==g&&this.addMatch(a.index,g)}else this.addMatch(a.index,l)}}addMatch(s,a){null===this.matches?this.matches=[s,a]:this.matches.push(s,a)}}function Qx(o,s){const a=o.localNames;if(null!==a)for(let l=0;l<a.length;l+=2)if(a[l]===s)return a[l+1];return null}function LA(o,s,a,l){return-1===a?function Jx(o,s){return 11&o.type?Hd(o,s):4&o.type?Dp(o,s):null}(s,o):-2===a?function Xx(o,s,a){return a===$f?Hd(s,o):a===ph?Dp(s,o):a===xp?Vb(s,o):void 0}(o,s,l):Rn(o,o[qe],a,s)}function Bb(o,s,a,l){const h=s[Zi].queries[l];if(null===h.matches){const g=o.data,_=a.matches,b=[];for(let I=0;I<_.length;I+=2){const S=_[I];b.push(S<0?null:LA(s,g[S],_[I+1],a.metadata.read))}h.matches=b}return h.matches}function vo(o,s,a,l){const h=o.queries.getByIndex(a),g=h.matches;if(null!==g){const _=Bb(o,s,h,a);for(let b=0;b<g.length;b+=2){const I=g[b];if(I>0)l.push(_[b/2]);else{const S=g[b+1],P=s[-I];for(let F=ar;F<P.length;F++){const z=P[F];z[Ns]===z[wn]&&vo(z[qe],z,S,l)}if(null!==P[So]){const F=P[So];for(let z=0;z<F.length;z++){const K=F[z];vo(K[qe],K,S,l)}}}}}return l}function et(o){const s=ce(),a=kt(),l=Fc();xu(l+1);const h=$b(a,l);if(o.dirty&&function wu(o){return 4==(4&o[Nt])}(s)===(2==(2&h.metadata.flags))){if(null===h.matches)o.reset([]);else{const g=h.crossesNgTemplate?vo(a,s,l,[]):Bb(a,s,h,l);o.reset(g,p_),o.notifyOnChanges()}return!0}return!1}function Ft(o,s,a,l){const h=kt();if(h.firstCreatePass){const g=Kn();(function jb(o,s,a){null===o.queries&&(o.queries=new Hv),o.queries.track(new Ap(s,a))})(h,new Ub(s,a,l),g.index),function Gv(o,s){const a=o.contentQueries||(o.contentQueries=[]);s!==(a.length?a[a.length-1]:-1)&&a.push(o.queries.length-1,s)}(h,o),2==(2&a)&&(h.staticContentQueries=!0)}!function gh(o,s,a){const l=new zm(4==(4&a));mc(o,s,l,l.destroy),null===s[Zi]&&(s[Zi]=new $v),s[Zi].queries.push(new jv(l))}(h,ce(),a)}function Mp(){return function Gm(o,s){return o[Zi].queries[s].queryList}(ce(),Fc())}function $b(o,s){return o.queries.getByIndex(s)}function Pp(o){return!!Vn(o)}function gr(...o){}const Lp=new Kt("Application Initializer");let _h=(()=>{class o{constructor(a){this.appInits=a,this.resolve=gr,this.reject=gr,this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,h)=>{this.resolve=l,this.reject=h})}runInitializers(){if(this.initialized)return;const a=[],l=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const g=this.appInits[h]();if(ev(g))a.push(g);else if(lp(g)){const _=new Promise((b,I)=>{g.subscribe({complete:b,error:I})});a.push(_)}}Promise.all(a).then(()=>{l()}).catch(h=>{this.reject(h)}),0===a.length&&l(),this.initialized=!0}}return o.\u0275fac=function(a){return new(a||o)(rn(Lp,8))},o.\u0275prov=Dt({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const rE=new Kt("AppId",{providedIn:"root",factory:function iE(){return`${r0()}${r0()}${r0()}`}});function r0(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const oE=new Kt("Platform Initializer"),sE=new Kt("Platform ID",{providedIn:"platform",factory:()=>"unknown"});let o0=(()=>{class o{log(a){console.log(a)}warn(a){console.warn(a)}}return o.\u0275fac=function(a){return new(a||o)},o.\u0275prov=Dt({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();const ey=new Kt("LocaleId",{providedIn:"root",factory:()=>Tn(ey,pt.Optional|pt.SkipSelf)||function uE(){return typeof $localize<"u"&&$localize.locale||dh}()}),ty=new Kt("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class dT{constructor(s,a){this.ngModuleFactory=s,this.componentFactories=a}}let Vp=(()=>{class o{compileModuleSync(a){return new Nv(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const l=this.compileModuleSync(a),g=iu(Vn(a).declarations).reduce((_,b)=>{const I=gt(b);return I&&_.push(new rp(I)),_},[]);return new dT(l,g)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return o.\u0275fac=function(a){return new(a||o)},o.\u0275prov=Dt({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const fT=(()=>Promise.resolve(0))();function s0(o){typeof Zone>"u"?fT.then(()=>{o&&o.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",o)}class Vi{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ss(!1),this.onMicrotaskEmpty=new Ss(!1),this.onStable=new Ss(!1),this.onError=new Ss(!1),typeof Zone>"u")throw new he(908,!1);Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!l&&a,h.shouldCoalesceRunChangeDetection=l,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function kl(){let o=Xt.requestAnimationFrame,s=Xt.cancelAnimationFrame;if(typeof Zone<"u"&&o&&s){const a=o[Zone.__symbol__("OriginalDelegate")];a&&(o=a);const l=s[Zone.__symbol__("OriginalDelegate")];l&&(s=l)}return{nativeRequestAnimationFrame:o,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function Ui(o){const s=()=>{!function gE(o){o.isCheckStableRunning||-1!==o.lastRequestAnimationFrameId||(o.lastRequestAnimationFrameId=o.nativeRequestAnimationFrame.call(Xt,()=>{o.fakeTopEventTask||(o.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{o.lastRequestAnimationFrameId=-1,ny(o),o.isCheckStableRunning=!0,Fl(o),o.isCheckStableRunning=!1},void 0,()=>{},()=>{})),o.fakeTopEventTask.invoke()}),ny(o))}(o)};o._inner=o._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,l,h,g,_,b)=>{try{return vh(o),a.invokeTask(h,g,_,b)}finally{(o.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||o.shouldCoalesceRunChangeDetection)&&s(),Bp(o)}},onInvoke:(a,l,h,g,_,b,I)=>{try{return vh(o),a.invoke(h,g,_,b,I)}finally{o.shouldCoalesceRunChangeDetection&&s(),Bp(o)}},onHasTask:(a,l,h,g)=>{a.hasTask(h,g),l===h&&("microTask"==g.change?(o._hasPendingMicrotasks=g.microTask,ny(o),Fl(o)):"macroTask"==g.change&&(o.hasPendingMacrotasks=g.macroTask))},onHandleError:(a,l,h,g)=>(a.handleError(h,g),o.runOutsideAngular(()=>o.onError.emit(g)),!1)})}(h)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Vi.isInAngularZone())throw new he(909,!1)}static assertNotInAngularZone(){if(Vi.isInAngularZone())throw new he(909,!1)}run(s,a,l){return this._inner.run(s,a,l)}runTask(s,a,l,h){const g=this._inner,_=g.scheduleEventTask("NgZoneEvent: "+h,s,pE,gr,gr);try{return g.runTask(_,a,l)}finally{g.cancelTask(_)}}runGuarded(s,a,l){return this._inner.runGuarded(s,a,l)}runOutsideAngular(s){return this._outer.run(s)}}const pE={};function Fl(o){if(0==o._nesting&&!o.hasPendingMicrotasks&&!o.isStable)try{o._nesting++,o.onMicrotaskEmpty.emit(null)}finally{if(o._nesting--,!o.hasPendingMicrotasks)try{o.runOutsideAngular(()=>o.onStable.emit(null))}finally{o.isStable=!0}}}function ny(o){o.hasPendingMicrotasks=!!(o._hasPendingMicrotasks||(o.shouldCoalesceEventChangeDetection||o.shouldCoalesceRunChangeDetection)&&-1!==o.lastRequestAnimationFrameId)}function vh(o){o._nesting++,o.isStable&&(o.isStable=!1,o.onUnstable.emit(null))}function Bp(o){o._nesting--,Fl(o)}class mE{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ss,this.onMicrotaskEmpty=new Ss,this.onStable=new Ss,this.onError=new Ss}run(s,a,l){return s.apply(a,l)}runGuarded(s,a,l){return s.apply(a,l)}runOutsideAngular(s){return s()}runTask(s,a,l,h){return s.apply(a,l)}}const ry=new Kt(""),a0=new Kt("");let jp,yE=(()=>{class o{constructor(a,l,h){this._ngZone=a,this.registry=l,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,jp||(function u0(o){jp=o}(h),h.addToWindow(l)),this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Vi.assertNotInAngularZone(),s0(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())s0(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(a)||(clearTimeout(l.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,l,h){let g=-1;l&&l>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(_=>_.timeoutId!==g),a(this._didWork,this.getPendingTasks())},l)),this._callbacks.push({doneCb:a,timeoutId:g,updateCb:h})}whenStable(a,l,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,l,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(a){this.registry.registerApplication(a,this)}unregisterApplication(a){this.registry.unregisterApplication(a)}findProviders(a,l,h){return[]}}return o.\u0275fac=function(a){return new(a||o)(rn(Vi),rn(wh),rn(a0))},o.\u0275prov=Dt({token:o,factory:o.\u0275fac}),o})(),wh=(()=>{class o{constructor(){this._applications=new Map}registerApplication(a,l){this._applications.set(a,l)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,l=!0){return jp?.findTestabilityInTree(this,a,l)??null}}return o.\u0275fac=function(a){return new(a||o)},o.\u0275prov=Dt({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();const As=!1;let Ms=null;const Ch=new Kt("AllowMultipleToken"),iy=new Kt("PlatformDestroyListeners"),_E=new Kt("appBootstrapListener");class vE{constructor(s,a){this.name=s,this.token=a}}function h0(o,s,a=[]){const l=`Platform: ${s}`,h=new Kt(l);return(g=[])=>{let _=$p();if(!_||_.injector.get(Ch,!1)){const b=[...a,...g,{provide:h,useValue:!0}];o?o(b):function wE(o){if(Ms&&!Ms.get(Ch,!1))throw new he(400,!1);Ms=o;const s=o.get(EE);(function bE(o){const s=o.get(oE,null);s&&s.forEach(a=>a())})(o)}(function bh(o=[],s){return pc.create({name:s,providers:[{provide:h_,useValue:"platform"},{provide:iy,useValue:new Set([()=>Ms=null])},...o]})}(b,l))}return function sy(o){const s=$p();if(!s)throw new he(401,!1);return s}()}}function $p(){return Ms?.get(EE)??null}let EE=(()=>{class o{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,l){const h=function f0(o,s){let a;return a="noop"===o?new mE:("zone.js"===o?void 0:o)||new Vi(s),a}(l?.ngZone,function IE(o){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!o||!o.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!o||!o.ngZoneRunCoalescing)||!1}}(l)),g=[{provide:Vi,useValue:h}];return h.run(()=>{const _=pc.create({providers:g,parent:this.injector,name:a.moduleType.name}),b=a.create(_),I=b.injector.get(Qg,null);if(!I)throw new he(402,!1);return h.runOutsideAngular(()=>{const S=h.onError.subscribe({next:P=>{I.handleError(P)}});b.onDestroy(()=>{Zo(this._modules,b),S.unsubscribe()})}),function p0(o,s,a){try{const l=a();return ev(l)?l.catch(h=>{throw s.runOutsideAngular(()=>o.handleError(h)),h}):l}catch(l){throw s.runOutsideAngular(()=>o.handleError(l)),l}}(I,h,()=>{const S=b.injector.get(_h);return S.runInitializers(),S.donePromise.then(()=>(function JC(o){ht(o,"Expected localeId to be defined"),"string"==typeof o&&(QC=o.toLowerCase().replace(/_/g,"-"))}(b.injector.get(ey,dh)||dh),this._moduleDoBootstrap(b),b))})})}bootstrapModule(a,l=[]){const h=DE({},l);return function c0(o,s,a){const l=new Nv(a);return Promise.resolve(l)}(0,0,a).then(g=>this.bootstrapModuleFactory(g,h))}_moduleDoBootstrap(a){const l=a.injector.get(da);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(h=>l.bootstrap(h));else{if(!a.instance.ngDoBootstrap)throw new he(-403,!1);a.instance.ngDoBootstrap(l)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new he(404,!1);this._modules.slice().forEach(l=>l.destroy()),this._destroyListeners.forEach(l=>l());const a=this._injector.get(iy,null);a&&(a.forEach(l=>l()),a.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return o.\u0275fac=function(a){return new(a||o)(rn(pc))},o.\u0275prov=Dt({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();function DE(o,s){return Array.isArray(s)?s.reduce(DE,o):{...o,...s}}let da=(()=>{class o{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(a,l,h){this._zone=a,this._injector=l,this._exceptionHandler=h,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const g=new N.y(b=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{b.next(this._stable),b.complete()})}),_=new N.y(b=>{let I;this._zone.runOutsideAngular(()=>{I=this._zone.onStable.subscribe(()=>{Vi.assertNotInAngularZone(),s0(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,b.next(!0))})})});const S=this._zone.onUnstable.subscribe(()=>{Vi.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{b.next(!1)}))});return()=>{I.unsubscribe(),S.unsubscribe()}});this.isStable=(0,oe.T)(g,_.pipe((0,ie.B)()))}bootstrap(a,l){const h=a instanceof nu;if(!this._injector.get(_h).done){!h&&sr(a);throw new he(405,As)}let _;_=h?a:this._injector.get(fl).resolveComponentFactory(a),this.componentTypes.push(_.componentType);const b=function d0(o){return o.isBoundToModule}(_)?void 0:this._injector.get(Ol),S=_.create(pc.NULL,[],l||_.selector,b),P=S.location.nativeElement,F=S.injector.get(ry,null);return F?.registerApplication(P),S.onDestroy(()=>{this.detachView(S.hostView),Zo(this.components,S),F?.unregisterApplication(P)}),this._loadComponent(S),S}tick(){if(this._runningTick)throw new he(101,!1);try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const l=a;this._views.push(l),l.attachToAppRef(this)}detachView(a){const l=a;Zo(this._views,l),l.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a);const l=this._injector.get(_E,[]);l.push(...this._bootstrapListeners),l.forEach(h=>h(a))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(a=>a()),this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(a){return this._destroyListeners.push(a),()=>Zo(this._destroyListeners,a)}destroy(){if(this._destroyed)throw new he(406,!1);const a=this._injector;a.destroy&&!a.destroyed&&a.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return o.\u0275fac=function(a){return new(a||o)(rn(Vi),rn(dr),rn(Qg))},o.\u0275prov=Dt({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function Zo(o,s){const a=o.indexOf(s);a>-1&&o.splice(a,1)}function xE(){return!1}let gT=(()=>{class o{}return o.__NG_ELEMENT_ID__=TE,o})();function TE(o){return function mT(o,s,a){if(Ls(o)&&!a){const l=Wn(o.index,s);return new su(l,l)}return 47&o.type?new su(s[On],s):null}(Kn(),ce(),16==(16&o))}class RE{constructor(){}supports(s){return op(s)}create(s){return new Wp(s)}}const dy=(o,s)=>s;class Wp{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||dy}forEachItem(s){let a;for(a=this._itHead;null!==a;a=a._next)s(a)}forEachOperation(s){let a=this._itHead,l=this._removalsHead,h=0,g=null;for(;a||l;){const _=!l||a&&a.currentIndex<xh(l,h,g)?a:l,b=xh(_,h,g),I=_.currentIndex;if(_===l)h--,l=l._nextRemoved;else if(a=a._next,null==_.previousIndex)h++;else{g||(g=[]);const S=b-h,P=I-h;if(S!=P){for(let z=0;z<S;z++){const K=z<g.length?g[z]:g[z]=0,me=K+z;P<=me&&me<S&&(g[z]=K+1)}g[_.previousIndex]=P-S}}b!==I&&s(_,b,I)}}forEachPreviousItem(s){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachMovedItem(s){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}forEachIdentityChange(s){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)s(a)}diff(s){if(null==s&&(s=[]),!op(s))throw new he(900,!1);return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let h,g,_,a=this._itHead,l=!1;if(Array.isArray(s)){this.length=s.length;for(let b=0;b<this.length;b++)g=s[b],_=this._trackByFn(b,g),null!==a&&Object.is(a.trackById,_)?(l&&(a=this._verifyReinsertion(a,g,_,b)),Object.is(a.item,g)||this._addIdentityChange(a,g)):(a=this._mismatch(a,g,_,b),l=!0),a=a._next}else h=0,function fm(o,s){if(Array.isArray(o))for(let a=0;a<o.length;a++)s(o[a]);else{const a=o[Symbol.iterator]();let l;for(;!(l=a.next()).done;)s(l.value)}}(s,b=>{_=this._trackByFn(h,b),null!==a&&Object.is(a.trackById,_)?(l&&(a=this._verifyReinsertion(a,b,_,h)),Object.is(a.item,b)||this._addIdentityChange(a,b)):(a=this._mismatch(a,b,_,h),l=!0),a=a._next,h++}),this.length=h;return this._truncate(a),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,a,l,h){let g;return null===s?g=this._itTail:(g=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._reinsertAfter(s,g,h)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(l,h))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._moveAfter(s,g,h)):s=this._addAfter(new hy(a,l),g,h),s}_verifyReinsertion(s,a,l,h){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==g?s=this._reinsertAfter(g,s._prev,h):s.currentIndex!=h&&(s.currentIndex=h,this._addToMoves(s,h)),s}_truncate(s){for(;null!==s;){const a=s._next;this._addToRemovals(this._unlink(s)),s=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,a,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const h=s._prevRemoved,g=s._nextRemoved;return null===h?this._removalsHead=g:h._nextRemoved=g,null===g?this._removalsTail=h:g._prevRemoved=h,this._insertAfter(s,a,l),this._addToMoves(s,l),s}_moveAfter(s,a,l){return this._unlink(s),this._insertAfter(s,a,l),this._addToMoves(s,l),s}_addAfter(s,a,l){return this._insertAfter(s,a,l),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,a,l){const h=null===a?this._itHead:a._next;return s._next=h,s._prev=a,null===h?this._itTail=s:h._prev=s,null===a?this._itHead=s:a._next=s,null===this._linkedRecords&&(this._linkedRecords=new v0),this._linkedRecords.put(s),s.currentIndex=l,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const a=s._prev,l=s._next;return null===a?this._itHead=l:a._next=l,null===l?this._itTail=a:l._prev=a,s}_addToMoves(s,a){return s.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new v0),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,a){return s.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class hy{constructor(s,a){this.item=s,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class _0{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,a){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===a||a<=l.currentIndex)&&Object.is(l.trackById,s))return l;return null}remove(s){const a=s._prevDup,l=s._nextDup;return null===a?this._head=l:a._nextDup=l,null===l?this._tail=a:l._prevDup=a,null===this._head}}class v0{constructor(){this.map=new Map}put(s){const a=s.trackById;let l=this.map.get(a);l||(l=new _0,this.map.set(a,l)),l.add(s)}get(s,a){const h=this.map.get(s);return h?h.get(s,a):null}remove(s){const a=s.trackById;return this.map.get(a).remove(s)&&this.map.delete(a),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function xh(o,s,a){const l=o.previousIndex;if(null===l)return l;let h=0;return a&&l<a.length&&(h=a[l]),l+s+h}class Th{constructor(){}supports(s){return s instanceof Map||pm(s)}create(){return new _T}}class _T{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let a;for(a=this._mapHead;null!==a;a=a._next)s(a)}forEachPreviousItem(s){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)s(a)}forEachChangedItem(s){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}diff(s){if(s){if(!(s instanceof Map||pm(s)))throw new he(900,!1)}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(s,(l,h)=>{if(a&&a.key===h)this._maybeAddToChanges(a,l),this._appendAfter=a,a=a._next;else{const g=this._getOrCreateRecordForKey(h,l);a=this._insertBeforeOrAppend(a,g)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let l=a;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,a){if(s){const l=s._prev;return a._next=s,a._prev=l,s._prev=a,l&&(l._next=a),s===this._mapHead&&(this._mapHead=a),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(s,a){if(this._records.has(s)){const h=this._records.get(s);this._maybeAddToChanges(h,a);const g=h._prev,_=h._next;return g&&(g._next=_),_&&(_._prev=g),h._next=null,h._prev=null,h}const l=new nr(s);return this._records.set(s,l),l.currentValue=a,this._addToAdditions(l),l}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,a){Object.is(a,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=a,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,a){s instanceof Map?s.forEach(a):Object.keys(s).forEach(l=>a(s[l],l))}}class nr{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function w0(){return new C0([new RE])}let C0=(()=>{class o{constructor(a){this.factories=a}static create(a,l){if(null!=l){const h=l.factories.slice();a=a.concat(h)}return new o(a)}static extend(a){return{provide:o,useFactory:l=>o.create(a,l||w0()),deps:[[o,new ja,new Ua]]}}find(a){const l=this.factories.find(h=>h.supports(a));if(null!=l)return l;throw new he(901,!1)}}return o.\u0275prov=Dt({token:o,providedIn:"root",factory:w0}),o})();function NE(){return new fy([new Th])}let fy=(()=>{class o{constructor(a){this.factories=a}static create(a,l){if(l){const h=l.factories.slice();a=a.concat(h)}return new o(a)}static extend(a){return{provide:o,useFactory:l=>o.create(a,l||NE()),deps:[[o,new ja,new Ua]]}}find(a){const l=this.factories.find(h=>h.supports(a));if(l)return l;throw new he(901,!1)}}return o.\u0275prov=Dt({token:o,providedIn:"root",factory:NE}),o})();const du=h0(null,"core",[]);let LE=(()=>{class o{constructor(a){}}return o.\u0275fac=function(a){return new(a||o)(rn(da))},o.\u0275mod=X({type:o}),o.\u0275inj=yn({}),o})();function VE(o){return"boolean"==typeof o?o:null!=o&&"false"!==o}},3942:(_t,De,k)=>{k.d(De,{Z:()=>We});var c=k(2090),Q=k(4859),N=k(6881),oe=k(1877);class ie{constructor(he,Ae){this._delegate=he,this.firebase=Ae,(0,N._addComponent)(he,new Q.wA("app-compat",()=>this,"PUBLIC")),this.container=he.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(he){this._delegate.automaticDataCollectionEnabled=he}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(he=>{this._delegate.checkDestroyed(),he()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,N.deleteApp)(this._delegate)))}_getService(he,Ae=N._DEFAULT_ENTRY_NAME){var Me;this._delegate.checkDestroyed();const Ue=this._delegate.container.getProvider(he);return!Ue.isInitialized()&&"EXPLICIT"===(null===(Me=Ue.getComponent())||void 0===Me?void 0:Me.instantiationMode)&&Ue.initialize(),Ue.getImmediate({identifier:Ae})}_removeServiceInstance(he,Ae=N._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(he).clearInstance(Ae)}_addComponent(he){(0,N._addComponent)(this._delegate,he)}_addOrOverwriteComponent(he){(0,N._addOrOverwriteComponent)(this._delegate,he)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const pe=new c.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),$=function le(){const lt=function _e(lt){const he={},Ae={__esModule:!0,initializeApp:function Pe(Re,it={}){const te=N.initializeApp(Re,it);if((0,c.r3)(he,te.name))return he[te.name];const xt=new lt(te,Ae);return he[te.name]=xt,xt},app:Ue,registerVersion:N.registerVersion,setLogLevel:N.setLogLevel,onLog:N.onLog,apps:null,SDK_VERSION:N.SDK_VERSION,INTERNAL:{registerComponent:function we(Re){const it=Re.name,te=it.replace("-compat","");if(N._registerComponent(Re)&&"PUBLIC"===Re.type){const xt=(Xe=Ue())=>{if("function"!=typeof Xe[te])throw pe.create("invalid-app-argument",{appName:it});return Xe[te]()};void 0!==Re.serviceProps&&(0,c.ZB)(xt,Re.serviceProps),Ae[te]=xt,lt.prototype[te]=function(...Xe){return this._getService.bind(this,it).apply(this,Re.multipleInstances?Xe:[])}}return"PUBLIC"===Re.type?Ae[te]:null},removeApp:function Me(Re){delete he[Re]},useAsService:function $e(Re,it){return"serverAuth"===it?null:it},modularAPIs:N}};function Ue(Re){if(!(0,c.r3)(he,Re=Re||N._DEFAULT_ENTRY_NAME))throw pe.create("no-app",{appName:Re});return he[Re]}return Ae.default=Ae,Object.defineProperty(Ae,"apps",{get:function ve(){return Object.keys(he).map(Re=>he[Re])}}),Ue.App=lt,Ae}(ie);return lt.INTERNAL=Object.assign(Object.assign({},lt.INTERNAL),{createFirebaseNamespace:le,extendNamespace:function he(Ae){(0,c.ZB)(lt,Ae)},createSubscribe:c.ne,ErrorFactory:c.LL,deepExtend:c.ZB}),lt}(),j=new oe.Yd("@firebase/app-compat");if((0,c.jU)()&&void 0!==self.firebase){j.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const lt=self.firebase.SDK_VERSION;lt&&lt.indexOf("LITE")>=0&&j.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const We=$;!function be(lt){(0,N.registerVersion)("@firebase/app-compat","0.2.9",lt)}()},6881:(_t,De,k)=>{k.r(De),k.d(De,{FirebaseError:()=>oe.ZR,SDK_VERSION:()=>Do,_DEFAULT_ENTRY_NAME:()=>Lr,_addComponent:()=>ot,_addOrOverwriteComponent:()=>At,_apps:()=>Xt,_clearComponents:()=>Vr,_components:()=>nn,_getProvider:()=>Zr,_registerComponent:()=>ui,_removeServiceInstance:()=>or,deleteApp:()=>ci,getApp:()=>Gi,getApps:()=>rn,initializeApp:()=>Wt,onLog:()=>Si,registerVersion:()=>Ln,setLogLevel:()=>vn});var c=k(5861),Q=k(4859),N=k(1877),oe=k(2090);const ie=(ue,X)=>X.some(Oe=>ue instanceof Oe);let re,pe;const $=new WeakMap,j=new WeakMap,q=new WeakMap,je=new WeakMap,be=new WeakMap;let he={get(ue,X,Oe){if(ue instanceof IDBTransaction){if("done"===X)return j.get(ue);if("objectStoreNames"===X)return ue.objectStoreNames||q.get(ue);if("store"===X)return Oe.objectStoreNames[1]?void 0:Oe.objectStore(Oe.objectStoreNames[0])}return Pe(ue[X])},set:(ue,X,Oe)=>(ue[X]=Oe,!0),has:(ue,X)=>ue instanceof IDBTransaction&&("done"===X||"store"===X)||X in ue};function Ue(ue){return"function"==typeof ue?function Me(ue){return ue!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function le(){return pe||(pe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ue)?function(...X){return ue.apply(ve(this),X),Pe($.get(this))}:function(...X){return Pe(ue.apply(ve(this),X))}:function(X,...Oe){const ft=ue.call(ve(this),X,...Oe);return q.set(ft,X.sort?X.sort():[X]),Pe(ft)}}(ue):(ue instanceof IDBTransaction&&function lt(ue){if(j.has(ue))return;const X=new Promise((Oe,ft)=>{const Et=()=>{ue.removeEventListener("complete",Vt),ue.removeEventListener("error",gt),ue.removeEventListener("abort",gt)},Vt=()=>{Oe(),Et()},gt=()=>{ft(ue.error||new DOMException("AbortError","AbortError")),Et()};ue.addEventListener("complete",Vt),ue.addEventListener("error",gt),ue.addEventListener("abort",gt)});j.set(ue,X)}(ue),ie(ue,function _e(){return re||(re=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ue,he):ue)}function Pe(ue){if(ue instanceof IDBRequest)return function We(ue){const X=new Promise((Oe,ft)=>{const Et=()=>{ue.removeEventListener("success",Vt),ue.removeEventListener("error",gt)},Vt=()=>{Oe(Pe(ue.result)),Et()},gt=()=>{ft(ue.error),Et()};ue.addEventListener("success",Vt),ue.addEventListener("error",gt)});return X.then(Oe=>{Oe instanceof IDBCursor&&$.set(Oe,ue)}).catch(()=>{}),be.set(X,ue),X}(ue);if(je.has(ue))return je.get(ue);const X=Ue(ue);return X!==ue&&(je.set(ue,X),be.set(X,ue)),X}const ve=ue=>be.get(ue),Re=["get","getKey","getAll","getAllKeys","count"],it=["put","add","delete","clear"],te=new Map;function xt(ue,X){if(!(ue instanceof IDBDatabase)||X in ue||"string"!=typeof X)return;if(te.get(X))return te.get(X);const Oe=X.replace(/FromIndex$/,""),ft=X!==Oe,Et=it.includes(Oe);if(!(Oe in(ft?IDBIndex:IDBObjectStore).prototype)||!Et&&!Re.includes(Oe))return;const Vt=function(){var gt=(0,c.Z)(function*(en,...Qt){const sr=this.transaction(en,Et?"readwrite":"readonly");let Vn=sr.store;return ft&&(Vn=Vn.index(Qt.shift())),(yield Promise.all([Vn[Oe](...Qt),Et&&sr.done]))[0]});return function(Qt){return gt.apply(this,arguments)}}();return te.set(X,Vt),Vt}!function Ae(ue){he=ue(he)}(ue=>({...ue,get:(X,Oe,ft)=>xt(X,Oe)||ue.get(X,Oe,ft),has:(X,Oe)=>!!xt(X,Oe)||ue.has(X,Oe)}));class Xe{constructor(X){this.container=X}getPlatformInfoString(){return this.container.getProviders().map(Oe=>{if(function Ht(ue){return"VERSION"===ue.getComponent()?.type}(Oe)){const ft=Oe.getImmediate();return`${ft.library}/${ft.version}`}return null}).filter(Oe=>Oe).join(" ")}}const at="@firebase/app",fe=new N.Yd("@firebase/app"),Lr="[DEFAULT]",zi={[at]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Xt=new Map,nn=new Map;function ot(ue,X){try{ue.container.addComponent(X)}catch(Oe){fe.debug(`Component ${X.name} failed to register with FirebaseApp ${ue.name}`,Oe)}}function At(ue,X){ue.container.addOrOverwriteComponent(X)}function ui(ue){const X=ue.name;if(nn.has(X))return fe.debug(`There were multiple attempts to register component ${X}.`),!1;nn.set(X,ue);for(const Oe of Xt.values())ot(Oe,ue);return!0}function Zr(ue,X){const Oe=ue.container.getProvider("heartbeat").getImmediate({optional:!0});return Oe&&Oe.triggerHeartbeat(),ue.container.getProvider(X)}function or(ue,X,Oe=Lr){Zr(ue,X).clearInstance(Oe)}function Vr(){nn.clear()}const Wr=new oe.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class fn{constructor(X,Oe,ft){this._isDeleted=!1,this._options=Object.assign({},X),this._config=Object.assign({},Oe),this._name=Oe.name,this._automaticDataCollectionEnabled=Oe.automaticDataCollectionEnabled,this._container=ft,this.container.addComponent(new Q.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(X){this.checkDestroyed(),this._automaticDataCollectionEnabled=X}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(X){this._isDeleted=X}checkDestroyed(){if(this.isDeleted)throw Wr.create("app-deleted",{appName:this._name})}}const Do="9.21.0";function Wt(ue,X={}){let Oe=ue;"object"!=typeof X&&(X={name:X});const ft=Object.assign({name:Lr,automaticDataCollectionEnabled:!1},X),Et=ft.name;if("string"!=typeof Et||!Et)throw Wr.create("bad-app-name",{appName:String(Et)});if(Oe||(Oe=(0,oe.aH)()),!Oe)throw Wr.create("no-options");const Vt=Xt.get(Et);if(Vt){if((0,oe.vZ)(Oe,Vt.options)&&(0,oe.vZ)(ft,Vt.config))return Vt;throw Wr.create("duplicate-app",{appName:Et})}const gt=new Q.H0(Et);for(const Qt of nn.values())gt.addComponent(Qt);const en=new fn(Oe,ft,gt);return Xt.set(Et,en),en}function Gi(ue=Lr){const X=Xt.get(ue);if(!X&&ue===Lr)return Wt();if(!X)throw Wr.create("no-app",{appName:ue});return X}function rn(){return Array.from(Xt.values())}function ci(ue){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,c.Z)(function*(ue){const X=ue.name;Xt.has(X)&&(Xt.delete(X),yield Promise.all(ue.container.getProviders().map(Oe=>Oe.delete())),ue.isDeleted=!0)})).apply(this,arguments)}function Ln(ue,X,Oe){var ft;let Et=null!==(ft=zi[ue])&&void 0!==ft?ft:ue;Oe&&(Et+=`-${Oe}`);const Vt=Et.match(/\s|\//),gt=X.match(/\s|\//);if(Vt||gt){const en=[`Unable to register library "${Et}" with version "${X}":`];return Vt&&en.push(`library name "${Et}" contains illegal characters (whitespace or "/")`),Vt&&gt&&en.push("and"),gt&&en.push(`version name "${X}" contains illegal characters (whitespace or "/")`),void fe.warn(en.join(" "))}ui(new Q.wA(`${Et}-version`,()=>({library:Et,version:X}),"VERSION"))}function Si(ue,X){if(null!==ue&&"function"!=typeof ue)throw Wr.create("invalid-log-argument");(0,N.Am)(ue,X)}function vn(ue){(0,N.Ub)(ue)}const Ai="firebase-heartbeat-database",Ur=1,V="firebase-heartbeat-store";let L=null;function G(){return L||(L=function we(ue,X,{blocked:Oe,upgrade:ft,blocking:Et,terminated:Vt}={}){const gt=indexedDB.open(ue,X),en=Pe(gt);return ft&&gt.addEventListener("upgradeneeded",Qt=>{ft(Pe(gt.result),Qt.oldVersion,Qt.newVersion,Pe(gt.transaction),Qt)}),Oe&&gt.addEventListener("blocked",Qt=>Oe(Qt.oldVersion,Qt.newVersion,Qt)),en.then(Qt=>{Vt&&Qt.addEventListener("close",()=>Vt()),Et&&Qt.addEventListener("versionchange",sr=>Et(sr.oldVersion,sr.newVersion,sr))}).catch(()=>{}),en}(Ai,Ur,{upgrade:(ue,X)=>{0===X&&ue.createObjectStore(V)}}).catch(ue=>{throw Wr.create("idb-open",{originalErrorMessage:ue.message})})),L}function J(){return(J=(0,c.Z)(function*(ue){try{return(yield G()).transaction(V).objectStore(V).get(Yt(ue))}catch(X){if(X instanceof oe.ZR)fe.warn(X.message);else{const Oe=Wr.create("idb-get",{originalErrorMessage:X?.message});fe.warn(Oe.message)}}})).apply(this,arguments)}function Ne(ue,X){return Tt.apply(this,arguments)}function Tt(){return(Tt=(0,c.Z)(function*(ue,X){try{const ft=(yield G()).transaction(V,"readwrite");return yield ft.objectStore(V).put(X,Yt(ue)),ft.done}catch(Oe){if(Oe instanceof oe.ZR)fe.warn(Oe.message);else{const ft=Wr.create("idb-set",{originalErrorMessage:Oe?.message});fe.warn(ft.message)}}})).apply(this,arguments)}function Yt(ue){return`${ue.name}!${ue.options.appId}`}class an{constructor(X){this.container=X,this._heartbeatsCache=null;const Oe=this.container.getProvider("app").getImmediate();this._storage=new Mi(Oe),this._heartbeatsCachePromise=this._storage.read().then(ft=>(this._heartbeatsCache=ft,ft))}triggerHeartbeat(){var X=this;return(0,c.Z)(function*(){const ft=X.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Et=zt();if(null===X._heartbeatsCache&&(X._heartbeatsCache=yield X._heartbeatsCachePromise),X._heartbeatsCache.lastSentHeartbeatDate!==Et&&!X._heartbeatsCache.heartbeats.some(Vt=>Vt.date===Et))return X._heartbeatsCache.heartbeats.push({date:Et,agent:ft}),X._heartbeatsCache.heartbeats=X._heartbeatsCache.heartbeats.filter(Vt=>{const gt=new Date(Vt.date).valueOf();return Date.now()-gt<=2592e6}),X._storage.overwrite(X._heartbeatsCache)})()}getHeartbeatsHeader(){var X=this;return(0,c.Z)(function*(){if(null===X._heartbeatsCache&&(yield X._heartbeatsCachePromise),null===X._heartbeatsCache||0===X._heartbeatsCache.heartbeats.length)return"";const Oe=zt(),{heartbeatsToSend:ft,unsentEntries:Et}=function xr(ue,X=1024){const Oe=[];let ft=ue.slice();for(const Et of ue){const Vt=Oe.find(gt=>gt.agent===Et.agent);if(Vt){if(Vt.dates.push(Et.date),qi(Oe)>X){Vt.dates.pop();break}}else if(Oe.push({agent:Et.agent,dates:[Et.date]}),qi(Oe)>X){Oe.pop();break}ft=ft.slice(1)}return{heartbeatsToSend:Oe,unsentEntries:ft}}(X._heartbeatsCache.heartbeats),Vt=(0,oe.L)(JSON.stringify({version:2,heartbeats:ft}));return X._heartbeatsCache.lastSentHeartbeatDate=Oe,Et.length>0?(X._heartbeatsCache.heartbeats=Et,yield X._storage.overwrite(X._heartbeatsCache)):(X._heartbeatsCache.heartbeats=[],X._storage.overwrite(X._heartbeatsCache)),Vt})()}}function zt(){return(new Date).toISOString().substring(0,10)}class Mi{constructor(X){this.app=X,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,c.Z)(function*(){return!!(0,oe.hl)()&&(0,oe.eu)().then(()=>!0).catch(()=>!1)})()}read(){var X=this;return(0,c.Z)(function*(){return(yield X._canUseIndexedDBPromise)&&(yield function ge(ue){return J.apply(this,arguments)}(X.app))||{heartbeats:[]}})()}overwrite(X){var Oe=this;return(0,c.Z)(function*(){var ft;if(yield Oe._canUseIndexedDBPromise){const Vt=yield Oe.read();return Ne(Oe.app,{lastSentHeartbeatDate:null!==(ft=X.lastSentHeartbeatDate)&&void 0!==ft?ft:Vt.lastSentHeartbeatDate,heartbeats:X.heartbeats})}})()}add(X){var Oe=this;return(0,c.Z)(function*(){var ft;if(yield Oe._canUseIndexedDBPromise){const Vt=yield Oe.read();return Ne(Oe.app,{lastSentHeartbeatDate:null!==(ft=X.lastSentHeartbeatDate)&&void 0!==ft?ft:Vt.lastSentHeartbeatDate,heartbeats:[...Vt.heartbeats,...X.heartbeats]})}})()}}function qi(ue){return(0,oe.L)(JSON.stringify({version:2,heartbeats:ue})).length}!function ga(ue){ui(new Q.wA("platform-logger",X=>new Xe(X),"PRIVATE")),ui(new Q.wA("heartbeat",X=>new an(X),"PRIVATE")),Ln(at,"0.9.9",ue),Ln(at,"0.9.9","esm2017"),Ln("fire-js","")}("")},4859:(_t,De,k)=>{k.d(De,{H0:()=>_e,wA:()=>N});var c=k(5861),Q=k(2090);class N{constructor($,j,q){this.name=$,this.instanceFactory=j,this.type=q,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode($){return this.instantiationMode=$,this}setMultipleInstances($){return this.multipleInstances=$,this}setServiceProps($){return this.serviceProps=$,this}setInstanceCreatedCallback($){return this.onInstanceCreated=$,this}}const oe="[DEFAULT]";class ie{constructor($,j){this.name=$,this.container=j,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get($){const j=this.normalizeInstanceIdentifier($);if(!this.instancesDeferred.has(j)){const q=new Q.BH;if(this.instancesDeferred.set(j,q),this.isInitialized(j)||this.shouldAutoInitialize())try{const je=this.getOrInitializeService({instanceIdentifier:j});je&&q.resolve(je)}catch{}}return this.instancesDeferred.get(j).promise}getImmediate($){var j;const q=this.normalizeInstanceIdentifier($?.identifier),je=null!==(j=$?.optional)&&void 0!==j&&j;if(!this.isInitialized(q)&&!this.shouldAutoInitialize()){if(je)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:q})}catch(be){if(je)return null;throw be}}getComponent(){return this.component}setComponent($){if($.name!==this.name)throw Error(`Mismatching Component ${$.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=$,this.shouldAutoInitialize()){if(function pe(le){return"EAGER"===le.instantiationMode}($))try{this.getOrInitializeService({instanceIdentifier:oe})}catch{}for(const[j,q]of this.instancesDeferred.entries()){const je=this.normalizeInstanceIdentifier(j);try{const be=this.getOrInitializeService({instanceIdentifier:je});q.resolve(be)}catch{}}}}clearInstance($=oe){this.instancesDeferred.delete($),this.instancesOptions.delete($),this.instances.delete($)}delete(){var $=this;return(0,c.Z)(function*(){const j=Array.from($.instances.values());yield Promise.all([...j.filter(q=>"INTERNAL"in q).map(q=>q.INTERNAL.delete()),...j.filter(q=>"_delete"in q).map(q=>q._delete())])})()}isComponentSet(){return null!=this.component}isInitialized($=oe){return this.instances.has($)}getOptions($=oe){return this.instancesOptions.get($)||{}}initialize($={}){const{options:j={}}=$,q=this.normalizeInstanceIdentifier($.instanceIdentifier);if(this.isInitialized(q))throw Error(`${this.name}(${q}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const je=this.getOrInitializeService({instanceIdentifier:q,options:j});for(const[be,We]of this.instancesDeferred.entries())q===this.normalizeInstanceIdentifier(be)&&We.resolve(je);return je}onInit($,j){var q;const je=this.normalizeInstanceIdentifier(j),be=null!==(q=this.onInitCallbacks.get(je))&&void 0!==q?q:new Set;be.add($),this.onInitCallbacks.set(je,be);const We=this.instances.get(je);return We&&$(We,je),()=>{be.delete($)}}invokeOnInitCallbacks($,j){const q=this.onInitCallbacks.get(j);if(q)for(const je of q)try{je($,j)}catch{}}getOrInitializeService({instanceIdentifier:$,options:j={}}){let q=this.instances.get($);if(!q&&this.component&&(q=this.component.instanceFactory(this.container,{instanceIdentifier:(le=$,le===oe?void 0:le),options:j}),this.instances.set($,q),this.instancesOptions.set($,j),this.invokeOnInitCallbacks(q,$),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,$,q)}catch{}var le;return q||null}normalizeInstanceIdentifier($=oe){return this.component?this.component.multipleInstances?$:oe:$}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class _e{constructor($){this.name=$,this.providers=new Map}addComponent($){const j=this.getProvider($.name);if(j.isComponentSet())throw new Error(`Component ${$.name} has already been registered with ${this.name}`);j.setComponent($)}addOrOverwriteComponent($){this.getProvider($.name).isComponentSet()&&this.providers.delete($.name),this.addComponent($)}getProvider($){if(this.providers.has($))return this.providers.get($);const j=new ie($,this);return this.providers.set($,j),j}getProviders(){return Array.from(this.providers.values())}}},1877:(_t,De,k)=>{k.d(De,{Am:()=>le,Ub:()=>_e,Yd:()=>pe,in:()=>Q});const c=[];var Q=(()=>{return($=Q||(Q={}))[$.DEBUG=0]="DEBUG",$[$.VERBOSE=1]="VERBOSE",$[$.INFO=2]="INFO",$[$.WARN=3]="WARN",$[$.ERROR=4]="ERROR",$[$.SILENT=5]="SILENT",Q;var $})();const N={debug:Q.DEBUG,verbose:Q.VERBOSE,info:Q.INFO,warn:Q.WARN,error:Q.ERROR,silent:Q.SILENT},oe=Q.INFO,ie={[Q.DEBUG]:"log",[Q.VERBOSE]:"log",[Q.INFO]:"info",[Q.WARN]:"warn",[Q.ERROR]:"error"},re=($,j,...q)=>{if(j<$.logLevel)return;const je=(new Date).toISOString(),be=ie[j];if(!be)throw new Error(`Attempted to log a message with an invalid logType (value: ${j})`);console[be](`[${je}]  ${$.name}:`,...q)};class pe{constructor(j){this.name=j,this._logLevel=oe,this._logHandler=re,this._userLogHandler=null,c.push(this)}get logLevel(){return this._logLevel}set logLevel(j){if(!(j in Q))throw new TypeError(`Invalid value "${j}" assigned to \`logLevel\``);this._logLevel=j}setLogLevel(j){this._logLevel="string"==typeof j?N[j]:j}get logHandler(){return this._logHandler}set logHandler(j){if("function"!=typeof j)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=j}get userLogHandler(){return this._userLogHandler}set userLogHandler(j){this._userLogHandler=j}debug(...j){this._userLogHandler&&this._userLogHandler(this,Q.DEBUG,...j),this._logHandler(this,Q.DEBUG,...j)}log(...j){this._userLogHandler&&this._userLogHandler(this,Q.VERBOSE,...j),this._logHandler(this,Q.VERBOSE,...j)}info(...j){this._userLogHandler&&this._userLogHandler(this,Q.INFO,...j),this._logHandler(this,Q.INFO,...j)}warn(...j){this._userLogHandler&&this._userLogHandler(this,Q.WARN,...j),this._logHandler(this,Q.WARN,...j)}error(...j){this._userLogHandler&&this._userLogHandler(this,Q.ERROR,...j),this._logHandler(this,Q.ERROR,...j)}}function _e($){c.forEach(j=>{j.setLogLevel($)})}function le($,j){for(const q of c){let je=null;j&&j.level&&(je=N[j.level]),q.userLogHandler=null===$?null:(be,We,...lt)=>{const he=lt.map(Ae=>{if(null==Ae)return null;if("string"==typeof Ae)return Ae;if("number"==typeof Ae||"boolean"==typeof Ae)return Ae.toString();if(Ae instanceof Error)return Ae.message;try{return JSON.stringify(Ae)}catch{return null}}).filter(Ae=>Ae).join(" ");We>=(je??be.logLevel)&&$({level:Q[We].toLowerCase(),message:he,args:lt,type:be.name})}}}},259:(_t,De,k)=>{k.d(De,{C6:()=>c.getApps,Mq:()=>c.getApp});var c=k(6881);(0,c.registerVersion)("firebase","9.21.0","app")},9260:(_t,De,k)=>{k.d(De,{Z:()=>c.Z});var c=k(3942);c.Z.registerVersion("firebase","9.21.0","app-compat")},3042:(_t,De,k)=>{k.r(De);var c=k(5861),Q=k(3942),N=k(2090),oe=k(6881),ie=k(655),re=k(1877),pe=k(4859);const le={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},q_EMAIL_SIGNIN="EMAIL_SIGNIN",q_PASSWORD_RESET="PASSWORD_RESET",q_RECOVER_EMAIL="RECOVER_EMAIL",q_REVERT_SECOND_FACTOR_ADDITION="REVERT_SECOND_FACTOR_ADDITION",q_VERIFY_AND_CHANGE_EMAIL="VERIFY_AND_CHANGE_EMAIL",q_VERIFY_EMAIL="VERIFY_EMAIL";const We=function je(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},lt=function be(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},he=new N.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Me=new re.Yd("@firebase/auth");function Pe(y,...f){Me.logLevel<=re.in.ERROR&&Me.error(`Auth (${oe.SDK_VERSION}): ${y}`,...f)}function ve(y,...f){throw it(y,...f)}function we(y,...f){return it(y,...f)}function $e(y,f,p){const v=Object.assign(Object.assign({},lt()),{[f]:p});return new N.LL("auth","Firebase",v).create(f,{appName:y.name})}function Re(y,f,p){if(!(f instanceof p))throw p.name!==f.constructor.name&&ve(y,"argument-error"),$e(y,"argument-error",`Type of ${f.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function it(y,...f){if("string"!=typeof y){const p=f[0],v=[...f.slice(1)];return v[0]&&(v[0].appName=y.name),y._errorFactory.create(p,...v)}return he.create(y,...f)}function te(y,f,...p){if(!y)throw it(f,...p)}function xt(y){const f="INTERNAL ASSERTION FAILED: "+y;throw Pe(f),new Error(f)}function Xe(y,f){y||xt(f)}function Ht(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function at(){return"http:"===de()||"https:"===de()}function de(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class xe{constructor(f,p){this.shortDelay=f,this.longDelay=p,Xe(p>f,"Short delay should be less than long delay!"),this.isMobile=(0,N.uI)()||(0,N.b$)()}get(){return function fe(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(at()||(0,N.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function He(y,f){Xe(y.emulator,"Emulator should always be set here");const{url:p}=y.emulator;return f?`${p}${f.startsWith("/")?f.slice(1):f}`:p}class Be{static initialize(f,p,v){this.fetchImpl=f,p&&(this.headersImpl=p),v&&(this.responseImpl=v)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void xt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void xt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void xt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ht={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},ut=new xe(3e4,6e4);function Pt(y,f){return y.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:y.tenantId}):f}function Ye(y,f,p,v){return $t.apply(this,arguments)}function $t(){return($t=(0,c.Z)(function*(y,f,p,v,x={}){return Dt(y,x,(0,c.Z)(function*(){let M={},B={};v&&("GET"===f?B=v:M={body:JSON.stringify(v)});const Y=(0,N.xO)(Object.assign({key:y.config.apiKey},B)).slice(1),Ee=yield y._getAdditionalHeaders();return Ee["Content-Type"]="application/json",y.languageCode&&(Ee["X-Firebase-Locale"]=y.languageCode),Be.fetch()(Er(y,y.config.apiHost,p,Y),Object.assign({method:f,headers:Ee,referrerPolicy:"no-referrer"},M))}))})).apply(this,arguments)}function Dt(y,f,p){return tn.apply(this,arguments)}function tn(){return(tn=(0,c.Z)(function*(y,f,p){y._canInitEmulator=!1;const v=Object.assign(Object.assign({},ht),f);try{const x=new Fr(y),M=yield Promise.race([p(),x.promise]);x.clearNetworkTimeout();const B=yield M.json();if("needConfirmation"in B)throw Ir(y,"account-exists-with-different-credential",B);if(M.ok&&!("errorMessage"in B))return B;{const Y=M.ok?B.errorMessage:B.error.message,[Ee,Ve]=Y.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ee)throw Ir(y,"credential-already-in-use",B);if("EMAIL_EXISTS"===Ee)throw Ir(y,"email-already-in-use",B);if("USER_DISABLED"===Ee)throw Ir(y,"user-disabled",B);const nt=v[Ee]||Ee.toLowerCase().replace(/[_\s]+/g,"-");if(Ve)throw $e(y,nt,Ve);ve(y,nt)}}catch(x){if(x instanceof N.ZR)throw x;ve(y,"network-request-failed",{message:String(x)})}})).apply(this,arguments)}function yn(y,f,p,v){return bn.apply(this,arguments)}function bn(){return(bn=(0,c.Z)(function*(y,f,p,v,x={}){const M=yield Ye(y,f,p,v,x);return"mfaPendingCredential"in M&&ve(y,"multi-factor-auth-required",{_serverResponse:M}),M})).apply(this,arguments)}function Er(y,f,p,v){const x=`${f}${p}?${v}`;return y.config.emulator?He(y.config,x):`${y.config.apiScheme}://${x}`}class Fr{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((p,v)=>{this.timer=setTimeout(()=>v(we(this.auth,"network-request-failed")),ut.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ir(y,f,p){const v={appName:y.name};p.email&&(v.email=p.email),p.phoneNumber&&(v.phoneNumber=p.phoneNumber);const x=we(y,f,v);return x.customData._tokenResponse=p,x}function ai(){return(ai=(0,c.Z)(function*(y,f){return Ye(y,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function Yo(){return(Yo=(0,c.Z)(function*(y,f){return Ye(y,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function pt(){return(pt=(0,c.Z)(function*(y,f){return Ye(y,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function qr(y){if(y)try{const f=new Date(Number(y));if(!isNaN(f.getTime()))return f.toUTCString()}catch{}}function Lr(){return(Lr=(0,c.Z)(function*(y,f=!1){const p=(0,N.m9)(y),v=yield p.getIdToken(f),x=Xt(v);te(x&&x.exp&&x.auth_time&&x.iat,p.auth,"internal-error");const M="object"==typeof x.firebase?x.firebase:void 0,B=M?.sign_in_provider;return{claims:x,token:v,authTime:qr(zi(x.auth_time)),issuedAtTime:qr(zi(x.iat)),expirationTime:qr(zi(x.exp)),signInProvider:B||null,signInSecondFactor:M?.sign_in_second_factor||null}})).apply(this,arguments)}function zi(y){return 1e3*Number(y)}function Xt(y){const[f,p,v]=y.split(".");if(void 0===f||void 0===p||void 0===v)return Pe("JWT malformed, contained fewer than 3 sections"),null;try{const x=(0,N.tV)(p);return x?JSON.parse(x):(Pe("Failed to decode base64 JWT payload"),null)}catch(x){return Pe("Caught error parsing JWT payload as JSON",x?.toString()),null}}function ot(y,f){return At.apply(this,arguments)}function At(){return(At=(0,c.Z)(function*(y,f,p=!1){if(p)return f;try{return yield f}catch(v){throw v instanceof N.ZR&&function ui({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}(v)&&y.auth.currentUser===y&&(yield y.auth.signOut()),v}})).apply(this,arguments)}class Zr{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var p;if(f){const v=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),v}{this.errorBackoff=3e4;const x=(null!==(p=this.user.stsTokenManager.expirationTime)&&void 0!==p?p:0)-Date.now()-3e5;return Math.max(0,x)}}schedule(f=!1){var p=this;if(!this.isRunning)return;const v=this.getInterval(f);this.timerId=setTimeout((0,c.Z)(function*(){yield p.iteration()}),v)}iteration(){var f=this;return(0,c.Z)(function*(){try{yield f.user.getIdToken(!0)}catch(p){return void("auth/network-request-failed"===p?.code&&f.schedule(!0))}f.schedule()})()}}class or{constructor(f,p){this.createdAt=f,this.lastLoginAt=p,this._initializeTime()}_initializeTime(){this.lastSignInTime=qr(this.lastLoginAt),this.creationTime=qr(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Vr(y){return xn.apply(this,arguments)}function xn(){return xn=(0,c.Z)(function*(y){var f;const p=y.auth,v=yield y.getIdToken(),x=yield ot(y,function Dr(y,f){return pt.apply(this,arguments)}(p,{idToken:v}));te(x?.users.length,p,"internal-error");const M=x.users[0];y._notifyReloadListener(M);const B=null!==(f=M.providerUserInfo)&&void 0!==f&&f.length?function Wt(y){return y.map(f=>{var{providerId:p}=f,v=(0,ie._T)(f,["providerId"]);return{providerId:p,uid:v.rawId||"",displayName:v.displayName||null,email:v.email||null,phoneNumber:v.phoneNumber||null,photoURL:v.photoUrl||null}})}(M.providerUserInfo):[],Y=function Do(y,f){return[...y.filter(v=>!f.some(x=>x.providerId===v.providerId)),...f]}(y.providerData,B),nt=!!y.isAnonymous&&!(y.email&&M.passwordHash||Y?.length),Je={uid:M.localId,displayName:M.displayName||null,photoURL:M.photoUrl||null,email:M.email||null,emailVerified:M.emailVerified||!1,phoneNumber:M.phoneNumber||null,tenantId:M.tenantId||null,providerData:Y,metadata:new or(M.createdAt,M.lastLoginAt),isAnonymous:nt};Object.assign(y,Je)}),xn.apply(this,arguments)}function fn(){return(fn=(0,c.Z)(function*(y){const f=(0,N.m9)(y);yield Vr(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function rn(){return(rn=(0,c.Z)(function*(y,f){const p=yield Dt(y,{},(0,c.Z)(function*(){const v=(0,N.xO)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:x,apiKey:M}=y.config,B=Er(y,x,"/v1/token",`key=${M}`),Y=yield y._getAdditionalHeaders();return Y["Content-Type"]="application/x-www-form-urlencoded",Be.fetch()(B,{method:"POST",headers:Y,body:v})}));return{accessToken:p.access_token,expiresIn:p.expires_in,refreshToken:p.refresh_token}})).apply(this,arguments)}class ci{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){te(f.idToken,"internal-error"),te(typeof f.idToken<"u","internal-error"),te(typeof f.refreshToken<"u","internal-error");const p="expiresIn"in f&&typeof f.expiresIn<"u"?Number(f.expiresIn):function nn(y){const f=Xt(y);return te(f,"internal-error"),te(typeof f.exp<"u","internal-error"),te(typeof f.iat<"u","internal-error"),Number(f.exp)-Number(f.iat)}(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,p)}getToken(f,p=!1){var v=this;return(0,c.Z)(function*(){return te(!v.accessToken||v.refreshToken,f,"user-token-expired"),p||!v.accessToken||v.isExpired?v.refreshToken?(yield v.refresh(f,v.refreshToken),v.accessToken):null:v.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(f,p){var v=this;return(0,c.Z)(function*(){const{accessToken:x,refreshToken:M,expiresIn:B}=yield function Gi(y,f){return rn.apply(this,arguments)}(f,p);v.updateTokensAndExpiration(x,M,Number(B))})()}updateTokensAndExpiration(f,p,v){this.refreshToken=p||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*v}static fromJSON(f,p){const{refreshToken:v,accessToken:x,expirationTime:M}=p,B=new ci;return v&&(te("string"==typeof v,"internal-error",{appName:f}),B.refreshToken=v),x&&(te("string"==typeof x,"internal-error",{appName:f}),B.accessToken=x),M&&(te("number"==typeof M,"internal-error",{appName:f}),B.expirationTime=M),B}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new ci,this.toJSON())}_performRefresh(){return xt("not implemented")}}function Tn(y,f){te("string"==typeof y||typeof y>"u","internal-error",{appName:f})}class Ln{constructor(f){var{uid:p,auth:v,stsTokenManager:x}=f,M=(0,ie._T)(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Zr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=p,this.auth=v,this.stsTokenManager=x,this.accessToken=x.accessToken,this.displayName=M.displayName||null,this.email=M.email||null,this.emailVerified=M.emailVerified||!1,this.phoneNumber=M.phoneNumber||null,this.photoURL=M.photoURL||null,this.isAnonymous=M.isAnonymous||!1,this.tenantId=M.tenantId||null,this.providerData=M.providerData?[...M.providerData]:[],this.metadata=new or(M.createdAt||void 0,M.lastLoginAt||void 0)}getIdToken(f){var p=this;return(0,c.Z)(function*(){const v=yield ot(p,p.stsTokenManager.getToken(p.auth,f));return te(v,p.auth,"internal-error"),p.accessToken!==v&&(p.accessToken=v,yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)),v})()}getIdTokenResult(f){return function mr(y){return Lr.apply(this,arguments)}(this,f)}reload(){return function Wr(y){return fn.apply(this,arguments)}(this)}_assign(f){this!==f&&(te(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(p=>Object.assign({},p)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){const p=new Ln(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}));return p.metadata._copy(this.metadata),p}_onReload(f){te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f,p=!1){var v=this;return(0,c.Z)(function*(){let x=!1;f.idToken&&f.idToken!==v.stsTokenManager.accessToken&&(v.stsTokenManager.updateFromServerResponse(f),x=!0),p&&(yield Vr(v)),yield v.auth._persistUserIfCurrent(v),x&&v.auth._notifyListenersIfCurrent(v)})()}delete(){var f=this;return(0,c.Z)(function*(){const p=yield f.getIdToken();return yield ot(f,function Io(y,f){return ai.apply(this,arguments)}(f.auth,{idToken:p})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,p){var v,x,M,B,Y,Ee,Ve,nt;const Je=null!==(v=p.displayName)&&void 0!==v?v:void 0,Cn=null!==(x=p.email)&&void 0!==x?x:void 0,vi=null!==(M=p.phoneNumber)&&void 0!==M?M:void 0,lc=null!==(B=p.photoURL)&&void 0!==B?B:void 0,Rf=null!==(Y=p.tenantId)&&void 0!==Y?Y:void 0,Nn=null!==(Ee=p._redirectEventId)&&void 0!==Ee?Ee:void 0,Nf=null!==(Ve=p.createdAt)&&void 0!==Ve?Ve:void 0,l_=null!==(nt=p.lastLoginAt)&&void 0!==nt?nt:void 0,{uid:Ud,emailVerified:jg,isAnonymous:$g,providerData:kf,stsTokenManager:d_}=p;te(Ud&&d_,f,"internal-error");const ww=ci.fromJSON(this.name,d_);te("string"==typeof Ud,f,"internal-error"),Tn(Je,f.name),Tn(Cn,f.name),te("boolean"==typeof jg,f,"internal-error"),te("boolean"==typeof $g,f,"internal-error"),Tn(vi,f.name),Tn(lc,f.name),Tn(Rf,f.name),Tn(Nn,f.name),Tn(Nf,f.name),Tn(l_,f.name);const Ff=new Ln({uid:Ud,auth:f,email:Cn,emailVerified:jg,displayName:Je,isAnonymous:$g,photoURL:lc,phoneNumber:vi,tenantId:Rf,stsTokenManager:ww,createdAt:Nf,lastLoginAt:l_});return kf&&Array.isArray(kf)&&(Ff.providerData=kf.map(ZI=>Object.assign({},ZI))),Nn&&(Ff._redirectEventId=Nn),Ff}static _fromIdTokenResponse(f,p,v=!1){return(0,c.Z)(function*(){const x=new ci;x.updateFromServerResponse(p);const M=new Ln({uid:p.localId,auth:f,stsTokenManager:x,isAnonymous:v});return yield Vr(M),M})()}}const Si=new Map;function vn(y){Xe(y instanceof Function,"Expected a class definition");let f=Si.get(y);return f?(Xe(f instanceof y,"Instance stored in cache mismatched with class"),f):(f=new y,Si.set(y,f),f)}const Ur=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,c.Z)(function*(){return!0})()}_set(p,v){var x=this;return(0,c.Z)(function*(){x.storage[p]=v})()}_get(p){var v=this;return(0,c.Z)(function*(){const x=v.storage[p];return void 0===x?null:x})()}_remove(p){var v=this;return(0,c.Z)(function*(){delete v.storage[p]})()}_addListener(p,v){}_removeListener(p,v){}}return y.type="NONE",y})();function V(y,f,p){return`firebase:${y}:${f}:${p}`}class L{constructor(f,p,v){this.persistence=f,this.auth=p,this.userKey=v;const{config:x,name:M}=this.auth;this.fullUserKey=V(this.userKey,x.apiKey,M),this.fullPersistenceKey=V("persistence",x.apiKey,M),this.boundEventHandler=p._onStorageEvent.bind(p),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,c.Z)(function*(){const p=yield f.persistence._get(f.fullUserKey);return p?Ln._fromJSON(f.auth,p):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var p=this;return(0,c.Z)(function*(){if(p.persistence===f)return;const v=yield p.getCurrentUser();return yield p.removeCurrentUser(),p.persistence=f,v?p.setCurrentUser(v):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,p,v="authUser"){return(0,c.Z)(function*(){if(!p.length)return new L(vn(Ur),f,v);const x=(yield Promise.all(p.map(function(){var Ve=(0,c.Z)(function*(nt){if(yield nt._isAvailable())return nt});return function(nt){return Ve.apply(this,arguments)}}()))).filter(Ve=>Ve);let M=x[0]||vn(Ur);const B=V(v,f.config.apiKey,f.name);let Y=null;for(const Ve of p)try{const nt=yield Ve._get(B);if(nt){const Je=Ln._fromJSON(f,nt);Ve!==M&&(Y=Je),M=Ve;break}}catch{}const Ee=x.filter(Ve=>Ve._shouldAllowMigration);return M._shouldAllowMigration&&Ee.length?(M=Ee[0],Y&&(yield M._set(B,Y.toJSON())),yield Promise.all(p.map(function(){var Ve=(0,c.Z)(function*(nt){if(nt!==M)try{yield nt._remove(B)}catch{}});return function(nt){return Ve.apply(this,arguments)}}())),new L(M,f,v)):new L(M,f,v)})()}}function G(y){const f=y.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if(Tt(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if(ge(f))return"Firefox";if(f.includes("silk/"))return"Silk";if(Pn(f))return"Blackberry";if(En(f))return"Webos";if(J(f))return"Safari";if((f.includes("chrome/")||Ne(f))&&!f.includes("edge/"))return"Chrome";if(Yt(f))return"Android";{const v=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===v?.length)return v[1]}return"Other"}function ge(y=(0,N.z$)()){return/firefox\//i.test(y)}function J(y=(0,N.z$)()){const f=y.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function Ne(y=(0,N.z$)()){return/crios\//i.test(y)}function Tt(y=(0,N.z$)()){return/iemobile/i.test(y)}function Yt(y=(0,N.z$)()){return/android/i.test(y)}function Pn(y=(0,N.z$)()){return/blackberry/i.test(y)}function En(y=(0,N.z$)()){return/webos/i.test(y)}function an(y=(0,N.z$)()){return/iphone|ipad|ipod/i.test(y)||/macintosh/i.test(y)&&/mobile/i.test(y)}function qi(y=(0,N.z$)()){return an(y)||Yt(y)||En(y)||Pn(y)||/windows phone/i.test(y)||Tt(y)}function ue(y,f=[]){let p;switch(y){case"Browser":p=G((0,N.z$)());break;case"Worker":p=`${G((0,N.z$)())}-${y}`;break;default:p=y}const v=f.length?f.join(","):"FirebaseCore-web";return`${p}/JsCore/${oe.SDK_VERSION}/${v}`}function Oe(){return(Oe=(0,c.Z)(function*(y){return(yield Ye(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function ft(y,f){return Et.apply(this,arguments)}function Et(){return(Et=(0,c.Z)(function*(y,f){return Ye(y,"GET","/v2/recaptchaConfig",Pt(y,f))})).apply(this,arguments)}function Vt(y){return void 0!==y&&void 0!==y.getResponse}function gt(y){return void 0!==y&&void 0!==y.enterprise}class en{constructor(f){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===f.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=f.recaptchaKey.split("/")[3],this.emailPasswordEnabled=f.recaptchaEnforcementState.some(p=>"EMAIL_PASSWORD_PROVIDER"===p.provider&&"OFF"!==p.enforcementState)}}function sr(y){return new Promise((f,p)=>{const v=document.createElement("script");v.setAttribute("src",y),v.onload=f,v.onerror=x=>{const M=we("internal-error");M.customData=x,p(M)},v.type="text/javascript",v.charset="UTF-8",function Qt(){var y,f;return null!==(f=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==f?f:document}().appendChild(v)})}function Vn(y){return`__${y}${Math.floor(1e6*Math.random())}`}const Qo="NO_RECAPTCHA";class li{constructor(f){this.type="recaptcha-enterprise",this.auth=cn(f)}verify(f="verify",p=!1){var v=this;return(0,c.Z)(function*(){function M(){return M=(0,c.Z)(function*(Y){if(!p){if(null==Y.tenantId&&null!=Y._agentRecaptchaConfig)return Y._agentRecaptchaConfig.siteKey;if(null!=Y.tenantId&&void 0!==Y._tenantRecaptchaConfigs[Y.tenantId])return Y._tenantRecaptchaConfigs[Y.tenantId].siteKey}return new Promise(function(){var Ee=(0,c.Z)(function*(Ve,nt){ft(Y,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Je=>{if(void 0!==Je.recaptchaKey){const Cn=new en(Je);return null==Y.tenantId?Y._agentRecaptchaConfig=Cn:Y._tenantRecaptchaConfigs[Y.tenantId]=Cn,Ve(Cn.siteKey)}nt(new Error("recaptcha Enterprise site key undefined"))}).catch(Je=>{nt(Je)})});return function(Ve,nt){return Ee.apply(this,arguments)}}())}),M.apply(this,arguments)}function B(Y,Ee,Ve){const nt=window.grecaptcha;gt(nt)?nt.enterprise.ready(()=>{nt.enterprise.execute(Y,{action:f}).then(Je=>{Ee(Je)}).catch(()=>{Ee(Qo)})}):Ve(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((Y,Ee)=>{(function x(Y){return M.apply(this,arguments)})(v.auth).then(Ve=>{if(!p&&gt(window.grecaptcha))B(Ve,Y,Ee);else{if(typeof window>"u")return void Ee(new Error("RecaptchaVerifier is only supported in browser"));sr("https://www.google.com/recaptcha/enterprise.js?render="+Ve).then(()=>{B(Ve,Y,Ee)}).catch(nt=>{Ee(nt)})}}).catch(Ve=>{Ee(Ve)})})})()}}function qe(y,f,p){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,c.Z)(function*(y,f,p,v=!1){const x=new li(y);let M;try{M=yield x.verify(p)}catch{M=yield x.verify(p,!0)}const B=Object.assign({},f);return Object.assign(B,v?{captchaResp:M}:{captchaResponse:M}),Object.assign(B,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(B,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),B})).apply(this,arguments)}class wn{constructor(f){this.auth=f,this.queue=[]}pushCallback(f,p){const v=M=>new Promise((B,Y)=>{try{B(f(M))}catch(Ee){Y(Ee)}});v.onAbort=p,this.queue.push(v);const x=this.queue.length-1;return()=>{this.queue[x]=()=>Promise.resolve()}}runMiddleware(f){var p=this;return(0,c.Z)(function*(){if(p.auth.currentUser===f)return;const v=[];try{for(const x of p.queue)yield x(f),x.onAbort&&v.push(x.onAbort)}catch(x){v.reverse();for(const M of v)try{M()}catch{}throw p.auth._errorFactory.create("login-blocked",{originalMessage:x?.message})}})()}}class di{constructor(f,p,v,x){this.app=f,this.heartbeatServiceProvider=p,this.appCheckServiceProvider=v,this.config=x,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Un(this),this.idTokenSubscription=new Un(this),this.beforeStateQueue=new wn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=he,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=x.sdkClientVersion}_initializeWithPersistence(f,p){var v=this;return p&&(this._popupRedirectResolver=vn(p)),this._initializationPromise=this.queue((0,c.Z)(function*(){var x,M;if(!v._deleted&&(v.persistenceManager=yield L.create(v,f),!v._deleted)){if(null!==(x=v._popupRedirectResolver)&&void 0!==x&&x._shouldInitProactively)try{yield v._popupRedirectResolver._initialize(v)}catch{}yield v.initializeCurrentUser(p),v.lastNotifiedUid=(null===(M=v.currentUser)||void 0===M?void 0:M.uid)||null,!v._deleted&&(v._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,c.Z)(function*(){if(f._deleted)return;const p=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||p){if(f.currentUser&&p&&f.currentUser.uid===p.uid)return f._currentUser._assign(p),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(p,!0)}})()}initializeCurrentUser(f){var p=this;return(0,c.Z)(function*(){var v;const x=yield p.assertedPersistence.getCurrentUser();let M=x,B=!1;if(f&&p.config.authDomain){yield p.getOrInitRedirectPersistenceManager();const Y=null===(v=p.redirectUser)||void 0===v?void 0:v._redirectEventId,Ee=M?._redirectEventId,Ve=yield p.tryRedirectSignIn(f);(!Y||Y===Ee)&&Ve?.user&&(M=Ve.user,B=!0)}if(!M)return p.directlySetCurrentUser(null);if(!M._redirectEventId){if(B)try{yield p.beforeStateQueue.runMiddleware(M)}catch(Y){M=x,p._popupRedirectResolver._overrideRedirectResult(p,()=>Promise.reject(Y))}return M?p.reloadAndSetCurrentUserOrClear(M):p.directlySetCurrentUser(null)}return te(p._popupRedirectResolver,p,"argument-error"),yield p.getOrInitRedirectPersistenceManager(),p.redirectUser&&p.redirectUser._redirectEventId===M._redirectEventId?p.directlySetCurrentUser(M):p.reloadAndSetCurrentUserOrClear(M)})()}tryRedirectSignIn(f){var p=this;return(0,c.Z)(function*(){let v=null;try{v=yield p._popupRedirectResolver._completeRedirectFn(p,f,!0)}catch{yield p._setRedirectUser(null)}return v})()}reloadAndSetCurrentUserOrClear(f){var p=this;return(0,c.Z)(function*(){try{yield Vr(f)}catch(v){if("auth/network-request-failed"!==v?.code)return p.directlySetCurrentUser(null)}return p.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function Ce(){if(typeof navigator>"u")return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var f=this;return(0,c.Z)(function*(){f._deleted=!0})()}updateCurrentUser(f){var p=this;return(0,c.Z)(function*(){const v=f?(0,N.m9)(f):null;return v&&te(v.auth.config.apiKey===p.config.apiKey,p,"invalid-user-token"),p._updateCurrentUser(v&&v._clone(p))})()}_updateCurrentUser(f,p=!1){var v=this;return(0,c.Z)(function*(){if(!v._deleted)return f&&te(v.tenantId===f.tenantId,v,"tenant-id-mismatch"),p||(yield v.beforeStateQueue.runMiddleware(f)),v.queue((0,c.Z)(function*(){yield v.directlySetCurrentUser(f),v.notifyAuthListeners()}))})()}signOut(){var f=this;return(0,c.Z)(function*(){return yield f.beforeStateQueue.runMiddleware(null),(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null,!0)})()}setPersistence(f){var p=this;return this.queue((0,c.Z)(function*(){yield p.assertedPersistence.setPersistence(vn(f))}))}initializeRecaptchaConfig(){var f=this;return(0,c.Z)(function*(){const p=yield ft(f,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),v=new en(p);null==f.tenantId?f._agentRecaptchaConfig=v:f._tenantRecaptchaConfigs[f.tenantId]=v,v.emailPasswordEnabled&&new li(f).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(f){this._errorFactory=new N.LL("auth","Firebase",f())}onAuthStateChanged(f,p,v){return this.registerStateListener(this.authStateSubscription,f,p,v)}beforeAuthStateChanged(f,p){return this.beforeStateQueue.pushCallback(f,p)}onIdTokenChanged(f,p,v){return this.registerStateListener(this.idTokenSubscription,f,p,v)}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,p){var v=this;return(0,c.Z)(function*(){const x=yield v.getOrInitRedirectPersistenceManager(p);return null===f?x.removeCurrentUser():x.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var p=this;return(0,c.Z)(function*(){if(!p.redirectPersistenceManager){const v=f&&vn(f)||p._popupRedirectResolver;te(v,p,"argument-error"),p.redirectPersistenceManager=yield L.create(p,[vn(v._redirectPersistence)],"redirectUser"),p.redirectUser=yield p.redirectPersistenceManager.getCurrentUser()}return p.redirectPersistenceManager})()}_redirectUserForId(f){var p=this;return(0,c.Z)(function*(){var v,x;return p._isInitialized&&(yield p.queue((0,c.Z)(function*(){}))),(null===(v=p._currentUser)||void 0===v?void 0:v._redirectEventId)===f?p._currentUser:(null===(x=p.redirectUser)||void 0===x?void 0:x._redirectEventId)===f?p.redirectUser:null})()}_persistUserIfCurrent(f){var p=this;return(0,c.Z)(function*(){if(f===p.currentUser)return p.queue((0,c.Z)(function*(){return p.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,p;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const v=null!==(p=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==p?p:null;this.lastNotifiedUid!==v&&(this.lastNotifiedUid=v,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,p,v,x){if(this._deleted)return()=>{};const M="function"==typeof p?p:p.next.bind(p),B=this._isInitialized?Promise.resolve():this._initializationPromise;return te(B,this,"internal-error"),B.then(()=>M(this.currentUser)),"function"==typeof p?f.addObserver(p,v,x):f.addObserver(p)}directlySetCurrentUser(f){var p=this;return(0,c.Z)(function*(){p.currentUser&&p.currentUser!==f&&p._currentUser._stopProactiveRefresh(),f&&p.isProactiveRefreshEnabled&&f._startProactiveRefresh(),p.currentUser=f,f?yield p.assertedPersistence.setCurrentUser(f):yield p.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=ue(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var f=this;return(0,c.Z)(function*(){var p;const v={"X-Client-Version":f.clientVersion};f.app.options.appId&&(v["X-Firebase-gmpid"]=f.app.options.appId);const x=yield null===(p=f.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===p?void 0:p.getHeartbeatsHeader();x&&(v["X-Firebase-Client"]=x);const M=yield f._getAppCheckToken();return M&&(v["X-Firebase-AppCheck"]=M),v})()}_getAppCheckToken(){var f=this;return(0,c.Z)(function*(){var p;const v=yield null===(p=f.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===p?void 0:p.getToken();return v?.error&&function Ue(y,...f){Me.logLevel<=re.in.WARN&&Me.warn(`Auth (${oe.SDK_VERSION}): ${y}`,...f)}(`Error while retrieving App Check token: ${v.error}`),v?.token})()}}function cn(y){return(0,N.m9)(y)}class Un{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,N.ne)(p=>this.observer=p)}get next(){return te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Kr(y){const f=y.indexOf(":");return f<0?"":y.substr(0,f+1)}function ya(y){if(!y)return null;const f=Number(y);return isNaN(f)?null:f}class io{constructor(f,p){this.providerId=f,this.signInMethod=p}toJSON(){return xt("not implemented")}_getIdTokenResponse(f){return xt("not implemented")}_linkToIdToken(f,p){return xt("not implemented")}_getReauthenticationResolver(f){return xt("not implemented")}}function Xo(y,f){return On.apply(this,arguments)}function On(){return(On=(0,c.Z)(function*(y,f){return Ye(y,"POST","/v1/accounts:resetPassword",Pt(y,f))})).apply(this,arguments)}function Ns(y,f){return oo.apply(this,arguments)}function oo(){return(oo=(0,c.Z)(function*(y,f){return Ye(y,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function ks(){return(ks=(0,c.Z)(function*(y,f){return Ye(y,"POST","/v1/accounts:update",Pt(y,f))})).apply(this,arguments)}function yr(y,f){return _n.apply(this,arguments)}function _n(){return(_n=(0,c.Z)(function*(y,f){return yn(y,"POST","/v1/accounts:signInWithPassword",Pt(y,f))})).apply(this,arguments)}function Yr(y,f){return _a.apply(this,arguments)}function _a(){return(_a=(0,c.Z)(function*(y,f){return Ye(y,"POST","/v1/accounts:sendOobCode",Pt(y,f))})).apply(this,arguments)}function Fs(){return(Fs=(0,c.Z)(function*(y,f){return Yr(y,f)})).apply(this,arguments)}function To(y,f){return So.apply(this,arguments)}function So(){return(So=(0,c.Z)(function*(y,f){return Yr(y,f)})).apply(this,arguments)}function ar(y,f){return gu.apply(this,arguments)}function gu(){return(gu=(0,c.Z)(function*(y,f){return Yr(y,f)})).apply(this,arguments)}function Jr(){return(Jr=(0,c.Z)(function*(y,f){return Yr(y,f)})).apply(this,arguments)}function Ls(){return(Ls=(0,c.Z)(function*(y,f){return yn(y,"POST","/v1/accounts:signInWithEmailLink",Pt(y,f))})).apply(this,arguments)}function hi(){return(hi=(0,c.Z)(function*(y,f){return yn(y,"POST","/v1/accounts:signInWithEmailLink",Pt(y,f))})).apply(this,arguments)}class mu extends io{constructor(f,p,v,x=null){super("password",v),this._email=f,this._password=p,this._tenantId=x}static _fromEmailAndPassword(f,p){return new mu(f,p,"password")}static _fromEmailAndCode(f,p,v=null){return new mu(f,p,"emailLink",v)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(f){const p="string"==typeof f?JSON.parse(f):f;if(p?.email&&p?.password){if("password"===p.signInMethod)return this._fromEmailAndPassword(p.email,p.password);if("emailLink"===p.signInMethod)return this._fromEmailAndCode(p.email,p.password,p.tenantId)}return null}_getIdTokenResponse(f){var p=this;return(0,c.Z)(function*(){var v;switch(p.signInMethod){case"password":const x={returnSecureToken:!0,email:p._email,password:p._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(v=f._getRecaptchaConfig())&&void 0!==v&&v.emailPasswordEnabled){const M=yield qe(f,x,"signInWithPassword");return yr(f,M)}return yr(f,x).catch(function(){var M=(0,c.Z)(function*(B){if("auth/missing-recaptcha-token"===B.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Y=yield qe(f,x,"signInWithPassword");return yr(f,Y)}return Promise.reject(B)});return function(B){return M.apply(this,arguments)}}());case"emailLink":return function va(y,f){return Ls.apply(this,arguments)}(f,{email:p._email,oobCode:p._password});default:ve(f,"internal-error")}})()}_linkToIdToken(f,p){var v=this;return(0,c.Z)(function*(){switch(v.signInMethod){case"password":return Ns(f,{idToken:p,returnSecureToken:!0,email:v._email,password:v._password});case"emailLink":return function Pc(y,f){return hi.apply(this,arguments)}(f,{idToken:p,email:v._email,oobCode:v._password});default:ve(f,"internal-error")}})()}_getReauthenticationResolver(f){return this._getIdTokenResponse(f)}}function Pi(y,f){return Wl.apply(this,arguments)}function Wl(){return(Wl=(0,c.Z)(function*(y,f){return yn(y,"POST","/v1/accounts:signInWithIdp",Pt(y,f))})).apply(this,arguments)}class so extends io{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(f){const p=new so(f.providerId,f.signInMethod);return f.idToken||f.accessToken?(f.idToken&&(p.idToken=f.idToken),f.accessToken&&(p.accessToken=f.accessToken),f.nonce&&!f.pendingToken&&(p.nonce=f.nonce),f.pendingToken&&(p.pendingToken=f.pendingToken)):f.oauthToken&&f.oauthTokenSecret?(p.accessToken=f.oauthToken,p.secret=f.oauthTokenSecret):ve("argument-error"),p}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(f){const p="string"==typeof f?JSON.parse(f):f,{providerId:v,signInMethod:x}=p,M=(0,ie._T)(p,["providerId","signInMethod"]);if(!v||!x)return null;const B=new so(v,x);return B.idToken=M.idToken||void 0,B.accessToken=M.accessToken||void 0,B.secret=M.secret,B.nonce=M.nonce,B.pendingToken=M.pendingToken||null,B}_getIdTokenResponse(f){return Pi(f,this.buildRequest())}_linkToIdToken(f,p){const v=this.buildRequest();return v.idToken=p,Pi(f,v)}_getReauthenticationResolver(f){const p=this.buildRequest();return p.autoCreate=!1,Pi(f,p)}buildRequest(){const f={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)f.pendingToken=this.pendingToken;else{const p={};this.idToken&&(p.id_token=this.idToken),this.accessToken&&(p.access_token=this.accessToken),this.secret&&(p.oauth_token_secret=this.secret),p.providerId=this.providerId,this.nonce&&!this.pendingToken&&(p.nonce=this.nonce),f.postBody=(0,N.xO)(p)}return f}}function Oc(){return(Oc=(0,c.Z)(function*(y,f){return Ye(y,"POST","/v1/accounts:sendVerificationCode",Pt(y,f))})).apply(this,arguments)}function Kl(){return(Kl=(0,c.Z)(function*(y,f){return yn(y,"POST","/v1/accounts:signInWithPhoneNumber",Pt(y,f))})).apply(this,arguments)}function yu(){return(yu=(0,c.Z)(function*(y,f){const p=yield yn(y,"POST","/v1/accounts:signInWithPhoneNumber",Pt(y,f));if(p.temporaryProof)throw Ir(y,"account-exists-with-different-credential",p);return p})).apply(this,arguments)}const Yl={USER_NOT_FOUND:"user-not-found"};function _u(){return(_u=(0,c.Z)(function*(y,f){return yn(y,"POST","/v1/accounts:signInWithPhoneNumber",Pt(y,Object.assign(Object.assign({},f),{operation:"REAUTH"})),Yl)})).apply(this,arguments)}class fi extends io{constructor(f){super("phone","phone"),this.params=f}static _fromVerification(f,p){return new fi({verificationId:f,verificationCode:p})}static _fromTokenResponse(f,p){return new fi({phoneNumber:f,temporaryProof:p})}_getIdTokenResponse(f){return function yg(y,f){return Kl.apply(this,arguments)}(f,this._makeVerificationRequest())}_linkToIdToken(f,p){return function Qh(y,f){return yu.apply(this,arguments)}(f,Object.assign({idToken:p},this._makeVerificationRequest()))}_getReauthenticationResolver(f){return function Ky(y,f){return _u.apply(this,arguments)}(f,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:f,phoneNumber:p,verificationId:v,verificationCode:x}=this.params;return f&&p?{temporaryProof:f,phoneNumber:p}:{sessionInfo:v,code:x}}toJSON(){const f={providerId:this.providerId};return this.params.phoneNumber&&(f.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(f.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(f.verificationCode=this.params.verificationCode),this.params.verificationId&&(f.verificationId=this.params.verificationId),f}static fromJSON(f){"string"==typeof f&&(f=JSON.parse(f));const{verificationId:p,verificationCode:v,phoneNumber:x,temporaryProof:M}=f;return v||p||x||M?new fi({verificationId:p,verificationCode:v,phoneNumber:x,temporaryProof:M}):null}}class Vs{constructor(f){var p,v,x,M,B,Y;const Ee=(0,N.zd)((0,N.pd)(f)),Ve=null!==(p=Ee.apiKey)&&void 0!==p?p:null,nt=null!==(v=Ee.oobCode)&&void 0!==v?v:null,Je=function Jh(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(x=Ee.mode)&&void 0!==x?x:null);te(Ve&&nt&&Je,"argument-error"),this.apiKey=Ve,this.operation=Je,this.code=nt,this.continueUrl=null!==(M=Ee.continueUrl)&&void 0!==M?M:null,this.languageCode=null!==(B=Ee.languageCode)&&void 0!==B?B:null,this.tenantId=null!==(Y=Ee.tenantId)&&void 0!==Y?Y:null}static parseLink(f){const p=function Ql(y){const f=(0,N.zd)((0,N.pd)(y)).link,p=f?(0,N.zd)((0,N.pd)(f)).deep_link_id:null,v=(0,N.zd)((0,N.pd)(y)).deep_link_id;return(v?(0,N.zd)((0,N.pd)(v)).link:null)||v||p||f||y}(f);try{return new Vs(p)}catch{return null}}}let Xh=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(p,v){return mu._fromEmailAndPassword(p,v)}static credentialWithLink(p,v){const x=Vs.parseLink(v);return te(x,"argument-error"),mu._fromEmailAndCode(p,x.code,x.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class ao{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class Wi extends ao{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}class es extends Wi{static credentialFromJSON(f){const p="string"==typeof f?JSON.parse(f):f;return te("providerId"in p&&"signInMethod"in p,"argument-error"),so._fromParams(p)}credential(f){return this._credential(Object.assign(Object.assign({},f),{nonce:f.rawNonce}))}_credential(f){return te(f.idToken||f.accessToken,"argument-error"),so._fromParams(Object.assign(Object.assign({},f),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(f){return es.oauthCredentialFromTaggedObject(f)}static credentialFromError(f){return es.oauthCredentialFromTaggedObject(f.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:p,oauthAccessToken:v,oauthTokenSecret:x,pendingToken:M,nonce:B,providerId:Y}=f;if(!v&&!x&&!p&&!M||!Y)return null;try{return new es(Y)._credential({idToken:p,accessToken:v,nonce:B,pendingToken:M})}catch{return null}}}let Rc=(()=>{class y extends Wi{constructor(){super("facebook.com")}static credential(p){return so._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:p})}static credentialFromResult(p){return y.credentialFromTaggedObject(p)}static credentialFromError(p){return y.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p||!("oauthAccessToken"in p)||!p.oauthAccessToken)return null;try{return y.credential(p.oauthAccessToken)}catch{return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),wa=(()=>{class y extends Wi{constructor(){super("google.com"),this.addScope("profile")}static credential(p,v){return so._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:p,accessToken:v})}static credentialFromResult(p){return y.credentialFromTaggedObject(p)}static credentialFromError(p){return y.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:v,oauthAccessToken:x}=p;if(!v&&!x)return null;try{return y.credential(v,x)}catch{return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),Jl=(()=>{class y extends Wi{constructor(){super("github.com")}static credential(p){return so._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:p})}static credentialFromResult(p){return y.credentialFromTaggedObject(p)}static credentialFromError(p){return y.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p||!("oauthAccessToken"in p)||!p.oauthAccessToken)return null;try{return y.credential(p.oauthAccessToken)}catch{return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class Ao extends io{constructor(f,p){super(f,f),this.pendingToken=p}_getIdTokenResponse(f){return Pi(f,this.buildRequest())}_linkToIdToken(f,p){const v=this.buildRequest();return v.idToken=p,Pi(f,v)}_getReauthenticationResolver(f){const p=this.buildRequest();return p.autoCreate=!1,Pi(f,p)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(f){const p="string"==typeof f?JSON.parse(f):f,{providerId:v,signInMethod:x,pendingToken:M}=p;return v&&x&&M&&v===x?new Ao(v,M):null}static _create(f,p){return new Ao(f,p)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Ca extends ao{constructor(f){te(f.startsWith("saml."),"argument-error"),super(f)}static credentialFromResult(f){return Ca.samlCredentialFromTaggedObject(f)}static credentialFromError(f){return Ca.samlCredentialFromTaggedObject(f.customData||{})}static credentialFromJSON(f){const p=Ao.fromJSON(f);return te(p,"argument-error"),p}static samlCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{pendingToken:p,providerId:v}=f;if(!p||!v)return null;try{return Ao._create(v,p)}catch{return null}}}let vu=(()=>{class y extends Wi{constructor(){super("twitter.com")}static credential(p,v){return so._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:p,oauthTokenSecret:v})}static credentialFromResult(p){return y.credentialFromTaggedObject(p)}static credentialFromError(p){return y.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthAccessToken:v,oauthTokenSecret:x}=p;if(!v||!x)return null;try{return y.credential(v,x)}catch{return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function Mo(y,f){return Br.apply(this,arguments)}function Br(){return(Br=(0,c.Z)(function*(y,f){return yn(y,"POST","/v1/accounts:signUp",Pt(y,f))})).apply(this,arguments)}class Tr{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,p,v,x=!1){return(0,c.Z)(function*(){const M=yield Ln._fromIdTokenResponse(f,v,x),B=ba(v);return new Tr({user:M,providerId:B,_tokenResponse:v,operationType:p})})()}static _forOperation(f,p,v){return(0,c.Z)(function*(){yield f._updateTokensIfNecessary(v,!0);const x=ba(v);return new Tr({user:f,providerId:x,_tokenResponse:v,operationType:p})})()}}function ba(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function Us(){return(Us=(0,c.Z)(function*(y){var f;const p=cn(y);if(yield p._initializationPromise,null!==(f=p.currentUser)&&void 0!==f&&f.isAnonymous)return new Tr({user:p.currentUser,providerId:null,operationType:"signIn"});const v=yield Mo(p,{returnSecureToken:!0}),x=yield Tr._fromIdTokenResponse(p,"signIn",v,!0);return yield p._updateCurrentUser(x.user),x})).apply(this,arguments)}class uo extends N.ZR{constructor(f,p,v,x){var M;super(p.code,p.message),this.operationType=v,this.user=x,Object.setPrototypeOf(this,uo.prototype),this.customData={appName:f.name,tenantId:null!==(M=f.tenantId)&&void 0!==M?M:void 0,_serverResponse:p.customData._serverResponse,operationType:v}}static _fromErrorAndOperation(f,p,v,x){return new uo(f,p,v,x)}}function cr(y,f,p,v){return("reauthenticate"===f?p._getReauthenticationResolver(y):p._getIdTokenResponse(y)).catch(M=>{throw"auth/multi-factor-auth-required"===M.code?uo._fromErrorAndOperation(y,M,f,v):M})}function Xl(y){return new Set(y.map(({providerId:f})=>f).filter(f=>!!f))}function Sr(){return Sr=(0,c.Z)(function*(y,f){const p=(0,N.m9)(y);yield co(!0,p,f);const{providerUserInfo:v}=yield function Rs(y,f){return Yo.apply(this,arguments)}(p.auth,{idToken:yield p.getIdToken(),deleteProvider:[f]}),x=Xl(v||[]);return p.providerData=p.providerData.filter(M=>x.has(M.providerId)),x.has("phone")||(p.phoneNumber=null),yield p.auth._persistUserIfCurrent(p),p}),Sr.apply(this,arguments)}function Wn(y,f){return wu.apply(this,arguments)}function wu(){return(wu=(0,c.Z)(function*(y,f,p=!1){const v=yield ot(y,f._linkToIdToken(y.auth,yield y.getIdToken()),p);return Tr._forOperation(y,"link",v)})).apply(this,arguments)}function co(y,f,p){return kc.apply(this,arguments)}function kc(){return(kc=(0,c.Z)(function*(y,f,p){yield Vr(f);const x=!1===y?"provider-already-linked":"no-such-provider";te(Xl(f.providerData).has(p)===y,f.auth,x)})).apply(this,arguments)}function Po(y,f){return Bs.apply(this,arguments)}function Bs(){return(Bs=(0,c.Z)(function*(y,f,p=!1){const{auth:v}=y,x="reauthenticate";try{const M=yield ot(y,cr(v,x,f,y),p);te(M.idToken,v,"internal-error");const B=Xt(M.idToken);te(B,v,"internal-error");const{sub:Y}=B;return te(y.uid===Y,v,"user-mismatch"),Tr._forOperation(y,x,M)}catch(M){throw"auth/user-not-found"===M?.code&&ve(v,"user-mismatch"),M}})).apply(this,arguments)}function Ea(y,f){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,c.Z)(function*(y,f,p=!1){const v="signIn",x=yield cr(y,v,f),M=yield Tr._fromIdTokenResponse(y,v,x);return p||(yield y._updateCurrentUser(M.user)),M})).apply(this,arguments)}function Ia(y,f){return td.apply(this,arguments)}function td(){return(td=(0,c.Z)(function*(y,f){return Ea(cn(y),f)})).apply(this,arguments)}function nd(y,f){return Cu.apply(this,arguments)}function Cu(){return(Cu=(0,c.Z)(function*(y,f){const p=(0,N.m9)(y);return yield co(!1,p,f.providerId),Wn(p,f)})).apply(this,arguments)}function rd(y,f){return bu.apply(this,arguments)}function bu(){return(bu=(0,c.Z)(function*(y,f){return Po((0,N.m9)(y),f)})).apply(this,arguments)}function id(){return(id=(0,c.Z)(function*(y,f){return yn(y,"POST","/v1/accounts:signInWithCustomToken",Pt(y,f))})).apply(this,arguments)}function kt(){return kt=(0,c.Z)(function*(y,f){const p=cn(y),v=yield function _g(y,f){return id.apply(this,arguments)}(p,{token:f,returnSecureToken:!0}),x=yield Tr._fromIdTokenResponse(p,"signIn",v);return yield p._updateCurrentUser(x.user),x}),kt.apply(this,arguments)}class Da{constructor(f,p){this.factorId=f,this.uid=p.mfaEnrollmentId,this.enrollmentTime=new Date(p.enrolledAt).toUTCString(),this.displayName=p.displayName}static _fromServerResponse(f,p){return"phoneInfo"in p?xa._fromServerResponse(f,p):"totpInfo"in p?Kn._fromServerResponse(f,p):ve(f,"internal-error")}}class xa extends Da{constructor(f){super("phone",f),this.phoneNumber=f.phoneInfo}static _fromServerResponse(f,p){return new xa(p)}}class Kn extends Da{constructor(f){super("totp",f)}static _fromServerResponse(f,p){return new Kn(p)}}function ts(y,f,p){var v;te((null===(v=p.url)||void 0===v?void 0:v.length)>0,y,"invalid-continue-uri"),te(typeof p.dynamicLinkDomain>"u"||p.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),f.continueUrl=p.url,f.dynamicLinkDomain=p.dynamicLinkDomain,f.canHandleCodeInApp=p.handleCodeInApp,p.iOS&&(te(p.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),f.iOSBundleId=p.iOS.bundleId),p.android&&(te(p.android.packageName.length>0,y,"missing-android-pkg-name"),f.androidInstallApp=p.android.installApp,f.androidMinimumVersionCode=p.android.minimumVersion,f.androidPackageName=p.android.packageName)}function jr(){return jr=(0,c.Z)(function*(y,f,p){var v;const x=cn(y),M={requestType:"PASSWORD_RESET",email:f,clientType:"CLIENT_TYPE_WEB"};if(null!==(v=x._getRecaptchaConfig())&&void 0!==v&&v.emailPasswordEnabled){const B=yield qe(x,M,"getOobCode",!0);p&&ts(x,B,p),yield To(x,B)}else p&&ts(x,M,p),yield To(x,M).catch(function(){var B=(0,c.Z)(function*(Y){if("auth/missing-recaptcha-token"!==Y.code)return Promise.reject(Y);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const Ee=yield qe(x,M,"getOobCode",!0);p&&ts(x,Ee,p),yield To(x,Ee)}});return function(Y){return B.apply(this,arguments)}}())}),jr.apply(this,arguments)}function Iu(){return(Iu=(0,c.Z)(function*(y,f,p){yield Xo((0,N.m9)(y),{oobCode:f,newPassword:p})})).apply(this,arguments)}function lo(){return lo=(0,c.Z)(function*(y,f){yield function Zi(y,f){return ks.apply(this,arguments)}((0,N.m9)(y),{oobCode:f})}),lo.apply(this,arguments)}function Ta(y,f){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,c.Z)(function*(y,f){const p=(0,N.m9)(y),v=yield Xo(p,{oobCode:f}),x=v.requestType;switch(te(x,p,"internal-error"),x){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":te(v.newEmail,p,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":te(v.mfaInfo,p,"internal-error");default:te(v.email,p,"internal-error")}let M=null;return v.mfaInfo&&(M=Da._fromServerResponse(cn(p),v.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===v.requestType?v.newEmail:v.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===v.requestType?v.email:v.newEmail)||null,multiFactorInfo:M},operation:x}})).apply(this,arguments)}function Ki(){return(Ki=(0,c.Z)(function*(y,f){const{data:p}=yield Ta((0,N.m9)(y),f);return p.email})).apply(this,arguments)}function gi(){return gi=(0,c.Z)(function*(y,f,p){var v;const x=cn(y),M={returnSecureToken:!0,email:f,password:p,clientType:"CLIENT_TYPE_WEB"};let B;if(null!==(v=x._getRecaptchaConfig())&&void 0!==v&&v.emailPasswordEnabled){const Ve=yield qe(x,M,"signUpPassword");B=Mo(x,Ve)}else B=Mo(x,M).catch(function(){var Ve=(0,c.Z)(function*(nt){if("auth/missing-recaptcha-token"===nt.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const Je=yield qe(x,M,"signUpPassword");return Mo(x,Je)}return Promise.reject(nt)});return function(nt){return Ve.apply(this,arguments)}}());const Y=yield B.catch(Ve=>Promise.reject(Ve)),Ee=yield Tr._fromIdTokenResponse(x,"signIn",Y);return yield x._updateCurrentUser(Ee.user),Ee}),gi.apply(this,arguments)}function Du(){return Du=(0,c.Z)(function*(y,f,p){var v;const x=cn(y),M={requestType:"EMAIL_SIGNIN",email:f,clientType:"CLIENT_TYPE_WEB"};function B(Y,Ee){te(Ee.handleCodeInApp,x,"argument-error"),Ee&&ts(x,Y,Ee)}if(null!==(v=x._getRecaptchaConfig())&&void 0!==v&&v.emailPasswordEnabled){const Y=yield qe(x,M,"getOobCode",!0);B(Y,p),yield ar(x,Y)}else B(M,p),yield ar(x,M).catch(function(){var Y=(0,c.Z)(function*(Ee){if("auth/missing-recaptcha-token"!==Ee.code)return Promise.reject(Ee);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Ve=yield qe(x,M,"getOobCode",!0);B(Ve,p),yield ar(x,Ve)}});return function(Ee){return Y.apply(this,arguments)}}())}),Du.apply(this,arguments)}function js(){return(js=(0,c.Z)(function*(y,f,p){const v=(0,N.m9)(y),x=Xh.credentialWithLink(f,p||Ht());return te(x._tenantId===(v.tenantId||null),v,"tenant-id-mismatch"),Ia(v,x)})).apply(this,arguments)}function xu(){return(xu=(0,c.Z)(function*(y,f){return Ye(y,"POST","/v1/accounts:createAuthUri",Pt(y,f))})).apply(this,arguments)}function Tu(){return Tu=(0,c.Z)(function*(y,f){const v={identifier:f,continueUri:at()?Ht():"http://localhost"},{signinMethods:x}=yield function Fc(y,f){return xu.apply(this,arguments)}((0,N.m9)(y),v);return x||[]}),Tu.apply(this,arguments)}function Aa(){return Aa=(0,c.Z)(function*(y,f){const p=(0,N.m9)(y),x={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};f&&ts(p.auth,x,f);const{email:M}=yield function Mc(y,f){return Fs.apply(this,arguments)}(p.auth,x);M!==y.email&&(yield y.reload())}),Aa.apply(this,arguments)}function Ma(){return Ma=(0,c.Z)(function*(y,f,p){const v=(0,N.m9)(y),M={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:f};p&&ts(v.auth,M,p);const{email:B}=yield function Qr(y,f){return Jr.apply(this,arguments)}(v.auth,M);B!==y.email&&(yield y.reload())}),Ma.apply(this,arguments)}function Au(){return(Au=(0,c.Z)(function*(y,f){return Ye(y,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Mu(){return Mu=(0,c.Z)(function*(y,{displayName:f,photoURL:p}){if(void 0===f&&void 0===p)return;const v=(0,N.m9)(y),M={idToken:yield v.getIdToken(),displayName:f,photoUrl:p,returnSecureToken:!0},B=yield ot(v,function ud(y,f){return Au.apply(this,arguments)}(v.auth,M));v.displayName=B.displayName||null,v.photoURL=B.photoUrl||null;const Y=v.providerData.find(({providerId:Ee})=>"password"===Ee);Y&&(Y.displayName=v.displayName,Y.photoURL=v.photoURL),yield v._updateTokensIfNecessary(B)}),Mu.apply(this,arguments)}function In(y,f,p){return Pu.apply(this,arguments)}function Pu(){return(Pu=(0,c.Z)(function*(y,f,p){const{auth:v}=y,M={idToken:yield y.getIdToken(),returnSecureToken:!0};f&&(M.email=f),p&&(M.password=p);const B=yield ot(y,Ns(v,M));yield y._updateTokensIfNecessary(B,!0)})).apply(this,arguments)}class rs{constructor(f,p,v={}){this.isNewUser=f,this.providerId=p,this.profile=v}}class rf extends rs{constructor(f,p,v,x){super(f,p,v),this.username=x}}class cd extends rs{constructor(f,p){super(f,"facebook.com",p)}}class Cg extends rf{constructor(f,p){super(f,"github.com",p,"string"==typeof p?.login?p?.login:null)}}class Ou extends rs{constructor(f,p){super(f,"google.com",p)}}class Vc extends rf{constructor(f,p,v){super(f,"twitter.com",p,v)}}function Uc(y){const{user:f,_tokenResponse:p}=y;return f.isAnonymous&&!p?{providerId:null,isNewUser:!1,profile:null}:function nf(y){var f,p;if(!y)return null;const{providerId:v}=y,x=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},M=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!v&&y?.idToken){const B=null===(p=null===(f=Xt(y.idToken))||void 0===f?void 0:f.firebase)||void 0===p?void 0:p.sign_in_provider;if(B)return new rs(M,"anonymous"!==B&&"custom"!==B?B:null)}if(!v)return null;switch(v){case"facebook.com":return new cd(M,x);case"github.com":return new Cg(M,x);case"google.com":return new Ou(M,x);case"twitter.com":return new Vc(M,x,y.screenName||null);case"custom":case"anonymous":return new rs(M,null);default:return new rs(M,v,x)}}(p)}class is{constructor(f,p,v){this.type=f,this.credential=p,this.auth=v}static _fromIdtoken(f,p){return new is("enroll",f,p)}static _fromMfaPendingCredential(f){return new is("signin",f)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(f){var p,v;if(f?.multiFactorSession){if(null!==(p=f.multiFactorSession)&&void 0!==p&&p.pendingCredential)return is._fromMfaPendingCredential(f.multiFactorSession.pendingCredential);if(null!==(v=f.multiFactorSession)&&void 0!==v&&v.idToken)return is._fromIdtoken(f.multiFactorSession.idToken)}return null}}class os{constructor(f,p,v){this.session=f,this.hints=p,this.signInResolver=v}static _fromError(f,p){const v=cn(f),x=p.customData._serverResponse,M=(x.mfaInfo||[]).map(Y=>Da._fromServerResponse(v,Y));te(x.mfaPendingCredential,v,"internal-error");const B=is._fromMfaPendingCredential(x.mfaPendingCredential);return new os(B,M,function(){var Y=(0,c.Z)(function*(Ee){const Ve=yield Ee._process(v,B);delete x.mfaInfo,delete x.mfaPendingCredential;const nt=Object.assign(Object.assign({},x),{idToken:Ve.idToken,refreshToken:Ve.refreshToken});switch(p.operationType){case"signIn":const Je=yield Tr._fromIdTokenResponse(v,p.operationType,nt);return yield v._updateCurrentUser(Je.user),Je;case"reauthenticate":return te(p.user,v,"internal-error"),Tr._forOperation(p.user,p.operationType,nt);default:ve(v,"internal-error")}});return function(Ee){return Y.apply(this,arguments)}}())}resolveSignIn(f){var p=this;return(0,c.Z)(function*(){return p.signInResolver(f)})()}}class us{constructor(f){this.user=f,this.enrolledFactors=[],f._onReload(p=>{p.mfaInfo&&(this.enrolledFactors=p.mfaInfo.map(v=>Da._fromServerResponse(f.auth,v)))})}static _fromUser(f){return new us(f)}getSession(){var f=this;return(0,c.Z)(function*(){return is._fromIdtoken(yield f.user.getIdToken(),f.user.auth)})()}enroll(f,p){var v=this;return(0,c.Z)(function*(){const x=f,M=yield v.getSession(),B=yield ot(v.user,x._process(v.user.auth,M,p));return yield v.user._updateTokensIfNecessary(B),v.user.reload()})()}unenroll(f){var p=this;return(0,c.Z)(function*(){const v="string"==typeof f?f:f.uid,x=yield p.user.getIdToken();try{const M=yield ot(p.user,function ku(y,f){return Ye(y,"POST","/v2/accounts/mfaEnrollment:withdraw",Pt(y,f))}(p.user.auth,{idToken:x,mfaEnrollmentId:v}));p.enrolledFactors=p.enrolledFactors.filter(({uid:B})=>B!==v),yield p.user._updateTokensIfNecessary(M),yield p.user.reload()}catch(M){throw M}})()}}const Oo=new WeakMap,cs="__sak";class Fu{constructor(f,p){this.storageRetriever=f,this.type=p}_isAvailable(){try{return this.storage?(this.storage.setItem(cs,"1"),this.storage.removeItem(cs),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(f,p){return this.storage.setItem(f,JSON.stringify(p)),Promise.resolve()}_get(f){const p=this.storage.getItem(f);return Promise.resolve(p?JSON.parse(p):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}get storage(){return this.storageRetriever()}}const ls=(()=>{class y extends Fu{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(p,v)=>this.onStorageEvent(p,v),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Oa(){const y=(0,N.z$)();return J(y)||an(y)}()&&function ga(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=qi(),this._shouldAllowMigration=!0}forAllChangedKeys(p){for(const v of Object.keys(this.listeners)){const x=this.storage.getItem(v),M=this.localCache[v];x!==M&&p(v,M,x)}}onStorageEvent(p,v=!1){if(!p.key)return void this.forAllChangedKeys((Y,Ee,Ve)=>{this.notifyListeners(Y,Ve)});const x=p.key;if(v?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Y=this.storage.getItem(x);if(p.newValue!==Y)null!==p.newValue?this.storage.setItem(x,p.newValue):this.storage.removeItem(x);else if(this.localCache[x]===p.newValue&&!v)return}const M=()=>{const Y=this.storage.getItem(x);!v&&this.localCache[x]===Y||this.notifyListeners(x,Y)},B=this.storage.getItem(x);!function Mi(){return(0,N.w1)()&&10===document.documentMode}()||B===p.newValue||p.newValue===p.oldValue?M():setTimeout(M,10)}notifyListeners(p,v){this.localCache[p]=v;const x=this.listeners[p];if(x)for(const M of Array.from(x))M(v&&JSON.parse(v))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((p,v,x)=>{this.onStorageEvent(new StorageEvent("storage",{key:p,oldValue:v,newValue:x}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(p,v){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[p]||(this.listeners[p]=new Set,this.localCache[p]=this.storage.getItem(p)),this.listeners[p].add(v)}_removeListener(p,v){this.listeners[p]&&(this.listeners[p].delete(v),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(p,v){var x=()=>super._set,M=this;return(0,c.Z)(function*(){yield x().call(M,p,v),M.localCache[p]=JSON.stringify(v)})()}_get(p){var v=()=>super._get,x=this;return(0,c.Z)(function*(){const M=yield v().call(x,p);return x.localCache[p]=JSON.stringify(M),M})()}_remove(p){var v=()=>super._remove,x=this;return(0,c.Z)(function*(){yield v().call(x,p),delete x.localCache[p]})()}}return y.type="LOCAL",y})(),po=(()=>{class y extends Fu{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(p,v){}_removeListener(p,v){}}return y.type="SESSION",y})();let Gs=(()=>{class y{constructor(p){this.eventTarget=p,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(p){const v=this.receivers.find(M=>M.isListeningto(p));if(v)return v;const x=new y(p);return this.receivers.push(x),x}isListeningto(p){return this.eventTarget===p}handleEvent(p){var v=this;return(0,c.Z)(function*(){const x=p,{eventId:M,eventType:B,data:Y}=x.data,Ee=v.handlersMap[B];if(!Ee?.size)return;x.ports[0].postMessage({status:"ack",eventId:M,eventType:B});const Ve=Array.from(Ee).map(function(){var Je=(0,c.Z)(function*(Cn){return Cn(x.origin,Y)});return function(Cn){return Je.apply(this,arguments)}}()),nt=yield function $c(y){return Promise.all(y.map(function(){var f=(0,c.Z)(function*(p){try{return{fulfilled:!0,value:yield p}}catch(v){return{fulfilled:!1,reason:v}}});return function(p){return f.apply(this,arguments)}}()))}(Ve);x.ports[0].postMessage({status:"done",eventId:M,eventType:B,response:nt})})()}_subscribe(p,v){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[p]||(this.handlersMap[p]=new Set),this.handlersMap[p].add(v)}_unsubscribe(p,v){this.handlersMap[p]&&v&&this.handlersMap[p].delete(v),(!v||0===this.handlersMap[p].size)&&delete this.handlersMap[p],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function qs(y="",f=10){let p="";for(let v=0;v<f;v++)p+=Math.floor(10*Math.random());return y+p}class fd{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,p,v=50){var x=this;return(0,c.Z)(function*(){const M=typeof MessageChannel<"u"?new MessageChannel:null;if(!M)throw new Error("connection_unavailable");let B,Y;return new Promise((Ee,Ve)=>{const nt=qs("",20);M.port1.start();const Je=setTimeout(()=>{Ve(new Error("unsupported_event"))},v);Y={messageChannel:M,onMessage(Cn){const vi=Cn;if(vi.data.eventId===nt)switch(vi.data.status){case"ack":clearTimeout(Je),B=setTimeout(()=>{Ve(new Error("timeout"))},3e3);break;case"done":clearTimeout(B),Ee(vi.data.response);break;default:clearTimeout(Je),clearTimeout(B),Ve(new Error("invalid_response"))}}},x.handlers.add(Y),M.port1.addEventListener("message",Y.onMessage),x.target.postMessage({eventType:f,eventId:nt,data:p},[M.port2])}).finally(()=>{Y&&x.removeMessageHandler(Y)})})()}}function pn(){return window}function Vu(){return typeof pn().WorkerGlobalScope<"u"&&"function"==typeof pn().importScripts}function Uu(){return(Uu=(0,c.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const ds="firebaseLocalStorageDb",Rn=1,zc="firebaseLocalStorage",Ra="fbase_key";class Na{constructor(f){this.request=f}toPromise(){return new Promise((f,p)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{p(this.request.error)})})}}function go(y,f){return y.transaction([zc],f?"readwrite":"readonly").objectStore(zc)}function ju(){const y=indexedDB.open(ds,Rn);return new Promise((f,p)=>{y.addEventListener("error",()=>{p(y.error)}),y.addEventListener("upgradeneeded",()=>{const v=y.result;try{v.createObjectStore(zc,{keyPath:Ra})}catch(x){p(x)}}),y.addEventListener("success",(0,c.Z)(function*(){const v=y.result;v.objectStoreNames.contains(zc)?f(v):(v.close(),yield function uf(){const y=indexedDB.deleteDatabase(ds);return new Na(y).toPromise()}(),f(yield ju()))}))})}function hs(y,f,p){return Gc.apply(this,arguments)}function Gc(){return(Gc=(0,c.Z)(function*(y,f,p){const v=go(y,!0).put({[Ra]:f,value:p});return new Na(v).toPromise()})).apply(this,arguments)}function Zs(){return(Zs=(0,c.Z)(function*(y,f){const p=go(y,!1).get(f),v=yield new Na(p).toPromise();return void 0===v?null:v.value})).apply(this,arguments)}function Ro(y,f){const p=go(y,!0).delete(f);return new Na(p).toPromise()}const fs=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var p=this;return(0,c.Z)(function*(){return p.db||(p.db=yield ju()),p.db})()}_withRetries(p){var v=this;return(0,c.Z)(function*(){let x=0;for(;;)try{const M=yield v._openDb();return yield p(M)}catch(M){if(x++>3)throw M;v.db&&(v.db.close(),v.db=void 0)}})()}initializeServiceWorkerMessaging(){var p=this;return(0,c.Z)(function*(){return Vu()?p.initializeReceiver():p.initializeSender()})()}initializeReceiver(){var p=this;return(0,c.Z)(function*(){p.receiver=Gs._getInstance(function Yn(){return Vu()?self:null}()),p.receiver._subscribe("keyChanged",function(){var v=(0,c.Z)(function*(x,M){return{keyProcessed:(yield p._poll()).includes(M.key)}});return function(x,M){return v.apply(this,arguments)}}()),p.receiver._subscribe("ping",function(){var v=(0,c.Z)(function*(x,M){return["keyChanged"]});return function(x,M){return v.apply(this,arguments)}}())})()}initializeSender(){var p=this;return(0,c.Z)(function*(){var v,x;if(p.activeServiceWorker=yield function Hc(){return Uu.apply(this,arguments)}(),!p.activeServiceWorker)return;p.sender=new fd(p.activeServiceWorker);const M=yield p.sender._send("ping",{},800);M&&null!==(v=M[0])&&void 0!==v&&v.fulfilled&&null!==(x=M[0])&&void 0!==x&&x.value.includes("keyChanged")&&(p.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(p){var v=this;return(0,c.Z)(function*(){if(v.sender&&v.activeServiceWorker&&function Bu(){var y;return(null===(y=navigator?.serviceWorker)||void 0===y?void 0:y.controller)||null}()===v.activeServiceWorker)try{yield v.sender._send("keyChanged",{key:p},v.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,c.Z)(function*(){try{if(!indexedDB)return!1;const p=yield ju();return yield hs(p,cs,"1"),yield Ro(p,cs),!0}catch{}return!1})()}_withPendingWrite(p){var v=this;return(0,c.Z)(function*(){v.pendingWrites++;try{yield p()}finally{v.pendingWrites--}})()}_set(p,v){var x=this;return(0,c.Z)(function*(){return x._withPendingWrite((0,c.Z)(function*(){return yield x._withRetries(M=>hs(M,p,v)),x.localCache[p]=v,x.notifyServiceWorker(p)}))})()}_get(p){var v=this;return(0,c.Z)(function*(){const x=yield v._withRetries(M=>function ka(y,f){return Zs.apply(this,arguments)}(M,p));return v.localCache[p]=x,x})()}_remove(p){var v=this;return(0,c.Z)(function*(){return v._withPendingWrite((0,c.Z)(function*(){return yield v._withRetries(x=>Ro(x,p)),delete v.localCache[p],v.notifyServiceWorker(p)}))})()}_poll(){var p=this;return(0,c.Z)(function*(){const v=yield p._withRetries(B=>{const Y=go(B,!1).getAll();return new Na(Y).toPromise()});if(!v)return[];if(0!==p.pendingWrites)return[];const x=[],M=new Set;for(const{fbase_key:B,value:Y}of v)M.add(B),JSON.stringify(p.localCache[B])!==JSON.stringify(Y)&&(p.notifyListeners(B,Y),x.push(B));for(const B of Object.keys(p.localCache))p.localCache[B]&&!M.has(B)&&(p.notifyListeners(B,null),x.push(B));return x})()}notifyListeners(p,v){this.localCache[p]=v;const x=this.listeners[p];if(x)for(const M of Array.from(x))M(v)}startPolling(){var p=this;this.stopPolling(),this.pollTimer=setInterval((0,c.Z)(function*(){return p._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(p,v){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[p]||(this.listeners[p]=new Set,this._get(p)),this.listeners[p].add(v)}_removeListener(p,v){this.listeners[p]&&(this.listeners[p].delete(v),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})(),La=1e12;class qc{constructor(f){this.auth=f,this.counter=La,this._widgets=new Map}render(f,p){const v=this.counter;return this._widgets.set(v,new Zc(f,this.auth.name,p||{})),this.counter++,v}reset(f){var p;const v=f||La;null===(p=this._widgets.get(v))||void 0===p||p.delete(),this._widgets.delete(v)}getResponse(f){var p;return(null===(p=this._widgets.get(f||La))||void 0===p?void 0:p.getResponse())||""}execute(f){var p=this;return(0,c.Z)(function*(){var v;return null===(v=p._widgets.get(f||La))||void 0===v||v.execute(),""})()}}class Zc{constructor(f,p,v){this.params=v,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const x="string"==typeof f?document.getElementById(f):f;te(x,"argument-error",{appName:p}),this.container=x,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Jy(y){const f=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let v=0;v<y;v++)f.push(p.charAt(Math.floor(Math.random()*p.length)));return f.join("")}(50);const{callback:f,"expired-callback":p}=this.params;if(f)try{f(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,p)try{p()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const df=Vn("rcb"),Xy=new xe(3e4,6e4);class e_{constructor(){var f;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(f=pn().grecaptcha)||void 0===f||!f.render)}load(f,p=""){return te(function hf(y){return y.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y)}(p),f,"argument-error"),this.shouldResolveImmediately(p)&&Vt(pn().grecaptcha)?Promise.resolve(pn().grecaptcha):new Promise((v,x)=>{const M=pn().setTimeout(()=>{x(we(f,"network-request-failed"))},Xy.get());pn()[df]=()=>{pn().clearTimeout(M),delete pn()[df];const Y=pn().grecaptcha;if(!Y||!Vt(Y))return void x(we(f,"internal-error"));const Ee=Y.render;Y.render=(Ve,nt)=>{const Je=Ee(Ve,nt);return this.counter++,Je},this.hostLanguage=p,v(Y)},sr(`https://www.google.com/recaptcha/api.js??${(0,N.xO)({onload:df,render:"explicit",hl:p})}`).catch(()=>{clearTimeout(M),x(we(f,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(f){var p;return!(null===(p=pn().grecaptcha)||void 0===p||!p.render)&&(f===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Qn{load(f){return(0,c.Z)(function*(){return new qc(f)})()}clearedOneInstance(){}}const Va="recaptcha",$u={theme:"light",type:"image"};class Wc{constructor(f,p=Object.assign({},$u),v){this.parameters=p,this.type=Va,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=cn(v),this.isInvisible="invisible"===this.parameters.size,te(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const x="string"==typeof f?document.getElementById(f):f;te(x,this.auth,"argument-error"),this.container=x,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Qn:new e_,this.validateStartingState()}verify(){var f=this;return(0,c.Z)(function*(){f.assertNotDestroyed();const p=yield f.render(),v=f.getAssertedRecaptcha();return v.getResponse(p)||new Promise(M=>{const B=Y=>{Y&&(f.tokenChangeListeners.delete(B),M(Y))};f.tokenChangeListeners.add(B),f.isInvisible&&v.execute(p)})})()}render(){try{this.assertNotDestroyed()}catch(f){return Promise.reject(f)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(f=>{throw this.renderPromise=null,f})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(f=>{this.container.removeChild(f)})}validateStartingState(){te(!this.parameters.sitekey,this.auth,"argument-error"),te(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),te(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(f){return p=>{if(this.tokenChangeListeners.forEach(v=>v(p)),"function"==typeof f)f(p);else if("string"==typeof f){const v=pn()[f];"function"==typeof v&&v(p)}}}assertNotDestroyed(){te(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var f=this;return(0,c.Z)(function*(){if(yield f.init(),!f.widgetId){let p=f.container;if(!f.isInvisible){const v=document.createElement("div");p.appendChild(v),p=v}f.widgetId=f.getAssertedRecaptcha().render(p,f.parameters)}return f.widgetId})()}init(){var f=this;return(0,c.Z)(function*(){te(at()&&!Vu(),f.auth,"internal-error"),yield function Ri(){let y=null;return new Promise(f=>{"complete"!==document.readyState?(y=()=>f(),window.addEventListener("load",y)):f()}).catch(f=>{throw y&&window.removeEventListener("load",y),f})}(),f.recaptcha=yield f._recaptchaLoader.load(f.auth,f.auth.languageCode||void 0);const p=yield function X(y){return Oe.apply(this,arguments)}(f.auth);te(p,f.auth,"internal-error"),f.parameters.sitekey=p})()}getAssertedRecaptcha(){return te(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Yi{constructor(f,p){this.verificationId=f,this.onConfirmation=p}confirm(f){const p=fi._fromVerification(this.verificationId,f);return this.onConfirmation(p)}}function ms(){return(ms=(0,c.Z)(function*(y,f,p){const v=cn(y),x=yield Gu(v,f,(0,N.m9)(p));return new Yi(x,M=>Ia(v,M))})).apply(this,arguments)}function zu(){return(zu=(0,c.Z)(function*(y,f,p){const v=(0,N.m9)(y);yield co(!1,v,"phone");const x=yield Gu(v.auth,f,(0,N.m9)(p));return new Yi(x,M=>nd(v,M))})).apply(this,arguments)}function Kc(){return(Kc=(0,c.Z)(function*(y,f,p){const v=(0,N.m9)(y),x=yield Gu(v.auth,f,(0,N.m9)(p));return new Yi(x,M=>rd(v,M))})).apply(this,arguments)}function Gu(y,f,p){return $r.apply(this,arguments)}function $r(){return $r=(0,c.Z)(function*(y,f,p){var v;const x=yield p.verify();try{let M;if(te("string"==typeof x,y,"argument-error"),te(p.type===Va,y,"argument-error"),M="string"==typeof f?{phoneNumber:f}:f,"session"in M){const B=M.session;if("phoneNumber"in M)return te("enroll"===B.type,y,"internal-error"),(yield function zs(y,f){return Ye(y,"POST","/v2/accounts/mfaEnrollment:start",Pt(y,f))}(y,{idToken:B.credential,phoneEnrollmentInfo:{phoneNumber:M.phoneNumber,recaptchaToken:x}})).phoneSessionInfo.sessionInfo;{te("signin"===B.type,y,"internal-error");const Y=(null===(v=M.multiFactorHint)||void 0===v?void 0:v.uid)||M.multiFactorUid;return te(Y,y,"missing-multi-factor-info"),(yield function ps(y,f){return Ye(y,"POST","/v2/accounts/mfaSignIn:start",Pt(y,f))}(y,{mfaPendingCredential:B.credential,mfaEnrollmentId:Y,phoneSignInInfo:{recaptchaToken:x}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:B}=yield function mg(y,f){return Oc.apply(this,arguments)}(y,{phoneNumber:M.phoneNumber,recaptchaToken:x});return B}}finally{p._reset()}}),$r.apply(this,arguments)}function lr(){return(lr=(0,c.Z)(function*(y,f){yield Wn((0,N.m9)(y),f)})).apply(this,arguments)}let Ks=(()=>{class y{constructor(p){this.providerId=y.PROVIDER_ID,this.auth=cn(p)}verifyPhoneNumber(p,v){return Gu(this.auth,p,(0,N.m9)(v))}static credential(p,v){return fi._fromVerification(p,v)}static credentialFromResult(p){return y.credentialFromTaggedObject(p)}static credentialFromError(p){return y.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{phoneNumber:v,temporaryProof:x}=p;return v&&x?fi._fromTokenResponse(v,x):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function No(y,f){return f?vn(f):(te(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class mi extends io{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return Pi(f,this._buildIdpRequest())}_linkToIdToken(f,p){return Pi(f,this._buildIdpRequest(p))}_getReauthenticationResolver(f){return Pi(f,this._buildIdpRequest())}_buildIdpRequest(f){const p={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(p.idToken=f),p}}function md(y){return Ea(y.auth,new mi(y),y.bypassAuthState)}function Yc(y){const{auth:f,user:p}=y;return te(p,f,"internal-error"),Po(p,new mi(y),y.bypassAuthState)}function qu(y){return ys.apply(this,arguments)}function ys(){return(ys=(0,c.Z)(function*(y){const{auth:f,user:p}=y;return te(p,f,"internal-error"),Wn(p,new mi(y),y.bypassAuthState)})).apply(this,arguments)}class ko{constructor(f,p,v,x,M=!1){this.auth=f,this.resolver=v,this.user=x,this.bypassAuthState=M,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(p)?p:[p]}execute(){var f=this;return new Promise(function(){var p=(0,c.Z)(function*(v,x){f.pendingPromise={resolve:v,reject:x};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(M){f.reject(M)}});return function(v,x){return p.apply(this,arguments)}}())}onAuthEvent(f){var p=this;return(0,c.Z)(function*(){const{urlResponse:v,sessionId:x,postBody:M,tenantId:B,error:Y,type:Ee}=f;if(Y)return void p.reject(Y);const Ve={auth:p.auth,requestUri:v,sessionId:x,tenantId:B||void 0,postBody:M||void 0,user:p.user,bypassAuthState:p.bypassAuthState};try{p.resolve(yield p.getIdpTask(Ee)(Ve))}catch(nt){p.reject(nt)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return md;case"linkViaPopup":case"linkViaRedirect":return qu;case"reauthViaPopup":case"reauthViaRedirect":return Yc;default:ve(this.auth,"internal-error")}}resolve(f){Xe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){Xe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const gn=new xe(2e3,1e4);function Zu(){return(Zu=(0,c.Z)(function*(y,f,p){const v=cn(y);Re(y,f,ao);const x=No(v,p);return new $a(v,"signInViaPopup",f,x).executeNotNull()})).apply(this,arguments)}function Ba(){return(Ba=(0,c.Z)(function*(y,f,p){const v=(0,N.m9)(y);Re(v.auth,f,ao);const x=No(v.auth,p);return new $a(v.auth,"reauthViaPopup",f,x,v).executeNotNull()})).apply(this,arguments)}function Qc(){return(Qc=(0,c.Z)(function*(y,f,p){const v=(0,N.m9)(y);Re(v.auth,f,ao);const x=No(v.auth,p);return new $a(v.auth,"linkViaPopup",f,x,v).executeNotNull()})).apply(this,arguments)}let $a=(()=>{class y extends ko{constructor(p,v,x,M,B){super(p,v,M,B),this.provider=x,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var p=this;return(0,c.Z)(function*(){const v=yield p.execute();return te(v,p.auth,"internal-error"),v})()}onExecution(){var p=this;return(0,c.Z)(function*(){Xe(1===p.filter.length,"Popup operations only handle one event");const v=qs();p.authWindow=yield p.resolver._openPopup(p.auth,p.provider,p.filter[0],v),p.authWindow.associatedEvent=v,p.resolver._originValidation(p.auth).catch(x=>{p.reject(x)}),p.resolver._isIframeWebStorageSupported(p.auth,x=>{x||p.reject(we(p.auth,"web-storage-unsupported"))}),p.pollUserCancellation()})()}get eventId(){var p;return(null===(p=this.authWindow)||void 0===p?void 0:p.associatedEvent)||null}cancel(){this.reject(we(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const p=()=>{var v,x;this.pollId=null!==(x=null===(v=this.authWindow)||void 0===v?void 0:v.window)&&void 0!==x&&x.closed?window.setTimeout(()=>{this.pollId=null,this.reject(we(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(p,gn.get())};p()}}return y.currentPopupAction=null,y})();const Xr="pendingRedirect",vr=new Map;class gf extends ko{constructor(f,p,v=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],p,void 0,v),this.eventId=null}execute(){var f=()=>super.execute,p=this;return(0,c.Z)(function*(){let v=vr.get(p.auth._key());if(!v){try{const M=(yield function Wu(y,f){return yd.apply(this,arguments)}(p.resolver,p.auth))?yield f().call(p):null;v=()=>Promise.resolve(M)}catch(x){v=()=>Promise.reject(x)}vr.set(p.auth._key(),v)}return p.bypassAuthState||vr.set(p.auth._key(),()=>Promise.resolve(null)),v()})()}onAuthEvent(f){var p=()=>super.onAuthEvent,v=this;return(0,c.Z)(function*(){if("signInViaRedirect"===f.type)return p().call(v,f);if("unknown"!==f.type){if(f.eventId){const x=yield v.auth._redirectUserForId(f.eventId);if(x)return v.user=x,p().call(v,f);v.resolve(null)}}else v.resolve(null)})()}onExecution(){return(0,c.Z)(function*(){})()}cleanUp(){}}function yd(){return(yd=(0,c.Z)(function*(y,f){const p=Ku(f),v=mo(y);if(!(yield v._isAvailable()))return!1;const x="true"===(yield v._get(p));return yield v._remove(p),x})).apply(this,arguments)}function _s(y,f){return Ys.apply(this,arguments)}function Ys(){return(Ys=(0,c.Z)(function*(y,f){return mo(y)._set(Ku(f),"true")})).apply(this,arguments)}function _d(y,f){vr.set(y._key(),f)}function mo(y){return vn(y._redirectPersistence)}function Ku(y){return V(Xr,y.config.apiKey,y.name)}function wr(y,f,p){return function Fo(y,f,p){return Jc.apply(this,arguments)}(y,f,p)}function Jc(){return(Jc=(0,c.Z)(function*(y,f,p){const v=cn(y);Re(y,f,ao),yield v._initializationPromise;const x=No(v,p);return yield _s(x,v),x._openRedirect(v,f,"signInViaRedirect")})).apply(this,arguments)}function Ig(y,f,p){return function Ha(y,f,p){return za.apply(this,arguments)}(y,f,p)}function za(){return(za=(0,c.Z)(function*(y,f,p){const v=(0,N.m9)(y);Re(v.auth,f,ao),yield v.auth._initializationPromise;const x=No(v.auth,p);yield _s(x,v.auth);const M=yield vs(v);return x._openRedirect(v.auth,f,"reauthViaRedirect",M)})).apply(this,arguments)}function vd(y,f,p){return function wd(y,f,p){return Xc.apply(this,arguments)}(y,f,p)}function Xc(){return(Xc=(0,c.Z)(function*(y,f,p){const v=(0,N.m9)(y);Re(v.auth,f,ao),yield v.auth._initializationPromise;const x=No(v.auth,p);yield co(!1,v,f.providerId),yield _s(x,v.auth);const M=yield vs(v);return x._openRedirect(v.auth,f,"linkViaRedirect",M)})).apply(this,arguments)}function tl(){return(tl=(0,c.Z)(function*(y,f){return yield cn(y)._initializationPromise,Ga(y,f,!1)})).apply(this,arguments)}function Ga(y,f){return Js.apply(this,arguments)}function Js(){return(Js=(0,c.Z)(function*(y,f,p=!1){const v=cn(y),x=No(v,f),B=yield new gf(v,x,p).execute();return B&&!p&&(delete B.user._redirectEventId,yield v._persistUserIfCurrent(B.user),yield v._setRedirectUser(null,f)),B})).apply(this,arguments)}function vs(y){return qa.apply(this,arguments)}function qa(){return(qa=(0,c.Z)(function*(y){const f=qs(`${y.uid}:::`);return y._redirectEventId=f,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),f})).apply(this,arguments)}class ws{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let p=!1;return this.consumers.forEach(v=>{this.isEventForConsumer(f,v)&&(p=!0,this.sendToConsumer(f,v),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function il(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Yu(y);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,p||(this.queuedRedirectEvent=f,p=!0)),p}sendToConsumer(f,p){var v;if(f.error&&!Yu(f)){const x=(null===(v=f.error.code)||void 0===v?void 0:v.split("auth/")[1])||"internal-error";p.onError(we(this.auth,x))}else p.onAuthEvent(f)}isEventForConsumer(f,p){const v=null===p.eventId||!!f.eventId&&f.eventId===p.eventId;return p.filter.includes(f.type)&&v}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(rl(f))}saveEventToCache(f){this.cachedEventUids.add(rl(f)),this.lastProcessedEventTime=Date.now()}}function rl(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(f=>f).join("-")}function Yu({type:y,error:f}){return"unknown"===y&&"auth/no-auth-event"===f?.code}function Cd(y){return bd.apply(this,arguments)}function bd(){return(bd=(0,c.Z)(function*(y,f={}){return Ye(y,"GET","/v1/projects",f)})).apply(this,arguments)}const Ed=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ol=/^https?/;function Qi(){return(Qi=(0,c.Z)(function*(y){if(y.config.emulator)return;const{authorizedDomains:f}=yield Cd(y);for(const p of f)try{if(Za(p))return}catch{}ve(y,"unauthorized-domain")})).apply(this,arguments)}function Za(y){const f=Ht(),{protocol:p,hostname:v}=new URL(f);if(y.startsWith("chrome-extension://")){const B=new URL(y);return""===B.hostname&&""===v?"chrome-extension:"===p&&y.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===p&&B.hostname===v}if(!ol.test(p))return!1;if(Ed.test(y))return v===y;const x=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+x+"|"+x+")$","i").test(v)}const Wa=new xe(3e4,6e4);function yi(){const y=pn().___jsl;if(y?.H)for(const f of Object.keys(y.H))if(y.H[f].r=y.H[f].r||[],y.H[f].L=y.H[f].L||[],y.H[f].r=[...y.H[f].L],y.CP)for(let p=0;p<y.CP.length;p++)y.CP[p]=null}let Ka=null;const Vo=new xe(5e3,15e3),sl="__/auth/iframe",mf="emulator/auth/iframe",Dg={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ya=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ju(y){const f=y.config;te(f.authDomain,y,"auth-domain-config-required");const p=f.emulator?He(f,mf):`https://${y.config.authDomain}/${sl}`,v={apiKey:f.apiKey,appName:y.name,v:oe.SDK_VERSION},x=Ya.get(y.config.apiHost);x&&(v.eid=x);const M=y._getFrameworks();return M.length&&(v.fw=M.join(",")),`${p}?${(0,N.xO)(v).slice(1)}`}function E(){return E=(0,c.Z)(function*(y){const f=yield function An(y){return Ka=Ka||function Lo(y){return new Promise((f,p)=>{var v,x,M;function B(){yi(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{yi(),p(we(y,"network-request-failed"))},timeout:Wa.get()})}if(null!==(x=null===(v=pn().gapi)||void 0===v?void 0:v.iframes)&&void 0!==x&&x.Iframe)f(gapi.iframes.getContext());else{if(null===(M=pn().gapi)||void 0===M||!M.load){const Y=Vn("iframefcb");return pn()[Y]=()=>{gapi.load?B():p(we(y,"network-request-failed"))},sr(`https://apis.google.com/js/api.js?onload=${Y}`).catch(Ee=>p(Ee))}B()}}).catch(f=>{throw Ka=null,f})}(y),Ka}(y),p=pn().gapi;return te(p,y,"internal-error"),f.open({where:document.body,url:Ju(y),messageHandlersFilter:p.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Dg,dontclear:!0},v=>new Promise(function(){var x=(0,c.Z)(function*(M,B){yield v.restyle({setHideOnLeave:!1});const Y=we(y,"network-request-failed"),Ee=pn().setTimeout(()=>{B(Y)},Vo.get());function Ve(){pn().clearTimeout(Ee),M(v)}v.ping(Ve).then(Ve,()=>{B(Y)})});return function(M,B){return x.apply(this,arguments)}}()))}),E.apply(this,arguments)}const A={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},R=500,H=600,W="_blank",ne="http://localhost";class Ge{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Ot="__/auth/handler",Rt="emulator/auth/handler",_i=encodeURIComponent("fac");function Mn(y,f,p,v,x,M){return Xs.apply(this,arguments)}function Xs(){return(Xs=(0,c.Z)(function*(y,f,p,v,x,M){te(y.config.authDomain,y,"auth-domain-config-required"),te(y.config.apiKey,y,"invalid-api-key");const B={apiKey:y.config.apiKey,appName:y.name,authType:p,redirectUrl:v,v:oe.SDK_VERSION,eventId:x};if(f instanceof ao){f.setDefaultLanguage(y.languageCode),B.providerId=f.providerId||"",(0,N.xb)(f.getCustomParameters())||(B.customParameters=JSON.stringify(f.getCustomParameters()));for(const[nt,Je]of Object.entries(M||{}))B[nt]=Je}if(f instanceof Wi){const nt=f.getScopes().filter(Je=>""!==Je);nt.length>0&&(B.scopes=nt.join(","))}y.tenantId&&(B.tid=y.tenantId);const Y=B;for(const nt of Object.keys(Y))void 0===Y[nt]&&delete Y[nt];const Ee=yield y._getAppCheckToken(),Ve=Ee?`#${_i}=${encodeURIComponent(Ee)}`:"";return`${function Xu({config:y}){return y.emulator?He(y,Rt):`https://${y.authDomain}/${Ot}`}(y)}?${(0,N.xO)(Y).slice(1)}${Ve}`})).apply(this,arguments)}const Cs="webStorageSupport",Ar=class ei{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=po,this._completeRedirectFn=Ga,this._overrideRedirectResult=_d}_openPopup(f,p,v,x){var M=this;return(0,c.Z)(function*(){var B;Xe(null===(B=M.eventManagers[f._key()])||void 0===B?void 0:B.manager,"_initialize() not called before _openPopup()");const Y=yield Mn(f,p,v,Ht(),x);return function ze(y,f,p,v=R,x=H){const M=Math.max((window.screen.availHeight-x)/2,0).toString(),B=Math.max((window.screen.availWidth-v)/2,0).toString();let Y="";const Ee=Object.assign(Object.assign({},A),{width:v.toString(),height:x.toString(),top:M,left:B}),Ve=(0,N.z$)().toLowerCase();p&&(Y=Ne(Ve)?W:p),ge(Ve)&&(f=f||ne,Ee.scrollbars="yes");const nt=Object.entries(Ee).reduce((Cn,[vi,lc])=>`${Cn}${vi}=${lc},`,"");if(function xr(y=(0,N.z$)()){var f;return an(y)&&!(null===(f=window.navigator)||void 0===f||!f.standalone)}(Ve)&&"_self"!==Y)return function ct(y,f){const p=document.createElement("a");p.href=y,p.target=f;const v=document.createEvent("MouseEvent");v.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),p.dispatchEvent(v)}(f||"",Y),new Ge(null);const Je=window.open(f||"",Y,nt);te(Je,y,"popup-blocked");try{Je.focus()}catch{}return new Ge(Je)}(f,Y,qs())})()}_openRedirect(f,p,v,x){var M=this;return(0,c.Z)(function*(){return yield M._originValidation(f),function pd(y){pn().location.href=y}(yield Mn(f,p,v,Ht(),x)),new Promise(()=>{})})()}_initialize(f){const p=f._key();if(this.eventManagers[p]){const{manager:x,promise:M}=this.eventManagers[p];return x?Promise.resolve(x):(Xe(M,"If manager is not set, promise should be"),M)}const v=this.initAndGetManager(f);return this.eventManagers[p]={promise:v},v.catch(()=>{delete this.eventManagers[p]}),v}initAndGetManager(f){var p=this;return(0,c.Z)(function*(){const v=yield function C(y){return E.apply(this,arguments)}(f),x=new ws(f);return v.register("authEvent",M=>(te(M?.authEvent,f,"invalid-auth-event"),{status:x.onEvent(M.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),p.eventManagers[f._key()]={manager:x},p.iframes[f._key()]=v,x})()}_isIframeWebStorageSupported(f,p){this.iframes[f._key()].send(Cs,{type:Cs},x=>{var M;const B=null===(M=x?.[0])||void 0===M?void 0:M[Cs];void 0!==B&&p(!!B),ve(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const p=f._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function Qu(y){return Qi.apply(this,arguments)}(f)),this.originValidationPromises[p]}get _shouldInitProactively(){return qi()||J()||an()}};class bs{constructor(f){this.factorId=f}_process(f,p,v){switch(p.type){case"enroll":return this._finalizeEnroll(f,p.credential,v);case"signin":return this._finalizeSignIn(f,p.credential);default:return xt("unexpected MultiFactorSessionType")}}}class ea extends bs{constructor(f){super("phone"),this.credential=f}static _fromCredential(f){return new ea(f)}_finalizeEnroll(f,p,v){return function jc(y,f){return Ye(y,"POST","/v2/accounts/mfaEnrollment:finalize",Pt(y,f))}(f,{idToken:p,displayName:v,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(f,p){return function lf(y,f){return Ye(y,"POST","/v2/accounts/mfaSignIn:finalize",Pt(y,f))}(f,{mfaPendingCredential:p,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Es=(()=>{class y{constructor(){}static assertion(p){return ea._fromCredential(p)}}return y.FACTOR_ID="phone",y})();var nc="@firebase/auth";class Id{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var p=this;return(0,c.Z)(function*(){return p.assertAuthConfigured(),yield p.auth._initializationPromise,p.auth.currentUser?{accessToken:yield p.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const p=this.auth.onIdTokenChanged(v=>{f(v?.stsTokenManager.accessToken||null)});this.internalListeners.set(f,p),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const p=this.internalListeners.get(f);p&&(this.internalListeners.delete(f),p(),this.updateProactiveRefresh())}assertAuthConfigured(){te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Uo(){return window}(0,N.Pz)("authIdTokenMaxAge"),function vf(y){(0,oe._registerComponent)(new pe.wA("auth",(f,{options:p})=>{const v=f.getProvider("app").getImmediate(),x=f.getProvider("heartbeat"),M=f.getProvider("app-check-internal"),{apiKey:B,authDomain:Y}=v.options;te(B&&!B.includes(":"),"invalid-api-key",{appName:v.name}),te(!Y?.includes(":"),"argument-error",{appName:v.name});const Ee={apiKey:B,authDomain:Y,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ue(y)},Ve=new di(v,x,M,Ee);return function Sn(y,f){const p=f?.persistence||[],v=(Array.isArray(p)?p:[p]).map(vn);f?.errorMap&&y._updateErrorMap(f.errorMap),y._initializeWithPersistence(v,f?.popupRedirectResolver)}(Ve,p),Ve},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,p,v)=>{f.getProvider("auth-internal").initialize()})),(0,oe._registerComponent)(new pe.wA("auth-internal",f=>{const p=cn(f.getProvider("auth").getImmediate());return new Id(p)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,oe.registerVersion)(nc,"0.23.1",function _f(y){switch(y){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(y)),(0,oe.registerVersion)(nc,"0.23.1","esm2017")}("Browser");const Dd=2e3;function na(){return na=(0,c.Z)(function*(y,f,p){var v;const{BuildInfo:x}=Uo();Xe(f.sessionId,"AuthEvent did not contain a session ID");const M=yield function ra(y){return Sd.apply(this,arguments)}(f.sessionId),B={};return an()?B.ibi=x.packageName:Yt()?B.apn=x.packageName:ve(y,"operation-not-supported-in-this-environment"),x.displayName&&(B.appDisplayName=x.displayName),B.sessionId=M,Mn(y,p,f.type,void 0,null!==(v=f.eventId)&&void 0!==v?v:void 0,B)}),na.apply(this,arguments)}function cl(){return(cl=(0,c.Z)(function*(y){const{BuildInfo:f}=Uo(),p={};an()?p.iosBundleId=f.packageName:Yt()?p.androidPackageName=f.packageName:ve(y,"operation-not-supported-in-this-environment"),yield Cd(y,p)})).apply(this,arguments)}function Td(){return(Td=(0,c.Z)(function*(y,f,p){const{cordova:v}=Uo();let x=()=>{};try{yield new Promise((M,B)=>{let Y=null;function Ee(){var Je;M();const Cn=null===(Je=v.plugins.browsertab)||void 0===Je?void 0:Je.close;"function"==typeof Cn&&Cn(),"function"==typeof p?.close&&p.close()}function Ve(){Y||(Y=window.setTimeout(()=>{B(we(y,"redirect-cancelled-by-user"))},Dd))}function nt(){"visible"===document?.visibilityState&&Ve()}f.addPassiveListener(Ee),document.addEventListener("resume",Ve,!1),Yt()&&document.addEventListener("visibilitychange",nt,!1),x=()=>{f.removePassiveListener(Ee),document.removeEventListener("resume",Ve,!1),document.removeEventListener("visibilitychange",nt,!1),Y&&window.clearTimeout(Y)}})}finally{x()}})).apply(this,arguments)}function Sd(){return(Sd=(0,c.Z)(function*(y){const f=function Cf(y){if(Xe(/[0-9a-zA-Z]+/.test(y),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(y);const f=new ArrayBuffer(y.length),p=new Uint8Array(f);for(let v=0;v<y.length;v++)p[v]=y.charCodeAt(v);return p}(y),p=yield crypto.subtle.digest("SHA-256",f);return Array.from(new Uint8Array(p)).map(x=>x.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}const t_=20;class qI extends ws{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(f=>{this.resolveInialized=f})}addPassiveListener(f){this.passiveListeners.add(f)}removePassiveListener(f){this.passiveListeners.delete(f)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(f){return this.resolveInialized(),this.passiveListeners.forEach(p=>p(f)),super.onEvent(f)}initialized(){var f=this;return(0,c.Z)(function*(){yield f.initPromise})()}}function Mg(y){return Ef.apply(this,arguments)}function Ef(){return(Ef=(0,c.Z)(function*(y){const f=yield ll()._get(ia(y));return f&&(yield ll()._remove(ia(y))),f})).apply(this,arguments)}function If(){const y=[],f="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let p=0;p<t_;p++){const v=Math.floor(Math.random()*f.length);y.push(f.charAt(v))}return y.join("")}function ll(){return vn(ls)}function ia(y){return V("authEvent",y.config.apiKey,y.name)}function ic(y){if(!y?.includes("?"))return{};const[f,...p]=y.split("?");return(0,N.zd)(p.join("?"))}const oc=class oa{constructor(){this._redirectPersistence=po,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Ga,this._overrideRedirectResult=_d}_initialize(f){var p=this;return(0,c.Z)(function*(){const v=f._key();let x=p.eventManagers.get(v);return x||(x=new qI(f),p.eventManagers.set(v,x),p.attachCallbackListeners(f,x)),x})()}_openPopup(f){ve(f,"operation-not-supported-in-this-environment")}_openRedirect(f,p,v,x){var M=this;return(0,c.Z)(function*(){!function Ag(y){var f,p,v,x,M,B,Y,Ee,Ve,nt;const Je=Uo();te("function"==typeof(null===(f=Je?.universalLinks)||void 0===f?void 0:f.subscribe),y,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),te(typeof(null===(p=Je?.BuildInfo)||void 0===p?void 0:p.packageName)<"u",y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),te("function"==typeof(null===(M=null===(x=null===(v=Je?.cordova)||void 0===v?void 0:v.plugins)||void 0===x?void 0:x.browsertab)||void 0===M?void 0:M.openUrl),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),te("function"==typeof(null===(Ee=null===(Y=null===(B=Je?.cordova)||void 0===B?void 0:B.plugins)||void 0===Y?void 0:Y.browsertab)||void 0===Ee?void 0:Ee.isAvailable),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),te("function"==typeof(null===(nt=null===(Ve=Je?.cordova)||void 0===Ve?void 0:Ve.InAppBrowser)||void 0===nt?void 0:nt.open),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(f);const B=yield M._initialize(f);yield B.initialized(),B.resetRedirect(),function Qs(){vr.clear()}(),yield M._originValidation(f);const Y=function Ad(y,f,p=null){return{type:f,eventId:p,urlResponse:null,sessionId:If(),postBody:null,tenantId:y.tenantId,error:we(y,"no-auth-event")}}(f,v,x);yield function bf(y,f){return ll()._set(ia(y),f)}(f,Y);const Ee=yield function rc(y,f,p){return na.apply(this,arguments)}(f,Y,p),Ve=yield function wf(y){const{cordova:f}=Uo();return new Promise(p=>{f.plugins.browsertab.isAvailable(v=>{let x=null;v?f.plugins.browsertab.openUrl(y):x=f.InAppBrowser.open(y,function zt(y=(0,N.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}()?"_blank":"_system","location=yes"),p(x)})})}(Ee);return function xd(y,f,p){return Td.apply(this,arguments)}(f,B,Ve)})()}_isIframeWebStorageSupported(f,p){throw new Error("Method not implemented.")}_originValidation(f){const p=f._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function ul(y){return cl.apply(this,arguments)}(f)),this.originValidationPromises[p]}attachCallbackListeners(f,p){const{universalLinks:v,handleOpenURL:x,BuildInfo:M}=Uo(),B=setTimeout((0,c.Z)(function*(){yield Mg(f),p.onEvent(Df())}),500),Y=function(){var nt=(0,c.Z)(function*(Je){clearTimeout(B);const Cn=yield Mg(f);let vi=null;Cn&&Je?.url&&(vi=function Md(y,f){var p,v;const x=function n_(y){const f=ic(y),p=f.link?decodeURIComponent(f.link):void 0,v=ic(p).link,x=f.deep_link_id?decodeURIComponent(f.deep_link_id):void 0;return ic(x).link||x||v||p||y}(f);if(x.includes("/__/auth/callback")){const M=ic(x),B=M.firebaseError?function Pd(y){try{return JSON.parse(y)}catch{return null}}(decodeURIComponent(M.firebaseError)):null,Y=null===(v=null===(p=B?.code)||void 0===p?void 0:p.split("auth/"))||void 0===v?void 0:v[1],Ee=Y?we(Y):null;return Ee?{type:y.type,eventId:y.eventId,tenantId:y.tenantId,error:Ee,urlResponse:null,sessionId:null,postBody:null}:{type:y.type,eventId:y.eventId,tenantId:y.tenantId,sessionId:y.sessionId,urlResponse:x,postBody:null}}return null}(Cn,Je.url)),p.onEvent(vi||Df())});return function(Cn){return nt.apply(this,arguments)}}();typeof v<"u"&&"function"==typeof v.subscribe&&v.subscribe(null,Y);const Ee=x,Ve=`${M.packageName.toLowerCase()}://`;Uo().handleOpenURL=function(){var nt=(0,c.Z)(function*(Je){if(Je.toLowerCase().startsWith(Ve)&&Y({url:Je}),"function"==typeof Ee)try{Ee(Je)}catch(Cn){console.error(Cn)}});return function(Je){return nt.apply(this,arguments)}}()}};function Df(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:we("no-auth-event")}}const Pg=1e3;function dl(){var y;return(null===(y=self?.location)||void 0===y?void 0:y.protocol)||null}function Od(y=(0,N.z$)()){return!("file:"!==dl()&&"ionic:"!==dl()&&"capacitor:"!==dl()||!y.toLowerCase().match(/iphone|ipad|ipod|android/))}function Ng(){try{const y=self.localStorage,f=qs();if(y)return y.setItem(f,"1"),y.removeItem(f),!function o_(y=(0,N.z$)()){return function sc(){return(0,N.w1)()&&11===document?.documentMode}()||function Rg(y=(0,N.z$)()){return/Edge\/\d+/.test(y)}(y)}()||(0,N.hl)()}catch{return sa()&&(0,N.hl)()}return!1}function sa(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function aa(){return(function i_(){return"http:"===dl()||"https:"===dl()}()||(0,N.ru)()||Od())&&!function Og(){return(0,N.b$)()||(0,N.UG)()}()&&Ng()&&!sa()}function kg(){return Od()&&typeof document<"u"}function ac(){return(ac=(0,c.Z)(function*(){return!!kg()&&new Promise(y=>{const f=setTimeout(()=>{y(!1)},Pg);document.addEventListener("deviceready",()=>{clearTimeout(f),y(!0)})})})).apply(this,arguments)}const ti={LOCAL:"local",NONE:"none",SESSION:"session"},uc=te,Rd="persistence";function Nd(y){return kd.apply(this,arguments)}function kd(){return(kd=(0,c.Z)(function*(y){yield y._initializationPromise;const f=Sf(),p=V(Rd,y.config.apiKey,y.name);f&&f.setItem(p,y._getPersistence())})).apply(this,arguments)}function Sf(){var y;try{return(null===(y=function Fg(){return typeof window<"u"?window:null}())||void 0===y?void 0:y.sessionStorage)||null}catch{return null}}const a_=te;class Mr{constructor(){this.browserResolver=vn(Ar),this.cordovaResolver=vn(oc),this.underlyingResolver=null,this._redirectPersistence=po,this._completeRedirectFn=Ga,this._overrideRedirectResult=_d}_initialize(f){var p=this;return(0,c.Z)(function*(){return yield p.selectUnderlyingResolver(),p.assertedUnderlyingResolver._initialize(f)})()}_openPopup(f,p,v,x){var M=this;return(0,c.Z)(function*(){return yield M.selectUnderlyingResolver(),M.assertedUnderlyingResolver._openPopup(f,p,v,x)})()}_openRedirect(f,p,v,x){var M=this;return(0,c.Z)(function*(){return yield M.selectUnderlyingResolver(),M.assertedUnderlyingResolver._openRedirect(f,p,v,x)})()}_isIframeWebStorageSupported(f,p){this.assertedUnderlyingResolver._isIframeWebStorageSupported(f,p)}_originValidation(f){return this.assertedUnderlyingResolver._originValidation(f)}get _shouldInitProactively(){return kg()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return a_(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var f=this;return(0,c.Z)(function*(){if(f.underlyingResolver)return;const p=yield function Tf(){return ac.apply(this,arguments)}();f.underlyingResolver=p?f.cordovaResolver:f.browserResolver})()}}function cc(y){return y.unwrap()}function vw(y){return Ug(y)}function Ug(y){const{_tokenResponse:f}=y instanceof N.ZR?y.customData:y;if(!f)return null;if(!(y instanceof N.ZR)&&"temporaryProof"in f&&"phoneNumber"in f)return Ks.credentialFromResult(y);const p=f.providerId;if(!p||p===le.PASSWORD)return null;let v;switch(p){case le.GOOGLE:v=wa;break;case le.FACEBOOK:v=Rc;break;case le.GITHUB:v=Jl;break;case le.TWITTER:v=vu;break;default:const{oauthIdToken:x,oauthAccessToken:M,oauthTokenSecret:B,pendingToken:Y,nonce:Ee}=f;return M||B||x||Y?Y?p.startsWith("saml.")?Ao._create(p,Y):so._fromParams({providerId:p,signInMethod:p,pendingToken:Y,idToken:x,accessToken:M}):new es(p).credential({idToken:x,accessToken:M,rawNonce:Ee}):null}return y instanceof N.ZR?v.credentialFromError(y):v.credentialFromResult(y)}function Ni(y,f){return f.catch(p=>{throw p instanceof N.ZR&&function Vg(y,f){var p;const v=null===(p=f.customData)||void 0===p?void 0:p._tokenResponse;if("auth/multi-factor-auth-required"===f?.code)f.resolver=new Bg(y,function Nu(y,f){var p;const v=(0,N.m9)(y),x=f;return te(f.customData.operationType,v,"argument-error"),te(null===(p=x.customData._serverResponse)||void 0===p?void 0:p.mfaPendingCredential,v,"argument-error"),os._fromError(v,x)}(y,f));else if(v){const x=Ug(f),M=f;x&&(M.credential=x,M.tenantId=v.tenantId||void 0,M.email=v.email||void 0,M.phoneNumber=v.phoneNumber||void 0)}}(y,p),p}).then(p=>{const x=p.user;return{operationType:p.operationType,credential:vw(p),additionalUserInfo:Uc(p),user:Is.getOrCreate(x)}})}function Mf(y,f){return Fd.apply(this,arguments)}function Fd(){return(Fd=(0,c.Z)(function*(y,f){const p=yield f;return{verificationId:p.verificationId,confirm:v=>Ni(y,p.confirm(v))}})).apply(this,arguments)}class Bg{constructor(f,p){this.resolver=p,this.auth=function Af(y){return y.wrapped()}(f)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(f){return Ni(cc(this.auth),this.resolver.resolveSignIn(f))}}class Is{constructor(f){this._delegate=f,this.multiFactor=function dd(y){const f=(0,N.m9)(y);return Oo.has(f)||Oo.set(f,us._fromUser(f)),Oo.get(f)}(f)}static getOrCreate(f){return Is.USER_MAP.has(f)||Is.USER_MAP.set(f,new Is(f)),Is.USER_MAP.get(f)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(f){return this._delegate.getIdTokenResult(f)}getIdToken(f){return this._delegate.getIdToken(f)}linkAndRetrieveDataWithCredential(f){return this.linkWithCredential(f)}linkWithCredential(f){var p=this;return(0,c.Z)(function*(){return Ni(p.auth,nd(p._delegate,f))})()}linkWithPhoneNumber(f,p){var v=this;return(0,c.Z)(function*(){return Mf(v.auth,function Hu(y,f,p){return zu.apply(this,arguments)}(v._delegate,f,p))})()}linkWithPopup(f){var p=this;return(0,c.Z)(function*(){return Ni(p.auth,function ja(y,f,p){return Qc.apply(this,arguments)}(p._delegate,f,Mr))})()}linkWithRedirect(f){var p=this;return(0,c.Z)(function*(){return yield Nd(cn(p.auth)),vd(p._delegate,f,Mr)})()}reauthenticateAndRetrieveDataWithCredential(f){return this.reauthenticateWithCredential(f)}reauthenticateWithCredential(f){var p=this;return(0,c.Z)(function*(){return Ni(p.auth,rd(p._delegate,f))})()}reauthenticateWithPhoneNumber(f,p){return Mf(this.auth,function pf(y,f,p){return Kc.apply(this,arguments)}(this._delegate,f,p))}reauthenticateWithPopup(f){return Ni(this.auth,function Ua(y,f,p){return Ba.apply(this,arguments)}(this._delegate,f,Mr))}reauthenticateWithRedirect(f){var p=this;return(0,c.Z)(function*(){return yield Nd(cn(p.auth)),Ig(p._delegate,f,Mr)})()}sendEmailVerification(f){return function Su(y,f){return Aa.apply(this,arguments)}(this._delegate,f)}unlink(f){var p=this;return(0,c.Z)(function*(){return yield function ed(y,f){return Sr.apply(this,arguments)}(p._delegate,f),p})()}updateEmail(f){return function _r(y,f){return In((0,N.m9)(y),f,null)}(this._delegate,f)}updatePassword(f){return function ho(y,f){return In((0,N.m9)(y),null,f)}(this._delegate,f)}updatePhoneNumber(f){return function un(y,f){return lr.apply(this,arguments)}(this._delegate,f)}updateProfile(f){return function tf(y,f){return Mu.apply(this,arguments)}(this._delegate,f)}verifyBeforeUpdateEmail(f,p){return function Lc(y,f,p){return Ma.apply(this,arguments)}(this._delegate,f,p)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Is.USER_MAP=new WeakMap;const Ja=te;let Pf=(()=>{class y{constructor(p,v){if(this.app=p,v.isInitialized())return this._delegate=v.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:x}=p.options;Ja(x,"invalid-api-key",{appName:p.name}),Ja(x,"invalid-api-key",{appName:p.name});const M=typeof window<"u"?Mr:void 0;this._delegate=v.initialize({options:{persistence:Bo(x,p.name),popupRedirectResolver:M}}),this._delegate._updateErrorMap(We),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Is.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(p){this._delegate.languageCode=p}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(p){this._delegate.tenantId=p}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(p,v){!function ma(y,f,p){const v=cn(y);te(v._canInitEmulator,v,"emulator-config-failed"),te(/^https?:\/\//.test(f),v,"invalid-emulator-scheme");const x=!!p?.disableWarnings,M=Kr(f),{host:B,port:Y}=function Lt(y){const f=Kr(y),p=/(\/\/)?([^?#/]+)/.exec(y.substr(f.length));if(!p)return{host:"",port:null};const v=p[2].split("@").pop()||"",x=/^(\[[^\]]+\])(:|$)/.exec(v);if(x){const M=x[1];return{host:M,port:ya(v.substr(M.length+1))}}{const[M,B]=v.split(":");return{host:M,port:ya(B)}}}(f);v.config.emulator={url:`${M}//${B}${null===Y?"":`:${Y}`}/`},v.settings.appVerificationDisabledForTesting=!0,v.emulatorConfig=Object.freeze({host:B,port:Y,protocol:M.replace(":",""),options:Object.freeze({disableWarnings:x})}),x||function Jo(){function y(){const f=document.createElement("p"),p=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",p.position="fixed",p.width="100%",p.backgroundColor="#ffffff",p.border=".1em solid #000000",p.color="#b50000",p.bottom="0px",p.left="0px",p.margin="0px",p.zIndex="10000",p.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}()}(this._delegate,p,v)}applyActionCode(p){return function vg(y,f){return lo.apply(this,arguments)}(this._delegate,p)}checkActionCode(p){return Ta(this._delegate,p)}confirmPasswordReset(p,v){return function od(y,f,p){return Iu.apply(this,arguments)}(this._delegate,p,v)}createUserWithEmailAndPassword(p,v){var x=this;return(0,c.Z)(function*(){return Ni(x._delegate,function ns(y,f,p){return gi.apply(this,arguments)}(x._delegate,p,v))})()}fetchProvidersForEmail(p){return this.fetchSignInMethodsForEmail(p)}fetchSignInMethodsForEmail(p){return function ad(y,f){return Tu.apply(this,arguments)}(this._delegate,p)}isSignInWithEmailLink(p){return function wg(y,f){return"EMAIL_SIGNIN"===Vs.parseLink(f)?.operation}(0,p)}getRedirectResult(){var p=this;return(0,c.Z)(function*(){Ja(aa(),p._delegate,"operation-not-supported-in-this-environment");const v=yield function el(y,f){return tl.apply(this,arguments)}(p._delegate,Mr);return v?Ni(p._delegate,Promise.resolve(v)):{credential:null,user:null}})()}addFrameworkForLogging(p){!function xf(y,f){cn(y)._logFramework(f)}(this._delegate,p)}onAuthStateChanged(p,v,x){const{next:M,error:B,complete:Y}=Ld(p,v,x);return this._delegate.onAuthStateChanged(M,B,Y)}onIdTokenChanged(p,v,x){const{next:M,error:B,complete:Y}=Ld(p,v,x);return this._delegate.onIdTokenChanged(M,B,Y)}sendSignInLinkToEmail(p,v){return function Sa(y,f,p){return Du.apply(this,arguments)}(this._delegate,p,v)}sendPasswordResetEmail(p,v){return function Eu(y,f,p){return jr.apply(this,arguments)}(this._delegate,p,v||void 0)}setPersistence(p){var v=this;return(0,c.Z)(function*(){let x;switch(function Lg(y,f){uc(Object.values(ti).includes(f),y,"invalid-persistence-type"),(0,N.b$)()?uc(f!==ti.SESSION,y,"unsupported-persistence-type"):(0,N.UG)()?uc(f===ti.NONE,y,"unsupported-persistence-type"):sa()?uc(f===ti.NONE||f===ti.LOCAL&&(0,N.hl)(),y,"unsupported-persistence-type"):uc(f===ti.NONE||Ng(),y,"unsupported-persistence-type")}(v._delegate,p),p){case ti.SESSION:x=po;break;case ti.LOCAL:x=(yield vn(fs)._isAvailable())?fs:ls;break;case ti.NONE:x=Ur;break;default:return ve("argument-error",{appName:v._delegate.name})}return v._delegate.setPersistence(x)})()}signInAndRetrieveDataWithCredential(p){return this.signInWithCredential(p)}signInAnonymously(){return Ni(this._delegate,function ur(y){return Us.apply(this,arguments)}(this._delegate))}signInWithCredential(p){return Ni(this._delegate,Ia(this._delegate,p))}signInWithCustomToken(p){return Ni(this._delegate,function ce(y,f){return kt.apply(this,arguments)}(this._delegate,p))}signInWithEmailAndPassword(p,v){return Ni(this._delegate,function sd(y,f,p){return Ia((0,N.m9)(y),Xh.credential(f,p))}(this._delegate,p,v))}signInWithEmailLink(p,v){return Ni(this._delegate,function jn(y,f,p){return js.apply(this,arguments)}(this._delegate,p,v))}signInWithPhoneNumber(p,v){return Mf(this._delegate,function ff(y,f,p){return ms.apply(this,arguments)}(this._delegate,p,v))}signInWithPopup(p){var v=this;return(0,c.Z)(function*(){return Ja(aa(),v._delegate,"operation-not-supported-in-this-environment"),Ni(v._delegate,function mt(y,f,p){return Zu.apply(this,arguments)}(v._delegate,p,Mr))})()}signInWithRedirect(p){var v=this;return(0,c.Z)(function*(){return Ja(aa(),v._delegate,"operation-not-supported-in-this-environment"),yield Nd(v._delegate),wr(v._delegate,p,Mr)})()}updateCurrentUser(p){return this._delegate.updateCurrentUser(p)}verifyPasswordResetCode(p){return function pi(y,f){return Ki.apply(this,arguments)}(this._delegate,p)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return y.Persistence=ti,y})();function Ld(y,f,p){let v=y;"function"!=typeof y&&({next:v,error:f,complete:p}=y);const x=v;return{next:B=>x(B&&Is.getOrCreate(B)),error:f,complete:p}}function Bo(y,f){const p=function s_(y,f){const p=Sf();if(!p)return[];const v=V(Rd,y,f);switch(p.getItem(v)){case ti.NONE:return[Ur];case ti.LOCAL:return[fs,po];case ti.SESSION:return[po];default:return[]}}(y,f);if(typeof self<"u"&&!p.includes(fs)&&p.push(fs),typeof window<"u")for(const v of[ls,po])p.includes(v)||p.push(v);return p.includes(Ur)||p.push(Ur),p}class Xa{constructor(){this.providerId="phone",this._delegate=new Ks(cc(Q.Z.auth()))}static credential(f,p){return Ks.credential(f,p)}verifyPhoneNumber(f,p){return this._delegate.verifyPhoneNumber(f,p)}unwrap(){return this._delegate}}Xa.PHONE_SIGN_IN_METHOD=Ks.PHONE_SIGN_IN_METHOD,Xa.PROVIDER_ID=Ks.PROVIDER_ID;const u_=te;class Vd{constructor(f,p,v=Q.Z.app()){var x;u_(null===(x=v.options)||void 0===x?void 0:x.apiKey,"invalid-api-key",{appName:v.name}),this._delegate=new Wc(f,p,v.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function c_(y){y.INTERNAL.registerComponent(new pe.wA("auth-compat",f=>{const p=f.getProvider("app-compat").getImmediate(),v=f.getProvider("auth");return new Pf(p,v)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:q_EMAIL_SIGNIN,PASSWORD_RESET:q_PASSWORD_RESET,RECOVER_EMAIL:q_RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:q_REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:q_VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:q_VERIFY_EMAIL}},EmailAuthProvider:Xh,FacebookAuthProvider:Rc,GithubAuthProvider:Jl,GoogleAuthProvider:wa,OAuthProvider:es,SAMLAuthProvider:Ca,PhoneAuthProvider:Xa,PhoneMultiFactorGenerator:Es,RecaptchaVerifier:Vd,TwitterAuthProvider:vu,Auth:Pf,AuthCredential:io,Error:N.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),y.registerVersion("@firebase/auth-compat","0.4.1")}(Q.Z)},5861:(_t,De,k)=>{function c(N,oe,ie,re,pe,_e,le){try{var $=N[_e](le),j=$.value}catch(q){return void ie(q)}$.done?oe(j):Promise.resolve(j).then(re,pe)}function Q(N){return function(){var oe=this,ie=arguments;return new Promise(function(re,pe){var _e=N.apply(oe,ie);function le(j){c(_e,re,pe,le,$,"next",j)}function $(j){c(_e,re,pe,le,$,"throw",j)}le(void 0)})}}k.d(De,{Z:()=>Q})}},_t=>{_t(_t.s=6986)}]);